function f_(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var tL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function p_(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Wp={exports:{}},Id={},Vp={exports:{}},cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function g_(){if(T1)return cn;T1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.iterator;function b(te){return te===null||typeof te!="object"?null:(te=v&&te[v]||te["@@iterator"],typeof te=="function"?te:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function j(te,T,$){this.props=te,this.context=T,this.refs=S,this.updater=$||y}j.prototype.isReactComponent={},j.prototype.setState=function(te,T){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,T,"setState")},j.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function k(){}k.prototype=j.prototype;function O(te,T,$){this.props=te,this.context=T,this.refs=S,this.updater=$||y}var P=O.prototype=new k;P.constructor=O,C(P,j.prototype),P.isPureReactComponent=!0;var R=Array.isArray,ee=Object.prototype.hasOwnProperty,ne={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function W(te,T,$){var Y,oe={},pe=null,le=null;if(T!=null)for(Y in T.ref!==void 0&&(le=T.ref),T.key!==void 0&&(pe=""+T.key),T)ee.call(T,Y)&&!X.hasOwnProperty(Y)&&(oe[Y]=T[Y]);var me=arguments.length-2;if(me===1)oe.children=$;else if(1<me){for(var ye=Array(me),Ce=0;Ce<me;Ce++)ye[Ce]=arguments[Ce+2];oe.children=ye}if(te&&te.defaultProps)for(Y in me=te.defaultProps,me)oe[Y]===void 0&&(oe[Y]=me[Y]);return{$$typeof:n,type:te,key:pe,ref:le,props:oe,_owner:ne.current}}function M(te,T){return{$$typeof:n,type:te.type,key:T,ref:te.ref,props:te.props,_owner:te._owner}}function K(te){return typeof te=="object"&&te!==null&&te.$$typeof===n}function L(te){var T={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function($){return T[$]})}var D=/\/+/g;function I(te,T){return typeof te=="object"&&te!==null&&te.key!=null?L(""+te.key):T.toString(36)}function q(te,T,$,Y,oe){var pe=typeof te;(pe==="undefined"||pe==="boolean")&&(te=null);var le=!1;if(te===null)le=!0;else switch(pe){case"string":case"number":le=!0;break;case"object":switch(te.$$typeof){case n:case e:le=!0}}if(le)return le=te,oe=oe(le),te=Y===""?"."+I(le,0):Y,R(oe)?($="",te!=null&&($=te.replace(D,"$&/")+"/"),q(oe,T,$,"",function(Ce){return Ce})):oe!=null&&(K(oe)&&(oe=M(oe,$+(!oe.key||le&&le.key===oe.key?"":(""+oe.key).replace(D,"$&/")+"/")+te)),T.push(oe)),1;if(le=0,Y=Y===""?".":Y+":",R(te))for(var me=0;me<te.length;me++){pe=te[me];var ye=Y+I(pe,me);le+=q(pe,T,$,ye,oe)}else if(ye=b(te),typeof ye=="function")for(te=ye.call(te),me=0;!(pe=te.next()).done;)pe=pe.value,ye=Y+I(pe,me++),le+=q(pe,T,$,ye,oe);else if(pe==="object")throw T=String(te),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return le}function ce(te,T,$){if(te==null)return te;var Y=[],oe=0;return q(te,Y,"","",function(pe){return T.call($,pe,oe++)}),Y}function J(te){if(te._status===-1){var T=te._result;T=T(),T.then(function($){(te._status===0||te._status===-1)&&(te._status=1,te._result=$)},function($){(te._status===0||te._status===-1)&&(te._status=2,te._result=$)}),te._status===-1&&(te._status=0,te._result=T)}if(te._status===1)return te._result.default;throw te._result}var re={current:null},V={transition:null},ge={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:V,ReactCurrentOwner:ne};function _e(){throw Error("act(...) is not supported in production builds of React.")}return cn.Children={map:ce,forEach:function(te,T,$){ce(te,function(){T.apply(this,arguments)},$)},count:function(te){var T=0;return ce(te,function(){T++}),T},toArray:function(te){return ce(te,function(T){return T})||[]},only:function(te){if(!K(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},cn.Component=j,cn.Fragment=t,cn.Profiler=i,cn.PureComponent=O,cn.StrictMode=r,cn.Suspense=u,cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,cn.act=_e,cn.cloneElement=function(te,T,$){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var Y=C({},te.props),oe=te.key,pe=te.ref,le=te._owner;if(T!=null){if(T.ref!==void 0&&(pe=T.ref,le=ne.current),T.key!==void 0&&(oe=""+T.key),te.type&&te.type.defaultProps)var me=te.type.defaultProps;for(ye in T)ee.call(T,ye)&&!X.hasOwnProperty(ye)&&(Y[ye]=T[ye]===void 0&&me!==void 0?me[ye]:T[ye])}var ye=arguments.length-2;if(ye===1)Y.children=$;else if(1<ye){me=Array(ye);for(var Ce=0;Ce<ye;Ce++)me[Ce]=arguments[Ce+2];Y.children=me}return{$$typeof:n,type:te.type,key:oe,ref:pe,props:Y,_owner:le}},cn.createContext=function(te){return te={$$typeof:l,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:o,_context:te},te.Consumer=te},cn.createElement=W,cn.createFactory=function(te){var T=W.bind(null,te);return T.type=te,T},cn.createRef=function(){return{current:null}},cn.forwardRef=function(te){return{$$typeof:c,render:te}},cn.isValidElement=K,cn.lazy=function(te){return{$$typeof:f,_payload:{_status:-1,_result:te},_init:J}},cn.memo=function(te,T){return{$$typeof:h,type:te,compare:T===void 0?null:T}},cn.startTransition=function(te){var T=V.transition;V.transition={};try{te()}finally{V.transition=T}},cn.unstable_act=_e,cn.useCallback=function(te,T){return re.current.useCallback(te,T)},cn.useContext=function(te){return re.current.useContext(te)},cn.useDebugValue=function(){},cn.useDeferredValue=function(te){return re.current.useDeferredValue(te)},cn.useEffect=function(te,T){return re.current.useEffect(te,T)},cn.useId=function(){return re.current.useId()},cn.useImperativeHandle=function(te,T,$){return re.current.useImperativeHandle(te,T,$)},cn.useInsertionEffect=function(te,T){return re.current.useInsertionEffect(te,T)},cn.useLayoutEffect=function(te,T){return re.current.useLayoutEffect(te,T)},cn.useMemo=function(te,T){return re.current.useMemo(te,T)},cn.useReducer=function(te,T,$){return re.current.useReducer(te,T,$)},cn.useRef=function(te){return re.current.useRef(te)},cn.useState=function(te){return re.current.useState(te)},cn.useSyncExternalStore=function(te,T,$){return re.current.useSyncExternalStore(te,T,$)},cn.useTransition=function(){return re.current.useTransition()},cn.version="18.3.1",cn}var R1;function Q0(){return R1||(R1=1,Vp.exports=g_()),Vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function m_(){if(O1)return Id;O1=1;var n=Q0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,h){var f,v={},b=null,y=null;h!==void 0&&(b=""+h),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)r.call(u,f)&&!o.hasOwnProperty(f)&&(v[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)v[f]===void 0&&(v[f]=u[f]);return{$$typeof:e,type:c,key:b,ref:y,props:v,_owner:i.current}}return Id.Fragment=t,Id.jsx=l,Id.jsxs=l,Id}var I1;function v_(){return I1||(I1=1,Wp.exports=m_()),Wp.exports}var p=v_(),qh={},Gp={exports:{}},Ns={},Kp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function y_(){return D1||(D1=1,(function(n){function e(V,ge){var _e=V.length;V.push(ge);e:for(;0<_e;){var te=_e-1>>>1,T=V[te];if(0<i(T,ge))V[te]=ge,V[_e]=T,_e=te;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ge=V[0],_e=V.pop();if(_e!==ge){V[0]=_e;e:for(var te=0,T=V.length,$=T>>>1;te<$;){var Y=2*(te+1)-1,oe=V[Y],pe=Y+1,le=V[pe];if(0>i(oe,_e))pe<T&&0>i(le,oe)?(V[te]=le,V[pe]=_e,te=pe):(V[te]=oe,V[Y]=_e,te=Y);else if(pe<T&&0>i(le,_e))V[te]=le,V[pe]=_e,te=pe;else break e}}return ge}function i(V,ge){var _e=V.sortIndex-ge.sortIndex;return _e!==0?_e:V.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var u=[],h=[],f=1,v=null,b=3,y=!1,C=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(V){for(var ge=t(h);ge!==null;){if(ge.callback===null)r(h);else if(ge.startTime<=V)r(h),ge.sortIndex=ge.expirationTime,e(u,ge);else break;ge=t(h)}}function R(V){if(S=!1,P(V),!C)if(t(u)!==null)C=!0,J(ee);else{var ge=t(h);ge!==null&&re(R,ge.startTime-V)}}function ee(V,ge){C=!1,S&&(S=!1,k(W),W=-1),y=!0;var _e=b;try{for(P(ge),v=t(u);v!==null&&(!(v.expirationTime>ge)||V&&!L());){var te=v.callback;if(typeof te=="function"){v.callback=null,b=v.priorityLevel;var T=te(v.expirationTime<=ge);ge=n.unstable_now(),typeof T=="function"?v.callback=T:v===t(u)&&r(u),P(ge)}else r(u);v=t(u)}if(v!==null)var $=!0;else{var Y=t(h);Y!==null&&re(R,Y.startTime-ge),$=!1}return $}finally{v=null,b=_e,y=!1}}var ne=!1,X=null,W=-1,M=5,K=-1;function L(){return!(n.unstable_now()-K<M)}function D(){if(X!==null){var V=n.unstable_now();K=V;var ge=!0;try{ge=X(!0,V)}finally{ge?I():(ne=!1,X=null)}}else ne=!1}var I;if(typeof O=="function")I=function(){O(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ce=q.port2;q.port1.onmessage=D,I=function(){ce.postMessage(null)}}else I=function(){j(D,0)};function J(V){X=V,ne||(ne=!0,I())}function re(V,ge){W=j(function(){V(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){C||y||(C=!0,J(ee))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(V){switch(b){case 1:case 2:case 3:var ge=3;break;default:ge=b}var _e=b;b=ge;try{return V()}finally{b=_e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,ge){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var _e=b;b=V;try{return ge()}finally{b=_e}},n.unstable_scheduleCallback=function(V,ge,_e){var te=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?te+_e:te):_e=te,V){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=_e+T,V={id:f++,callback:ge,priorityLevel:V,startTime:_e,expirationTime:T,sortIndex:-1},_e>te?(V.sortIndex=_e,e(h,V),t(u)===null&&V===t(h)&&(S?(k(W),W=-1):S=!0,re(R,_e-te))):(V.sortIndex=T,e(u,V),C||y||(C=!0,J(ee))),V},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(V){var ge=b;return function(){var _e=b;b=ge;try{return V.apply(this,arguments)}finally{b=_e}}}})(Yp)),Yp}var F1;function w_(){return F1||(F1=1,Kp.exports=y_()),Kp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function b_(){if(M1)return Ns;M1=1;var n=Q0(),e=w_();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},v={};function b(s){return u.call(v,s)?!0:u.call(f,s)?!1:h.test(s)?v[s]=!0:(f[s]=!0,!1)}function y(s,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,a,d,m){if(a===null||typeof a>"u"||y(s,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(s,a,d,m,_,A,U){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=A,this.removeEmptyString=U}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];j[a]=new S(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,O);j[a]=new S(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,O);j[a]=new S(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,O);j[a]=new S(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,a,d,m){var _=j.hasOwnProperty(a)?j[a]:null;(_!==null?_.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,d,_,m)&&(d=null),m||_===null?b(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):_.mustUseProperty?s[_.propertyName]=d===null?_.type===3?!1:"":d:(a=_.attributeName,m=_.attributeNamespace,d===null?s.removeAttribute(a):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,m?s.setAttributeNS(m,a,d):s.setAttribute(a,d))))}var R=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ne=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),V=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var _e=Object.assign,te;function T(s){if(te===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);te=a&&a[1]||""}return`
`+te+s}var $=!1;function Y(s,a){if(!s||$)return"";$=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(De){var m=De}Reflect.construct(s,[],a)}else{try{a.call()}catch(De){m=De}s.call(a.prototype)}else{try{throw Error()}catch(De){m=De}s()}}catch(De){if(De&&m&&typeof De.stack=="string"){for(var _=De.stack.split(`
`),A=m.stack.split(`
`),U=_.length-1,fe=A.length-1;1<=U&&0<=fe&&_[U]!==A[fe];)fe--;for(;1<=U&&0<=fe;U--,fe--)if(_[U]!==A[fe]){if(U!==1||fe!==1)do if(U--,fe--,0>fe||_[U]!==A[fe]){var xe=`
`+_[U].replace(" at new "," at ");return s.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",s.displayName)),xe}while(1<=U&&0<=fe);break}}}finally{$=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?T(s):""}function oe(s){switch(s.tag){case 5:return T(s.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return s=Y(s.type,!1),s;case 11:return s=Y(s.type.render,!1),s;case 1:return s=Y(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case X:return"Fragment";case ne:return"Portal";case M:return"Profiler";case W:return"StrictMode";case I:return"Suspense";case q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case D:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ce:return a=s.displayName||null,a!==null?a:pe(s.type)||"Memo";case J:a=s._payload,s=s._init;try{return pe(s(a))}catch{}}return null}function le(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ce(s){var a=ye(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,A=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return _.call(this)},set:function(U){m=""+U,A.call(this,U)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Re(s){s._valueTracker||(s._valueTracker=Ce(s))}function He(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return s&&(m=ye(s)?s.checked?"true":"false":s.value),s=m,s!==d?(a.setValue(s),!0):!1}function Ve(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ie(s,a){var d=a.checked;return _e({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ue(s,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=me(a.value!=null?a.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Rt(s,a){a=a.checked,a!=null&&P(s,"checked",a,!1)}function lt(s,a){Rt(s,a);var d=me(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?we(s,a.type,d):a.hasOwnProperty("defaultValue")&&we(s,a.type,me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ft(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function we(s,a,d){(a!=="number"||Ve(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var de=Array.isArray;function Pe(s,a,d,m){if(s=s.options,a){a={};for(var _=0;_<d.length;_++)a["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=a.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&m&&(s[d].defaultSelected=!0)}else{for(d=""+me(d),a=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}a!==null||s[_].disabled||(a=s[_])}a!==null&&(a.selected=!0)}}function Ge(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return _e({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ze(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(t(92));if(de(d)){if(1<d.length)throw Error(t(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:me(d)}}function zt(s,a){var d=me(a.value),m=me(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function st(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ht(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ht(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Nt,rt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,_){MSApp.execUnsafeLocalFunction(function(){return s(a,d,m,_)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Nt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function gt(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(s){Zt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ct[a]=ct[s]})});function on(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ct.hasOwnProperty(s)&&ct[s]?(""+a).trim():a+"px"}function mt(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,_=on(d,a[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,_):s[d]=_}}var Ut=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fn(s,a){if(a){if(Ut[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Lt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $t=null;function Pt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Nn=null,gn=null,tn=null;function Ot(s){if(s=kl(s)){if(typeof Nn!="function")throw Error(t(280));var a=s.stateNode;a&&(a=mc(a),Nn(s.stateNode,s.type,a))}}function nt(s){gn?tn?tn.push(s):tn=[s]:gn=s}function yn(){if(gn){var s=gn,a=tn;if(tn=gn=null,Ot(s),a)for(s=0;s<a.length;s++)Ot(a[s])}}function an(s,a){return s(a)}function $n(){}var Gn=!1;function it(s,a,d){if(Gn)return s(a,d);Gn=!0;try{return an(s,a,d)}finally{Gn=!1,(gn!==null||tn!==null)&&($n(),yn())}}function kn(s,a){var d=s.stateNode;if(d===null)return null;var m=mc(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(t(231,a,typeof d));return d}var Dr=!1;if(c)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Dr=!1}function mn(s,a,d,m,_,A,U,fe,xe){var De=Array.prototype.slice.call(arguments,3);try{a.apply(d,De)}catch(Ye){this.onError(Ye)}}var un=!1,dn=null,On=!1,li=null,js={onError:function(s){un=!0,dn=s}};function bi(s,a,d,m,_,A,U,fe,xe){un=!1,dn=null,mn.apply(js,arguments)}function ds(s,a,d,m,_,A,U,fe,xe){if(bi.apply(this,arguments),un){if(un){var De=dn;un=!1,dn=null}else throw Error(t(198));On||(On=!0,li=De)}}function Ar(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function Pi(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function xi(s){if(Ar(s)!==s)throw Error(t(188))}function yo(s){var a=s.alternate;if(!a){if(a=Ar(s),a===null)throw Error(t(188));return a!==s?null:s}for(var d=s,m=a;;){var _=d.return;if(_===null)break;var A=_.alternate;if(A===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===A.child){for(A=_.child;A;){if(A===d)return xi(_),s;if(A===m)return xi(_),a;A=A.sibling}throw Error(t(188))}if(d.return!==m.return)d=_,m=A;else{for(var U=!1,fe=_.child;fe;){if(fe===d){U=!0,d=_,m=A;break}if(fe===m){U=!0,m=_,d=A;break}fe=fe.sibling}if(!U){for(fe=A.child;fe;){if(fe===d){U=!0,d=A,m=_;break}if(fe===m){U=!0,m=A,d=_;break}fe=fe.sibling}if(!U)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?s:a}function Zi(s){return s=yo(s),s!==null?Ys(s):null}function Ys(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ys(s);if(a!==null)return a;s=s.sibling}return null}var wo=e.unstable_scheduleCallback,Js=e.unstable_cancelCallback,bo=e.unstable_shouldYield,ul=e.unstable_requestPaint,Pn=e.unstable_now,he=e.unstable_getCurrentPriorityLevel,ze=e.unstable_ImmediatePriority,Se=e.unstable_UserBlockingPriority,ot=e.unstable_NormalPriority,nn=e.unstable_LowPriority,qn=e.unstable_IdlePriority,wr=null,Qn=null;function Es(s){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(wr,s,void 0,(s.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:es,rc=Math.log,ir=Math.LN2;function es(s){return s>>>=0,s===0?32:31-(rc(s)/ir|0)|0}var xo=64,Qr=4194304;function hs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Xr(s,a){var d=s.pendingLanes;if(d===0)return 0;var m=0,_=s.suspendedLanes,A=s.pingedLanes,U=d&268435455;if(U!==0){var fe=U&~_;fe!==0?m=hs(fe):(A&=U,A!==0&&(m=hs(A)))}else U=d&~_,U!==0?m=hs(U):A!==0&&(m=hs(A));if(m===0)return 0;if(a!==0&&a!==m&&(a&_)===0&&(_=m&-m,A=a&-a,_>=A||_===16&&(A&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)d=31-rr(a),_=1<<d,m|=s[d],a&=~_;return m}function _o(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(s,a){for(var d=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,A=s.pendingLanes;0<A;){var U=31-rr(A),fe=1<<U,xe=_[U];xe===-1?((fe&d)===0||(fe&m)!==0)&&(_[U]=_o(fe,a)):xe<=a&&(s.expiredLanes|=fe),A&=~fe}}function Qs(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Pa(){var s=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),s}function La(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function _i(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-rr(a),s[a]=d}function Ps(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var _=31-rr(d),A=1<<_;a[_]=0,m[_]=-1,s[_]=-1,d&=~A}}function Ls(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var m=31-rr(d),_=1<<m;_&a|s[m]&a&&(s[m]|=a),d&=~_}}var pn=0;function Xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Zs,Xo,Zo,dl,ea,Si=!1,Li=[],ts=null,Zr=null,ci=null,It=new Map,So=new Map,Fr=[],ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hl(s,a){switch(s){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":It.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(a.pointerId)}}function Ni(s,a,d,m,_,A){return s===null||s.nativeEvent!==A?(s={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:A,targetContainers:[_]},a!==null&&(a=kl(a),a!==null&&Xo(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),s)}function Ts(s,a,d,m,_){switch(a){case"focusin":return ts=Ni(ts,s,a,d,m,_),!0;case"dragenter":return Zr=Ni(Zr,s,a,d,m,_),!0;case"mouseover":return ci=Ni(ci,s,a,d,m,_),!0;case"pointerover":var A=_.pointerId;return It.set(A,Ni(It.get(A)||null,s,a,d,m,_)),!0;case"gotpointercapture":return A=_.pointerId,So.set(A,Ni(So.get(A)||null,s,a,d,m,_)),!0}return!1}function fl(s){var a=ha(s.target);if(a!==null){var d=Ar(a);if(d!==null){if(a=d.tag,a===13){if(a=Pi(d),a!==null){s.blockedOn=a,ea(s.priority,function(){Zo(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function No(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=Co(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);$t=m,d.target.dispatchEvent(m),$t=null}else return a=kl(d),a!==null&&Xo(a),s.blockedOn=d,!1;a.shift()}return!0}function eo(s,a,d){No(s)&&d.delete(a)}function Ta(){Si=!1,ts!==null&&No(ts)&&(ts=null),Zr!==null&&No(Zr)&&(Zr=null),ci!==null&&No(ci)&&(ci=null),It.forEach(eo),So.forEach(eo)}function Ti(s,a){s.blockedOn===a&&(s.blockedOn=null,Si||(Si=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ta)))}function ns(s){function a(_){return Ti(_,s)}if(0<Li.length){Ti(Li[0],s);for(var d=1;d<Li.length;d++){var m=Li[d];m.blockedOn===s&&(m.blockedOn=null)}}for(ts!==null&&Ti(ts,s),Zr!==null&&Ti(Zr,s),ci!==null&&Ti(ci,s),It.forEach(a),So.forEach(a),d=0;d<Fr.length;d++)m=Fr[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<Fr.length&&(d=Fr[0],d.blockedOn===null);)fl(d),d.blockedOn===null&&Fr.shift()}var Ri=R.ReactCurrentBatchConfig,ko=!0;function ta(s,a,d,m){var _=pn,A=Ri.transition;Ri.transition=null;try{pn=1,fs(s,a,d,m)}finally{pn=_,Ri.transition=A}}function na(s,a,d,m){var _=pn,A=Ri.transition;Ri.transition=null;try{pn=4,fs(s,a,d,m)}finally{pn=_,Ri.transition=A}}function fs(s,a,d,m){if(ko){var _=Co(s,a,d,m);if(_===null)fc(s,a,m,ps,d),hl(s,m);else if(Ts(_,s,a,d,m))m.stopPropagation();else if(hl(s,m),a&4&&-1<ic.indexOf(s)){for(;_!==null;){var A=kl(_);if(A!==null&&Zs(A),A=Co(s,a,d,m),A===null&&fc(s,a,m,ps,d),A===_)break;_=A}_!==null&&m.stopPropagation()}else fc(s,a,m,null,d)}}var ps=null;function Co(s,a,d,m){if(ps=null,s=Pt(m),s=ha(s),s!==null)if(a=Ar(s),a===null)s=null;else if(d=a.tag,d===13){if(s=Pi(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ps=s,null}function ki(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(he()){case ze:return 1;case Se:return 4;case ot:case nn:return 16;case qn:return 536870912;default:return 16}default:return 16}}var Oi=null,Dt=null,vn=null;function jr(){if(vn)return vn;var s,a=Dt,d=a.length,m,_="value"in Oi?Oi.value:Oi.textContent,A=_.length;for(s=0;s<d&&a[s]===_[s];s++);var U=d-s;for(m=1;m<=U&&a[d-m]===_[A-m];m++);return vn=_.slice(s,1<m?1-m:void 0)}function In(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function sr(){return!0}function ei(){return!1}function ti(s){function a(d,m,_,A,U){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var fe in s)s.hasOwnProperty(fe)&&(d=s[fe],this[fe]=d?d(A):A[fe]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?sr:ei,this.isPropagationStopped=ei,this}return _e(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),a}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=ti(gs),x=_e({},gs,{view:0,detail:0}),B=ti(x),ae,ve,Ae,Ue=_e({},x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ae&&(Ae&&s.type==="mousemove"?(ae=s.screenX-Ae.screenX,ve=s.screenY-Ae.screenY):ve=ae=0,Ae=s),ae)},movementY:function(s){return"movementY"in s?s.movementY:ve}}),We=ti(Ue),vt=_e({},Ue,{dataTransfer:0}),Ct=ti(vt),Ht=_e({},x,{relatedTarget:0}),Wt=ti(Ht),wn=_e({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),or=ti(wn),Er=_e({},gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hn=ti(Er),Mr=_e({},gs,{data:0}),br=ti(Mr),ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ms={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ii[s])?!!a[s]:!1}function ra(){return Kc}var Ra=_e({},x,{key:function(s){if(s.key){var a=ni[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=In(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ms[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(s){return s.type==="keypress"?In(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?In(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ia=ti(Ra),Oa=_e({},Ue,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=ti(Oa),Ia=_e({},x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),ui=ti(Ia),Da=_e({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fa=ti(Da),sc=_e({},Ue,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oc=ti(sc),ur=[9,13,27,32],Rs=c&&"CompositionEvent"in window,to=null;c&&"documentMode"in document&&(to=document.documentMode);var Yc=c&&"TextEvent"in window&&!to,rs=c&&(!Rs||to&&8<to&&11>=to),oa=" ",gl=!1;function ml(s,a){switch(s){case"keyup":return ur.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vs=!1;function is(s,a){switch(s){case"compositionend":return Ao(a);case"keypress":return a.which!==32?null:(gl=!0,oa);case"textInput":return s=a.data,s===oa&&gl?null:s;default:return null}}function ss(s,a){if(vs)return s==="compositionend"||!Rs&&ml(s,a)?(s=jr(),vn=Dt=Oi=null,vs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return rs&&a.locale!=="ko"?null:a.data;default:return null}}var aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function no(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!aa[s.type]:a==="textarea"}function jo(s,a,d,m){nt(m),a=eu(a,"onChange"),0<a.length&&(d=new pl("onChange","change",null,d,m),s.push({event:d,listeners:a}))}var Eo=null,ro=null;function xr(s){dc(s,0)}function Ma(s){var a=Ka(s);if(He(a))return s}function io(s,a){if(s==="change")return a}var Os=!1;if(c){var Ba;if(c){var za="oninput"in document;if(!za){var vl=document.createElement("div");vl.setAttribute("oninput","return;"),za=typeof vl.oninput=="function"}Ba=za}else Ba=!1;Os=Ba&&(!document.documentMode||9<document.documentMode)}function yl(){Eo&&(Eo.detachEvent("onpropertychange",Po),ro=Eo=null)}function Po(s){if(s.propertyName==="value"&&Ma(ro)){var a=[];jo(a,ro,s,Pt(s)),it(xr,a)}}function la(s,a,d){s==="focusin"?(yl(),Eo=a,ro=d,Eo.attachEvent("onpropertychange",Po)):s==="focusout"&&yl()}function ca(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ma(ro)}function Ua(s,a){if(s==="click")return Ma(a)}function ua(s,a){if(s==="input"||s==="change")return Ma(a)}function $a(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var dr=typeof Object.is=="function"?Object.is:$a;function Di(s,a){if(dr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!u.call(a,_)||!dr(s[_],a[_]))return!1}return!0}function bn(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ln(s,a){var d=bn(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=a&&m>=a)return{node:d,offset:a-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=bn(d)}}function hr(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?hr(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Pr(){for(var s=window,a=Ve();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Ve(s.document)}return a}function Is(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function ac(s){var a=Pr(),d=s.focusedElem,m=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&hr(d.ownerDocument.documentElement,d)){if(m!==null&&Is(d)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var _=d.textContent.length,A=Math.min(m.start,_);m=m.end===void 0?A:Math.min(m.end,_),!s.extend&&A>m&&(_=m,m=A,A=_),_=Ln(d,A);var U=Ln(d,m);_&&U&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(a=a.createRange(),a.setStart(_.node,_.offset),s.removeAllRanges(),A>m?(s.addRange(a),s.extend(U.node,U.offset)):(a.setEnd(U.node,U.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var wl=c&&"documentMode"in document&&11>=document.documentMode,Lo=null,Jc=null,bl=null,Qc=!1;function dd(s,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Qc||Lo==null||Lo!==Ve(m)||(m=Lo,"selectionStart"in m&&Is(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),bl&&Di(bl,m)||(bl=m,m=eu(Jc,"onSelect"),0<m.length&&(a=new pl("onSelect","select",null,a,d),s.push({event:a,listeners:m}),a.target=Lo)))}function lc(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var qa={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},Ha={},hd={};c&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function cc(s){if(Ha[s])return Ha[s];if(!qa[s])return s;var a=qa[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in hd)return Ha[s]=a[d];return s}var fd=cc("animationend"),pd=cc("animationiteration"),gd=cc("animationstart"),md=cc("transitionend"),vd=new Map,yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(s,a){vd.set(s,a),o(a,[s])}for(var xl=0;xl<yd.length;xl++){var Ci=yd[xl],ys=Ci.toLowerCase(),Xc=Ci[0].toUpperCase()+Ci.slice(1);so(ys,"on"+Xc)}so(fd,"onAnimationEnd"),so(pd,"onAnimationIteration"),so(gd,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(md,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ch=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function uc(s,a,d){var m=s.type||"unknown-event";s.currentTarget=d,ds(m,a,void 0,s),s.currentTarget=null}function dc(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],_=m.event;m=m.listeners;e:{var A=void 0;if(a)for(var U=m.length-1;0<=U;U--){var fe=m[U],xe=fe.instance,De=fe.currentTarget;if(fe=fe.listener,xe!==A&&_.isPropagationStopped())break e;uc(_,fe,De),A=xe}else for(U=0;U<m.length;U++){if(fe=m[U],xe=fe.instance,De=fe.currentTarget,fe=fe.listener,xe!==A&&_.isPropagationStopped())break e;uc(_,fe,De),A=xe}}}if(On)throw s=li,On=!1,li=null,s}function Dn(s,a){var d=a[Mi];d===void 0&&(d=a[Mi]=new Set);var m=s+"__bubble";d.has(m)||(hc(a,s,2,!1),d.add(m))}function Zc(s,a,d){var m=0;a&&(m|=4),hc(d,s,m,a)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Wa(s){if(!s[_l]){s[_l]=!0,r.forEach(function(d){d!=="selectionchange"&&(ch.has(d)||Zc(d,!1,s),Zc(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[_l]||(a[_l]=!0,Zc("selectionchange",!1,a))}}function hc(s,a,d,m){switch(ki(a)){case 1:var _=ta;break;case 4:_=na;break;default:_=fs}d=_.bind(null,a,d,s),_=void 0,!Dr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(a,d,{capture:!0,passive:_}):s.addEventListener(a,d,!0):_!==void 0?s.addEventListener(a,d,{passive:_}):s.addEventListener(a,d,!1)}function fc(s,a,d,m,_){var A=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var fe=m.stateNode.containerInfo;if(fe===_||fe.nodeType===8&&fe.parentNode===_)break;if(U===4)for(U=m.return;U!==null;){var xe=U.tag;if((xe===3||xe===4)&&(xe=U.stateNode.containerInfo,xe===_||xe.nodeType===8&&xe.parentNode===_))return;U=U.return}for(;fe!==null;){if(U=ha(fe),U===null)return;if(xe=U.tag,xe===5||xe===6){m=A=U;continue e}fe=fe.parentNode}}m=m.return}it(function(){var De=A,Ye=Pt(d),Qe=[];e:{var Ke=vd.get(s);if(Ke!==void 0){var at=pl,wt=s;switch(s){case"keypress":if(In(d)===0)break e;case"keydown":case"keyup":at=ia;break;case"focusin":wt="focus",at=Wt;break;case"focusout":wt="blur",at=Wt;break;case"beforeblur":case"afterblur":at=Wt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=We;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Ct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=ui;break;case fd:case pd:case gd:at=or;break;case md:at=Fa;break;case"scroll":at=B;break;case"wheel":at=oc;break;case"copy":case"cut":case"paste":at=Hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=sa}var kt=(a&4)!==0,Ur=!kt&&s==="scroll",Le=kt?Ke!==null?Ke+"Capture":null:Ke;kt=[];for(var ke=De,Oe;ke!==null;){Oe=ke;var et=Oe.stateNode;if(Oe.tag===5&&et!==null&&(Oe=et,Le!==null&&(et=kn(ke,Le),et!=null&&kt.push(pc(ke,et,Oe)))),Ur)break;ke=ke.return}0<kt.length&&(Ke=new at(Ke,wt,null,d,Ye),Qe.push({event:Ke,listeners:kt}))}}if((a&7)===0){e:{if(Ke=s==="mouseover"||s==="pointerover",at=s==="mouseout"||s==="pointerout",Ke&&d!==$t&&(wt=d.relatedTarget||d.fromElement)&&(ha(wt)||wt[di]))break e;if((at||Ke)&&(Ke=Ye.window===Ye?Ye:(Ke=Ye.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,at?(wt=d.relatedTarget||d.toElement,at=De,wt=wt?ha(wt):null,wt!==null&&(Ur=Ar(wt),wt!==Ur||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(at=null,wt=De),at!==wt)){if(kt=We,et="onMouseLeave",Le="onMouseEnter",ke="mouse",(s==="pointerout"||s==="pointerover")&&(kt=sa,et="onPointerLeave",Le="onPointerEnter",ke="pointer"),Ur=at==null?Ke:Ka(at),Oe=wt==null?Ke:Ka(wt),Ke=new kt(et,ke+"leave",at,d,Ye),Ke.target=Ur,Ke.relatedTarget=Oe,et=null,ha(Ye)===De&&(kt=new kt(Le,ke+"enter",wt,d,Ye),kt.target=Oe,kt.relatedTarget=Ur,et=kt),Ur=et,at&&wt)t:{for(kt=at,Le=wt,ke=0,Oe=kt;Oe;Oe=Va(Oe))ke++;for(Oe=0,et=Le;et;et=Va(et))Oe++;for(;0<ke-Oe;)kt=Va(kt),ke--;for(;0<Oe-ke;)Le=Va(Le),Oe--;for(;ke--;){if(kt===Le||Le!==null&&kt===Le.alternate)break t;kt=Va(kt),Le=Va(Le)}kt=null}else kt=null;at!==null&&uh(Qe,Ke,at,kt,!1),wt!==null&&Ur!==null&&uh(Qe,Ur,wt,kt,!0)}}e:{if(Ke=De?Ka(De):window,at=Ke.nodeName&&Ke.nodeName.toLowerCase(),at==="select"||at==="input"&&Ke.type==="file")var Et=io;else if(no(Ke))if(Os)Et=ua;else{Et=ca;var Ft=la}else(at=Ke.nodeName)&&at.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(Et=Ua);if(Et&&(Et=Et(s,De))){jo(Qe,Et,d,Ye);break e}Ft&&Ft(s,Ke,De),s==="focusout"&&(Ft=Ke._wrapperState)&&Ft.controlled&&Ke.type==="number"&&we(Ke,"number",Ke.value)}switch(Ft=De?Ka(De):window,s){case"focusin":(no(Ft)||Ft.contentEditable==="true")&&(Lo=Ft,Jc=De,bl=null);break;case"focusout":bl=Jc=Lo=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,dd(Qe,d,Ye);break;case"selectionchange":if(wl)break;case"keydown":case"keyup":dd(Qe,d,Ye)}var Mt;if(Rs)e:{switch(s){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else vs?ml(s,d)&&(Gt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Gt="onCompositionStart");Gt&&(rs&&d.locale!=="ko"&&(vs||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&vs&&(Mt=jr()):(Oi=Ye,Dt="value"in Oi?Oi.value:Oi.textContent,vs=!0)),Ft=eu(De,Gt),0<Ft.length&&(Gt=new br(Gt,s,null,d,Ye),Qe.push({event:Gt,listeners:Ft}),Mt?Gt.data=Mt:(Mt=Ao(d),Mt!==null&&(Gt.data=Mt)))),(Mt=Yc?is(s,d):ss(s,d))&&(De=eu(De,"onBeforeInput"),0<De.length&&(Ye=new br("onBeforeInput","beforeinput",null,d,Ye),Qe.push({event:Ye,listeners:De}),Ye.data=Mt))}dc(Qe,a)})}function pc(s,a,d){return{instance:s,listener:a,currentTarget:d}}function eu(s,a){for(var d=a+"Capture",m=[];s!==null;){var _=s,A=_.stateNode;_.tag===5&&A!==null&&(_=A,A=kn(s,d),A!=null&&m.unshift(pc(s,A,_)),A=kn(s,a),A!=null&&m.push(pc(s,A,_))),s=s.return}return m}function Va(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function uh(s,a,d,m,_){for(var A=a._reactName,U=[];d!==null&&d!==m;){var fe=d,xe=fe.alternate,De=fe.stateNode;if(xe!==null&&xe===m)break;fe.tag===5&&De!==null&&(fe=De,_?(xe=kn(d,A),xe!=null&&U.unshift(pc(d,xe,fe))):_||(xe=kn(d,A),xe!=null&&U.push(pc(d,xe,fe)))),d=d.return}U.length!==0&&s.push({event:a,listeners:U})}var sp=/\r\n?/g,op=/\u0000|\uFFFD/g;function dh(s){return(typeof s=="string"?s:""+s).replace(sp,`
`).replace(op,"")}function tu(s,a,d){if(a=dh(a),dh(s)!==a&&d)throw Error(t(425))}function Sl(){}var gc=null,Ga=null;function wd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,hh=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,ap=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(s){return fh.resolve(null).then(s).catch(lp)}:bd;function lp(s){setTimeout(function(){throw s})}function xd(s,a){var d=a,m=0;do{var _=d.nextSibling;if(s.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(m===0){s.removeChild(_),ns(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=_}while(d);ns(a)}function Ai(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function ws(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),oo="__reactFiber$"+Fi,Nl="__reactProps$"+Fi,di="__reactContainer$"+Fi,Mi="__reactEvents$"+Fi,cp="__reactListeners$"+Fi,up="__reactHandles$"+Fi;function ha(s){var a=s[oo];if(a)return a;for(var d=s.parentNode;d;){if(a=d[di]||d[oo]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=ws(s);s!==null;){if(d=s[oo])return d;s=ws(s)}return a}s=d,d=s.parentNode}return null}function kl(s){return s=s[oo]||s[di],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ka(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function mc(s){return s[Nl]||null}var _d=[],To=-1;function Ds(s){return{current:s}}function En(s){0>To||(s.current=_d[To],_d[To]=null,To--)}function Tn(s,a){To++,_d[To]=s.current,s.current=a}var fa={},ri=Ds(fa),Bi=Ds(!1),Ya=fa;function Cl(s,a){var d=s.type.contextTypes;if(!d)return fa;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var _={},A;for(A in d)_[A]=a[A];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=_),_}function zi(s){return s=s.childContextTypes,s!=null}function nu(){En(Bi),En(ri)}function ph(s,a,d){if(ri.current!==fa)throw Error(t(168));Tn(ri,a),Tn(Bi,d)}function Sd(s,a,d){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var _ in m)if(!(_ in a))throw Error(t(108,le(s)||"Unknown",_));return _e({},d,m)}function Ja(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fa,Ya=ri.current,Tn(ri,s),Tn(Bi,Bi.current),!0}function gh(s,a,d){var m=s.stateNode;if(!m)throw Error(t(169));d?(s=Sd(s,a,Ya),m.__reactInternalMemoizedMergedChildContext=s,En(Bi),En(ri),Tn(ri,s)):En(Bi),Tn(Bi,d)}var Ro=null,vc=!1,g=!1;function w(s){Ro===null?Ro=[s]:Ro.push(s)}function N(s){vc=!0,w(s)}function E(){if(!g&&Ro!==null){g=!0;var s=0,a=pn;try{var d=Ro;for(pn=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}Ro=null,vc=!1}catch(_){throw Ro!==null&&(Ro=Ro.slice(s+1)),wo(ze,E),_}finally{pn=a,g=!1}}return null}var F=[],H=0,G=null,Q=0,Z=[],ie=0,be=null,Ee=1,se="";function Ne(s,a){F[H++]=Q,F[H++]=G,G=s,Q=a}function je(s,a,d){Z[ie++]=Ee,Z[ie++]=se,Z[ie++]=be,be=s;var m=Ee;s=se;var _=32-rr(m)-1;m&=~(1<<_),d+=1;var A=32-rr(a)+_;if(30<A){var U=_-_%5;A=(m&(1<<U)-1).toString(32),m>>=U,_-=U,Ee=1<<32-rr(a)+_|d<<_|m,se=A+s}else Ee=1<<A|d<<_|m,se=s}function Be(s){s.return!==null&&(Ne(s,1),je(s,1,0))}function Te(s){for(;s===G;)G=F[--H],F[H]=null,Q=F[--H],F[H]=null;for(;s===be;)be=Z[--ie],Z[ie]=null,se=Z[--ie],Z[ie]=null,Ee=Z[--ie],Z[ie]=null}var Fe=null,Me=null,$e=!1,qe=null;function At(s,a){var d=ho(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function ut(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Fe=s,Me=Ai(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Fe=s,Me=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=be!==null?{id:Ee,overflow:se}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=ho(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,Fe=s,Me=null,!0):!1;default:return!1}}function Yt(s){return(s.mode&1)!==0&&(s.flags&128)===0}function yt(s){if($e){var a=Me;if(a){var d=a;if(!ut(s,a)){if(Yt(s))throw Error(t(418));a=Ai(d.nextSibling);var m=Fe;a&&ut(s,a)?At(m,d):(s.flags=s.flags&-4097|2,$e=!1,Fe=s)}}else{if(Yt(s))throw Error(t(418));s.flags=s.flags&-4097|2,$e=!1,Fe=s}}}function ln(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fe=s}function fr(s){if(s!==Fe)return!1;if(!$e)return ln(s),$e=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!wd(s.type,s.memoizedProps)),a&&(a=Me)){if(Yt(s))throw Jt(),Error(t(418));for(;a;)At(s,a),a=Ai(a.nextSibling)}if(ln(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){Me=Ai(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}Me=null}}else Me=Fe?Ai(s.stateNode.nextSibling):null;return!0}function Jt(){for(var s=Me;s;)s=Ai(s.nextSibling)}function dt(){Me=Fe=null,$e=!1}function tt(s){qe===null?qe=[s]:qe.push(s)}var _r=R.ReactCurrentBatchConfig;function qt(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,s));var _=m,A=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===A?a.ref:(a=function(U){var fe=_.refs;U===null?delete fe[A]:fe[A]=U},a._stringRef=A,a)}if(typeof s!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,s))}return s}function rn(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Wn(s){var a=s._init;return a(s._payload)}function Wr(s){function a(Le,ke){if(s){var Oe=Le.deletions;Oe===null?(Le.deletions=[ke],Le.flags|=16):Oe.push(ke)}}function d(Le,ke){if(!s)return null;for(;ke!==null;)a(Le,ke),ke=ke.sibling;return null}function m(Le,ke){for(Le=new Map;ke!==null;)ke.key!==null?Le.set(ke.key,ke):Le.set(ke.index,ke),ke=ke.sibling;return Le}function _(Le,ke){return Le=Dl(Le,ke),Le.index=0,Le.sibling=null,Le}function A(Le,ke,Oe){return Le.index=Oe,s?(Oe=Le.alternate,Oe!==null?(Oe=Oe.index,Oe<ke?(Le.flags|=2,ke):Oe):(Le.flags|=2,ke)):(Le.flags|=1048576,ke)}function U(Le){return s&&Le.alternate===null&&(Le.flags|=2),Le}function fe(Le,ke,Oe,et){return ke===null||ke.tag!==6?(ke=Bp(Oe,Le.mode,et),ke.return=Le,ke):(ke=_(ke,Oe),ke.return=Le,ke)}function xe(Le,ke,Oe,et){var Et=Oe.type;return Et===X?Ye(Le,ke,Oe.props.children,et,Oe.key):ke!==null&&(ke.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===J&&Wn(Et)===ke.type)?(et=_(ke,Oe.props),et.ref=qt(Le,ke,Oe),et.return=Le,et):(et=Ih(Oe.type,Oe.key,Oe.props,null,Le.mode,et),et.ref=qt(Le,ke,Oe),et.return=Le,et)}function De(Le,ke,Oe,et){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Oe.containerInfo||ke.stateNode.implementation!==Oe.implementation?(ke=zp(Oe,Le.mode,et),ke.return=Le,ke):(ke=_(ke,Oe.children||[]),ke.return=Le,ke)}function Ye(Le,ke,Oe,et,Et){return ke===null||ke.tag!==7?(ke=kc(Oe,Le.mode,et,Et),ke.return=Le,ke):(ke=_(ke,Oe),ke.return=Le,ke)}function Qe(Le,ke,Oe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=Bp(""+ke,Le.mode,Oe),ke.return=Le,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case ee:return Oe=Ih(ke.type,ke.key,ke.props,null,Le.mode,Oe),Oe.ref=qt(Le,null,ke),Oe.return=Le,Oe;case ne:return ke=zp(ke,Le.mode,Oe),ke.return=Le,ke;case J:var et=ke._init;return Qe(Le,et(ke._payload),Oe)}if(de(ke)||ge(ke))return ke=kc(ke,Le.mode,Oe,null),ke.return=Le,ke;rn(Le,ke)}return null}function Ke(Le,ke,Oe,et){var Et=ke!==null?ke.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Et!==null?null:fe(Le,ke,""+Oe,et);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case ee:return Oe.key===Et?xe(Le,ke,Oe,et):null;case ne:return Oe.key===Et?De(Le,ke,Oe,et):null;case J:return Et=Oe._init,Ke(Le,ke,Et(Oe._payload),et)}if(de(Oe)||ge(Oe))return Et!==null?null:Ye(Le,ke,Oe,et,null);rn(Le,Oe)}return null}function at(Le,ke,Oe,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number")return Le=Le.get(Oe)||null,fe(ke,Le,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case ee:return Le=Le.get(et.key===null?Oe:et.key)||null,xe(ke,Le,et,Et);case ne:return Le=Le.get(et.key===null?Oe:et.key)||null,De(ke,Le,et,Et);case J:var Ft=et._init;return at(Le,ke,Oe,Ft(et._payload),Et)}if(de(et)||ge(et))return Le=Le.get(Oe)||null,Ye(ke,Le,et,Et,null);rn(ke,et)}return null}function wt(Le,ke,Oe,et){for(var Et=null,Ft=null,Mt=ke,Gt=ke=0,mi=null;Mt!==null&&Gt<Oe.length;Gt++){Mt.index>Gt?(mi=Mt,Mt=null):mi=Mt.sibling;var An=Ke(Le,Mt,Oe[Gt],et);if(An===null){Mt===null&&(Mt=mi);break}s&&Mt&&An.alternate===null&&a(Le,Mt),ke=A(An,ke,Gt),Ft===null?Et=An:Ft.sibling=An,Ft=An,Mt=mi}if(Gt===Oe.length)return d(Le,Mt),$e&&Ne(Le,Gt),Et;if(Mt===null){for(;Gt<Oe.length;Gt++)Mt=Qe(Le,Oe[Gt],et),Mt!==null&&(ke=A(Mt,ke,Gt),Ft===null?Et=Mt:Ft.sibling=Mt,Ft=Mt);return $e&&Ne(Le,Gt),Et}for(Mt=m(Le,Mt);Gt<Oe.length;Gt++)mi=at(Mt,Le,Gt,Oe[Gt],et),mi!==null&&(s&&mi.alternate!==null&&Mt.delete(mi.key===null?Gt:mi.key),ke=A(mi,ke,Gt),Ft===null?Et=mi:Ft.sibling=mi,Ft=mi);return s&&Mt.forEach(function(Fl){return a(Le,Fl)}),$e&&Ne(Le,Gt),Et}function kt(Le,ke,Oe,et){var Et=ge(Oe);if(typeof Et!="function")throw Error(t(150));if(Oe=Et.call(Oe),Oe==null)throw Error(t(151));for(var Ft=Et=null,Mt=ke,Gt=ke=0,mi=null,An=Oe.next();Mt!==null&&!An.done;Gt++,An=Oe.next()){Mt.index>Gt?(mi=Mt,Mt=null):mi=Mt.sibling;var Fl=Ke(Le,Mt,An.value,et);if(Fl===null){Mt===null&&(Mt=mi);break}s&&Mt&&Fl.alternate===null&&a(Le,Mt),ke=A(Fl,ke,Gt),Ft===null?Et=Fl:Ft.sibling=Fl,Ft=Fl,Mt=mi}if(An.done)return d(Le,Mt),$e&&Ne(Le,Gt),Et;if(Mt===null){for(;!An.done;Gt++,An=Oe.next())An=Qe(Le,An.value,et),An!==null&&(ke=A(An,ke,Gt),Ft===null?Et=An:Ft.sibling=An,Ft=An);return $e&&Ne(Le,Gt),Et}for(Mt=m(Le,Mt);!An.done;Gt++,An=Oe.next())An=at(Mt,Le,Gt,An.value,et),An!==null&&(s&&An.alternate!==null&&Mt.delete(An.key===null?Gt:An.key),ke=A(An,ke,Gt),Ft===null?Et=An:Ft.sibling=An,Ft=An);return s&&Mt.forEach(function(h_){return a(Le,h_)}),$e&&Ne(Le,Gt),Et}function Ur(Le,ke,Oe,et){if(typeof Oe=="object"&&Oe!==null&&Oe.type===X&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case ee:e:{for(var Et=Oe.key,Ft=ke;Ft!==null;){if(Ft.key===Et){if(Et=Oe.type,Et===X){if(Ft.tag===7){d(Le,Ft.sibling),ke=_(Ft,Oe.props.children),ke.return=Le,Le=ke;break e}}else if(Ft.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===J&&Wn(Et)===Ft.type){d(Le,Ft.sibling),ke=_(Ft,Oe.props),ke.ref=qt(Le,Ft,Oe),ke.return=Le,Le=ke;break e}d(Le,Ft);break}else a(Le,Ft);Ft=Ft.sibling}Oe.type===X?(ke=kc(Oe.props.children,Le.mode,et,Oe.key),ke.return=Le,Le=ke):(et=Ih(Oe.type,Oe.key,Oe.props,null,Le.mode,et),et.ref=qt(Le,ke,Oe),et.return=Le,Le=et)}return U(Le);case ne:e:{for(Ft=Oe.key;ke!==null;){if(ke.key===Ft)if(ke.tag===4&&ke.stateNode.containerInfo===Oe.containerInfo&&ke.stateNode.implementation===Oe.implementation){d(Le,ke.sibling),ke=_(ke,Oe.children||[]),ke.return=Le,Le=ke;break e}else{d(Le,ke);break}else a(Le,ke);ke=ke.sibling}ke=zp(Oe,Le.mode,et),ke.return=Le,Le=ke}return U(Le);case J:return Ft=Oe._init,Ur(Le,ke,Ft(Oe._payload),et)}if(de(Oe))return wt(Le,ke,Oe,et);if(ge(Oe))return kt(Le,ke,Oe,et);rn(Le,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,ke!==null&&ke.tag===6?(d(Le,ke.sibling),ke=_(ke,Oe),ke.return=Le,Le=ke):(d(Le,ke),ke=Bp(Oe,Le.mode,et),ke.return=Le,Le=ke),U(Le)):d(Le,ke)}return Ur}var Lr=Wr(!0),ar=Wr(!1),Br=Ds(null),Vr=null,Xn=null,hn=null;function xn(){hn=Xn=Vr=null}function Zn(s){var a=Br.current;En(Br),s._currentValue=a}function _n(s,a,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===d)break;s=s.return}}function pr(s,a){Vr=s,hn=Xn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(xs=!0),s.firstContext=null)}function gr(s){var a=s._currentValue;if(hn!==s)if(s={context:s,memoizedValue:a,next:null},Xn===null){if(Vr===null)throw Error(t(308));Xn=s,Vr.dependencies={lanes:0,firstContext:s}}else Xn=Xn.next=s;return a}var Fn=null;function hi(s){Fn===null?Fn=[s]:Fn.push(s)}function Rn(s,a,d,m){var _=a.interleaved;return _===null?(d.next=d,hi(a)):(d.next=_.next,_.next=d),a.interleaved=d,Mn(s,m)}function Mn(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Tr=!1;function ii(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Sr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Nr(s,a,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Sn&2)!==0){var _=m.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),m.pending=a,Mn(s,d)}return _=m.interleaved,_===null?(a.next=a,hi(m)):(a.next=_.next,_.next=a),m.interleaved=a,Mn(s,d)}function fi(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Ls(s,d)}}function Bn(s,a){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var U={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};A===null?_=A=U:A=A.next=U,d=d.next}while(d!==null);A===null?_=A=a:A=A.next=a}else _=A=a;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:A,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function pi(s,a,d,m){var _=s.updateQueue;Tr=!1;var A=_.firstBaseUpdate,U=_.lastBaseUpdate,fe=_.shared.pending;if(fe!==null){_.shared.pending=null;var xe=fe,De=xe.next;xe.next=null,U===null?A=De:U.next=De,U=xe;var Ye=s.alternate;Ye!==null&&(Ye=Ye.updateQueue,fe=Ye.lastBaseUpdate,fe!==U&&(fe===null?Ye.firstBaseUpdate=De:fe.next=De,Ye.lastBaseUpdate=xe))}if(A!==null){var Qe=_.baseState;U=0,Ye=De=xe=null,fe=A;do{var Ke=fe.lane,at=fe.eventTime;if((m&Ke)===Ke){Ye!==null&&(Ye=Ye.next={eventTime:at,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var wt=s,kt=fe;switch(Ke=a,at=d,kt.tag){case 1:if(wt=kt.payload,typeof wt=="function"){Qe=wt.call(at,Qe,Ke);break e}Qe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=kt.payload,Ke=typeof wt=="function"?wt.call(at,Qe,Ke):wt,Ke==null)break e;Qe=_e({},Qe,Ke);break e;case 2:Tr=!0}}fe.callback!==null&&fe.lane!==0&&(s.flags|=64,Ke=_.effects,Ke===null?_.effects=[fe]:Ke.push(fe))}else at={eventTime:at,lane:Ke,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ye===null?(De=Ye=at,xe=Qe):Ye=Ye.next=at,U|=Ke;if(fe=fe.next,fe===null){if(fe=_.shared.pending,fe===null)break;Ke=fe,fe=Ke.next,Ke.next=null,_.lastBaseUpdate=Ke,_.shared.pending=null}}while(!0);if(Ye===null&&(xe=Qe),_.baseState=xe,_.firstBaseUpdate=De,_.lastBaseUpdate=Ye,a=_.shared.interleaved,a!==null){_=a;do U|=_.lane,_=_.next;while(_!==a)}else A===null&&(_.shared.lanes=0);xc|=U,s.lanes=U,s.memoizedState=Qe}}function bs(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],_=m.callback;if(_!==null){if(m.callback=null,m=d,typeof _!="function")throw Error(t(191,_));_.call(m)}}}var Fs={},Gr=Ds(Fs),kr=Ds(Fs),pa=Ds(Fs);function Oo(s){if(s===Fs)throw Error(t(174));return s}function Al(s,a){switch(Tn(pa,a),Tn(kr,s),Tn(Gr,Fs),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Vt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Vt(a,s)}En(Gr),Tn(Gr,a)}function ao(){En(Gr),En(kr),En(pa)}function mh(s){Oo(pa.current);var a=Oo(Gr.current),d=Vt(a,s.type);a!==d&&(Tn(kr,s),Tn(Gr,d))}function Nd(s){kr.current===s&&(En(Gr),En(kr))}var Yn=Ds(0);function Ms(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var kd=[];function Cd(){for(var s=0;s<kd.length;s++)kd[s]._workInProgressVersionPrimary=null;kd.length=0}var ru=R.ReactCurrentDispatcher,iu=R.ReactCurrentBatchConfig,lo=0,er=null,Rr=null,Cr=null,jl=!1,Io=!1,El=0,dp=0;function zr(){throw Error(t(321))}function su(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!dr(s[d],a[d]))return!1;return!0}function yc(s,a,d,m,_,A){if(lo=A,er=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ru.current=s===null||s.memoizedState===null?Mx:Bx,s=d(m,_),Io){A=0;do{if(Io=!1,El=0,25<=A)throw Error(t(301));A+=1,Cr=Rr=null,a.updateQueue=null,ru.current=zx,s=d(m,_)}while(Io)}if(ru.current=xh,a=Rr!==null&&Rr.next!==null,lo=0,Cr=Rr=er=null,jl=!1,a)throw Error(t(300));return s}function co(){var s=El!==0;return El=0,s}function Bs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?er.memoizedState=Cr=s:Cr=Cr.next=s,Cr}function os(){if(Rr===null){var s=er.alternate;s=s!==null?s.memoizedState:null}else s=Rr.next;var a=Cr===null?er.memoizedState:Cr.next;if(a!==null)Cr=a,Rr=s;else{if(s===null)throw Error(t(310));Rr=s,s={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Cr===null?er.memoizedState=Cr=s:Cr=Cr.next=s}return Cr}function wc(s,a){return typeof a=="function"?a(s):a}function ou(s){var a=os(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=s;var m=Rr,_=m.baseQueue,A=d.pending;if(A!==null){if(_!==null){var U=_.next;_.next=A.next,A.next=U}m.baseQueue=_=A,d.pending=null}if(_!==null){A=_.next,m=m.baseState;var fe=U=null,xe=null,De=A;do{var Ye=De.lane;if((lo&Ye)===Ye)xe!==null&&(xe=xe.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),m=De.hasEagerState?De.eagerState:s(m,De.action);else{var Qe={lane:Ye,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};xe===null?(fe=xe=Qe,U=m):xe=xe.next=Qe,er.lanes|=Ye,xc|=Ye}De=De.next}while(De!==null&&De!==A);xe===null?U=m:xe.next=fe,dr(m,a.memoizedState)||(xs=!0),a.memoizedState=m,a.baseState=U,a.baseQueue=xe,d.lastRenderedState=m}if(s=d.interleaved,s!==null){_=s;do A=_.lane,er.lanes|=A,xc|=A,_=_.next;while(_!==s)}else _===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function ga(s){var a=os(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=s;var m=d.dispatch,_=d.pending,A=a.memoizedState;if(_!==null){d.pending=null;var U=_=_.next;do A=s(A,U.action),U=U.next;while(U!==_);dr(A,a.memoizedState)||(xs=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),d.lastRenderedState=A}return[A,m]}function vh(){}function Ad(s,a){var d=er,m=os(),_=a(),A=!dr(m.memoizedState,_);if(A&&(m.memoizedState=_,xs=!0),m=m.queue,cu(wh.bind(null,d,m,s),[s]),m.getSnapshot!==a||A||Cr!==null&&Cr.memoizedState.tag&1){if(d.flags|=2048,as(9,jd.bind(null,d,m,_,a),void 0,null),gi===null)throw Error(t(349));(lo&30)!==0||yh(d,a,_)}return _}function yh(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=er.updateQueue,a===null?(a={lastEffect:null,stores:null},er.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function jd(s,a,d,m){a.value=d,a.getSnapshot=m,Pl(a)&&au(s)}function wh(s,a,d){return d(function(){Pl(a)&&au(s)})}function Pl(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!dr(s,d)}catch{return!0}}function au(s){var a=Mn(s,1);a!==null&&zo(a,s,1,-1)}function bc(s){var a=Bs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:s},a.queue=s,s=s.dispatch=Fx.bind(null,er,s),[a.memoizedState,s]}function as(s,a,d,m){return s={tag:s,create:a,destroy:d,deps:m,next:null},a=er.updateQueue,a===null?(a={lastEffect:null,stores:null},er.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,a.lastEffect=s)),s}function Do(){return os().memoizedState}function zs(s,a,d,m){var _=Bs();er.flags|=s,_.memoizedState=as(1|a,d,void 0,m===void 0?null:m)}function Qa(s,a,d,m){var _=os();m=m===void 0?null:m;var A=void 0;if(Rr!==null){var U=Rr.memoizedState;if(A=U.destroy,m!==null&&su(m,U.deps)){_.memoizedState=as(a,d,A,m);return}}er.flags|=s,_.memoizedState=as(1|a,d,A,m)}function lu(s,a){return zs(8390656,8,s,a)}function cu(s,a){return Qa(2048,8,s,a)}function bh(s,a){return Qa(4,2,s,a)}function uu(s,a){return Qa(4,4,s,a)}function du(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Pm(s,a,d){return d=d!=null?d.concat([s]):null,Qa(4,4,du.bind(null,a,s),d)}function hp(){}function Lm(s,a){var d=os();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&su(a,m[1])?m[0]:(d.memoizedState=[s,a],s)}function Tm(s,a){var d=os();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&su(a,m[1])?m[0]:(s=s(),d.memoizedState=[s,a],s)}function Rm(s,a,d){return(lo&21)===0?(s.baseState&&(s.baseState=!1,xs=!0),s.memoizedState=d):(dr(d,a)||(d=Pa(),er.lanes|=d,xc|=d,s.baseState=!0),a)}function Ix(s,a){var d=pn;pn=d!==0&&4>d?d:4,s(!0);var m=iu.transition;iu.transition={};try{s(!1),a()}finally{pn=d,iu.transition=m}}function Om(){return os().memoizedState}function Dx(s,a,d){var m=Ol(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Im(s))Dm(a,d);else if(d=Rn(s,a,d,m),d!==null){var _=cs();zo(d,s,m,_),Fm(d,a,m)}}function Fx(s,a,d){var m=Ol(s),_={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Im(s))Dm(a,_);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var U=a.lastRenderedState,fe=A(U,d);if(_.hasEagerState=!0,_.eagerState=fe,dr(fe,U)){var xe=a.interleaved;xe===null?(_.next=_,hi(a)):(_.next=xe.next,xe.next=_),a.interleaved=_;return}}catch{}finally{}d=Rn(s,a,_,m),d!==null&&(_=cs(),zo(d,s,m,_),Fm(d,a,m))}}function Im(s){var a=s.alternate;return s===er||a!==null&&a===er}function Dm(s,a){Io=jl=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function Fm(s,a,d){if((d&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,d|=m,a.lanes=d,Ls(s,d)}}var xh={readContext:gr,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},Mx={readContext:gr,useCallback:function(s,a){return Bs().memoizedState=[s,a===void 0?null:a],s},useContext:gr,useEffect:lu,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,zs(4194308,4,du.bind(null,a,s),d)},useLayoutEffect:function(s,a){return zs(4194308,4,s,a)},useInsertionEffect:function(s,a){return zs(4,2,s,a)},useMemo:function(s,a){var d=Bs();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var m=Bs();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=Dx.bind(null,er,s),[m.memoizedState,s]},useRef:function(s){var a=Bs();return s={current:s},a.memoizedState=s},useState:bc,useDebugValue:hp,useDeferredValue:function(s){return Bs().memoizedState=s},useTransition:function(){var s=bc(!1),a=s[0];return s=Ix.bind(null,s[1]),Bs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var m=er,_=Bs();if($e){if(d===void 0)throw Error(t(407));d=d()}else{if(d=a(),gi===null)throw Error(t(349));(lo&30)!==0||yh(m,a,d)}_.memoizedState=d;var A={value:d,getSnapshot:a};return _.queue=A,lu(wh.bind(null,m,A,s),[s]),m.flags|=2048,as(9,jd.bind(null,m,A,d,a),void 0,null),d},useId:function(){var s=Bs(),a=gi.identifierPrefix;if($e){var d=se,m=Ee;d=(m&~(1<<32-rr(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=El++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=dp++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Bx={readContext:gr,useCallback:Lm,useContext:gr,useEffect:cu,useImperativeHandle:Pm,useInsertionEffect:bh,useLayoutEffect:uu,useMemo:Tm,useReducer:ou,useRef:Do,useState:function(){return ou(wc)},useDebugValue:hp,useDeferredValue:function(s){var a=os();return Rm(a,Rr.memoizedState,s)},useTransition:function(){var s=ou(wc)[0],a=os().memoizedState;return[s,a]},useMutableSource:vh,useSyncExternalStore:Ad,useId:Om,unstable_isNewReconciler:!1},zx={readContext:gr,useCallback:Lm,useContext:gr,useEffect:cu,useImperativeHandle:Pm,useInsertionEffect:bh,useLayoutEffect:uu,useMemo:Tm,useReducer:ga,useRef:Do,useState:function(){return ga(wc)},useDebugValue:hp,useDeferredValue:function(s){var a=os();return Rr===null?a.memoizedState=s:Rm(a,Rr.memoizedState,s)},useTransition:function(){var s=ga(wc)[0],a=os().memoizedState;return[s,a]},useMutableSource:vh,useSyncExternalStore:Ad,useId:Om,unstable_isNewReconciler:!1};function Fo(s,a){if(s&&s.defaultProps){a=_e({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function fp(s,a,d,m){a=s.memoizedState,d=d(m,a),d=d==null?a:_e({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var _h={isMounted:function(s){return(s=s._reactInternals)?Ar(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var m=cs(),_=Ol(s),A=Sr(m,_);A.payload=a,d!=null&&(A.callback=d),a=Nr(s,A,_),a!==null&&(zo(a,s,_,m),fi(a,s,_))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var m=cs(),_=Ol(s),A=Sr(m,_);A.tag=1,A.payload=a,d!=null&&(A.callback=d),a=Nr(s,A,_),a!==null&&(zo(a,s,_,m),fi(a,s,_))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=cs(),m=Ol(s),_=Sr(d,m);_.tag=2,a!=null&&(_.callback=a),a=Nr(s,_,m),a!==null&&(zo(a,s,m,d),fi(a,s,m))}};function Mm(s,a,d,m,_,A,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,A,U):a.prototype&&a.prototype.isPureReactComponent?!Di(d,m)||!Di(_,A):!0}function Bm(s,a,d){var m=!1,_=fa,A=a.contextType;return typeof A=="object"&&A!==null?A=gr(A):(_=zi(a)?Ya:ri.current,m=a.contextTypes,A=(m=m!=null)?Cl(s,_):fa),a=new a(d,A),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_h,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=A),a}function zm(s,a,d,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==s&&_h.enqueueReplaceState(a,a.state,null)}function pp(s,a,d,m){var _=s.stateNode;_.props=d,_.state=s.memoizedState,_.refs={},ii(s);var A=a.contextType;typeof A=="object"&&A!==null?_.context=gr(A):(A=zi(a)?Ya:ri.current,_.context=Cl(s,A)),_.state=s.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(fp(s,a,A,d),_.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(a=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),a!==_.state&&_h.enqueueReplaceState(_,_.state,null),pi(s,d,_,m),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function hu(s,a){try{var d="",m=a;do d+=oe(m),m=m.return;while(m);var _=d}catch(A){_=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:a,stack:_,digest:null}}function gp(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function mp(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function Um(s,a,d){d=Sr(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){Eh||(Eh=!0,Lp=m),mp(s,a)},d}function $m(s,a,d){d=Sr(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var _=a.value;d.payload=function(){return m(_)},d.callback=function(){mp(s,a)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(d.callback=function(){mp(s,a),typeof m!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var U=a.stack;this.componentDidCatch(a.value,{componentStack:U!==null?U:""})}),d}function qm(s,a,d){var m=s.pingCache;if(m===null){m=s.pingCache=new Ux;var _=new Set;m.set(a,_)}else _=m.get(a),_===void 0&&(_=new Set,m.set(a,_));_.has(d)||(_.add(d),s=t_.bind(null,s,a,d),a.then(s,s))}function Hm(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Wm(s,a,d,m,_){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Sr(-1,1),a.tag=2,Nr(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var $x=R.ReactCurrentOwner,xs=!1;function ls(s,a,d,m){a.child=s===null?ar(a,null,d,m):Lr(a,s.child,d,m)}function Vm(s,a,d,m,_){d=d.render;var A=a.ref;return pr(a,_),m=yc(s,a,d,m,A,_),d=co(),s!==null&&!xs?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~_,Xa(s,a,_)):($e&&d&&Be(a),a.flags|=1,ls(s,a,m,_),a.child)}function Gm(s,a,d,m,_){if(s===null){var A=d.type;return typeof A=="function"&&!Mp(A)&&A.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=A,Km(s,a,A,m,_)):(s=Ih(d.type,null,m,a,a.mode,_),s.ref=a.ref,s.return=a,a.child=s)}if(A=s.child,(s.lanes&_)===0){var U=A.memoizedProps;if(d=d.compare,d=d!==null?d:Di,d(U,m)&&s.ref===a.ref)return Xa(s,a,_)}return a.flags|=1,s=Dl(A,m),s.ref=a.ref,s.return=a,a.child=s}function Km(s,a,d,m,_){if(s!==null){var A=s.memoizedProps;if(Di(A,m)&&s.ref===a.ref)if(xs=!1,a.pendingProps=m=A,(s.lanes&_)!==0)(s.flags&131072)!==0&&(xs=!0);else return a.lanes=s.lanes,Xa(s,a,_)}return vp(s,a,d,m,_)}function Ym(s,a,d){var m=a.pendingProps,_=m.children,A=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(pu,Us),Us|=d;else{if((d&1073741824)===0)return s=A!==null?A.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Tn(pu,Us),Us|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=A!==null?A.baseLanes:d,Tn(pu,Us),Us|=m}else A!==null?(m=A.baseLanes|d,a.memoizedState=null):m=d,Tn(pu,Us),Us|=m;return ls(s,a,_,d),a.child}function Jm(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function vp(s,a,d,m,_){var A=zi(d)?Ya:ri.current;return A=Cl(a,A),pr(a,_),d=yc(s,a,d,m,A,_),m=co(),s!==null&&!xs?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~_,Xa(s,a,_)):($e&&m&&Be(a),a.flags|=1,ls(s,a,d,_),a.child)}function Qm(s,a,d,m,_){if(zi(d)){var A=!0;Ja(a)}else A=!1;if(pr(a,_),a.stateNode===null)Nh(s,a),Bm(a,d,m),pp(a,d,m,_),m=!0;else if(s===null){var U=a.stateNode,fe=a.memoizedProps;U.props=fe;var xe=U.context,De=d.contextType;typeof De=="object"&&De!==null?De=gr(De):(De=zi(d)?Ya:ri.current,De=Cl(a,De));var Ye=d.getDerivedStateFromProps,Qe=typeof Ye=="function"||typeof U.getSnapshotBeforeUpdate=="function";Qe||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(fe!==m||xe!==De)&&zm(a,U,m,De),Tr=!1;var Ke=a.memoizedState;U.state=Ke,pi(a,m,U,_),xe=a.memoizedState,fe!==m||Ke!==xe||Bi.current||Tr?(typeof Ye=="function"&&(fp(a,d,Ye,m),xe=a.memoizedState),(fe=Tr||Mm(a,d,fe,m,Ke,xe,De))?(Qe||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(a.flags|=4194308)):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=xe),U.props=m,U.state=xe,U.context=De,m=fe):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{U=a.stateNode,Ui(s,a),fe=a.memoizedProps,De=a.type===a.elementType?fe:Fo(a.type,fe),U.props=De,Qe=a.pendingProps,Ke=U.context,xe=d.contextType,typeof xe=="object"&&xe!==null?xe=gr(xe):(xe=zi(d)?Ya:ri.current,xe=Cl(a,xe));var at=d.getDerivedStateFromProps;(Ye=typeof at=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(fe!==Qe||Ke!==xe)&&zm(a,U,m,xe),Tr=!1,Ke=a.memoizedState,U.state=Ke,pi(a,m,U,_);var wt=a.memoizedState;fe!==Qe||Ke!==wt||Bi.current||Tr?(typeof at=="function"&&(fp(a,d,at,m),wt=a.memoizedState),(De=Tr||Mm(a,d,De,m,Ke,wt,xe)||!1)?(Ye||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(m,wt,xe),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(m,wt,xe)),typeof U.componentDidUpdate=="function"&&(a.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof U.componentDidUpdate!="function"||fe===s.memoizedProps&&Ke===s.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||fe===s.memoizedProps&&Ke===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=wt),U.props=m,U.state=wt,U.context=xe,m=De):(typeof U.componentDidUpdate!="function"||fe===s.memoizedProps&&Ke===s.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||fe===s.memoizedProps&&Ke===s.memoizedState||(a.flags|=1024),m=!1)}return yp(s,a,d,m,A,_)}function yp(s,a,d,m,_,A){Jm(s,a);var U=(a.flags&128)!==0;if(!m&&!U)return _&&gh(a,d,!1),Xa(s,a,A);m=a.stateNode,$x.current=a;var fe=U&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&U?(a.child=Lr(a,s.child,null,A),a.child=Lr(a,null,fe,A)):ls(s,a,fe,A),a.memoizedState=m.state,_&&gh(a,d,!0),a.child}function Xm(s){var a=s.stateNode;a.pendingContext?ph(s,a.pendingContext,a.pendingContext!==a.context):a.context&&ph(s,a.context,!1),Al(s,a.containerInfo)}function Zm(s,a,d,m,_){return dt(),tt(_),a.flags|=256,ls(s,a,d,m),a.child}var wp={dehydrated:null,treeContext:null,retryLane:0};function bp(s){return{baseLanes:s,cachePool:null,transitions:null}}function e1(s,a,d){var m=a.pendingProps,_=Yn.current,A=!1,U=(a.flags&128)!==0,fe;if((fe=U)||(fe=s!==null&&s.memoizedState===null?!1:(_&2)!==0),fe?(A=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),Tn(Yn,_&1),s===null)return yt(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(U=m.children,s=m.fallback,A?(m=a.mode,A=a.child,U={mode:"hidden",children:U},(m&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=U):A=Dh(U,m,0,null),s=kc(s,m,d,null),A.return=a,s.return=a,A.sibling=s,a.child=A,a.child.memoizedState=bp(d),a.memoizedState=wp,s):xp(a,U));if(_=s.memoizedState,_!==null&&(fe=_.dehydrated,fe!==null))return qx(s,a,U,m,fe,_,d);if(A){A=m.fallback,U=a.mode,_=s.child,fe=_.sibling;var xe={mode:"hidden",children:m.children};return(U&1)===0&&a.child!==_?(m=a.child,m.childLanes=0,m.pendingProps=xe,a.deletions=null):(m=Dl(_,xe),m.subtreeFlags=_.subtreeFlags&14680064),fe!==null?A=Dl(fe,A):(A=kc(A,U,d,null),A.flags|=2),A.return=a,m.return=a,m.sibling=A,a.child=m,m=A,A=a.child,U=s.child.memoizedState,U=U===null?bp(d):{baseLanes:U.baseLanes|d,cachePool:null,transitions:U.transitions},A.memoizedState=U,A.childLanes=s.childLanes&~d,a.memoizedState=wp,m}return A=s.child,s=A.sibling,m=Dl(A,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=m,a.memoizedState=null,m}function xp(s,a){return a=Dh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Sh(s,a,d,m){return m!==null&&tt(m),Lr(a,s.child,null,d),s=xp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function qx(s,a,d,m,_,A,U){if(d)return a.flags&256?(a.flags&=-257,m=gp(Error(t(422))),Sh(s,a,U,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(A=m.fallback,_=a.mode,m=Dh({mode:"visible",children:m.children},_,0,null),A=kc(A,_,U,null),A.flags|=2,m.return=a,A.return=a,m.sibling=A,a.child=m,(a.mode&1)!==0&&Lr(a,s.child,null,U),a.child.memoizedState=bp(U),a.memoizedState=wp,A);if((a.mode&1)===0)return Sh(s,a,U,null);if(_.data==="$!"){if(m=_.nextSibling&&_.nextSibling.dataset,m)var fe=m.dgst;return m=fe,A=Error(t(419)),m=gp(A,m,void 0),Sh(s,a,U,m)}if(fe=(U&s.childLanes)!==0,xs||fe){if(m=gi,m!==null){switch(U&-U){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(m.suspendedLanes|U))!==0?0:_,_!==0&&_!==A.retryLane&&(A.retryLane=_,Mn(s,_),zo(m,s,_,-1))}return Fp(),m=gp(Error(t(421))),Sh(s,a,U,m)}return _.data==="$?"?(a.flags|=128,a.child=s.child,a=n_.bind(null,s),_._reactRetry=a,null):(s=A.treeContext,Me=Ai(_.nextSibling),Fe=a,$e=!0,qe=null,s!==null&&(Z[ie++]=Ee,Z[ie++]=se,Z[ie++]=be,Ee=s.id,se=s.overflow,be=a),a=xp(a,m.children),a.flags|=4096,a)}function t1(s,a,d){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),_n(s.return,a,d)}function _p(s,a,d,m,_){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=d,A.tailMode=_)}function n1(s,a,d){var m=a.pendingProps,_=m.revealOrder,A=m.tail;if(ls(s,a,m.children,d),m=Yn.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&t1(s,d,a);else if(s.tag===19)t1(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Tn(Yn,m),(a.mode&1)===0)a.memoizedState=null;else switch(_){case"forwards":for(d=a.child,_=null;d!==null;)s=d.alternate,s!==null&&Ms(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=a.child,a.child=null):(_=d.sibling,d.sibling=null),_p(a,!1,_,d,A);break;case"backwards":for(d=null,_=a.child,a.child=null;_!==null;){if(s=_.alternate,s!==null&&Ms(s)===null){a.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}_p(a,!0,d,null,A);break;case"together":_p(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Nh(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Xa(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),xc|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,d=Dl(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Dl(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function Hx(s,a,d){switch(a.tag){case 3:Xm(a),dt();break;case 5:mh(a);break;case 1:zi(a.type)&&Ja(a);break;case 4:Al(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,_=a.memoizedProps.value;Tn(Br,m._currentValue),m._currentValue=_;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Tn(Yn,Yn.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?e1(s,a,d):(Tn(Yn,Yn.current&1),s=Xa(s,a,d),s!==null?s.sibling:null);Tn(Yn,Yn.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(s.flags&128)!==0){if(m)return n1(s,a,d);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Tn(Yn,Yn.current),m)break;return null;case 22:case 23:return a.lanes=0,Ym(s,a,d)}return Xa(s,a,d)}var r1,Sp,i1,s1;r1=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Sp=function(){},i1=function(s,a,d,m){var _=s.memoizedProps;if(_!==m){s=a.stateNode,Oo(Gr.current);var A=null;switch(d){case"input":_=Ie(s,_),m=Ie(s,m),A=[];break;case"select":_=_e({},_,{value:void 0}),m=_e({},m,{value:void 0}),A=[];break;case"textarea":_=Ge(s,_),m=Ge(s,m),A=[];break;default:typeof _.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Sl)}fn(d,m);var U;d=null;for(De in _)if(!m.hasOwnProperty(De)&&_.hasOwnProperty(De)&&_[De]!=null)if(De==="style"){var fe=_[De];for(U in fe)fe.hasOwnProperty(U)&&(d||(d={}),d[U]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?A||(A=[]):(A=A||[]).push(De,null));for(De in m){var xe=m[De];if(fe=_?.[De],m.hasOwnProperty(De)&&xe!==fe&&(xe!=null||fe!=null))if(De==="style")if(fe){for(U in fe)!fe.hasOwnProperty(U)||xe&&xe.hasOwnProperty(U)||(d||(d={}),d[U]="");for(U in xe)xe.hasOwnProperty(U)&&fe[U]!==xe[U]&&(d||(d={}),d[U]=xe[U])}else d||(A||(A=[]),A.push(De,d)),d=xe;else De==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,fe=fe?fe.__html:void 0,xe!=null&&fe!==xe&&(A=A||[]).push(De,xe)):De==="children"?typeof xe!="string"&&typeof xe!="number"||(A=A||[]).push(De,""+xe):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(xe!=null&&De==="onScroll"&&Dn("scroll",s),A||fe===xe||(A=[])):(A=A||[]).push(De,xe))}d&&(A=A||[]).push("style",d);var De=A;(a.updateQueue=De)&&(a.flags|=4)}},s1=function(s,a,d,m){d!==m&&(a.flags|=4)};function Ed(s,a){if(!$e)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function $i(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(a)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&14680064,m|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=d,a}function Wx(s,a,d){var m=a.pendingProps;switch(Te(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(a),null;case 1:return zi(a.type)&&nu(),$i(a),null;case 3:return m=a.stateNode,ao(),En(Bi),En(ri),Cd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(fr(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qe!==null&&(Op(qe),qe=null))),Sp(s,a),$i(a),null;case 5:Nd(a);var _=Oo(pa.current);if(d=a.type,s!==null&&a.stateNode!=null)i1(s,a,d,m,_),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return $i(a),null}if(s=Oo(Gr.current),fr(a)){m=a.stateNode,d=a.type;var A=a.memoizedProps;switch(m[oo]=a,m[Nl]=A,s=(a.mode&1)!==0,d){case"dialog":Dn("cancel",m),Dn("close",m);break;case"iframe":case"object":case"embed":Dn("load",m);break;case"video":case"audio":for(_=0;_<da.length;_++)Dn(da[_],m);break;case"source":Dn("error",m);break;case"img":case"image":case"link":Dn("error",m),Dn("load",m);break;case"details":Dn("toggle",m);break;case"input":ue(m,A),Dn("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!A.multiple},Dn("invalid",m);break;case"textarea":Ze(m,A),Dn("invalid",m)}fn(d,A),_=null;for(var U in A)if(A.hasOwnProperty(U)){var fe=A[U];U==="children"?typeof fe=="string"?m.textContent!==fe&&(A.suppressHydrationWarning!==!0&&tu(m.textContent,fe,s),_=["children",fe]):typeof fe=="number"&&m.textContent!==""+fe&&(A.suppressHydrationWarning!==!0&&tu(m.textContent,fe,s),_=["children",""+fe]):i.hasOwnProperty(U)&&fe!=null&&U==="onScroll"&&Dn("scroll",m)}switch(d){case"input":Re(m),ft(m,A,!0);break;case"textarea":Re(m),st(m);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(m.onclick=Sl)}m=_,a.updateQueue=m,m!==null&&(a.flags|=4)}else{U=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ht(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=U.createElement(d,{is:m.is}):(s=U.createElement(d),d==="select"&&(U=s,m.multiple?U.multiple=!0:m.size&&(U.size=m.size))):s=U.createElementNS(s,d),s[oo]=a,s[Nl]=m,r1(s,a,!1,!1),a.stateNode=s;e:{switch(U=Lt(d,m),d){case"dialog":Dn("cancel",s),Dn("close",s),_=m;break;case"iframe":case"object":case"embed":Dn("load",s),_=m;break;case"video":case"audio":for(_=0;_<da.length;_++)Dn(da[_],s);_=m;break;case"source":Dn("error",s),_=m;break;case"img":case"image":case"link":Dn("error",s),Dn("load",s),_=m;break;case"details":Dn("toggle",s),_=m;break;case"input":ue(s,m),_=Ie(s,m),Dn("invalid",s);break;case"option":_=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},_=_e({},m,{value:void 0}),Dn("invalid",s);break;case"textarea":Ze(s,m),_=Ge(s,m),Dn("invalid",s);break;default:_=m}fn(d,_),fe=_;for(A in fe)if(fe.hasOwnProperty(A)){var xe=fe[A];A==="style"?mt(s,xe):A==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&rt(s,xe)):A==="children"?typeof xe=="string"?(d!=="textarea"||xe!=="")&&gt(s,xe):typeof xe=="number"&&gt(s,""+xe):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?xe!=null&&A==="onScroll"&&Dn("scroll",s):xe!=null&&P(s,A,xe,U))}switch(d){case"input":Re(s),ft(s,m,!1);break;case"textarea":Re(s),st(s);break;case"option":m.value!=null&&s.setAttribute("value",""+me(m.value));break;case"select":s.multiple=!!m.multiple,A=m.value,A!=null?Pe(s,!!m.multiple,A,!1):m.defaultValue!=null&&Pe(s,!!m.multiple,m.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=Sl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return $i(a),null;case 6:if(s&&a.stateNode!=null)s1(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(d=Oo(pa.current),Oo(Gr.current),fr(a)){if(m=a.stateNode,d=a.memoizedProps,m[oo]=a,(A=m.nodeValue!==d)&&(s=Fe,s!==null))switch(s.tag){case 3:tu(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&tu(m.nodeValue,d,(s.mode&1)!==0)}A&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[oo]=a,a.stateNode=m}return $i(a),null;case 13:if(En(Yn),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($e&&Me!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Jt(),dt(),a.flags|=98560,A=!1;else if(A=fr(a),m!==null&&m.dehydrated!==null){if(s===null){if(!A)throw Error(t(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[oo]=a}else dt(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$i(a),A=!1}else qe!==null&&(Op(qe),qe=null),A=!0;if(!A)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Yn.current&1)!==0?si===0&&(si=3):Fp())),a.updateQueue!==null&&(a.flags|=4),$i(a),null);case 4:return ao(),Sp(s,a),s===null&&Wa(a.stateNode.containerInfo),$i(a),null;case 10:return Zn(a.type._context),$i(a),null;case 17:return zi(a.type)&&nu(),$i(a),null;case 19:if(En(Yn),A=a.memoizedState,A===null)return $i(a),null;if(m=(a.flags&128)!==0,U=A.rendering,U===null)if(m)Ed(A,!1);else{if(si!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(U=Ms(s),U!==null){for(a.flags|=128,Ed(A,!1),m=U.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)A=d,s=m,A.flags&=14680066,U=A.alternate,U===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=U.childLanes,A.lanes=U.lanes,A.child=U.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=U.memoizedProps,A.memoizedState=U.memoizedState,A.updateQueue=U.updateQueue,A.type=U.type,s=U.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Tn(Yn,Yn.current&1|2),a.child}s=s.sibling}A.tail!==null&&Pn()>gu&&(a.flags|=128,m=!0,Ed(A,!1),a.lanes=4194304)}else{if(!m)if(s=Ms(U),s!==null){if(a.flags|=128,m=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Ed(A,!0),A.tail===null&&A.tailMode==="hidden"&&!U.alternate&&!$e)return $i(a),null}else 2*Pn()-A.renderingStartTime>gu&&d!==1073741824&&(a.flags|=128,m=!0,Ed(A,!1),a.lanes=4194304);A.isBackwards?(U.sibling=a.child,a.child=U):(d=A.last,d!==null?d.sibling=U:a.child=U,A.last=U)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=Pn(),a.sibling=null,d=Yn.current,Tn(Yn,m?d&1|2:d&1),a):($i(a),null);case 22:case 23:return Dp(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Us&1073741824)!==0&&($i(a),a.subtreeFlags&6&&(a.flags|=8192)):$i(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Vx(s,a){switch(Te(a),a.tag){case 1:return zi(a.type)&&nu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ao(),En(Bi),En(ri),Cd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Nd(a),null;case 13:if(En(Yn),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));dt()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return En(Yn),null;case 4:return ao(),null;case 10:return Zn(a.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var kh=!1,qi=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,pt=null;function fu(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Or(s,a,m)}else d.current=null}function Np(s,a,d){try{d()}catch(m){Or(s,a,m)}}var o1=!1;function Kx(s,a){if(gc=ko,s=Pr(),Is(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var U=0,fe=-1,xe=-1,De=0,Ye=0,Qe=s,Ke=null;t:for(;;){for(var at;Qe!==d||_!==0&&Qe.nodeType!==3||(fe=U+_),Qe!==A||m!==0&&Qe.nodeType!==3||(xe=U+m),Qe.nodeType===3&&(U+=Qe.nodeValue.length),(at=Qe.firstChild)!==null;)Ke=Qe,Qe=at;for(;;){if(Qe===s)break t;if(Ke===d&&++De===_&&(fe=U),Ke===A&&++Ye===m&&(xe=U),(at=Qe.nextSibling)!==null)break;Qe=Ke,Ke=Qe.parentNode}Qe=at}d=fe===-1||xe===-1?null:{start:fe,end:xe}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ga={focusedElem:s,selectionRange:d},ko=!1,pt=a;pt!==null;)if(a=pt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,pt=s;else for(;pt!==null;){a=pt;try{var wt=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var kt=wt.memoizedProps,Ur=wt.memoizedState,Le=a.stateNode,ke=Le.getSnapshotBeforeUpdate(a.elementType===a.type?kt:Fo(a.type,kt),Ur);Le.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Oe=a.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(et){Or(a,a.return,et)}if(s=a.sibling,s!==null){s.return=a.return,pt=s;break}pt=a.return}return wt=o1,o1=!1,wt}function Pd(s,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&s)===s){var A=_.destroy;_.destroy=void 0,A!==void 0&&Np(a,d,A)}_=_.next}while(_!==m)}}function Ch(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function kp(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function a1(s){var a=s.alternate;a!==null&&(s.alternate=null,a1(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[oo],delete a[Nl],delete a[Mi],delete a[cp],delete a[up])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function l1(s){return s.tag===5||s.tag===3||s.tag===4}function c1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||l1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cp(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Sl));else if(m!==4&&(s=s.child,s!==null))for(Cp(s,a,d),s=s.sibling;s!==null;)Cp(s,a,d),s=s.sibling}function Ap(s,a,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Ap(s,a,d),s=s.sibling;s!==null;)Ap(s,a,d),s=s.sibling}var ji=null,Mo=!1;function Ll(s,a,d){for(d=d.child;d!==null;)u1(s,a,d),d=d.sibling}function u1(s,a,d){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(wr,d)}catch{}switch(d.tag){case 5:qi||fu(d,a);case 6:var m=ji,_=Mo;ji=null,Ll(s,a,d),ji=m,Mo=_,ji!==null&&(Mo?(s=ji,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):ji.removeChild(d.stateNode));break;case 18:ji!==null&&(Mo?(s=ji,d=d.stateNode,s.nodeType===8?xd(s.parentNode,d):s.nodeType===1&&xd(s,d),ns(s)):xd(ji,d.stateNode));break;case 4:m=ji,_=Mo,ji=d.stateNode.containerInfo,Mo=!0,Ll(s,a,d),ji=m,Mo=_;break;case 0:case 11:case 14:case 15:if(!qi&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){_=m=m.next;do{var A=_,U=A.destroy;A=A.tag,U!==void 0&&((A&2)!==0||(A&4)!==0)&&Np(d,a,U),_=_.next}while(_!==m)}Ll(s,a,d);break;case 1:if(!qi&&(fu(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(fe){Or(d,a,fe)}Ll(s,a,d);break;case 21:Ll(s,a,d);break;case 22:d.mode&1?(qi=(m=qi)||d.memoizedState!==null,Ll(s,a,d),qi=m):Ll(s,a,d);break;default:Ll(s,a,d)}}function d1(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new Gx),a.forEach(function(m){var _=r_.bind(null,s,m);d.has(m)||(d.add(m),m.then(_,_))})}}function Bo(s,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m];try{var A=s,U=a,fe=U;e:for(;fe!==null;){switch(fe.tag){case 5:ji=fe.stateNode,Mo=!1;break e;case 3:ji=fe.stateNode.containerInfo,Mo=!0;break e;case 4:ji=fe.stateNode.containerInfo,Mo=!0;break e}fe=fe.return}if(ji===null)throw Error(t(160));u1(A,U,_),ji=null,Mo=!1;var xe=_.alternate;xe!==null&&(xe.return=null),_.return=null}catch(De){Or(_,a,De)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)h1(a,s),a=a.sibling}function h1(s,a){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Bo(a,s),ma(s),m&4){try{Pd(3,s,s.return),Ch(3,s)}catch(kt){Or(s,s.return,kt)}try{Pd(5,s,s.return)}catch(kt){Or(s,s.return,kt)}}break;case 1:Bo(a,s),ma(s),m&512&&d!==null&&fu(d,d.return);break;case 5:if(Bo(a,s),ma(s),m&512&&d!==null&&fu(d,d.return),s.flags&32){var _=s.stateNode;try{gt(_,"")}catch(kt){Or(s,s.return,kt)}}if(m&4&&(_=s.stateNode,_!=null)){var A=s.memoizedProps,U=d!==null?d.memoizedProps:A,fe=s.type,xe=s.updateQueue;if(s.updateQueue=null,xe!==null)try{fe==="input"&&A.type==="radio"&&A.name!=null&&Rt(_,A),Lt(fe,U);var De=Lt(fe,A);for(U=0;U<xe.length;U+=2){var Ye=xe[U],Qe=xe[U+1];Ye==="style"?mt(_,Qe):Ye==="dangerouslySetInnerHTML"?rt(_,Qe):Ye==="children"?gt(_,Qe):P(_,Ye,Qe,De)}switch(fe){case"input":lt(_,A);break;case"textarea":zt(_,A);break;case"select":var Ke=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!A.multiple;var at=A.value;at!=null?Pe(_,!!A.multiple,at,!1):Ke!==!!A.multiple&&(A.defaultValue!=null?Pe(_,!!A.multiple,A.defaultValue,!0):Pe(_,!!A.multiple,A.multiple?[]:"",!1))}_[Nl]=A}catch(kt){Or(s,s.return,kt)}}break;case 6:if(Bo(a,s),ma(s),m&4){if(s.stateNode===null)throw Error(t(162));_=s.stateNode,A=s.memoizedProps;try{_.nodeValue=A}catch(kt){Or(s,s.return,kt)}}break;case 3:if(Bo(a,s),ma(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{ns(a.containerInfo)}catch(kt){Or(s,s.return,kt)}break;case 4:Bo(a,s),ma(s);break;case 13:Bo(a,s),ma(s),_=s.child,_.flags&8192&&(A=_.memoizedState!==null,_.stateNode.isHidden=A,!A||_.alternate!==null&&_.alternate.memoizedState!==null||(Pp=Pn())),m&4&&d1(s);break;case 22:if(Ye=d!==null&&d.memoizedState!==null,s.mode&1?(qi=(De=qi)||Ye,Bo(a,s),qi=De):Bo(a,s),ma(s),m&8192){if(De=s.memoizedState!==null,(s.stateNode.isHidden=De)&&!Ye&&(s.mode&1)!==0)for(pt=s,Ye=s.child;Ye!==null;){for(Qe=pt=Ye;pt!==null;){switch(Ke=pt,at=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:Pd(4,Ke,Ke.return);break;case 1:fu(Ke,Ke.return);var wt=Ke.stateNode;if(typeof wt.componentWillUnmount=="function"){m=Ke,d=Ke.return;try{a=m,wt.props=a.memoizedProps,wt.state=a.memoizedState,wt.componentWillUnmount()}catch(kt){Or(m,d,kt)}}break;case 5:fu(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){g1(Qe);continue}}at!==null?(at.return=Ke,pt=at):g1(Qe)}Ye=Ye.sibling}e:for(Ye=null,Qe=s;;){if(Qe.tag===5){if(Ye===null){Ye=Qe;try{_=Qe.stateNode,De?(A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(fe=Qe.stateNode,xe=Qe.memoizedProps.style,U=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,fe.style.display=on("display",U))}catch(kt){Or(s,s.return,kt)}}}else if(Qe.tag===6){if(Ye===null)try{Qe.stateNode.nodeValue=De?"":Qe.memoizedProps}catch(kt){Or(s,s.return,kt)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===s)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===s)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===s)break e;Ye===Qe&&(Ye=null),Qe=Qe.return}Ye===Qe&&(Ye=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:Bo(a,s),ma(s),m&4&&d1(s);break;case 21:break;default:Bo(a,s),ma(s)}}function ma(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(l1(d)){var m=d;break e}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var _=m.stateNode;m.flags&32&&(gt(_,""),m.flags&=-33);var A=c1(s);Ap(s,A,_);break;case 3:case 4:var U=m.stateNode.containerInfo,fe=c1(s);Cp(s,fe,U);break;default:throw Error(t(161))}}catch(xe){Or(s,s.return,xe)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Yx(s,a,d){pt=s,f1(s)}function f1(s,a,d){for(var m=(s.mode&1)!==0;pt!==null;){var _=pt,A=_.child;if(_.tag===22&&m){var U=_.memoizedState!==null||kh;if(!U){var fe=_.alternate,xe=fe!==null&&fe.memoizedState!==null||qi;fe=kh;var De=qi;if(kh=U,(qi=xe)&&!De)for(pt=_;pt!==null;)U=pt,xe=U.child,U.tag===22&&U.memoizedState!==null?m1(_):xe!==null?(xe.return=U,pt=xe):m1(_);for(;A!==null;)pt=A,f1(A),A=A.sibling;pt=_,kh=fe,qi=De}p1(s)}else(_.subtreeFlags&8772)!==0&&A!==null?(A.return=_,pt=A):p1(s)}}function p1(s){for(;pt!==null;){var a=pt;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:qi||Ch(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!qi)if(d===null)m.componentDidMount();else{var _=a.elementType===a.type?d.memoizedProps:Fo(a.type,d.memoizedProps);m.componentDidUpdate(_,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var A=a.updateQueue;A!==null&&bs(a,A,m);break;case 3:var U=a.updateQueue;if(U!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}bs(a,U,d)}break;case 5:var fe=a.stateNode;if(d===null&&a.flags&4){d=fe;var xe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&d.focus();break;case"img":xe.src&&(d.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var De=a.alternate;if(De!==null){var Ye=De.memoizedState;if(Ye!==null){var Qe=Ye.dehydrated;Qe!==null&&ns(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qi||a.flags&512&&kp(a)}catch(Ke){Or(a,a.return,Ke)}}if(a===s){pt=null;break}if(d=a.sibling,d!==null){d.return=a.return,pt=d;break}pt=a.return}}function g1(s){for(;pt!==null;){var a=pt;if(a===s){pt=null;break}var d=a.sibling;if(d!==null){d.return=a.return,pt=d;break}pt=a.return}}function m1(s){for(;pt!==null;){var a=pt;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Ch(4,a)}catch(xe){Or(a,d,xe)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var _=a.return;try{m.componentDidMount()}catch(xe){Or(a,_,xe)}}var A=a.return;try{kp(a)}catch(xe){Or(a,A,xe)}break;case 5:var U=a.return;try{kp(a)}catch(xe){Or(a,U,xe)}}}catch(xe){Or(a,a.return,xe)}if(a===s){pt=null;break}var fe=a.sibling;if(fe!==null){fe.return=a.return,pt=fe;break}pt=a.return}}var Jx=Math.ceil,Ah=R.ReactCurrentDispatcher,jp=R.ReactCurrentOwner,uo=R.ReactCurrentBatchConfig,Sn=0,gi=null,Kr=null,Ei=0,Us=0,pu=Ds(0),si=0,Ld=null,xc=0,jh=0,Ep=0,Td=null,_s=null,Pp=0,gu=1/0,Za=null,Eh=!1,Lp=null,Tl=null,Ph=!1,Rl=null,Lh=0,Rd=0,Tp=null,Th=-1,Rh=0;function cs(){return(Sn&6)!==0?Pn():Th!==-1?Th:Th=Pn()}function Ol(s){return(s.mode&1)===0?1:(Sn&2)!==0&&Ei!==0?Ei&-Ei:_r.transition!==null?(Rh===0&&(Rh=Pa()),Rh):(s=pn,s!==0||(s=window.event,s=s===void 0?16:ki(s.type)),s)}function zo(s,a,d,m){if(50<Rd)throw Rd=0,Tp=null,Error(t(185));_i(s,d,m),((Sn&2)===0||s!==gi)&&(s===gi&&((Sn&2)===0&&(jh|=d),si===4&&Il(s,Ei)),Ss(s,m),d===1&&Sn===0&&(a.mode&1)===0&&(gu=Pn()+500,vc&&E()))}function Ss(s,a){var d=s.callbackNode;Kn(s,a);var m=Xr(s,s===gi?Ei:0);if(m===0)d!==null&&Js(d),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(d!=null&&Js(d),a===1)s.tag===0?N(y1.bind(null,s)):w(y1.bind(null,s)),ap(function(){(Sn&6)===0&&E()}),d=null;else{switch(Xs(m)){case 1:d=ze;break;case 4:d=Se;break;case 16:d=ot;break;case 536870912:d=qn;break;default:d=ot}d=C1(d,v1.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function v1(s,a){if(Th=-1,Rh=0,(Sn&6)!==0)throw Error(t(327));var d=s.callbackNode;if(mu()&&s.callbackNode!==d)return null;var m=Xr(s,s===gi?Ei:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=Oh(s,m);else{a=m;var _=Sn;Sn|=2;var A=b1();(gi!==s||Ei!==a)&&(Za=null,gu=Pn()+500,Sc(s,a));do try{Zx();break}catch(fe){w1(s,fe)}while(!0);xn(),Ah.current=A,Sn=_,Kr!==null?a=0:(gi=null,Ei=0,a=si)}if(a!==0){if(a===2&&(_=Qs(s),_!==0&&(m=_,a=Rp(s,_))),a===1)throw d=Ld,Sc(s,0),Il(s,m),Ss(s,Pn()),d;if(a===6)Il(s,m);else{if(_=s.current.alternate,(m&30)===0&&!Qx(_)&&(a=Oh(s,m),a===2&&(A=Qs(s),A!==0&&(m=A,a=Rp(s,A))),a===1))throw d=Ld,Sc(s,0),Il(s,m),Ss(s,Pn()),d;switch(s.finishedWork=_,s.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:Nc(s,_s,Za);break;case 3:if(Il(s,m),(m&130023424)===m&&(a=Pp+500-Pn(),10<a)){if(Xr(s,0)!==0)break;if(_=s.suspendedLanes,(_&m)!==m){cs(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=bd(Nc.bind(null,s,_s,Za),a);break}Nc(s,_s,Za);break;case 4:if(Il(s,m),(m&4194240)===m)break;for(a=s.eventTimes,_=-1;0<m;){var U=31-rr(m);A=1<<U,U=a[U],U>_&&(_=U),m&=~A}if(m=_,m=Pn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Jx(m/1960))-m,10<m){s.timeoutHandle=bd(Nc.bind(null,s,_s,Za),m);break}Nc(s,_s,Za);break;case 5:Nc(s,_s,Za);break;default:throw Error(t(329))}}}return Ss(s,Pn()),s.callbackNode===d?v1.bind(null,s):null}function Rp(s,a){var d=Td;return s.current.memoizedState.isDehydrated&&(Sc(s,a).flags|=256),s=Oh(s,a),s!==2&&(a=_s,_s=d,a!==null&&Op(a)),s}function Op(s){_s===null?_s=s:_s.push.apply(_s,s)}function Qx(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var _=d[m],A=_.getSnapshot;_=_.value;try{if(!dr(A(),_))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Il(s,a){for(a&=~Ep,a&=~jh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-rr(a),m=1<<d;s[d]=-1,a&=~m}}function y1(s){if((Sn&6)!==0)throw Error(t(327));mu();var a=Xr(s,0);if((a&1)===0)return Ss(s,Pn()),null;var d=Oh(s,a);if(s.tag!==0&&d===2){var m=Qs(s);m!==0&&(a=m,d=Rp(s,m))}if(d===1)throw d=Ld,Sc(s,0),Il(s,a),Ss(s,Pn()),d;if(d===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Nc(s,_s,Za),Ss(s,Pn()),null}function Ip(s,a){var d=Sn;Sn|=1;try{return s(a)}finally{Sn=d,Sn===0&&(gu=Pn()+500,vc&&E())}}function _c(s){Rl!==null&&Rl.tag===0&&(Sn&6)===0&&mu();var a=Sn;Sn|=1;var d=uo.transition,m=pn;try{if(uo.transition=null,pn=1,s)return s()}finally{pn=m,uo.transition=d,Sn=a,(Sn&6)===0&&E()}}function Dp(){Us=pu.current,En(pu)}function Sc(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,hh(d)),Kr!==null)for(d=Kr.return;d!==null;){var m=d;switch(Te(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&nu();break;case 3:ao(),En(Bi),En(ri),Cd();break;case 5:Nd(m);break;case 4:ao();break;case 13:En(Yn);break;case 19:En(Yn);break;case 10:Zn(m.type._context);break;case 22:case 23:Dp()}d=d.return}if(gi=s,Kr=s=Dl(s.current,null),Ei=Us=a,si=0,Ld=null,Ep=jh=xc=0,_s=Td=null,Fn!==null){for(a=0;a<Fn.length;a++)if(d=Fn[a],m=d.interleaved,m!==null){d.interleaved=null;var _=m.next,A=d.pending;if(A!==null){var U=A.next;A.next=_,m.next=U}d.pending=m}Fn=null}return s}function w1(s,a){do{var d=Kr;try{if(xn(),ru.current=xh,jl){for(var m=er.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}jl=!1}if(lo=0,Cr=Rr=er=null,Io=!1,El=0,jp.current=null,d===null||d.return===null){si=1,Ld=a,Kr=null;break}e:{var A=s,U=d.return,fe=d,xe=a;if(a=Ei,fe.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var De=xe,Ye=fe,Qe=Ye.tag;if((Ye.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Ke=Ye.alternate;Ke?(Ye.updateQueue=Ke.updateQueue,Ye.memoizedState=Ke.memoizedState,Ye.lanes=Ke.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var at=Hm(U);if(at!==null){at.flags&=-257,Wm(at,U,fe,A,a),at.mode&1&&qm(A,De,a),a=at,xe=De;var wt=a.updateQueue;if(wt===null){var kt=new Set;kt.add(xe),a.updateQueue=kt}else wt.add(xe);break e}else{if((a&1)===0){qm(A,De,a),Fp();break e}xe=Error(t(426))}}else if($e&&fe.mode&1){var Ur=Hm(U);if(Ur!==null){(Ur.flags&65536)===0&&(Ur.flags|=256),Wm(Ur,U,fe,A,a),tt(hu(xe,fe));break e}}A=xe=hu(xe,fe),si!==4&&(si=2),Td===null?Td=[A]:Td.push(A),A=U;do{switch(A.tag){case 3:A.flags|=65536,a&=-a,A.lanes|=a;var Le=Um(A,xe,a);Bn(A,Le);break e;case 1:fe=xe;var ke=A.type,Oe=A.stateNode;if((A.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Tl===null||!Tl.has(Oe)))){A.flags|=65536,a&=-a,A.lanes|=a;var et=$m(A,fe,a);Bn(A,et);break e}}A=A.return}while(A!==null)}_1(d)}catch(Et){a=Et,Kr===d&&d!==null&&(Kr=d=d.return);continue}break}while(!0)}function b1(){var s=Ah.current;return Ah.current=xh,s===null?xh:s}function Fp(){(si===0||si===3||si===2)&&(si=4),gi===null||(xc&268435455)===0&&(jh&268435455)===0||Il(gi,Ei)}function Oh(s,a){var d=Sn;Sn|=2;var m=b1();(gi!==s||Ei!==a)&&(Za=null,Sc(s,a));do try{Xx();break}catch(_){w1(s,_)}while(!0);if(xn(),Sn=d,Ah.current=m,Kr!==null)throw Error(t(261));return gi=null,Ei=0,si}function Xx(){for(;Kr!==null;)x1(Kr)}function Zx(){for(;Kr!==null&&!bo();)x1(Kr)}function x1(s){var a=k1(s.alternate,s,Us);s.memoizedProps=s.pendingProps,a===null?_1(s):Kr=a,jp.current=null}function _1(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=Wx(d,a,Us),d!==null){Kr=d;return}}else{if(d=Vx(d,a),d!==null){d.flags&=32767,Kr=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{si=6,Kr=null;return}}if(a=a.sibling,a!==null){Kr=a;return}Kr=a=s}while(a!==null);si===0&&(si=5)}function Nc(s,a,d){var m=pn,_=uo.transition;try{uo.transition=null,pn=1,e_(s,a,d,m)}finally{uo.transition=_,pn=m}return null}function e_(s,a,d,m){do mu();while(Rl!==null);if((Sn&6)!==0)throw Error(t(327));d=s.finishedWork;var _=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var A=d.lanes|d.childLanes;if(Ps(s,A),s===gi&&(Kr=gi=null,Ei=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Ph||(Ph=!0,C1(ot,function(){return mu(),null})),A=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||A){A=uo.transition,uo.transition=null;var U=pn;pn=1;var fe=Sn;Sn|=4,jp.current=null,Kx(s,d),h1(d,s),ac(Ga),ko=!!gc,Ga=gc=null,s.current=d,Yx(d),ul(),Sn=fe,pn=U,uo.transition=A}else s.current=d;if(Ph&&(Ph=!1,Rl=s,Lh=_),A=s.pendingLanes,A===0&&(Tl=null),Es(d.stateNode),Ss(s,Pn()),a!==null)for(m=s.onRecoverableError,d=0;d<a.length;d++)_=a[d],m(_.value,{componentStack:_.stack,digest:_.digest});if(Eh)throw Eh=!1,s=Lp,Lp=null,s;return(Lh&1)!==0&&s.tag!==0&&mu(),A=s.pendingLanes,(A&1)!==0?s===Tp?Rd++:(Rd=0,Tp=s):Rd=0,E(),null}function mu(){if(Rl!==null){var s=Xs(Lh),a=uo.transition,d=pn;try{if(uo.transition=null,pn=16>s?16:s,Rl===null)var m=!1;else{if(s=Rl,Rl=null,Lh=0,(Sn&6)!==0)throw Error(t(331));var _=Sn;for(Sn|=4,pt=s.current;pt!==null;){var A=pt,U=A.child;if((pt.flags&16)!==0){var fe=A.deletions;if(fe!==null){for(var xe=0;xe<fe.length;xe++){var De=fe[xe];for(pt=De;pt!==null;){var Ye=pt;switch(Ye.tag){case 0:case 11:case 15:Pd(8,Ye,A)}var Qe=Ye.child;if(Qe!==null)Qe.return=Ye,pt=Qe;else for(;pt!==null;){Ye=pt;var Ke=Ye.sibling,at=Ye.return;if(a1(Ye),Ye===De){pt=null;break}if(Ke!==null){Ke.return=at,pt=Ke;break}pt=at}}}var wt=A.alternate;if(wt!==null){var kt=wt.child;if(kt!==null){wt.child=null;do{var Ur=kt.sibling;kt.sibling=null,kt=Ur}while(kt!==null)}}pt=A}}if((A.subtreeFlags&2064)!==0&&U!==null)U.return=A,pt=U;else e:for(;pt!==null;){if(A=pt,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Pd(9,A,A.return)}var Le=A.sibling;if(Le!==null){Le.return=A.return,pt=Le;break e}pt=A.return}}var ke=s.current;for(pt=ke;pt!==null;){U=pt;var Oe=U.child;if((U.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=U,pt=Oe;else e:for(U=ke;pt!==null;){if(fe=pt,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:Ch(9,fe)}}catch(Et){Or(fe,fe.return,Et)}if(fe===U){pt=null;break e}var et=fe.sibling;if(et!==null){et.return=fe.return,pt=et;break e}pt=fe.return}}if(Sn=_,E(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(wr,s)}catch{}m=!0}return m}finally{pn=d,uo.transition=a}}return!1}function S1(s,a,d){a=hu(d,a),a=Um(s,a,1),s=Nr(s,a,1),a=cs(),s!==null&&(_i(s,1,a),Ss(s,a))}function Or(s,a,d){if(s.tag===3)S1(s,s,d);else for(;a!==null;){if(a.tag===3){S1(a,s,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Tl===null||!Tl.has(m))){s=hu(d,s),s=$m(a,s,1),a=Nr(a,s,1),s=cs(),a!==null&&(_i(a,1,s),Ss(a,s));break}}a=a.return}}function t_(s,a,d){var m=s.pingCache;m!==null&&m.delete(a),a=cs(),s.pingedLanes|=s.suspendedLanes&d,gi===s&&(Ei&d)===d&&(si===4||si===3&&(Ei&130023424)===Ei&&500>Pn()-Pp?Sc(s,0):Ep|=d),Ss(s,a)}function N1(s,a){a===0&&((s.mode&1)===0?a=1:(a=Qr,Qr<<=1,(Qr&130023424)===0&&(Qr=4194304)));var d=cs();s=Mn(s,a),s!==null&&(_i(s,a,d),Ss(s,d))}function n_(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),N1(s,d)}function r_(s,a){var d=0;switch(s.tag){case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),N1(s,d)}var k1;k1=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||Bi.current)xs=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return xs=!1,Hx(s,a,d);xs=(s.flags&131072)!==0}else xs=!1,$e&&(a.flags&1048576)!==0&&je(a,Q,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Nh(s,a),s=a.pendingProps;var _=Cl(a,ri.current);pr(a,d),_=yc(null,a,m,s,_,d);var A=co();return a.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,zi(m)?(A=!0,Ja(a)):A=!1,a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,ii(a),_.updater=_h,a.stateNode=_,_._reactInternals=a,pp(a,m,s,d),a=yp(null,a,m,!0,A,d)):(a.tag=0,$e&&A&&Be(a),ls(null,a,_,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Nh(s,a),s=a.pendingProps,_=m._init,m=_(m._payload),a.type=m,_=a.tag=s_(m),s=Fo(m,s),_){case 0:a=vp(null,a,m,s,d);break e;case 1:a=Qm(null,a,m,s,d);break e;case 11:a=Vm(null,a,m,s,d);break e;case 14:a=Gm(null,a,m,Fo(m.type,s),d);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Fo(m,_),vp(s,a,m,_,d);case 1:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Fo(m,_),Qm(s,a,m,_,d);case 3:e:{if(Xm(a),s===null)throw Error(t(387));m=a.pendingProps,A=a.memoizedState,_=A.element,Ui(s,a),pi(a,m,null,d);var U=a.memoizedState;if(m=U.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){_=hu(Error(t(423)),a),a=Zm(s,a,m,d,_);break e}else if(m!==_){_=hu(Error(t(424)),a),a=Zm(s,a,m,d,_);break e}else for(Me=Ai(a.stateNode.containerInfo.firstChild),Fe=a,$e=!0,qe=null,d=ar(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(dt(),m===_){a=Xa(s,a,d);break e}ls(s,a,m,d)}a=a.child}return a;case 5:return mh(a),s===null&&yt(a),m=a.type,_=a.pendingProps,A=s!==null?s.memoizedProps:null,U=_.children,wd(m,_)?U=null:A!==null&&wd(m,A)&&(a.flags|=32),Jm(s,a),ls(s,a,U,d),a.child;case 6:return s===null&&yt(a),null;case 13:return e1(s,a,d);case 4:return Al(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Lr(a,null,m,d):ls(s,a,m,d),a.child;case 11:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Fo(m,_),Vm(s,a,m,_,d);case 7:return ls(s,a,a.pendingProps,d),a.child;case 8:return ls(s,a,a.pendingProps.children,d),a.child;case 12:return ls(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,_=a.pendingProps,A=a.memoizedProps,U=_.value,Tn(Br,m._currentValue),m._currentValue=U,A!==null)if(dr(A.value,U)){if(A.children===_.children&&!Bi.current){a=Xa(s,a,d);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var fe=A.dependencies;if(fe!==null){U=A.child;for(var xe=fe.firstContext;xe!==null;){if(xe.context===m){if(A.tag===1){xe=Sr(-1,d&-d),xe.tag=2;var De=A.updateQueue;if(De!==null){De=De.shared;var Ye=De.pending;Ye===null?xe.next=xe:(xe.next=Ye.next,Ye.next=xe),De.pending=xe}}A.lanes|=d,xe=A.alternate,xe!==null&&(xe.lanes|=d),_n(A.return,d,a),fe.lanes|=d;break}xe=xe.next}}else if(A.tag===10)U=A.type===a.type?null:A.child;else if(A.tag===18){if(U=A.return,U===null)throw Error(t(341));U.lanes|=d,fe=U.alternate,fe!==null&&(fe.lanes|=d),_n(U,d,a),U=A.sibling}else U=A.child;if(U!==null)U.return=A;else for(U=A;U!==null;){if(U===a){U=null;break}if(A=U.sibling,A!==null){A.return=U.return,U=A;break}U=U.return}A=U}ls(s,a,_.children,d),a=a.child}return a;case 9:return _=a.type,m=a.pendingProps.children,pr(a,d),_=gr(_),m=m(_),a.flags|=1,ls(s,a,m,d),a.child;case 14:return m=a.type,_=Fo(m,a.pendingProps),_=Fo(m.type,_),Gm(s,a,m,_,d);case 15:return Km(s,a,a.type,a.pendingProps,d);case 17:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Fo(m,_),Nh(s,a),a.tag=1,zi(m)?(s=!0,Ja(a)):s=!1,pr(a,d),Bm(a,m,_),pp(a,m,_,d),yp(null,a,m,!0,s,d);case 19:return n1(s,a,d);case 22:return Ym(s,a,d)}throw Error(t(156,a.tag))};function C1(s,a){return wo(s,a)}function i_(s,a,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(s,a,d,m){return new i_(s,a,d,m)}function Mp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function s_(s){if(typeof s=="function")return Mp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===ce)return 14}return 2}function Dl(s,a){var d=s.alternate;return d===null?(d=ho(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Ih(s,a,d,m,_,A){var U=2;if(m=s,typeof s=="function")Mp(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case X:return kc(d.children,_,A,a);case W:U=8,_|=8;break;case M:return s=ho(12,d,a,_|2),s.elementType=M,s.lanes=A,s;case I:return s=ho(13,d,a,_),s.elementType=I,s.lanes=A,s;case q:return s=ho(19,d,a,_),s.elementType=q,s.lanes=A,s;case re:return Dh(d,_,A,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:U=10;break e;case L:U=9;break e;case D:U=11;break e;case ce:U=14;break e;case J:U=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ho(U,d,a,_),a.elementType=s,a.type=m,a.lanes=A,a}function kc(s,a,d,m){return s=ho(7,s,m,a),s.lanes=d,s}function Dh(s,a,d,m){return s=ho(22,s,m,a),s.elementType=re,s.lanes=d,s.stateNode={isHidden:!1},s}function Bp(s,a,d){return s=ho(6,s,null,a),s.lanes=d,s}function zp(s,a,d){return a=ho(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function o_(s,a,d,m,_){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=La(0),this.expirationTimes=La(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.identifierPrefix=m,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Up(s,a,d,m,_,A,U,fe,xe){return s=new o_(s,a,d,fe,xe),a===1?(a=1,A===!0&&(a|=8)):a=0,A=ho(3,null,null,a),s.current=A,A.stateNode=s,A.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ii(A),s}function a_(s,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:m==null?null:""+m,children:s,containerInfo:a,implementation:d}}function A1(s){if(!s)return fa;s=s._reactInternals;e:{if(Ar(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(zi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var d=s.type;if(zi(d))return Sd(s,d,a)}return a}function j1(s,a,d,m,_,A,U,fe,xe){return s=Up(d,m,!0,s,_,A,U,fe,xe),s.context=A1(null),d=s.current,m=cs(),_=Ol(d),A=Sr(m,_),A.callback=a??null,Nr(d,A,_),s.current.lanes=_,_i(s,_,m),Ss(s,m),s}function Fh(s,a,d,m){var _=a.current,A=cs(),U=Ol(_);return d=A1(d),a.context===null?a.context=d:a.pendingContext=d,a=Sr(A,U),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Nr(_,a,U),s!==null&&(zo(s,_,U,A),fi(s,_,U)),U}function Mh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function E1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function $p(s,a){E1(s,a),(s=s.alternate)&&E1(s,a)}function l_(){return null}var P1=typeof reportError=="function"?reportError:function(s){console.error(s)};function qp(s){this._internalRoot=s}Bh.prototype.render=qp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Fh(s,a,null,null)},Bh.prototype.unmount=qp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;_c(function(){Fh(null,s,null,null)}),a[di]=null}};function Bh(s){this._internalRoot=s}Bh.prototype.unstable_scheduleHydration=function(s){if(s){var a=dl();s={blockedOn:null,target:s,priority:a};for(var d=0;d<Fr.length&&a!==0&&a<Fr[d].priority;d++);Fr.splice(d,0,s),d===0&&fl(s)}};function Hp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function L1(){}function c_(s,a,d,m,_){if(_){if(typeof m=="function"){var A=m;m=function(){var De=Mh(U);A.call(De)}}var U=j1(a,m,s,0,null,!1,!1,"",L1);return s._reactRootContainer=U,s[di]=U.current,Wa(s.nodeType===8?s.parentNode:s),_c(),U}for(;_=s.lastChild;)s.removeChild(_);if(typeof m=="function"){var fe=m;m=function(){var De=Mh(xe);fe.call(De)}}var xe=Up(s,0,!1,null,null,!1,!1,"",L1);return s._reactRootContainer=xe,s[di]=xe.current,Wa(s.nodeType===8?s.parentNode:s),_c(function(){Fh(a,xe,d,m)}),xe}function Uh(s,a,d,m,_){var A=d._reactRootContainer;if(A){var U=A;if(typeof _=="function"){var fe=_;_=function(){var xe=Mh(U);fe.call(xe)}}Fh(a,U,s,_)}else U=c_(d,a,s,_,m);return Mh(U)}Zs=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=hs(a.pendingLanes);d!==0&&(Ls(a,d|1),Ss(a,Pn()),(Sn&6)===0&&(gu=Pn()+500,E()))}break;case 13:_c(function(){var m=Mn(s,1);if(m!==null){var _=cs();zo(m,s,1,_)}}),$p(s,1)}},Xo=function(s){if(s.tag===13){var a=Mn(s,134217728);if(a!==null){var d=cs();zo(a,s,134217728,d)}$p(s,134217728)}},Zo=function(s){if(s.tag===13){var a=Ol(s),d=Mn(s,a);if(d!==null){var m=cs();zo(d,s,a,m)}$p(s,a)}},dl=function(){return pn},ea=function(s,a){var d=pn;try{return pn=s,a()}finally{pn=d}},Nn=function(s,a,d){switch(a){case"input":if(lt(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==s&&m.form===s.form){var _=mc(m);if(!_)throw Error(t(90));He(m),lt(m,_)}}}break;case"textarea":zt(s,d);break;case"select":a=d.value,a!=null&&Pe(s,!!d.multiple,a,!1)}},an=Ip,$n=_c;var u_={usingClientEntryPoint:!1,Events:[kl,Ka,mc,nt,yn,Ip]},Od={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d_={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zi(s),s===null?null:s.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||l_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{wr=$h.inject(d_),Qn=$h}catch{}}return Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_,Ns.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hp(a))throw Error(t(200));return a_(s,a,null,d)},Ns.createRoot=function(s,a){if(!Hp(s))throw Error(t(299));var d=!1,m="",_=P1;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=Up(s,1,!1,null,null,d,!1,m,_),s[di]=a.current,Wa(s.nodeType===8?s.parentNode:s),new qp(a)},Ns.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Zi(a),s=s===null?null:s.stateNode,s},Ns.flushSync=function(s){return _c(s)},Ns.hydrate=function(s,a,d){if(!zh(a))throw Error(t(200));return Uh(null,s,a,!0,d)},Ns.hydrateRoot=function(s,a,d){if(!Hp(s))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,_=!1,A="",U=P1;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(U=d.onRecoverableError)),a=j1(a,null,s,1,d??null,_,!1,A,U),s[di]=a.current,Wa(s),m)for(s=0;s<m.length;s++)d=m[s],_=d._getVersion,_=_(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,_]:a.mutableSourceEagerHydrationData.push(d,_);return new Bh(a)},Ns.render=function(s,a,d){if(!zh(a))throw Error(t(200));return Uh(null,s,a,!1,d)},Ns.unmountComponentAtNode=function(s){if(!zh(s))throw Error(t(40));return s._reactRootContainer?(_c(function(){Uh(null,null,s,!1,function(){s._reactRootContainer=null,s[di]=null})}),!0):!1},Ns.unstable_batchedUpdates=Ip,Ns.unstable_renderSubtreeIntoContainer=function(s,a,d,m){if(!zh(d))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Uh(s,a,d,!1,m)},Ns.version="18.3.1-next-f1338f8080-20240426",Ns}var B1;function Gy(){if(B1)return Gp.exports;B1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gp.exports=b_(),Gp.exports}var z1;function x_(){if(z1)return qh;z1=1;var n=Gy();return qh.createRoot=n.createRoot,qh.hydrateRoot=n.hydrateRoot,qh}var __=x_(),z=Q0();const Xe=qf(z),Ky=f_({__proto__:null,default:Xe},[z]),S_="modulepreload",N_=function(n){return"/"+n},U1={},ol=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=l(t.map(h=>{if(h=N_(h),h in U1)return;U1[h]=!0;const f=h.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":S_,f||(b.as="script"),b.crossOrigin="",b.href=h,u&&b.setAttribute("nonce",u),document.head.appendChild(b),f)return new Promise((y,C)=>{b.addEventListener("load",y),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function $1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Yy(...n){return e=>{let t=!1;const r=n.map(i=>{const o=$1(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():$1(n[i],null)}}}}function cr(...n){return z.useCallback(Yy(...n),n)}function Qu(n){const e=k_(n),t=z.forwardRef((r,i)=>{const{children:o,...l}=r,c=z.Children.toArray(o),u=c.find(A_);if(u){const h=u.props.children,f=c.map(v=>v===u?z.Children.count(h)>1?z.Children.only(null):z.isValidElement(h)?h.props.children:null:v);return p.jsx(e,{...l,ref:i,children:z.isValidElement(h)?z.cloneElement(h,void 0,f):null})}return p.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}var Jy=Qu("Slot");function k_(n){const e=z.forwardRef((t,r)=>{const{children:i,...o}=t;if(z.isValidElement(i)){const l=E_(i),c=j_(o,i.props);return i.type!==z.Fragment&&(c.ref=r?Yy(r,l):l),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var C_=Symbol("radix.slottable");function A_(n){return z.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===C_}function j_(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function E_(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Qy(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Qy(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Xy(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Qy(n))&&(r&&(r+=" "),r+=e);return r}const q1=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,H1=Xy,Zy=(n,e)=>t=>{var r;if(e?.variants==null)return H1(n,t?.class,t?.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(h=>{const f=t?.[h],v=o?.[h];if(f===null)return null;const b=q1(f)||q1(v);return i[h][b]}),c=t&&Object.entries(t).reduce((h,f)=>{let[v,b]=f;return b===void 0||(h[v]=b),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:v,className:b,...y}=f;return Object.entries(y).every(C=>{let[S,j]=C;return Array.isArray(j)?j.includes({...o,...c}[S]):{...o,...c}[S]===j})?[...h,v,b]:h},[]);return H1(n,l,u,t?.class,t?.className)},X0="-",P_=n=>{const e=T_(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(X0);return c[0]===""&&c.length!==1&&c.shift(),ew(c,e)||L_(l)},getConflictingClassGroupIds:(l,c)=>{const u=t[l]||[];return c&&r[l]?[...u,...r[l]]:u}}},ew=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?ew(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(X0);return e.validators.find(({validator:l})=>l(o))?.classGroupId},W1=/^\[(.+)\]$/,L_=n=>{if(W1.test(n)){const e=W1.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},T_=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)u0(t[i],r,i,e);return r},u0=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:V1(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(R_(i)){u0(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{u0(l,V1(e,o),t,r)})})},V1=(n,e)=>{let t=n;return e.split(X0).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},R_=n=>n.isThemeGetter,O_=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},d0="!",h0=":",I_=h0.length,D_=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let l=0,c=0,u=0,h;for(let C=0;C<i.length;C++){let S=i[C];if(l===0&&c===0){if(S===h0){o.push(i.slice(u,C)),u=C+I_;continue}if(S==="/"){h=C;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const f=o.length===0?i:i.substring(u),v=F_(f),b=v!==f,y=h&&h>u?h-u:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:y}};if(e){const i=e+h0,o=r;r=l=>l.startsWith(i)?o(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},F_=n=>n.endsWith(d0)?n.substring(0,n.length-1):n.startsWith(d0)?n.substring(1):n,M_=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...o.sort(),l),o=[]):o.push(l)}),i.push(...o.sort()),i}},B_=n=>({cache:O_(n.cacheSize),parseClassName:D_(n),sortModifiers:M_(n),...P_(n)}),z_=/\s+/,U_=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],c=n.trim().split(z_);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{isExternal:v,modifiers:b,hasImportantModifier:y,baseClassName:C,maybePostfixModifierPosition:S}=t(f);if(v){u=f+(u.length>0?" "+u:u);continue}let j=!!S,k=r(j?C.substring(0,S):C);if(!k){if(!j){u=f+(u.length>0?" "+u:u);continue}if(k=r(C),!k){u=f+(u.length>0?" "+u:u);continue}j=!1}const O=o(b).join(":"),P=y?O+d0:O,R=P+k;if(l.includes(R))continue;l.push(R);const ee=i(k,j);for(let ne=0;ne<ee.length;++ne){const X=ee[ne];l.push(P+X)}u=f+(u.length>0?" "+u:u)}return u};function $_(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=tw(e))&&(r&&(r+=" "),r+=t);return r}const tw=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=tw(n[r]))&&(t&&(t+=" "),t+=e);return t};function q_(n,...e){let t,r,i,o=l;function l(u){const h=e.reduce((f,v)=>v(f),n());return t=B_(h),r=t.cache.get,i=t.cache.set,o=c,c(u)}function c(u){const h=r(u);if(h)return h;const f=U_(u,t);return i(u,f),f}return function(){return o($_.apply(null,arguments))}}const oi=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},nw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H_=/^\d+\/\d+$/,W_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,K_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vu=n=>H_.test(n),sn=n=>!!n&&!Number.isNaN(Number(n)),Ml=n=>!!n&&Number.isInteger(Number(n)),Jp=n=>n.endsWith("%")&&sn(n.slice(0,-1)),el=n=>W_.test(n),J_=()=>!0,Q_=n=>V_.test(n)&&!G_.test(n),iw=()=>!1,X_=n=>K_.test(n),Z_=n=>Y_.test(n),eS=n=>!bt(n)&&!xt(n),tS=n=>rd(n,aw,iw),bt=n=>nw.test(n),Cc=n=>rd(n,lw,Q_),Qp=n=>rd(n,oS,sn),G1=n=>rd(n,sw,iw),nS=n=>rd(n,ow,Z_),Hh=n=>rd(n,cw,X_),xt=n=>rw.test(n),Dd=n=>id(n,lw),rS=n=>id(n,aS),K1=n=>id(n,sw),iS=n=>id(n,aw),sS=n=>id(n,ow),Wh=n=>id(n,cw,!0),rd=(n,e,t)=>{const r=nw.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},id=(n,e,t=!1)=>{const r=rw.exec(n);return r?r[1]?e(r[1]):t:!1},sw=n=>n==="position"||n==="percentage",ow=n=>n==="image"||n==="url",aw=n=>n==="length"||n==="size"||n==="bg-size",lw=n=>n==="length",oS=n=>n==="number",aS=n=>n==="family-name",cw=n=>n==="shadow",lS=()=>{const n=oi("color"),e=oi("font"),t=oi("text"),r=oi("font-weight"),i=oi("tracking"),o=oi("leading"),l=oi("breakpoint"),c=oi("container"),u=oi("spacing"),h=oi("radius"),f=oi("shadow"),v=oi("inset-shadow"),b=oi("text-shadow"),y=oi("drop-shadow"),C=oi("blur"),S=oi("perspective"),j=oi("aspect"),k=oi("ease"),O=oi("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...R(),xt,bt],ne=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto","contain","none"],W=()=>[xt,bt,u],M=()=>[vu,"full","auto",...W()],K=()=>[Ml,"none","subgrid",xt,bt],L=()=>["auto",{span:["full",Ml,xt,bt]},Ml,xt,bt],D=()=>[Ml,"auto",xt,bt],I=()=>["auto","min","max","fr",xt,bt],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...W()],re=()=>[vu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],V=()=>[n,xt,bt],ge=()=>[...R(),K1,G1,{position:[xt,bt]}],_e=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",iS,tS,{size:[xt,bt]}],T=()=>[Jp,Dd,Cc],$=()=>["","none","full",h,xt,bt],Y=()=>["",sn,Dd,Cc],oe=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[sn,Jp,K1,G1],me=()=>["","none",C,xt,bt],ye=()=>["none",sn,xt,bt],Ce=()=>["none",sn,xt,bt],Re=()=>[sn,xt,bt],He=()=>[vu,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[el],breakpoint:[el],color:[J_],container:[el],"drop-shadow":[el],ease:["in","out","in-out"],font:[eS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[el],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[el],shadow:[el],spacing:["px",sn],text:[el],"text-shadow":[el],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vu,bt,xt,j]}],container:["container"],columns:[{columns:[sn,bt,xt,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ml,"auto",xt,bt]}],basis:[{basis:[vu,"full","auto",c,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[sn,vu,"auto","initial","none",bt]}],grow:[{grow:["",sn,xt,bt]}],shrink:[{shrink:["",sn,xt,bt]}],order:[{order:[Ml,"first","last","none",xt,bt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",t,Dd,Cc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xt,Qp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jp,bt]}],"font-family":[{font:[rS,bt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,xt,bt]}],"line-clamp":[{"line-clamp":[sn,"none",xt,Qp]}],leading:[{leading:[o,...W()]}],"list-image":[{"list-image":["none",xt,bt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xt,bt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[sn,"from-font","auto",xt,Cc]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[sn,"auto",xt,bt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt,bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt,bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:_e()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ml,xt,bt],radial:["",xt,bt],conic:[Ml,xt,bt]},sS,nS]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[sn,xt,bt]}],"outline-w":[{outline:["",sn,Dd,Cc]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",f,Wh,Hh]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",v,Wh,Hh]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[sn,Cc]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",b,Wh,Hh]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[sn,xt,bt]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[sn]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[xt,bt]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[sn]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:_e()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xt,bt]}],filter:[{filter:["","none",xt,bt]}],blur:[{blur:me()}],brightness:[{brightness:[sn,xt,bt]}],contrast:[{contrast:[sn,xt,bt]}],"drop-shadow":[{"drop-shadow":["","none",y,Wh,Hh]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",sn,xt,bt]}],"hue-rotate":[{"hue-rotate":[sn,xt,bt]}],invert:[{invert:["",sn,xt,bt]}],saturate:[{saturate:[sn,xt,bt]}],sepia:[{sepia:["",sn,xt,bt]}],"backdrop-filter":[{"backdrop-filter":["","none",xt,bt]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[sn,xt,bt]}],"backdrop-contrast":[{"backdrop-contrast":[sn,xt,bt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",sn,xt,bt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[sn,xt,bt]}],"backdrop-invert":[{"backdrop-invert":["",sn,xt,bt]}],"backdrop-opacity":[{"backdrop-opacity":[sn,xt,bt]}],"backdrop-saturate":[{"backdrop-saturate":[sn,xt,bt]}],"backdrop-sepia":[{"backdrop-sepia":["",sn,xt,bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xt,bt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[sn,"initial",xt,bt]}],ease:[{ease:["linear","initial",k,xt,bt]}],delay:[{delay:[sn,xt,bt]}],animate:[{animate:["none",O,xt,bt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,xt,bt]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[xt,bt,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt,bt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt,bt]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[sn,Dd,Cc,Qp]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},cS=q_(lS);function Un(...n){return cS(Xy(n))}const uS=Zy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60","destructive-outline":"border border-destructive text-destructive hover:bg-destructive/10 focus-visible:ring-destructive/20",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),St=z.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},o)=>{const l=r?Jy:"button";return p.jsx(l,{"data-slot":"button",className:Un(uS({variant:e,size:t,className:n})),ref:o,...i})});St.displayName="Button";function en({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",style:{boxShadow:"0 6px 4px rgba(0,0,0,0.06)",borderWidth:"1px"},className:Un("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var rh=Gy();const uw=qf(rh);var dS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=dS.reduce((n,e)=>{const t=Qu(`Primitive.${e}`),r=z.forwardRef((i,o)=>{const{asChild:l,...c}=i,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function hS(n,e){n&&rh.flushSync(()=>n.dispatchEvent(e))}var fS="Label",dw=z.forwardRef((n,e)=>p.jsx(jn.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));dw.displayName=fS;var pS=dw;function jt({className:n,...e}){return p.jsx(pS,{"data-slot":"label",className:Un("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function gS(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const mS=n=>{switch(n){case"success":return wS;case"info":return xS;case"warning":return bS;case"error":return _S;default:return null}},vS=Array(12).fill(0),yS=({visible:n,className:e})=>Xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Xe.createElement("div",{className:"sonner-spinner"},vS.map((t,r)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wS=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bS=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xS=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_S=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SS=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),NS=()=>{const[n,e]=Xe.useState(document.hidden);return Xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let f0=1;class kS{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:f0++,l=this.toasts.find(u=>u.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:r}),{...u,...e,id:o,dismissible:c,title:r}):u):this.addToast({title:r,...i,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,l;const c=i.then(async h=>{if(l=["resolve",h],Xe.isValidElement(h))o=!1,this.create({id:r,type:"default",message:h});else if(AS(h)&&!h.ok){o=!1;const v=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,b=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description,C=typeof v=="object"&&!Xe.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:b,...C})}else if(h instanceof Error){o=!1;const v=typeof t.error=="function"?await t.error(h):t.error,b=typeof t.description=="function"?await t.description(h):t.description,C=typeof v=="object"&&!Xe.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:b,...C})}else if(t.success!==void 0){o=!1;const v=typeof t.success=="function"?await t.success(h):t.success,b=typeof t.description=="function"?await t.description(h):t.description,C=typeof v=="object"&&!Xe.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:b,...C})}}).catch(async h=>{if(l=["reject",h],t.error!==void 0){o=!1;const f=typeof t.error=="function"?await t.error(h):t.error,v=typeof t.description=="function"?await t.description(h):t.description,y=typeof f=="object"&&!Xe.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:v,...y})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),u=()=>new Promise((h,f)=>c.then(()=>l[0]==="reject"?f(l[1]):h(l[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,t)=>{const r=t?.id||f0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cs=new kS,CS=(n,e)=>{const t=e?.id||f0++;return Cs.addToast({title:n,...e,id:t}),t},AS=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",jS=CS,ES=()=>Cs.toasts,PS=()=>Cs.getActiveToasts(),Je=Object.assign(jS,{success:Cs.success,info:Cs.info,warning:Cs.warning,error:Cs.error,custom:Cs.custom,message:Cs.message,promise:Cs.promise,dismiss:Cs.dismiss,loading:Cs.loading},{getHistory:ES,getToasts:PS});gS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Vh(n){return n.label!==void 0}const LS=3,TS="24px",RS="16px",Y1=4e3,OS=356,IS=14,DS=45,FS=200;function va(...n){return n.filter(Boolean).join(" ")}function MS(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const BS=n=>{var e,t,r,i,o,l,c,u,h;const{invert:f,toast:v,unstyled:b,interacting:y,setHeights:C,visibleToasts:S,heights:j,index:k,toasts:O,expanded:P,removeToast:R,defaultRichColors:ee,closeButton:ne,style:X,cancelButtonStyle:W,actionButtonStyle:M,className:K="",descriptionClassName:L="",duration:D,position:I,gap:q,expandByDefault:ce,classNames:J,icons:re,closeButtonAriaLabel:V="Close toast"}=n,[ge,_e]=Xe.useState(null),[te,T]=Xe.useState(null),[$,Y]=Xe.useState(!1),[oe,pe]=Xe.useState(!1),[le,me]=Xe.useState(!1),[ye,Ce]=Xe.useState(!1),[Re,He]=Xe.useState(!1),[Ve,Ie]=Xe.useState(0),[ue,Rt]=Xe.useState(0),lt=Xe.useRef(v.duration||D||Y1),ft=Xe.useRef(null),we=Xe.useRef(null),de=k===0,Pe=k+1<=S,Ge=v.type,Ze=v.dismissible!==!1,zt=v.className||"",st=v.descriptionClassName||"",ht=Xe.useMemo(()=>j.findIndex(nt=>nt.toastId===v.id)||0,[j,v.id]),Vt=Xe.useMemo(()=>{var nt;return(nt=v.closeButton)!=null?nt:ne},[v.closeButton,ne]),Nt=Xe.useMemo(()=>v.duration||D||Y1,[v.duration,D]),rt=Xe.useRef(0),gt=Xe.useRef(0),ct=Xe.useRef(0),Zt=Xe.useRef(null),[on,mt]=I.split("-"),Ut=Xe.useMemo(()=>j.reduce((nt,yn,an)=>an>=ht?nt:nt+yn.height,0),[j,ht]),fn=NS(),Lt=v.invert||f,$t=Ge==="loading";gt.current=Xe.useMemo(()=>ht*q+Ut,[ht,Ut]),Xe.useEffect(()=>{lt.current=Nt},[Nt]),Xe.useEffect(()=>{Y(!0)},[]),Xe.useEffect(()=>{const nt=we.current;if(nt){const yn=nt.getBoundingClientRect().height;return Rt(yn),C(an=>[{toastId:v.id,height:yn,position:v.position},...an]),()=>C(an=>an.filter($n=>$n.toastId!==v.id))}},[C,v.id]),Xe.useLayoutEffect(()=>{if(!$)return;const nt=we.current,yn=nt.style.height;nt.style.height="auto";const an=nt.getBoundingClientRect().height;nt.style.height=yn,Rt(an),C($n=>$n.find(it=>it.toastId===v.id)?$n.map(it=>it.toastId===v.id?{...it,height:an}:it):[{toastId:v.id,height:an,position:v.position},...$n])},[$,v.title,v.description,C,v.id,v.jsx,v.action,v.cancel]);const Pt=Xe.useCallback(()=>{pe(!0),Ie(gt.current),C(nt=>nt.filter(yn=>yn.toastId!==v.id)),setTimeout(()=>{R(v)},FS)},[v,R,C,gt]);Xe.useEffect(()=>{if(v.promise&&Ge==="loading"||v.duration===1/0||v.type==="loading")return;let nt;return P||y||fn?(()=>{if(ct.current<rt.current){const $n=new Date().getTime()-rt.current;lt.current=lt.current-$n}ct.current=new Date().getTime()})():(()=>{lt.current!==1/0&&(rt.current=new Date().getTime(),nt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Pt()},lt.current))})(),()=>clearTimeout(nt)},[P,y,v,Ge,fn,Pt]),Xe.useEffect(()=>{v.delete&&(Pt(),v.onDismiss==null||v.onDismiss.call(v,v))},[Pt,v.delete]);function Nn(){var nt;if(re?.loading){var yn;return Xe.createElement("div",{className:va(J?.loader,v==null||(yn=v.classNames)==null?void 0:yn.loader,"sonner-loader"),"data-visible":Ge==="loading"},re.loading)}return Xe.createElement(yS,{className:va(J?.loader,v==null||(nt=v.classNames)==null?void 0:nt.loader),visible:Ge==="loading"})}const gn=v.icon||re?.[Ge]||mS(Ge);var tn,Ot;return Xe.createElement("li",{tabIndex:0,ref:we,className:va(K,zt,J?.toast,v==null||(e=v.classNames)==null?void 0:e.toast,J?.default,J?.[Ge],v==null||(t=v.classNames)==null?void 0:t[Ge]),"data-sonner-toast":"","data-rich-colors":(tn=v.richColors)!=null?tn:ee,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":$,"data-promise":!!v.promise,"data-swiped":Re,"data-removed":oe,"data-visible":Pe,"data-y-position":on,"data-x-position":mt,"data-index":k,"data-front":de,"data-swiping":le,"data-dismissible":Ze,"data-type":Ge,"data-invert":Lt,"data-swipe-out":ye,"data-swipe-direction":te,"data-expanded":!!(P||ce&&$),"data-testid":v.testId,style:{"--index":k,"--toasts-before":k,"--z-index":O.length-k,"--offset":`${oe?Ve:gt.current}px`,"--initial-height":ce?"auto":`${ue}px`,...X,...v.style},onDragEnd:()=>{me(!1),_e(null),Zt.current=null},onPointerDown:nt=>{nt.button!==2&&($t||!Ze||(ft.current=new Date,Ie(gt.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(me(!0),Zt.current={x:nt.clientX,y:nt.clientY})))},onPointerUp:()=>{var nt,yn,an;if(ye||!Ze)return;Zt.current=null;const $n=Number(((nt=we.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gn=Number(((yn=we.current)==null?void 0:yn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),it=new Date().getTime()-((an=ft.current)==null?void 0:an.getTime()),kn=ge==="x"?$n:Gn,Dr=Math.abs(kn)/it;if(Math.abs(kn)>=DS||Dr>.11){Ie(gt.current),v.onDismiss==null||v.onDismiss.call(v,v),T(ge==="x"?$n>0?"right":"left":Gn>0?"down":"up"),Pt(),Ce(!0);return}else{var Cn,mn;(Cn=we.current)==null||Cn.style.setProperty("--swipe-amount-x","0px"),(mn=we.current)==null||mn.style.setProperty("--swipe-amount-y","0px")}He(!1),me(!1),_e(null)},onPointerMove:nt=>{var yn,an,$n;if(!Zt.current||!Ze||((yn=window.getSelection())==null?void 0:yn.toString().length)>0)return;const it=nt.clientY-Zt.current.y,kn=nt.clientX-Zt.current.x;var Dr;const Cn=(Dr=n.swipeDirections)!=null?Dr:MS(I);!ge&&(Math.abs(kn)>1||Math.abs(it)>1)&&_e(Math.abs(kn)>Math.abs(it)?"x":"y");let mn={x:0,y:0};const un=dn=>1/(1.5+Math.abs(dn)/20);if(ge==="y"){if(Cn.includes("top")||Cn.includes("bottom"))if(Cn.includes("top")&&it<0||Cn.includes("bottom")&&it>0)mn.y=it;else{const dn=it*un(it);mn.y=Math.abs(dn)<Math.abs(it)?dn:it}}else if(ge==="x"&&(Cn.includes("left")||Cn.includes("right")))if(Cn.includes("left")&&kn<0||Cn.includes("right")&&kn>0)mn.x=kn;else{const dn=kn*un(kn);mn.x=Math.abs(dn)<Math.abs(kn)?dn:kn}(Math.abs(mn.x)>0||Math.abs(mn.y)>0)&&He(!0),(an=we.current)==null||an.style.setProperty("--swipe-amount-x",`${mn.x}px`),($n=we.current)==null||$n.style.setProperty("--swipe-amount-y",`${mn.y}px`)}},Vt&&!v.jsx&&Ge!=="loading"?Xe.createElement("button",{"aria-label":V,"data-disabled":$t,"data-close-button":!0,onClick:$t||!Ze?()=>{}:()=>{Pt(),v.onDismiss==null||v.onDismiss.call(v,v)},className:va(J?.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(Ot=re?.close)!=null?Ot:SS):null,(Ge||v.icon||v.promise)&&v.icon!==null&&(re?.[Ge]!==null||v.icon)?Xe.createElement("div",{"data-icon":"",className:va(J?.icon,v==null||(i=v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Nn():null,v.type!=="loading"?gn:null):null,Xe.createElement("div",{"data-content":"",className:va(J?.content,v==null||(o=v.classNames)==null?void 0:o.content)},Xe.createElement("div",{"data-title":"",className:va(J?.title,v==null||(l=v.classNames)==null?void 0:l.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Xe.createElement("div",{"data-description":"",className:va(L,st,J?.description,v==null||(c=v.classNames)==null?void 0:c.description)},typeof v.description=="function"?v.description():v.description):null),Xe.isValidElement(v.cancel)?v.cancel:v.cancel&&Vh(v.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||W,onClick:nt=>{Vh(v.cancel)&&Ze&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,nt),Pt())},className:va(J?.cancelButton,v==null||(u=v.classNames)==null?void 0:u.cancelButton)},v.cancel.label):null,Xe.isValidElement(v.action)?v.action:v.action&&Vh(v.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||M,onClick:nt=>{Vh(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,nt),!nt.defaultPrevented&&Pt())},className:va(J?.actionButton,v==null||(h=v.classNames)==null?void 0:h.actionButton)},v.action.label):null)};function J1(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function zS(n,e){const t={};return[n,e].forEach((r,i)=>{const o=i===1,l=o?"--mobile-offset":"--offset",c=o?RS:TS;function u(h){["top","right","bottom","left"].forEach(f=>{t[`${l}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?t[`${l}-${h}`]=c:t[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):u(c)}),t}const US=Xe.forwardRef(function(e,t){const{id:r,invert:i,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:u,className:h,offset:f,mobileOffset:v,theme:b="light",richColors:y,duration:C,style:S,visibleToasts:j=LS,toastOptions:k,dir:O=J1(),gap:P=IS,icons:R,containerAriaLabel:ee="Notifications"}=e,[ne,X]=Xe.useState([]),W=Xe.useMemo(()=>r?ne.filter($=>$.toasterId===r):ne.filter($=>!$.toasterId),[ne,r]),M=Xe.useMemo(()=>Array.from(new Set([o].concat(W.filter($=>$.position).map($=>$.position)))),[W,o]),[K,L]=Xe.useState([]),[D,I]=Xe.useState(!1),[q,ce]=Xe.useState(!1),[J,re]=Xe.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=Xe.useRef(null),ge=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),_e=Xe.useRef(null),te=Xe.useRef(!1),T=Xe.useCallback($=>{X(Y=>{var oe;return(oe=Y.find(pe=>pe.id===$.id))!=null&&oe.delete||Cs.dismiss($.id),Y.filter(({id:pe})=>pe!==$.id)})},[]);return Xe.useEffect(()=>Cs.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{X(Y=>Y.map(oe=>oe.id===$.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{uw.flushSync(()=>{X(Y=>{const oe=Y.findIndex(pe=>pe.id===$.id);return oe!==-1?[...Y.slice(0,oe),{...Y[oe],...$},...Y.slice(oe+1)]:[$,...Y]})})})}),[ne]),Xe.useEffect(()=>{if(b!=="system"){re(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:Y})=>{re(Y?"dark":"light")})}catch{$.addListener(({matches:oe})=>{try{re(oe?"dark":"light")}catch(pe){console.error(pe)}})}},[b]),Xe.useEffect(()=>{ne.length<=1&&I(!1)},[ne]),Xe.useEffect(()=>{const $=Y=>{var oe;if(l.every(me=>Y[me]||Y.code===me)){var le;I(!0),(le=V.current)==null||le.focus()}Y.code==="Escape"&&(document.activeElement===V.current||(oe=V.current)!=null&&oe.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[l]),Xe.useEffect(()=>{if(V.current)return()=>{_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null,te.current=!1)}},[V.current]),Xe.createElement("section",{ref:t,"aria-label":`${ee} ${ge}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map(($,Y)=>{var oe;const[pe,le]=$.split("-");return W.length?Xe.createElement("ol",{key:$,dir:O==="auto"?J1():O,tabIndex:-1,ref:V,className:h,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":pe,"data-x-position":le,style:{"--front-toast-height":`${((oe=K[0])==null?void 0:oe.height)||0}px`,"--width":`${OS}px`,"--gap":`${P}px`,...S,...zS(f,v)},onBlur:me=>{te.current&&!me.currentTarget.contains(me.relatedTarget)&&(te.current=!1,_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||te.current||(te.current=!0,_e.current=me.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{q||I(!1)},onDragEnd:()=>I(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},W.filter(me=>!me.position&&Y===0||me.position===$).map((me,ye)=>{var Ce,Re;return Xe.createElement(BS,{key:me.id,icons:R,index:ye,toast:me,defaultRichColors:y,duration:(Ce=k?.duration)!=null?Ce:C,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:j,closeButton:(Re=k?.closeButton)!=null?Re:u,interacting:q,position:$,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:T,toasts:W.filter(He=>He.position==me.position),heights:K.filter(He=>He.position==me.position),setHeights:L,expandByDefault:c,gap:P,expanded:D,swipeDirections:e.swipeDirections})})):null}))}),$S=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ol(async()=>{const{default:r}=await Promise.resolve().then(()=>sd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Z0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Q1 extends Z0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class X1 extends Z0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Z1 extends Z0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var p0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(p0||(p0={}));var qS=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};class HS{constructor(e,{headers:t={},customFetch:r,region:i=p0.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=$S(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return qS(this,arguments,void 0,function*(t,r={}){var i;try{const{headers:o,method:l,body:c,signal:u}=r;let h={},{region:f}=r;f||(f=this.region);const v=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let b;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(h["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(h["Content-Type"]="application/json",b=JSON.stringify(c)));const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:b,signal:u}).catch(k=>{throw k.name==="AbortError"?k:new Q1(k)}),C=y.headers.get("x-relay-error");if(C&&C==="true")throw new X1(y);if(!y.ok)throw new Z1(y);let S=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield y.json():S==="application/octet-stream"?j=yield y.blob():S==="text/event-stream"?j=y:S==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Q1(o)}:{data:null,error:o,response:o instanceof Z1||o instanceof X1?o.context:void 0}}})}}var vi={},yu={},wu={},bu={},xu={},_u={},WS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xu=WS();const VS=Xu.fetch,hw=Xu.fetch.bind(Xu),fw=Xu.Headers,GS=Xu.Request,KS=Xu.Response,sd=Object.freeze(Object.defineProperty({__proto__:null,Headers:fw,Request:GS,Response:KS,default:hw,fetch:VS},Symbol.toStringTag,{value:"Module"})),YS=p_(sd);var Gh={},ev;function pw(){if(ev)return Gh;ev=1,Object.defineProperty(Gh,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Gh.default=n,Gh}var tv;function gw(){if(tv)return _u;tv=1;var n=_u&&_u.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_u,"__esModule",{value:!0});const e=n(YS),t=n(pw());class r{constructor(o){var l,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,v,b,y;let C=null,S=null,j=null,k=h.status,O=h.statusText;if(h.ok){if(this.method!=="HEAD"){const ne=await h.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=ne:S=JSON.parse(ne))}const R=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),ee=(b=h.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");R&&ee&&ee.length>1&&(j=parseInt(ee[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(C={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,k=406,O="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const R=await h.text();try{C=JSON.parse(R),Array.isArray(C)&&h.status===404&&(S=[],C=null,k=200,O="OK")}catch{h.status===404&&R===""?(k=204,O="No Content"):C={message:R}}if(C&&this.isMaybeSingle&&(!((y=C?.details)===null||y===void 0)&&y.includes("0 rows"))&&(C=null,k=200,O="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:S,count:j,status:k,statusText:O}});return this.shouldThrowOnError||(u=u.catch(h=>{var f,v,b;return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:`${(v=h?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=h?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),u.then(o,l)}returns(){return this}overrideTypes(){return this}}return _u.default=r,_u}var nv;function mw(){if(nv)return xu;nv=1;var n=xu&&xu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xu,"__esModule",{value:!0});const e=n(gw());class t extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:c=l}={}){const u=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:u=!1,format:h="text"}={}){var f;const v=[i?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${b}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return xu.default=t,xu}var rv;function em(){if(rv)return bu;rv=1;var n=bu&&bu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bu,"__esModule",{value:!0});const e=n(mw());class t extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${h}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return bu.default=t,bu}var iv;function vw(){if(iv)return wu;iv=1;var n=wu&&wu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wu,"__esModule",{value:!0});const e=n(em());class t{constructor(i,{headers:o={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=c}select(i,o){const{head:l=!1,count:c}=o??{},u=l?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(h.length>0){const f=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:u=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(v.length>0){const b=[...new Set(v)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:o}={}){var l;const c="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return wu.default=t,wu}var sv;function JS(){if(sv)return yu;sv=1;var n=yu&&yu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yu,"__esModule",{value:!0});const e=n(vw()),t=n(em());class r{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=new Headers(l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:h}={}){var f;let v;const b=new URL(`${this.url}/rpc/${o}`);let y;c||u?(v=c?"HEAD":"GET",Object.entries(l).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{b.searchParams.append(S,j)})):(v="POST",y=l);const C=new Headers(this.headers);return h&&C.set("Prefer",`count=${h}`),new t.default({method:v,url:b,headers:C,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return yu.default=r,yu}var ov;function QS(){if(ov)return vi;ov=1;var n=vi&&vi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(vi,"__esModule",{value:!0}),vi.PostgrestError=vi.PostgrestBuilder=vi.PostgrestTransformBuilder=vi.PostgrestFilterBuilder=vi.PostgrestQueryBuilder=vi.PostgrestClient=void 0;const e=n(JS());vi.PostgrestClient=e.default;const t=n(vw());vi.PostgrestQueryBuilder=t.default;const r=n(em());vi.PostgrestFilterBuilder=r.default;const i=n(mw());vi.PostgrestTransformBuilder=i.default;const o=n(gw());vi.PostgrestBuilder=o.default;const l=n(pw());return vi.PostgrestError=l.default,vi.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},vi}var XS=QS();const ZS=qf(XS),{PostgrestClient:e4,PostgrestQueryBuilder:nL,PostgrestFilterBuilder:rL,PostgrestTransformBuilder:iL,PostgrestBuilder:sL,PostgrestError:oL}=ZS;class t4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const n4="2.75.1",r4=`realtime-js/${n4}`,i4="1.0.0",g0=1e4,s4=1e3,o4=100;var $d;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})($d||($d={}));var ai;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ai||(ai={}));var Ho;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ho||(Ho={}));var m0;(function(n){n.websocket="websocket"})(m0||(m0={}));var Lc;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Lc||(Lc={}));class a4{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:u,payload:h}}}class yw{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tr;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(tr||(tr={}));const av=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=l4(l,n,e,i),o),{}):{}},l4=(n,e,t,r)=>{const i=e.find(c=>c.name===n),o=i?.type,l=t[n];return o&&!r.includes(o)?ww(o,l):v0(l)},ww=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return h4(e,t)}switch(n){case tr.bool:return c4(e);case tr.float4:case tr.float8:case tr.int2:case tr.int4:case tr.int8:case tr.numeric:case tr.oid:return u4(e);case tr.json:case tr.jsonb:return d4(e);case tr.timestamp:return f4(e);case tr.abstime:case tr.date:case tr.daterange:case tr.int4range:case tr.int8range:case tr.money:case tr.reltime:case tr.text:case tr.time:case tr.timestamptz:case tr.timetz:case tr.tsrange:case tr.tstzrange:return v0(e);default:return v0(e)}},v0=n=>n,c4=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},u4=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},d4=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},h4=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>ww(e,c))}return n},f4=n=>typeof n=="string"?n.replace(" ","T"):n,bw=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Xp{constructor(e,t,r={},i=g0){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(lv||(lv={}));class qd{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qd.syncState(this.state,i,o,l),this.pendingDiffs.forEach(u=>{this.state=qd.syncDiff(this.state,u,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qd.syncDiff(this.state,i,o,l),c())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),l=this.transformState(t),c={},u={};return this.map(o,(h,f)=>{l[h]||(u[h]=f)}),this.map(l,(h,f)=>{const v=o[h];if(v){const b=f.map(j=>j.presence_ref),y=v.map(j=>j.presence_ref),C=f.filter(j=>y.indexOf(j.presence_ref)<0),S=v.filter(j=>b.indexOf(j.presence_ref)<0);C.length>0&&(c[h]=C),S.length>0&&(u[h]=S)}else c[h]=f}),this.syncDiff(o,{joins:c,leaves:u},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,u)=>{var h;const f=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(u),f.length>0){const v=e[c].map(y=>y.presence_ref),b=f.filter(y=>v.indexOf(y.presence_ref)<0);e[c].unshift(...b)}r(c,f,u)}),this.map(l,(c,u)=>{let h=e[c];if(!h)return;const f=u.map(v=>v.presence_ref);h=h.filter(v=>f.indexOf(v.presence_ref)<0),e[c]=h,i(c,h,u),h.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(cv||(cv={}));var Hd;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Hd||(Hd={}));var rl;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(rl||(rl={}));class tm{constructor(e,t={config:{}},r){var i,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ai.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Xp(this,Ho.join,this.params,this.timeout),this.rejoinTimer=new yw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ai.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ai.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ai.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ai.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ho.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new qd(this),this.broadcastEndpointURL=bw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ai.closed){const{config:{broadcast:l,presence:c,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Hd.PRESENCE]&&this.bindings[Hd.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(rl.CHANNEL_ERROR,y)),this._onClose(()=>e?.(rl.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:y})=>{var C;if(this.socket.setAuth(),y===void 0){e?.(rl.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(C=S?.length)!==null&&C!==void 0?C:0,k=[];for(let O=0;O<j;O++){const P=S[O],{filter:{event:R,schema:ee,table:ne,filter:X}}=P,W=y&&y[O];if(W&&W.event===R&&W.schema===ee&&W.table===ne&&W.filter===X)k.push(Object.assign(Object.assign({},P),{id:W.id}));else{this.unsubscribe(),this.state=ai.errored,e?.(rl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(rl.SUBSCRIBED);return}}).receive("error",y=>{this.state=ai.errored,e?.(rl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(rl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===ai.joined&&e===Hd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,u;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ai.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ho.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Xp(this,Ho.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ai.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xp(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>o4){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const l=e.toLocaleLowerCase(),{close:c,error:u,leave:h,join:f}=Ho;if(r&&[c,u,h,f].indexOf(l)>=0&&r!==this._joinRef())return;let b=this._onMessage(l,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var C,S,j;return((C=y.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(S=y.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(y=>y.callback(b,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var C,S,j,k,O,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const R=y.id,ee=(C=y.filter)===null||C===void 0?void 0:C.event;return R&&((S=t.ids)===null||S===void 0?void 0:S.includes(R))&&(ee==="*"||ee?.toLocaleLowerCase()===((j=t.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const R=(O=(k=y?.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return R==="*"||R===((P=t?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:S,table:j,commit_timestamp:k,type:O,errors:P}=C;b=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:k,eventType:O,new:{},old:{},errors:P}),this._getPayloadRecords(C))}y.callback(b,r)})}_isClosed(){return this.state===ai.closed}_isJoined(){return this.state===ai.joined}_isJoining(){return this.state===ai.joining}_isLeaving(){return this.state===ai.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&tm.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ho.close,{},e)}_onError(e){this._on(Ho.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ai.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=av(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=av(e.columns,e.old_record)),t}}const Zp=()=>{},Kh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p4=[1e3,2e3,5e3,1e4],g4=1e4,m4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v4{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g0,this.transport=null,this.heartbeatIntervalMs=Kh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zp,this.ref=0,this.reconnectTimer=null,this.logger=Zp,this.conn=null,this.sendBuffer=[],this.serializer=new a4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ol(async()=>{const{default:c}=await Promise.resolve().then(()=>sd);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${m0.websocket}`,this.httpEndpoint=bw(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i4}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $d.connecting:return Lc.Connecting;case $d.open:return Lc.Open;case $d.closing:return Lc.Closing;default:return Lc.Closed}}isConnected(){return this.connectionState()===Lc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new tm(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s4,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Kh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=t,c=l?`(${l})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ho.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([m4],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const i={access_token:t,version:r4};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ho.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,o,l,c,u,h,f;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:g0,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Kh.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Zp,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(v=>p4[v-1]||g4),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((v,b)=>b(JSON.stringify(v))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class nm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class y4 extends nm{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class y0 extends nm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var w4=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};const xw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ol(async()=>{const{default:r}=await Promise.resolve().then(()=>sd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},b4=()=>w4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ol(()=>Promise.resolve().then(()=>sd),void 0)).Response:Response}),w0=n=>{if(Array.isArray(n))return n.map(t=>w0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=w0(r)}),e},x4=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var qc=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};const eg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_4=(n,e,t)=>qc(void 0,void 0,void 0,function*(){const r=yield b4();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{const o=n.status||500,l=i?.statusCode||o+"";e(new y4(eg(i),o,l))}).catch(i=>{e(new y0(eg(i),i))}):e(new y0(eg(n),n))}),S4=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(x4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function ih(n,e,t,r,i,o){return qc(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,S4(e,r,i,o)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>_4(u,c,r))})})}function Sf(n,e,t,r){return qc(this,void 0,void 0,function*(){return ih(n,"GET",e,t,r)})}function xa(n,e,t,r,i){return qc(this,void 0,void 0,function*(){return ih(n,"POST",e,r,i,t)})}function b0(n,e,t,r,i){return qc(this,void 0,void 0,function*(){return ih(n,"PUT",e,r,i,t)})}function N4(n,e,t,r){return qc(this,void 0,void 0,function*(){return ih(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function _w(n,e,t,r,i){return qc(this,void 0,void 0,function*(){return ih(n,"DELETE",e,r,i,t)})}var k4=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};class C4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return k4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Jr(e))return{data:null,error:e};throw e}})}}var A4=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})},Sw;class j4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Sw]="BlobDownloadBuilder",this.promise=null}asStream(){return new C4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Jr(e))return{data:null,error:e};throw e}})}}Sw=Symbol.toStringTag;var ks=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};const E4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class P4{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=xw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return ks(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},uv),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(t),f=this._getFinalPath(h),v=yield(e=="PUT"?b0:xa)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Jr(o))return{data:null,error:o};throw o}})}upload(e,t,r){return ks(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return ks(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let u;const h=Object.assign({upsert:uv.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",h.cacheControl)):(u=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const v=yield b0(this.fetch,c.toString(),u,{headers:f});return{data:{path:o,fullPath:v.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,t){return ks(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield xa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new nm("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}update(e,t,r){return ks(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ks(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}copy(e,t,r){return ks(this,void 0,void 0,function*(){try{return{data:{path:(yield xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return ks(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield xa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return ks(this,void 0,void 0,function*(){try{const i=yield xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"",c=this._getFinalPath(e),u=()=>Sf(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new j4(u,this.shouldThrowOnError)}info(e){return ks(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Sf(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:w0(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}exists(e){return ks(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield N4(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r)&&r instanceof y0){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const c=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(e){return ks(this,void 0,void 0,function*(){try{return{data:yield _w(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jr(t))return{data:null,error:t};throw t}})}list(e,t,r){return ks(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},E4),t),{prefix:e||""});return{data:yield xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}listV2(e,t){return ks(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield xa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const L4="2.75.1",T4={"X-Client-Info":`storage-js/${L4}`};var Su=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};class R4{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},T4),t),this.fetch=xw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Su(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Jr(e))return{data:null,error:e};throw e}})}getBucket(e){return Su(this,void 0,void 0,function*(){try{return{data:yield Sf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jr(t))return{data:null,error:t};throw t}})}createBucket(e){return Su(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield xa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Su(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Su(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Su(this,void 0,void 0,function*(){try{return{data:yield _w(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jr(t))return{data:null,error:t};throw t}})}}class O4 extends R4{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new P4(this.url,this.headers,e,this.fetch)}}const I4="2.75.1";let zd="";typeof Deno<"u"?zd="deno":typeof document<"u"?zd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zd="react-native":zd="node";const D4={"X-Client-Info":`supabase-js-${zd}/${I4}`},F4={headers:D4},M4={schema:"public"},B4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z4={};var U4=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};const $4=n=>{let e;return n?e=n:typeof fetch>"u"?e=hw:e=fetch,(...t)=>e(...t)},q4=()=>typeof Headers>"u"?fw:Headers,H4=(n,e,t)=>{const r=$4(t),i=q4();return(o,l)=>U4(void 0,void 0,void 0,function*(){var c;const u=(c=yield e())!==null&&c!==void 0?c:n;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var W4=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};function V4(n){return n.endsWith("/")?n:n+"/"}function G4(n,e){var t,r;const{db:i,auth:o,realtime:l,global:c}=n,{db:u,auth:h,realtime:f,global:v}=e,b={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},f),l),storage:{},global:Object.assign(Object.assign(Object.assign({},v),c),{headers:Object.assign(Object.assign({},(t=v?.headers)!==null&&t!==void 0?t:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>W4(this,void 0,void 0,function*(){return""})};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function K4(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(V4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nw="2.75.1",Du=30*1e3,x0=3,tg=x0*Du,Y4="http://localhost:9999",J4="supabase.auth.token",Q4={"X-Client-Info":`gotrue-js/${Nw}`},_0="X-Supabase-Api-Version",kw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z4=600*1e3;class Yd extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Bt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class e3 extends Yd{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function t3(n){return Bt(n)&&n.name==="AuthApiError"}class Tc extends Yd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ec extends Yd{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class ql extends ec{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n3(n){return Bt(n)&&n.name==="AuthSessionMissingError"}class Nu extends ec{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yh extends ec{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jh extends ec{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r3(n){return Bt(n)&&n.name==="AuthImplicitGrantRedirectError"}class dv extends ec{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class S0 extends ec{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ng(n){return Bt(n)&&n.name==="AuthRetryableFetchError"}class hv extends ec{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class N0 extends ec{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fv=` 	
\r=`.split(""),i3=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<fv.length;e+=1)n[fv[e].charCodeAt(0)]=-2;for(let e=0;e<Nf.length;e+=1)n[Nf[e].charCodeAt(0)]=e;return n})();function pv(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Nf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Nf[r]),e.queuedBits-=6}}function Cw(n,e,t){const r=i3[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function gv(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{a3(l,r,t)};for(let l=0;l<n.length;l+=1)Cw(n.charCodeAt(l),i,o);return e.join("")}function s3(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function o3(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}s3(r,e)}}function a3(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Uu(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)Cw(n.charCodeAt(i),t,r);return new Uint8Array(e)}function l3(n){const e=[];return o3(n,t=>e.push(t)),new Uint8Array(e)}function Oc(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>pv(i,t,r)),pv(null,t,r),e.join("")}function c3(n){return Math.round(Date.now()/1e3)+n}function u3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const qs=()=>typeof window<"u"&&typeof document<"u",Ac={tested:!1,writable:!1},Aw=()=>{if(!qs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ac.tested)return Ac.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ac.tested=!0,Ac.writable=!0}catch{Ac.tested=!0,Ac.writable=!1}return Ac.writable};function d3(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const jw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ol(async()=>{const{default:r}=await Promise.resolve().then(()=>sd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},h3=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Fu=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},jc=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Bl=async(n,e)=>{await n.removeItem(e)};class Hf{constructor(){this.promise=new Hf.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Hf.promiseConstructor=Promise;function rg(n){const e=n.split(".");if(e.length!==3)throw new N0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!X4.test(e[r]))throw new N0("JWT not in base64url format");return{header:JSON.parse(gv(e[0])),payload:JSON.parse(gv(e[1])),signature:Uu(e[2]),raw:{header:e[0],payload:e[1]}}}async function f3(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function p3(n,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function g3(n){return("0"+n.toString(16)).substr(-2)}function m3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,g3).join("")}async function v3(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function y3(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await v3(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ku(n,e,t=!1){const r=m3();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Fu(n,`${e}-code-verifier`,i);const o=await y3(r);return[o,r===o?"plain":"s256"]}const w3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function b3(n){const e=n.headers.get(_0);if(!e||!e.match(w3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function x3(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function _3(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const S3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cu(n){if(!S3.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ig(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mv(n){return JSON.parse(JSON.stringify(n))}var N3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Ec=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),k3=[502,503,504];async function vv(n){var e;if(!h3(n))throw new S0(Ec(n),0);if(k3.includes(n.status))throw new S0(Ec(n),n.status);let t;try{t=await n.json()}catch(o){throw new Tc(Ec(o),o)}let r;const i=b3(n);if(i&&i.getTime()>=kw["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new hv(Ec(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ql}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new hv(Ec(t),n.status,t.weak_password.reasons);throw new e3(Ec(t),n.status||500,r)}const C3=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Xt(n,e,t,r){var i;const o=Object.assign({},r?.headers);o[_0]||(o[_0]=kw["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await A3(n,e,t+c,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function A3(n,e,t,r,i,o){const l=C3(e,r,i,o);let c;try{c=await n(t,Object.assign({},l))}catch(u){throw console.error(u),new S0(Ec(u),0)}if(c.ok||await vv(c),r?.noResolveJson)return c;try{return await c.json()}catch(u){await vv(u)}}function $o(n){var e;let t=null;P3(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=c3(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function yv(n){const e=$o(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Wl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function j3(n){return{data:n,error:null}}function E3(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,l=N3(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},l);return{data:{properties:c,user:u},error:null}}function wv(n){return n}function P3(n){return n.access_token&&n.refresh_token&&n.expires_in}const sg=["global","local","others"];var L3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class T3{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=jw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=sg[0]){if(sg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await Xt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Wl})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=L3(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:E3,redirectTo:t?.redirectTo})}catch(t){if(Bt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wl})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,o,l,c,u;try{const h={nextPage:null,lastPage:0,total:0},f=await Xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wv});if(f.error)throw f.error;const v=await f.json(),b=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(C=>{const S=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);h[`${j}Page`]=S}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Bt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Cu(e);try{return await Xt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wl})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Cu(e);try{return await Xt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Wl})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Cu(e);try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Wl})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Cu(e.userId);try{const{data:t,error:r}=await Xt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Cu(e.userId),Cu(e.id);try{return{data:await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,o,l,c,u;try{const h={nextPage:null,lastPage:0,total:0},f=await Xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wv});if(f.error)throw f.error;const v=await f.json(),b=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(C=>{const S=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);h[`${j}Page`]=S}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Bt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}}function bv(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Au={debug:!!(globalThis&&Aw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ew extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class R3 extends Ew{}async function O3(n,e,t){Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Au.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new R3(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Au.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function I3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function D3(n){return parseInt(n,16)}function F3(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function M3(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:u,resources:h,scheme:f,uri:v,version:b}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const y=Pw(n.address),C=f?`${f}://${r}`:r,S=n.statement?`${n.statement}
`:"",j=`${C} wants you to sign in with your Ethereum account:
${y}

${S}`;let k=`URI: ${v}
Version: ${b}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),c&&(k+=`
Not Before: ${c.toISOString()}`),u&&(k+=`
Request ID: ${u}`),h){let O=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);O+=`
- ${P}`}k+=O}return`${j}
${k}`}class Yr extends Error{constructor({message:e,code:t,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class kf extends Yr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function B3({error:n,options:e}){var t,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Yr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Yr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Yr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Yr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Yr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Yr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Yr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Tw(l)){if(o.rp.id!==l)return new Yr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Yr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function z3({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Yr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Tw(r)){if(t.rpId!==r)return new Yr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Lw=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class U3{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $3=new U3;function q3(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=Lw(n,["challenge","user","excludeCredentials"]),o=Uu(e).buffer,l=Object.assign(Object.assign({},t),{id:Uu(t.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:Uu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function H3(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=Lw(n,["challenge","allowCredentials"]),i=Uu(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Uu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function W3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:Oc(new Uint8Array(n.response.attestationObject)),clientDataJSON:Oc(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function V3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Oc(new Uint8Array(i.authenticatorData)),clientDataJSON:Oc(new Uint8Array(i.clientDataJSON)),signature:Oc(new Uint8Array(i.signature)),userHandle:i.userHandle?Oc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Tw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function xv(){var n,e;return!!(qs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function G3(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:B3({error:e,options:n})}}}async function K3(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:z3({error:e,options:n})}}}const Y3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},J3={userVerification:"preferred",hints:["security-key"]};function Cf(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(t(l))r[o]=l;else if(e(l)){const c=r[o];e(c)?r[o]=Cf(c,l):r[o]=Cf(l)}else r[o]=l}return r}function Q3(n,e){return Cf(Y3,n,e||{})}function X3(n,e){return Cf(J3,n,e||{})}class Z3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const u=i??$3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=Q3(l.webauthn.credential_options.publicKey,o?.create),{data:f,error:v}=await G3({publicKey:h,signal:u});return f?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:v}}case"request":{const h=X3(l.webauthn.credential_options.publicKey,o?.request),{data:f,error:v}=await K3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:u}));return f?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:v}}}}catch(l){return Bt(l)?{data:null,error:l}:{data:null,error:new Tc("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!t)return{data:null,error:new Yd("rpId is required for WebAuthn authentication")};try{if(!xv())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};const{webauthn:u}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return Bt(l)?{data:null,error:l}:{data:null,error:new Tc("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!t)return{data:null,error:new Yd("rpId is required for WebAuthn registration")};try{if(!xv())return{data:null,error:new Tc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(f=>{var v;return(v=f.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:c};const{data:u,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Bt(l)?{data:null,error:l}:{data:null,error:new Tc("Unexpected error in register",l)}}}}I3();const eN={url:Y4,storageKey:J4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _v(n,e,t){return await t()}const ju={};class Jd{get jwks(){var e,t;return(t=(e=ju[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ju[this.storageKey]=Object.assign(Object.assign({},ju[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ju[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ju[this.storageKey]=Object.assign(Object.assign({},ju[this.storageKey]),{cachedAt:e})}constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jd.nextInstanceID,Jd.nextInstanceID+=1,this.instanceID>0&&qs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},eN),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new T3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jw(i.fetch),this.lock=i.lock||_v,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:qs()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=O3:this.lock=_v,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Z3(this)},this.persistSession?(i.storage?this.storage=i.storage:Aw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bv(this.memoryStorage)),qs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=d3(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),qs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),r3(o)){const u=(e=o.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Bt(t)?{error:t}:{error:new Tc("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const o=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:$o}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(o){if(Bt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,i;try{let o;if("email"in e){const{email:f,password:v,options:b}=e;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await ku(this.storage,this.storageKey)),o=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:f,password:v,data:(t=b?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:C},xform:$o})}else if("phone"in e){const{phone:f,password:v,options:b}=e;o=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:v,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:$o})}else throw new Yh("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(o){if(Bt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:c}=e;t=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yv})}else if("phone"in e){const{phone:o,password:l,options:c}=e;t=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yv})}else throw new Yh("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Nu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,o,l,c,u,h,f,v,b;let y,C;if("message"in e)y=e.message,C=e.signature;else{const{chain:S,wallet:j,statement:k,options:O}=e;let P;if(qs())if(typeof j=="object")P=j;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")P=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const R=new URL((t=O?.url)!==null&&t!==void 0?t:window.location.href),ee=await P.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=Pw(ee[0]);let X=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!X){const M=await P.request({method:"eth_chainId"});X=D3(M)}const W={domain:R.host,address:ne,statement:k,uri:R.href,version:"1",chainId:X,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=M3(W),C=await P.request({method:"personal_sign",params:[F3(y),ne]})}try{const{data:S,error:j}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:C},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:$o});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Nu}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(Bt(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var t,r,i,o,l,c,u,h,f,v,b,y;let C,S;if("message"in e)C=e.message,S=e.signature;else{const{chain:j,wallet:k,statement:O,options:P}=e;let R;if(qs())if(typeof k=="object")R=k;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))R=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const ee=new URL((t=P?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in R&&R.signIn){const ne=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),O?{statement:O}:null));let X;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")X=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)X=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)C=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),S=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ee.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(i=(r=P?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=P?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((v=(f=P?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||v===void 0)&&v.length?["Resources",...P.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const ne=await R.signMessage(new TextEncoder().encode(C),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=ne}}try{const{data:j,error:k}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Oc(S)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:$o});if(k)throw k;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Nu}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:k})}catch(j){if(Bt(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const t=await jc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:o,error:l}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$o});if(await Bl(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Nu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Bt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:o,nonce:l}=e,c=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:$o}),{data:u,error:h}=c;return h?{data:{user:null,session:null},error:h}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Nu}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:h})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,o,l;try{if("email"in e){const{email:c,options:u}=e;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await ku(this.storage,this.storageKey));const{error:v}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=u?.data)!==null&&t!==void 0?t:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:c,options:u}=e,{data:h,error:f}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(l=u?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:f}}throw new Yh("You must provide either an email or phone number.")}catch(c){if(Bt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,r;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:$o});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,h=l.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ku(this.storage,this.storageKey)),await Xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:j3})}catch(o){if(Bt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ql;const{error:i}=await Xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Bt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:c}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new Yh("You must provide either an email or phone number and a type")}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await jc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<tg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await jc(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=ig()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,h,f)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,h,f))})}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wl}):await this._useSession(async t=>{var r,i,o;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ql}:await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Wl})})}catch(t){if(Bt(t))return n3(t)&&(await this._removeSession(),await Bl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ql;const l=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await ku(this.storage,this.storageKey));const{data:h,error:f}=await Xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Wl});if(f)throw f;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ql;const t=Date.now()/1e3;let r=t,i=!0,o=null;const{payload:l}=rg(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Bt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ql;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!qs())throw new Jh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new dv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dv("No code detected.");const{data:O,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:c,expires_at:u,token_type:h}=e;if(!o||!c||!l||!h)throw new Jh("No session defined in URL");const f=Math.round(Date.now()/1e3),v=parseInt(c);let b=f+v;u&&(b=parseInt(u));const y=b-f;y*1e3<=Du&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${v}s`);const C=b-v;f-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,f):f-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,f);const{data:S,error:j}=await this._getUser(o);if(j)throw j;const k={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(Bt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await jc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(t3(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Bl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=u3(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:o},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ku(this.storage,this.storageKey,!0));try{return await Xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Bt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async o=>{var l,c,u,h,f;const{data:v,error:b}=o;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Xt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return qs()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Bt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:o}}=t;if(i)throw i;const{options:l,provider:c,token:u,access_token:h,nonce:f}=e,v=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$o}),{data:b,error:y}=v;return y?{data:{user:null,session:null},error:y}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new Nu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),{data:b,error:y})}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)throw l;return await Xt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await p3(async i=>(i>0&&await f3(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$o})),(i,o)=>{const l=200*Math.pow(2,i);return o&&ng(o)&&Date.now()+l-r<Du})}catch(r){if(this._debug(t,"error",r),Bt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),qs()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await jc(this.storage,this.storageKey);if(i&&this.userStorage){let l=await jc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Fu(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:ig()}else if(i&&!i.user&&!i.user){const l=await jc(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Bl(this.storage,this.storageKey+"-user"),await Fu(this.storage,this.storageKey,i)):i.user=ig()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<tg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${tg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),ng(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ql;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Hf;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new ql;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),Bt(o)){const l={data:null,error:o};return ng(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(u){o.push(u)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Fu(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const o=mv(i);await Fu(this.storage,this.storageKey,o)}else{const i=mv(t);await Fu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Bl(this.storage,this.storageKey),await Bl(this.storage,this.storageKey+"-code-verifier"),await Bl(this.storage,this.storageKey+"-user"),this.userStorage&&await Bl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Du);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Du);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Du}ms, refresh threshold is ${x0} ticks`),i<=x0&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ew)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ku(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await Xt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:h}=await Xt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?W3(e.webauthn.credential_response):V3(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const l=await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:q3(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:H3(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=rg(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+Z4>i)return r;const{data:o,error:l}=await Xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:y,error:C}=await this.getSession();if(C||!y.session)return{data:null,error:C};r=y.session.access_token}const{header:i,payload:o,signature:l,raw:{header:c,payload:u}}=rg(r);t?.allowExpired||x3(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!h){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:i,signature:l},error:null}}const f=_3(i.alg),v=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,v,l,l3(`${c}.${u}`)))throw new N0("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}}Jd.nextInstanceID=0;const tN=Jd;class nN extends tN{constructor(e){super(e)}}var rN=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(v){l(v)}}function u(f){try{h(r.throw(f))}catch(v){l(v)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(n,e||[])).next())})};class iN{constructor(e,t,r){var i,o,l;this.supabaseUrl=e,this.supabaseKey=t;const c=K4(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:M4,realtime:z4,auth:Object.assign(Object.assign({},B4),{storageKey:u}),global:F4},f=G4(r??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=H4(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new e4(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new O4(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new HS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return rN(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:h},f,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nN({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),f),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:c,lock:u,debug:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new v4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sN=(n,e,t)=>new iN(n,e,t);function oN(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}oN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Rw="dhsmxdfzmixqqoqlnfka",Ow="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoc214ZGZ6bWl4cXFvcWxuZmthIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA4ODgwNDksImV4cCI6MjA3NjQ2NDA0OX0.5KLHjnC1V_rJ60lMNleaVclB7kgagK_2NRgzw2c_s3w",aN="http://localhost:8000",lN=Object.freeze(Object.defineProperty({__proto__:null,backendUrl:aN,projectId:Rw,publicAnonKey:Ow},Symbol.toStringTag,{value:"Module"})),cN=`https://${Rw}.supabase.co`,k0=()=>sN(cN,Ow),uN="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Iw(n){const[e,t]=z.useState(!1),r=()=>{t(!0)},{src:i,alt:o,style:l,className:c,...u}=n;return e?p.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:l,children:p.jsx("div",{className:"flex items-center justify-center w-full h-full",children:p.jsx("img",{src:uN,alt:"Error loading image",...u,"data-original-url":i})})}):p.jsx("img",{src:i,alt:o,className:c,style:l,...u,onError:r})}const dN=({onLoginSuccess:n})=>{const[e,t]=z.useState(!0),[r,i]=z.useState(""),[o,l]=z.useState(""),[c,u]=z.useState(""),[h,f]=z.useState(!1),v=k0(),b=async y=>{y.preventDefault(),f(!0);try{if(e){const{data:C,error:S}=await v.auth.signInWithPassword({email:r,password:o});if(S){console.error("Login error:",S),Je.error(S.message),f(!1);return}C?.session?.access_token&&(Je.success("Login successful!"),n(C.session.access_token,C.user))}else{if(!c){Je.error("Name is required"),f(!1);return}const{backendUrl:C}=await ol(async()=>{const{backendUrl:k}=await Promise.resolve().then(()=>lN);return{backendUrl:k}},void 0),S=await fetch(`${C}/make-server-60660975/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o,name:c})}),j=await S.json();if(!S.ok){console.error("Signup error:",j.error),Je.error(j.error||"Failed to create account"),f(!1);return}Je.success("Account created! Please login."),t(!0),u("")}}catch(C){console.error("Authentication error:",C),Je.error("An error occurred")}finally{f(!1)}};return p.jsxs("div",{className:"min-h-screen flex",children:[p.jsx("div",{className:"flex-1 flex items-center justify-center bg-white px-4 sm:px-6 lg:px-20 xl:px-24",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-gray-900 mb-2",children:e?"Welcome Back":"Create Account"}),p.jsx("p",{className:"text-gray-600",children:e?"Please login to your account":"Sign up to get started"})]}),p.jsxs("form",{onSubmit:b,className:"space-y-6",children:[!e&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"name",className:"text-gray-700",children:"Full Name"}),p.jsx(en,{id:"name",type:"text",placeholder:"Enter your full name",value:c,onChange:y=>u(y.target.value),required:!e,className:"h-12 bg-gray-50 border-gray-200 focus:border-amber-500 focus:ring-amber-500"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"email",className:"text-gray-700",children:"Email Address"}),p.jsx(en,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:y=>i(y.target.value),required:!0,className:"h-12 bg-gray-50 border-gray-200 focus:border-amber-500 focus:ring-amber-500"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"password",className:"text-gray-700",children:"Password"}),p.jsx(en,{id:"password",type:"password",placeholder:"Enter your password",value:o,onChange:y=>l(y.target.value),required:!0,className:"h-12 bg-gray-50 border-gray-200 focus:border-amber-500 focus:ring-amber-500"})]}),e&&p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded"}),p.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]})}),p.jsx(St,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-600 hover:to-yellow-700 text-white",disabled:h,children:h?"Please wait...":e?"Login":"Sign up"})]})]})}),p.jsxs("div",{className:"hidden lg:flex lg:flex-1 relative overflow-hidden bg-gradient-to-br from-amber-400 via-yellow-500 to-orange-500",children:[p.jsxs("div",{className:"absolute inset-0",children:[p.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-gradient-to-br from-yellow-300/40 to-transparent rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-gradient-to-tr from-orange-600/40 to-transparent rounded-full blur-3xl"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[700px] bg-gradient-to-br from-amber-500/30 to-transparent rounded-full blur-3xl"})]}),p.jsx("div",{className:"relative z-10 flex items-center justify-center w-full p-12",children:p.jsxs("div",{className:"text-white text-center max-w-lg",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-28 h-28 rounded-full bg-white/20 backdrop-blur-sm mb-8",children:p.jsx(Iw,{src:"/npa-logo.png",alt:"Brand Logo",className:"w-24 h-24 object-contain"})}),p.jsx("div",{style:{display:"flex",justifyContent:"center",fontWeight:"Bold"},children:p.jsx("h2",{className:"text-4xl mb-4 text-white ",children:"Welcome! ADMIN"})}),p.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Manage your water dispenser systems, track maintenance, and monitor devices all in one place."})]})})]})]})};function Ws({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:Un("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border-2",n),...e})}function Wo({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:Un("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function ka({className:n,...e}){return p.jsx("h4",{"data-slot":"card-title",className:Un("leading-none",n),...e})}function Vs({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:Un("px-6 [&:last-child]:pb-6",n),...e})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Sv=n=>{const e=fN(n);return e.charAt(0).toUpperCase()+e.slice(1)},Dw=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},u)=>z.createElement("svg",{ref:u,...pN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Dw("lucide",i),...c},[...l.map(([h,f])=>z.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=(n,e)=>{const t=z.forwardRef(({className:r,...i},o)=>z.createElement(gN,{ref:o,iconNode:e,className:Dw(`lucide-${hN(Sv(n))}`,`lucide-${n}`,r),...i}));return t.displayName=Sv(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],Qd=nr("archive-restore",mN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Zu=nr("archive",vN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nv=nr("arrow-left",yN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Kl=nr("building-2",wN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xN=nr("calendar",bN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fw=nr("check",_N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mw=nr("chevron-down",SN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kv=nr("chevron-left",NN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cv=nr("chevron-right",kN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AN=nr("chevron-up",CN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ed=nr("clipboard-list",jN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Av=nr("download",EN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LN=nr("eye",PN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],C0=nr("file-text",TN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ON=nr("layout-dashboard",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],DN=nr("log-out",IN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],MN=nr("mail",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zN=nr("pen",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],$N=nr("phone",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sh=nr("plus",qN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Bw=nr("printer",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],rm=nr("qr-code",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Af=nr("square-pen",VN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],KN=nr("trending-up",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Wd=nr("wrench",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QN=nr("x",JN),Yl=({className:n="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:n,fill:"currentColor",children:p.jsx("path",{d:"M384,32h-21.3c-5.4-12.9-17.9-22-32.7-22s-27.3,9.1-32.7,22H192c-5.4-12.9-17.9-22-32.7-22s-27.3,9.1-32.7,22H106.7 c-5.4-12.9-17.9-22-32.7-22s-27.3,9.1-32.7,22H21.3C9.5,32,0,41.5,0,53.3V96c0,11.8,9.5,21.3,21.3,21.3h10.7v352 c0,23.6,19.1,42.7,42.7,42.7h85.3c23.6,0,42.7-19.1,42.7-42.7v-96h106.7v96c0,23.6,19.1,42.7,42.7,42.7h85.3 c23.6,0,42.7-19.1,42.7-42.7v-352h10.7c11.8,0,21.3-9.5,21.3-21.3V53.3C512,41.5,502.5,32,490.7,32H384z M352,469.3 c0,11.8-9.5,21.3-21.3,21.3h-85.3c-11.8,0-21.3-9.5-21.3-21.3v-96h128V469.3z M202.7,469.3c0,11.8-9.5,21.3-21.3,21.3H96 c-11.8,0-21.3-9.5-21.3-21.3v-352h128V469.3z M416,117.3v192c0,11.8-9.5,21.3-21.3,21.3H117.3c-11.8,0-21.3-9.5-21.3-21.3v-192 H416z M469.3,74.7H21.3V53.3h42.7c5.9,0,10.7-4.8,10.7-10.7s4.8-10.7,10.7-10.7s10.7,4.8,10.7,10.7c0,5.9,4.8,10.7,10.7,10.7 h298.7c5.9,0,10.7-4.8,10.7-10.7s4.8-10.7,10.7-10.7s10.7,4.8,10.7,10.7c0,5.9,4.8,10.7,10.7,10.7h42.7V74.7z M288,266.7 c0-23.6-19.1-42.7-42.7-42.7s-42.7,19.1-42.7,42.7c0,16.7,9.6,31.2,23.6,38.2c-0.1,1.4-0.2,2.8-0.2,4.2c0,11.8,9.5,21.3,21.3,21.3 s21.3-9.5,21.3-21.3c0-1.4-0.1-2.8-0.2-4.2C278.4,297.9,288,283.4,288,266.7z M245.3,288c-11.8,0-21.3-9.5-21.3-21.3 s9.5-21.3,21.3-21.3s21.3,9.5,21.3,21.3S257.1,288,245.3,288z"})}),XN=({data:n,dataStatus:e=[],width:t=320,height:r=160,color:i="#10b981",onHover:o})=>{const l=Xe.useRef(null),[c,u]=Xe.useState(null),[h,f]=Xe.useState(null);if(!n||n.length===0)return p.jsx("div",{className:"text-sm text-gray-500",children:"No data"});const v=12,b=t,y=r,C=Math.max(10,b-v*2),S=Math.max(10,y-v*2),j=Math.max(...n,1),k=n.map((X,W)=>{const M=v+W/Math.max(1,n.length-1)*C,K=v+(1-X/j)*S;return{x:M,y:K,v:X}}),O=k.map((X,W)=>`${W===0?"M":"L"} ${X.x} ${X.y}`).join(" "),P=`${O} L ${v+C} ${v+S} L ${v} ${v+S} Z`,R=X=>{const W=l.current?.getBoundingClientRect();if(!W)return;const M=X.clientX-W.left;let K=0,L=1/0;k.forEach((D,I)=>{const q=Math.abs(D.x-M);q<L&&(L=q,K=I)}),u(K),f({x:k[K].x,y:k[K].y}),o&&o(K)},ee=()=>{u(null),f(null),o&&o(null)},ne=["Yet to Start","In Progress","Completed","Cancelled"];return p.jsxs("div",{ref:l,className:"relative",style:{width:b},onMouseMove:R,onMouseLeave:ee,children:[p.jsxs("svg",{width:b,height:y,viewBox:`0 0 ${b} ${y}`,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"areaGrad",x1:"0",x2:"0",y1:"0",y2:"1",children:[p.jsx("stop",{offset:"0%",stopColor:i,stopOpacity:"0.14"}),p.jsx("stop",{offset:"100%",stopColor:i,stopOpacity:"0.02"})]})}),p.jsx("path",{d:P,fill:"url(#areaGrad)",stroke:"none"}),p.jsx("path",{d:O,fill:"none",stroke:i,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round"}),k.map((X,W)=>p.jsx("circle",{cx:X.x,cy:X.y,r:3.5,fill:"#fff",stroke:i,strokeWidth:1.5},W)),c!==null&&h&&p.jsx("g",{pointerEvents:"none",children:p.jsx("line",{x1:h.x,x2:h.x,y1:v,y2:y-v,stroke:"#0f172a",strokeWidth:.6,opacity:.08})})]}),c!==null&&h&&p.jsx("div",{className:"absolute z-20",style:{left:Math.min(Math.max(0,h.x+8),b-180),top:h.y-8},children:p.jsxs("div",{className:"bg-white shadow-lg border rounded-md text-sm p-2 w-44",children:[p.jsxs("div",{className:"font-semibold",children:["Day ",c+1]}),p.jsx("div",{className:"mt-1",children:ne.map(X=>{const W=e[c]&&e[c][X]||0,M={"Yet to Start":"#94a3b8","In Progress":"#f59e0b",Completed:"#10b981",Cancelled:"#ef4444"};return p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 rounded-sm inline-block",style:{background:M[X]}}),p.jsx("span",{className:"text-xs text-gray-700",children:X})]}),p.jsx("div",{className:"text-xs font-semibold text-gray-800",children:W})]},X)})})]})})]})},ZN=({token:n,onNavigate:e,user:t})=>{const[r,i]=z.useState({totalOrganizations:0,activeOrganizations:0,archivedOrganizations:0,totalDevices:0,activeDevices:0,archivedDevices:0,totalTechnicians:0,totalMaintenance:0,recentMaintenance:0,maintenanceByDay:[],maintenanceByDayStatus:Array.from({length:30},()=>({})),deviceStatus:{active:0,archived:0},orgStatus:{active:0,archived:0},maintenanceStatusCounts:{}}),[o,l]=z.useState(!0),[c,u]=z.useState(null);z.useEffect(()=>{h()},[n]);const h=async()=>{try{const[b,y,C,S]=await Promise.all([fetch("http://localhost:8000/organizations",{headers:{Authorization:`Bearer ${n}`}}),fetch("http://localhost:8000/devices",{headers:{Authorization:`Bearer ${n}`}}),fetch("http://localhost:8000/technicians",{headers:{Authorization:`Bearer ${n}`}}),fetch("http://localhost:8000/maintenance",{headers:{Authorization:`Bearer ${n}`}})]),[j,k,O,P]=await Promise.all([b.json(),y.json(),C.json(),S.json()]),R=j.organizations||[],ee=k.devices||[],ne=O.technicians||[],X=P.maintenance||[],W=new Date;W.setDate(W.getDate()-29);const M=ee.filter(re=>{const V=R.find(ge=>ge.id===re.organization_id);return!re.is_archived&&!V?.archived}).length,K=ee.filter(re=>{const V=R.find(ge=>ge.id===re.organization_id);return re.is_archived||V?.archived}).length,L=R.filter(re=>!re.archived).length,D=R.filter(re=>re.archived).length,I=X.filter(re=>new Date(re.created_at)>=W).length,q=new Array(30).fill(0),ce=Array.from({length:30},()=>({})),J={};for(const re of X){const ge=new Date(re.created_at).setHours(0,0,0,0)-new Date(W).setHours(0,0,0,0),_e=Math.floor(ge/(1e3*60*60*24));if(_e>=0&&_e<30){q[_e]=(q[_e]||0)+1;const T=(re.status||"Unknown").toString();ce[_e][T]=(ce[_e][T]||0)+1}const te=(re.status||"Unknown").toString();J[te]=(J[te]||0)+1}i({totalOrganizations:R.length,activeOrganizations:L,archivedOrganizations:D,totalDevices:ee.length,activeDevices:M,archivedDevices:K,totalTechnicians:ne.length,totalMaintenance:X.length,recentMaintenance:I,maintenanceByDay:q,maintenanceByDayStatus:ce,deviceStatus:{active:M,archived:K},orgStatus:{active:L,archived:D},maintenanceStatusCounts:J})}catch(b){console.error("Error fetching stats:",b)}finally{l(!1)}},f=[{title:"Total Organizations",value:r.totalOrganizations,subtitle:`${r.activeOrganizations} active, ${r.archivedOrganizations} archived`,icon:Kl,color:"text-blue-600",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100",iconBg:"bg-blue-600",navigateTo:"organizations"},{title:"Total Devices",value:r.totalDevices,subtitle:`${r.activeDevices} active, ${r.archivedDevices} archived`,icon:Yl,color:"text-emerald-600",bgColor:"bg-gradient-to-br from-emerald-50 to-emerald-100",iconBg:"bg-emerald-600",navigateTo:"devices"},{title:"Total Technicians",value:r.totalTechnicians,subtitle:"Available technicians",icon:Wd,color:"text-orange-600",bgColor:"bg-gradient-to-br from-orange-50 to-orange-100",iconBg:"bg-orange-600",navigateTo:"technicians"},{title:"Maintenance Records",value:r.totalMaintenance,subtitle:`${r.recentMaintenance} in last 30 days`,icon:ed,color:"text-purple-600",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100",iconBg:"bg-purple-600",navigateTo:"maintenance"}];if(o)return p.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-6 py-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-medium",children:"Dashboard Overview"}),p.jsx("p",{className:"text-gray-600",children:"Loading statistics..."})]}),p.jsx("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(b=>p.jsxs(Ws,{className:"shadow-sm min-h-20 p-2",children:[p.jsx(Wo,{className:"pb-1",children:p.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-24"})}),p.jsxs(Vs,{children:[p.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-12 mb-1"}),p.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse w-20"})]})]},b))})]});const v=t?.user_metadata?.name||t?.email?.split("@")[0]||"Admin";return p.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-6 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h1",{className:"text-3xl md:text-4xl font-semibold",children:["Welcome ",v,"!"]}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor your water dispenser management system"})]}),p.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:f.map(b=>{const y=b.icon;return p.jsxs(Ws,{className:`overflow-hidden border-0 shadow-sm hover:shadow md:shadow-lg transition-all cursor-pointer ${b.bgColor} min-h-12 p-1`,onClick:()=>e(b.navigateTo),children:[p.jsx(Wo,{className:"pb-2",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(ka,{className:"text-xs text-gray-700",children:b.title}),p.jsx("div",{className:`p-1.5 rounded-lg ${b.iconBg} shadow-lg`,children:p.jsx(y,{className:"w-4 h-4 text-white"})})]})}),p.jsxs(Vs,{children:[p.jsx("div",{className:`text-lg md:text-xl mb-1 ${b.color} font-semibold`,children:b.value}),p.jsx("p",{className:"text-xxs text-gray-500",children:b.subtitle})]})]},b.title)})}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[p.jsxs(Ws,{className:"shadow-sm hover:shadow-md transition-shadow min-h-26",children:[p.jsx(Wo,{children:p.jsxs(ka,{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-2 rounded-lg bg-green-200",children:p.jsx(KN,{className:"w-5 h-5 text-green-600"})}),p.jsx("span",{children:"Maintenance"})]})}),p.jsx(Vs,{className:"space-y-2 p-3",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-right gap-4",children:[p.jsx("div",{className:"flex-1 w-full md:w-auto",children:p.jsx(XN,{data:r.maintenanceByDay,dataStatus:r.maintenanceByDayStatus,width:320,height:160,color:"#10b981",onHover:b=>u(b)})}),p.jsxs("div",{className:"w-full md:w-36 text-center md:text-right relative z-10",children:[p.jsx("div",{className:"text-lg font-semibold text-green-600",children:r.recentMaintenance}),p.jsx("div",{className:"text-sm text-gray-500",children:"in last 30 days"})]})]})})]}),p.jsxs(Ws,{className:"shadow-sm hover:shadow-md transition-shadow min-h-32",children:[p.jsx(Wo,{children:p.jsxs(ka,{className:"flex items-center gap-2",children:[p.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:p.jsx(Zu,{className:"w-5 h-5 text-gray-600"})}),p.jsx("span",{children:"Day Breakdown"})]})}),p.jsx(Vs,{className:"p-3 flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Selected Day"}),p.jsx("div",{className:"flex flex-col gap-2 items-stretch",children:["Yet to Start","In Progress","Completed","Cancelled"].map(b=>{const y=c??r.maintenanceByDay.length-1,C=r.maintenanceByDayStatus&&r.maintenanceByDayStatus[y]&&r.maintenanceByDayStatus[y][b]||0,S={"Yet to Start":"bg-gray-100 text-gray-800 border border-gray-300","In Progress":"bg-yellow-100 text-yellow-800 border border-yellow-300",Completed:"bg-green-100 text-green-800 border border-green-300",Cancelled:"bg-red-100 text-red-800 border border-red-300"};return p.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-md shadow-sm",children:[p.jsx("div",{className:`px-3 py-1 rounded-md ${S[b]} font-semibold`,children:b}),p.jsx("div",{className:"ml-3 text-lg font-bold text-gray-800",children:C})]},b)})})]})})]})]})]})};function Vn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function e6(n,e){const t=z.createContext(e),r=o=>{const{children:l,...c}=o,u=z.useMemo(()=>c,Object.values(c));return p.jsx(t.Provider,{value:u,children:l})};r.displayName=n+"Provider";function i(o){const l=z.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,i]}function od(n,e=[]){let t=[];function r(o,l){const c=z.createContext(l),u=t.length;t=[...t,l];const h=v=>{const{scope:b,children:y,...C}=v,S=b?.[n]?.[u]||c,j=z.useMemo(()=>C,Object.values(C));return p.jsx(S.Provider,{value:j,children:y})};h.displayName=o+"Provider";function f(v,b){const y=b?.[n]?.[u]||c,C=z.useContext(y);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,f]}const i=()=>{const o=t.map(l=>z.createContext(l));return function(c){const u=c?.[n]||o;return z.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,t6(i,...e)]}function t6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const v=u(o)[`__scope${h}`];return{...c,...v}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Xi=globalThis?.document?z.useLayoutEffect:()=>{},n6=Ky[" useId ".trim().toString()]||(()=>{}),r6=0;function $u(n){const[e,t]=z.useState(n6());return Xi(()=>{t(r=>r??String(r6++))},[n]),n||(e?`radix-${e}`:"")}var i6=Ky[" useInsertionEffect ".trim().toString()]||Xi;function Xd({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,o,l]=s6({defaultProp:e,onChange:t}),c=n!==void 0,u=c?n:i;{const f=z.useRef(n!==void 0);z.useEffect(()=>{const v=f.current;v!==c&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=z.useCallback(f=>{if(c){const v=o6(f)?f(n):f;v!==n&&l.current?.(v)}else o(f)},[c,n,o,l]);return[u,h]}function s6({defaultProp:n,onChange:e}){const[t,r]=z.useState(n),i=z.useRef(t),o=z.useRef(e);return i6(()=>{o.current=e},[e]),z.useEffect(()=>{i.current!==t&&(o.current?.(t),i.current=t)},[t,i]),[t,r,o]}function o6(n){return typeof n=="function"}function Dc(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n}),z.useMemo(()=>(...t)=>e.current?.(...t),[])}function a6(n,e=globalThis?.document){const t=Dc(n);z.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var l6="DismissableLayer",A0="dismissableLayer.update",c6="dismissableLayer.pointerDownOutside",u6="dismissableLayer.focusOutside",jv,zw=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),im=z.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=n,h=z.useContext(zw),[f,v]=z.useState(null),b=f?.ownerDocument??globalThis?.document,[,y]=z.useState({}),C=cr(e,X=>v(X)),S=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=S.indexOf(j),O=f?S.indexOf(f):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,R=O>=k,ee=f6(X=>{const W=X.target,M=[...h.branches].some(K=>K.contains(W));!R||M||(i?.(X),l?.(X),X.defaultPrevented||c?.())},b),ne=p6(X=>{const W=X.target;[...h.branches].some(K=>K.contains(W))||(o?.(X),l?.(X),X.defaultPrevented||c?.())},b);return a6(X=>{O===h.layers.size-1&&(r?.(X),!X.defaultPrevented&&c&&(X.preventDefault(),c()))},b),z.useEffect(()=>{if(f)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jv=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Ev(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=jv)}},[f,b,t,h]),z.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Ev())},[f,h]),z.useEffect(()=>{const X=()=>y({});return document.addEventListener(A0,X),()=>document.removeEventListener(A0,X)},[]),p.jsx(jn.div,{...u,ref:C,style:{pointerEvents:P?R?"auto":"none":void 0,...n.style},onFocusCapture:Vn(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:Vn(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:Vn(n.onPointerDownCapture,ee.onPointerDownCapture)})});im.displayName=l6;var d6="DismissableLayerBranch",h6=z.forwardRef((n,e)=>{const t=z.useContext(zw),r=z.useRef(null),i=cr(e,r);return z.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),p.jsx(jn.div,{...n,ref:i})});h6.displayName=d6;function f6(n,e=globalThis?.document){const t=Dc(n),r=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){Uw(c6,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function p6(n,e=globalThis?.document){const t=Dc(n),r=z.useRef(!1);return z.useEffect(()=>{const i=o=>{o.target&&!r.current&&Uw(u6,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ev(){const n=new CustomEvent(A0);document.dispatchEvent(n)}function Uw(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?hS(i,o):i.dispatchEvent(o)}var og="focusScope.autoFocusOnMount",ag="focusScope.autoFocusOnUnmount",Pv={bubbles:!1,cancelable:!0},g6="FocusScope",sm=z.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=n,[c,u]=z.useState(null),h=Dc(i),f=Dc(o),v=z.useRef(null),b=cr(e,S=>u(S)),y=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(r){let S=function(P){if(y.paused||!c)return;const R=P.target;c.contains(R)?v.current=R:Hl(v.current,{select:!0})},j=function(P){if(y.paused||!c)return;const R=P.relatedTarget;R!==null&&(c.contains(R)||Hl(v.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const ee of P)ee.removedNodes.length>0&&Hl(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",j);const O=new MutationObserver(k);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",j),O.disconnect()}}},[r,c,y.paused]),z.useEffect(()=>{if(c){Tv.add(y);const S=document.activeElement;if(!c.contains(S)){const k=new CustomEvent(og,Pv);c.addEventListener(og,h),c.dispatchEvent(k),k.defaultPrevented||(m6(x6($w(c)),{select:!0}),document.activeElement===S&&Hl(c))}return()=>{c.removeEventListener(og,h),setTimeout(()=>{const k=new CustomEvent(ag,Pv);c.addEventListener(ag,f),c.dispatchEvent(k),k.defaultPrevented||Hl(S??document.body,{select:!0}),c.removeEventListener(ag,f),Tv.remove(y)},0)}}},[c,h,f,y]);const C=z.useCallback(S=>{if(!t&&!r||y.paused)return;const j=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,k=document.activeElement;if(j&&k){const O=S.currentTarget,[P,R]=v6(O);P&&R?!S.shiftKey&&k===R?(S.preventDefault(),t&&Hl(P,{select:!0})):S.shiftKey&&k===P&&(S.preventDefault(),t&&Hl(R,{select:!0})):k===O&&S.preventDefault()}},[t,r,y.paused]);return p.jsx(jn.div,{tabIndex:-1,...l,ref:b,onKeyDown:C})});sm.displayName=g6;function m6(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Hl(r,{select:e}),document.activeElement!==t)return}function v6(n){const e=$w(n),t=Lv(e,n),r=Lv(e.reverse(),n);return[t,r]}function $w(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Lv(n,e){for(const t of n)if(!y6(t,{upTo:e}))return t}function y6(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function w6(n){return n instanceof HTMLInputElement&&"select"in n}function Hl(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&w6(n)&&e&&n.select()}}var Tv=b6();function b6(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Rv(n,e),n.unshift(e)},remove(e){n=Rv(n,e),n[0]?.resume()}}}function Rv(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function x6(n){return n.filter(e=>e.tagName!=="A")}var _6="Portal",om=z.forwardRef((n,e)=>{const{container:t,...r}=n,[i,o]=z.useState(!1);Xi(()=>o(!0),[]);const l=t||i&&globalThis?.document?.body;return l?uw.createPortal(p.jsx(jn.div,{...r,ref:e}),l):null});om.displayName=_6;function S6(n,e){return z.useReducer((t,r)=>e[t][r]??t,n)}var oh=n=>{const{present:e,children:t}=n,r=N6(e),i=typeof t=="function"?t({present:r.isPresent}):z.Children.only(t),o=cr(r.ref,k6(i));return typeof t=="function"||r.isPresent?z.cloneElement(i,{ref:o}):null};oh.displayName="Presence";function N6(n){const[e,t]=z.useState(),r=z.useRef(null),i=z.useRef(n),o=z.useRef("none"),l=n?"mounted":"unmounted",[c,u]=S6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const h=Qh(r.current);o.current=c==="mounted"?h:"none"},[c]),Xi(()=>{const h=r.current,f=i.current;if(f!==n){const b=o.current,y=Qh(h);n?u("MOUNT"):y==="none"||h?.display==="none"?u("UNMOUNT"):u(f&&b!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,u]),Xi(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,v=y=>{const S=Qh(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&S&&(u("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},b=y=>{y.target===e&&(o.current=Qh(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:z.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Qh(n){return n?.animationName||"none"}function k6(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var lg=0;function qw(){z.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Ov()),document.body.insertAdjacentElement("beforeend",n[1]??Ov()),lg++,()=>{lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lg--}},[])}function Ov(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var _a=function(){return _a=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_a.apply(this,arguments)};function Hw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function C6(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var pf="right-scroll-bar-position",gf="width-before-scroll-bar",A6="with-scroll-bars-hidden",j6="--removed-body-scroll-bar-size";function cg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function E6(n,e){var t=z.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var P6=typeof window<"u"?z.useLayoutEffect:z.useEffect,Iv=new WeakMap;function L6(n,e){var t=E6(null,function(r){return n.forEach(function(i){return cg(i,r)})});return P6(function(){var r=Iv.get(t);if(r){var i=new Set(r),o=new Set(n),l=t.current;i.forEach(function(c){o.has(c)||cg(c,null)}),o.forEach(function(c){i.has(c)||cg(c,l)})}Iv.set(t,n)},[n]),t}function T6(n){return n}function R6(n,e){e===void 0&&(e=T6);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var l=e(o,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(o),l=t}var u=function(){var f=l;l=[],f.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),t={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),t}}}};return i}function O6(n){n===void 0&&(n={});var e=R6(null);return e.options=_a({async:!0,ssr:!1},n),e}var Ww=function(n){var e=n.sideCar,t=Hw(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return z.createElement(r,_a({},t))};Ww.isSideCarExport=!0;function I6(n,e){return n.useMedium(e),Ww}var Vw=O6(),ug=function(){},Wf=z.forwardRef(function(n,e){var t=z.useRef(null),r=z.useState({onScrollCapture:ug,onWheelCapture:ug,onTouchMoveCapture:ug}),i=r[0],o=r[1],l=n.forwardProps,c=n.children,u=n.className,h=n.removeScrollBar,f=n.enabled,v=n.shards,b=n.sideCar,y=n.noRelative,C=n.noIsolation,S=n.inert,j=n.allowPinchZoom,k=n.as,O=k===void 0?"div":k,P=n.gapMode,R=Hw(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ee=b,ne=L6([t,e]),X=_a(_a({},R),i);return z.createElement(z.Fragment,null,f&&z.createElement(ee,{sideCar:Vw,removeScrollBar:h,shards:v,noRelative:y,noIsolation:C,inert:S,setCallbacks:o,allowPinchZoom:!!j,lockRef:t,gapMode:P}),l?z.cloneElement(z.Children.only(c),_a(_a({},X),{ref:ne})):z.createElement(O,_a({},X,{className:u,ref:ne}),c))});Wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wf.classNames={fullWidth:gf,zeroRight:pf};var D6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F6(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=D6();return e&&n.setAttribute("nonce",e),n}function M6(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function B6(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var z6=function(){var n=0,e=null;return{add:function(t){n==0&&(e=F6())&&(M6(e,t),B6(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},U6=function(){var n=z6();return function(e,t){z.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Gw=function(){var n=U6(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},$6={left:0,top:0,right:0,gap:0},dg=function(n){return parseInt(n||"",10)||0},q6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[dg(t),dg(r),dg(i)]},H6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $6;var e=q6(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},W6=Gw(),qu="data-scroll-locked",V6=function(n,e,t,r){var i=n.left,o=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(A6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(qu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(gf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(pf," .").concat(pf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qu,`] {
    `).concat(j6,": ").concat(c,`px;
  }
`)},Dv=function(){var n=parseInt(document.body.getAttribute(qu)||"0",10);return isFinite(n)?n:0},G6=function(){z.useEffect(function(){return document.body.setAttribute(qu,(Dv()+1).toString()),function(){var n=Dv()-1;n<=0?document.body.removeAttribute(qu):document.body.setAttribute(qu,n.toString())}},[])},K6=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;G6();var o=z.useMemo(function(){return H6(i)},[i]);return z.createElement(W6,{styles:V6(o,!e,i,t?"":"!important")})},j0=!1;if(typeof window<"u")try{var Xh=Object.defineProperty({},"passive",{get:function(){return j0=!0,!0}});window.addEventListener("test",Xh,Xh),window.removeEventListener("test",Xh,Xh)}catch{j0=!1}var Eu=j0?{passive:!1}:!1,Y6=function(n){return n.tagName==="TEXTAREA"},Kw=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Y6(n)&&t[e]==="visible")},J6=function(n){return Kw(n,"overflowY")},Q6=function(n){return Kw(n,"overflowX")},Fv=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Yw(n,r);if(i){var o=Jw(n,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},X6=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Z6=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Yw=function(n,e){return n==="v"?J6(e):Q6(e)},Jw=function(n,e){return n==="v"?X6(e):Z6(e)},ek=function(n,e){return n==="h"&&e==="rtl"?-1:1},tk=function(n,e,t,r,i){var o=ek(n,window.getComputedStyle(e).direction),l=o*r,c=t.target,u=e.contains(c),h=!1,f=l>0,v=0,b=0;do{if(!c)break;var y=Jw(n,c),C=y[0],S=y[1],j=y[2],k=S-j-o*C;(C||k)&&Yw(n,c)&&(v+=k,b+=C);var O=c.parentNode;c=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(f&&Math.abs(v)<1||!f&&Math.abs(b)<1)&&(h=!0),h},Zh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Mv=function(n){return[n.deltaX,n.deltaY]},Bv=function(n){return n&&"current"in n?n.current:n},nk=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rk=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},ik=0,Pu=[];function sk(n){var e=z.useRef([]),t=z.useRef([0,0]),r=z.useRef(),i=z.useState(ik++)[0],o=z.useState(Gw)[0],l=z.useRef(n);z.useEffect(function(){l.current=n},[n]),z.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var S=C6([n.lockRef.current],(n.shards||[]).map(Bv),!0).filter(Boolean);return S.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=z.useCallback(function(S,j){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var k=Zh(S),O=t.current,P="deltaX"in S?S.deltaX:O[0]-k[0],R="deltaY"in S?S.deltaY:O[1]-k[1],ee,ne=S.target,X=Math.abs(P)>Math.abs(R)?"h":"v";if("touches"in S&&X==="h"&&ne.type==="range")return!1;var W=Fv(X,ne);if(!W)return!0;if(W?ee=X:(ee=X==="v"?"h":"v",W=Fv(X,ne)),!W)return!1;if(!r.current&&"changedTouches"in S&&(P||R)&&(r.current=ee),!ee)return!0;var M=r.current||ee;return tk(M,j,S,M==="h"?P:R)},[]),u=z.useCallback(function(S){var j=S;if(!(!Pu.length||Pu[Pu.length-1]!==o)){var k="deltaY"in j?Mv(j):Zh(j),O=e.current.filter(function(ee){return ee.name===j.type&&(ee.target===j.target||j.target===ee.shadowParent)&&nk(ee.delta,k)})[0];if(O&&O.should){j.cancelable&&j.preventDefault();return}if(!O){var P=(l.current.shards||[]).map(Bv).filter(Boolean).filter(function(ee){return ee.contains(j.target)}),R=P.length>0?c(j,P[0]):!l.current.noIsolation;R&&j.cancelable&&j.preventDefault()}}},[]),h=z.useCallback(function(S,j,k,O){var P={name:S,delta:j,target:k,should:O,shadowParent:ok(k)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(R){return R!==P})},1)},[]),f=z.useCallback(function(S){t.current=Zh(S),r.current=void 0},[]),v=z.useCallback(function(S){h(S.type,Mv(S),S.target,c(S,n.lockRef.current))},[]),b=z.useCallback(function(S){h(S.type,Zh(S),S.target,c(S,n.lockRef.current))},[]);z.useEffect(function(){return Pu.push(o),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",u,Eu),document.addEventListener("touchmove",u,Eu),document.addEventListener("touchstart",f,Eu),function(){Pu=Pu.filter(function(S){return S!==o}),document.removeEventListener("wheel",u,Eu),document.removeEventListener("touchmove",u,Eu),document.removeEventListener("touchstart",f,Eu)}},[]);var y=n.removeScrollBar,C=n.inert;return z.createElement(z.Fragment,null,C?z.createElement(o,{styles:rk(i)}):null,y?z.createElement(K6,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function ok(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const ak=I6(Vw,sk);var am=z.forwardRef(function(n,e){return z.createElement(Wf,_a({},n,{ref:e,sideCar:ak}))});am.classNames=Wf.classNames;var lk=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Lu=new WeakMap,ef=new WeakMap,tf={},hg=0,Qw=function(n){return n&&(n.host||Qw(n.parentNode))},ck=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Qw(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},uk=function(n,e,t,r){var i=ck(e,Array.isArray(n)?n:[n]);tf[t]||(tf[t]=new WeakMap);var o=tf[t],l=[],c=new Set,u=new Set(i),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};i.forEach(h);var f=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(b){if(c.has(b))f(b);else try{var y=b.getAttribute(r),C=y!==null&&y!=="false",S=(Lu.get(b)||0)+1,j=(o.get(b)||0)+1;Lu.set(b,S),o.set(b,j),l.push(b),S===1&&C&&ef.set(b,!0),j===1&&b.setAttribute(t,"true"),C||b.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return f(e),c.clear(),hg++,function(){l.forEach(function(v){var b=Lu.get(v)-1,y=o.get(v)-1;Lu.set(v,b),o.set(v,y),b||(ef.has(v)||v.removeAttribute(r),ef.delete(v)),y||v.removeAttribute(t)}),hg--,hg||(Lu=new WeakMap,Lu=new WeakMap,ef=new WeakMap,tf={})}},Xw=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=lk(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),uk(r,i,t,"aria-hidden")):function(){return null}},Vf="Dialog",[Zw]=od(Vf),[dk,Yo]=Zw(Vf),e5=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=n,c=z.useRef(null),u=z.useRef(null),[h,f]=Xd({prop:r,defaultProp:i??!1,onChange:o,caller:Vf});return p.jsx(dk,{scope:e,triggerRef:c,contentRef:u,contentId:$u(),titleId:$u(),descriptionId:$u(),open:h,onOpenChange:f,onOpenToggle:z.useCallback(()=>f(v=>!v),[f]),modal:l,children:t})};e5.displayName=Vf;var t5="DialogTrigger",n5=z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yo(t5,t),o=cr(e,i.triggerRef);return p.jsx(jn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":um(i.open),...r,ref:o,onClick:Vn(n.onClick,i.onOpenToggle)})});n5.displayName=t5;var lm="DialogPortal",[hk,r5]=Zw(lm,{forceMount:void 0}),i5=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=Yo(lm,e);return p.jsx(hk,{scope:e,forceMount:t,children:z.Children.map(r,l=>p.jsx(oh,{present:t||o.open,children:p.jsx(om,{asChild:!0,container:i,children:l})}))})};i5.displayName=lm;var jf="DialogOverlay",s5=z.forwardRef((n,e)=>{const t=r5(jf,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Yo(jf,n.__scopeDialog);return o.modal?p.jsx(oh,{present:r||o.open,children:p.jsx(pk,{...i,ref:e})}):null});s5.displayName=jf;var fk=Qu("DialogOverlay.RemoveScroll"),pk=z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yo(jf,t);return p.jsx(am,{as:fk,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(jn.div,{"data-state":um(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fc="DialogContent",o5=z.forwardRef((n,e)=>{const t=r5(Fc,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Yo(Fc,n.__scopeDialog);return p.jsx(oh,{present:r||o.open,children:o.modal?p.jsx(gk,{...i,ref:e}):p.jsx(mk,{...i,ref:e})})});o5.displayName=Fc;var gk=z.forwardRef((n,e)=>{const t=Yo(Fc,n.__scopeDialog),r=z.useRef(null),i=cr(e,t.contentRef,r);return z.useEffect(()=>{const o=r.current;if(o)return Xw(o)},[]),p.jsx(a5,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vn(n.onCloseAutoFocus,o=>{o.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Vn(n.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Vn(n.onFocusOutside,o=>o.preventDefault())})}),mk=z.forwardRef((n,e)=>{const t=Yo(Fc,n.__scopeDialog),r=z.useRef(!1),i=z.useRef(!1);return p.jsx(a5,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||t.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;t.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),a5=z.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=n,c=Yo(Fc,t),u=z.useRef(null),h=cr(e,u);return qw(),p.jsxs(p.Fragment,{children:[p.jsx(sm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(im,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":um(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(vk,{titleId:c.titleId}),p.jsx(wk,{contentRef:u,descriptionId:c.descriptionId})]})]})}),cm="DialogTitle",l5=z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yo(cm,t);return p.jsx(jn.h2,{id:i.titleId,...r,ref:e})});l5.displayName=cm;var c5="DialogDescription",u5=z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yo(c5,t);return p.jsx(jn.p,{id:i.descriptionId,...r,ref:e})});u5.displayName=c5;var d5="DialogClose",h5=z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yo(d5,t);return p.jsx(jn.button,{type:"button",...r,ref:e,onClick:Vn(n.onClick,()=>i.onOpenChange(!1))})});h5.displayName=d5;function um(n){return n?"open":"closed"}var f5="DialogTitleWarning",[aL,p5]=e6(f5,{contentName:Fc,titleName:cm,docsSlug:"dialog"}),vk=({titleId:n})=>{const e=p5(f5),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return z.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},yk="DialogDescriptionWarning",wk=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p5(yk).contentName}}.`;return z.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},bk=e5,xk=n5,_k=i5,Sk=s5,Nk=o5,kk=l5,Ck=u5,Ak=h5;function Ki({...n}){return p.jsx(bk,{"data-slot":"dialog",...n})}function td({...n}){return p.jsx(xk,{"data-slot":"dialog-trigger",...n})}function jk({...n}){return p.jsx(_k,{"data-slot":"dialog-portal",...n})}const g5=z.forwardRef(({className:n,...e},t)=>p.jsx(Sk,{ref:t,"data-slot":"dialog-overlay",className:Un("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));g5.displayName="DialogOverlay";function Yi({className:n,children:e,...t}){return p.jsxs(jk,{"data-slot":"dialog-portal",children:[p.jsx(g5,{}),p.jsxs(Nk,{"data-slot":"dialog-content",className:Un("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border-2 p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,p.jsxs(Ak,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(QN,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ji({className:n,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:Un("flex flex-col gap-2 text-center sm:text-left",n),...e})}function Qi({className:n,...e}){return p.jsx(kk,{"data-slot":"dialog-title",className:Un("text-lg leading-none font-semibold",n),...e})}function us({className:n,...e}){return p.jsx(Ck,{"data-slot":"dialog-description",className:Un("text-muted-foreground text-sm",n),...e})}function dm(n){const e=z.useRef({value:n,previous:n});return z.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function hm(n){const[e,t]=z.useState(void 0);return Xi(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Gf="Switch",[Ek]=od(Gf),[Pk,Lk]=Ek(Gf),m5=z.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:o,required:l,disabled:c,value:u="on",onCheckedChange:h,form:f,...v}=n,[b,y]=z.useState(null),C=cr(e,P=>y(P)),S=z.useRef(!1),j=b?f||!!b.closest("form"):!0,[k,O]=Xd({prop:i,defaultProp:o??!1,onChange:h,caller:Gf});return p.jsxs(Pk,{scope:t,checked:k,disabled:c,children:[p.jsx(jn.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":b5(k),"data-disabled":c?"":void 0,disabled:c,value:u,...v,ref:C,onClick:Vn(n.onClick,P=>{O(R=>!R),j&&(S.current=P.isPropagationStopped(),S.current||P.stopPropagation())})}),j&&p.jsx(w5,{control:b,bubbles:!S.current,name:r,value:u,checked:k,required:l,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});m5.displayName=Gf;var v5="SwitchThumb",y5=z.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=Lk(v5,t);return p.jsx(jn.span,{"data-state":b5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});y5.displayName=v5;var Tk="SwitchBubbleInput",w5=z.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},o)=>{const l=z.useRef(null),c=cr(l,o),u=dm(t),h=hm(e);return z.useEffect(()=>{const f=l.current;if(!f)return;const v=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==t&&y){const C=new Event("click",{bubbles:r});y.call(f,t),f.dispatchEvent(C)}},[u,t,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});w5.displayName=Tk;function b5(n){return n?"checked":"unchecked"}var Rk=m5,Ok=y5;function fm({className:n,...e}){return p.jsx(Rk,{"data-slot":"switch",className:Un("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(Ok,{"data-slot":"switch-thumb",className:Un("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Ik=({token:n,onOrganizationClick:e})=>{const[t,r]=z.useState([]),[i,o]=z.useState(!0),[l,c]=z.useState(!1),[u,h]=z.useState(!1),[f,v]=z.useState(null),[b,y]=z.useState(!1),[C,S]=z.useState(""),[j,k]=z.useState("name"),[O,P]=z.useState("asc"),[R,ee]=z.useState({companyName:"",pan:"",phoneNo:"",email:"",gstNo:"",address:""}),ne=async()=>{try{const I=await fetch("http://localhost:8000/make-server-60660975/organizations",{headers:{Authorization:`Bearer ${n}`}}),q=await I.json();if(!I.ok){console.error("Error fetching organizations:",q.error),Je.error(q.error||"Failed to fetch organizations");return}r(q.organizations||[])}catch(I){console.error("Error fetching organizations:",I),Je.error("Failed to fetch organizations")}finally{o(!1)}};z.useEffect(()=>{ne()},[n]);const X=async I=>{I.preventDefault();try{const q=(R.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(q.length!==15){Je.error("GST number must be exactly 15 characters");return}const ce={...R,pan:(R.pan||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10),gstNo:q},J=await fetch("http://localhost:8000/make-server-60660975/organizations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(ce)}),re=await J.json();if(!J.ok){console.error("Error creating organization:",re.error),Je.error(re.error||"Failed to create organization");return}Je.success("Organization created successfully!"),c(!1),ee({companyName:"",pan:"",phoneNo:"",email:"",gstNo:"",address:""}),ne()}catch(q){console.error("Error creating organization:",q),Je.error("Failed to create organization")}},W=async I=>{if(I.preventDefault(),!!f)try{const q=(R.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(q.length!==15){Je.error("GST number must be exactly 15 characters");return}const ce={...R,pan:(R.pan||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10),gstNo:q},J=await fetch(`http://localhost:8000/make-server-60660975/organizations/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(ce)}),re=await J.json();if(!J.ok){console.error("Error updating organization:",re.error),Je.error(re.error||"Failed to update organization");return}Je.success("Organization updated successfully!"),h(!1),v(null),ne()}catch(q){console.error("Error updating organization:",q),Je.error("Failed to update organization")}},M=async I=>{try{const q=await fetch(`http://localhost:8000/make-server-60660975/organizations/${I.id}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({archived:!I.archived})}),ce=await q.json();if(!q.ok){console.error("Error archiving organization:",ce.error),Je.error(ce.error||"Failed to archive organization");return}Je.success(I.archived?"Organization unarchived!":"Organization archived!"),ne()}catch(q){console.error("Error archiving organization:",q),Je.error("Failed to archive organization")}},K=(I,q)=>{if(I==="pan"){const ce=q.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,10);ee({...R,pan:ce});return}if(I==="gstNo"){const ce=q.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,15);ee({...R,gstNo:ce});return}ee({...R,[I]:q})},L=I=>{v(I),ee({companyName:I.name,pan:I.pan||"",phoneNo:I.phone_no||"",email:I.email||"",gstNo:I.gst_no||"",address:I.address||""}),h(!0)};let D=t.filter(I=>b?I.archived:!I.archived);if(C&&C.trim()!==""){const I=C.trim().toLowerCase();D=D.filter(q=>(q.name||"").toLowerCase().includes(I)||(q.organization_code||"").toLowerCase().includes(I)||(q.email||"").toLowerCase().includes(I))}return D=D.sort((I,q)=>{let ce="",J="";switch(j){case"code":ce=(I.organization_code||"").toLowerCase(),J=(q.organization_code||"").toLowerCase();break;case"created":ce=new Date(I.created_at).getTime(),J=new Date(q.created_at).getTime();break;case"name":default:ce=(I.name||"").toLowerCase(),J=(q.name||"").toLowerCase();break}return ce<J?O==="asc"?-1:1:ce>J?O==="asc"?1:-1:0}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{children:"Organizations"}),p.jsx("p",{className:"text-gray-600",children:"Manage water dispenser organizations"})]}),p.jsxs(Ki,{open:l,onOpenChange:c,children:[p.jsx(td,{asChild:!0,children:p.jsxs(St,{children:[p.jsx(sh,{className:"w-4 h-4 mr-2"}),"Add Organization"]})}),p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Add New Organization"}),p.jsx(us,{children:"Create a new organization with company details"})]}),p.jsxs("form",{onSubmit:X,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"companyName",children:"Company Name *"}),p.jsx(en,{id:"companyName",value:R.companyName,onChange:I=>K("companyName",I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"pan",children:"PAN *"}),p.jsx(en,{id:"pan",value:R.pan,onChange:I=>K("pan",I.target.value.toUpperCase()),maxLength:10,placeholder:"ABCDE1234F",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"phoneNo",children:"Phone Number *"}),p.jsx(en,{id:"phoneNo",type:"tel",value:R.phoneNo,onChange:I=>K("phoneNo",I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"email",children:"Email *"}),p.jsx(en,{id:"email",type:"email",value:R.email,onChange:I=>K("email",I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"gstNo",children:"GST Number *"}),p.jsx(en,{id:"gstNo",value:R.gstNo,onChange:I=>K("gstNo",I.target.value.toUpperCase()),maxLength:15,placeholder:"22ABCDE1234F1Z5",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"address",children:"Address"}),p.jsx(en,{id:"address",value:R.address,onChange:I=>K("address",I.target.value)})]}),p.jsx(St,{type:"submit",className:"w-full",children:"Create Organization"})]})]})]})]}),p.jsx(Ki,{open:u,onOpenChange:h,children:p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Edit Organization"}),p.jsx(us,{children:"Update organization information"})]}),p.jsxs("form",{onSubmit:W,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-companyName",children:"Company Name *"}),p.jsx(en,{id:"edit-companyName",value:R.companyName,onChange:I=>K("companyName",I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-pan",children:"PAN *"}),p.jsx(en,{id:"edit-pan",value:R.pan,onChange:I=>K("pan",I.target.value.toUpperCase()),maxLength:10,required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-phoneNo",children:"Phone Number *"}),p.jsx(en,{id:"edit-phoneNo",type:"tel",value:R.phoneNo,onChange:I=>K("phoneNo",I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-email",children:"Email *"}),p.jsx(en,{id:"edit-email",type:"email",value:R.email,onChange:I=>K("email",I.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-gstNo",children:"GST Number *"}),p.jsx(en,{id:"edit-gstNo",value:R.gstNo,onChange:I=>K("gstNo",I.target.value.toUpperCase()),maxLength:15,required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-address",children:"Address"}),p.jsx(en,{id:"edit-address",value:R.address,onChange:I=>K("address",I.target.value)})]}),p.jsx(St,{type:"submit",className:"w-full",children:"Update Organization"})]})]})}),p.jsxs(Ws,{className:"shadow-sm border-2 border-gray-400",children:[p.jsx(Wo,{className:"bg-white border-b-2 border-gray-400 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(ka,{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:p.jsx(Kl,{className:"w-5 h-5 text-slate-700"})}),p.jsxs("span",{className:"text-slate-900",children:["Organizations (",D.length,")"]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(en,{id:"search-org",placeholder:"Search organizations",value:C,onChange:I=>S(I.target.value),className:"w-72"}),p.jsxs("select",{title:"Sort organizations by",value:j,onChange:I=>k(I.target.value),className:"border rounded px-2 py-1 text-sm",children:[p.jsx("option",{value:"name",children:"Name"}),p.jsx("option",{value:"code",children:"Code"}),p.jsx("option",{value:"created",children:"Created"})]}),p.jsxs("select",{title:"Sort direction",value:O,onChange:I=>P(I.target.value),className:"border rounded px-2 py-1 text-sm",children:[p.jsx("option",{value:"asc",children:"Asc"}),p.jsx("option",{value:"desc",children:"Desc"})]}),p.jsx(jt,{htmlFor:"show-archived",className:"text-sm text-slate-600 cursor-pointer select-none",children:"Show Archived"}),p.jsx(fm,{id:"show-archived",checked:b,onCheckedChange:y})]})]})}),p.jsx(Vs,{className:"p-0",children:i?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"w-12 h-12 border-3 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Loading organizations..."})]}):D.length===0?p.jsxs("div",{className:"text-center py-16",children:[p.jsx(Kl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-500",children:b?"No archived organizations found.":"No organizations found. Add your first organization!"})]}):p.jsx("div",{className:"divide-y divide-gray-200",children:D.map(I=>p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors group",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:p.jsx(Kl,{className:"w-5 h-5 text-slate-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-slate-900 font-bold",children:I.name}),p.jsxs("p",{className:"text-xs text-slate-500 font-bold mt-0.5",children:[I.organization_code||"N/A","  ",I.archived?"Archived":"Active"]}),p.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[I.email,"  ",I.phone_no]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[e&&p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>e(I.id),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View details",children:p.jsx(LN,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>L(I),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"Edit organization",children:p.jsx(Af,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>M(I),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:I.archived?"Unarchive":"Archive",children:I.archived?p.jsx(Qd,{className:"w-4 h-4"}):p.jsx(Zu,{className:"w-4 h-4"})})]})]},I.id))})})]})]})};function Ef({className:n,...e}){return p.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:p.jsx("table",{"data-slot":"table",className:Un("w-full caption-bottom text-sm",n),...e})})}function Pf({className:n,...e}){return p.jsx("thead",{"data-slot":"table-header",className:Un("[&_tr]:border-b-2",n),...e})}function Lf({className:n,...e}){return p.jsx("tbody",{"data-slot":"table-body",className:Un("[&_tr:last-child]:border-0",n),...e})}function Vl({className:n,...e}){return p.jsx("tr",{"data-slot":"table-row",className:Un("hover:bg-muted/50 data-[state=selected]:bg-muted border-b-2 transition-colors",n),...e})}function vr({className:n,...e}){return p.jsx("th",{"data-slot":"table-head",className:Un("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function yr({className:n,...e}){return p.jsx("td",{"data-slot":"table-cell",className:Un("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const Dk=Zy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function x5({className:n,variant:e,asChild:t=!1,...r}){const i=t?Jy:"span";return p.jsx(i,{"data-slot":"badge",className:Un(Dk({variant:e}),n),...r})}var Tu={},fg,zv;function Fk(){return zv||(zv=1,fg=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),fg}var pg={},zl={},Uv;function Hc(){if(Uv)return zl;Uv=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return zl.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},zl.getSymbolTotalCodewords=function(r){return e[r]},zl.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},zl.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},zl.isKanjiModeEnabled=function(){return typeof n<"u"},zl.toSJIS=function(r){return n(r)},zl}var gg={},$v;function pm(){return $v||($v=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(gg)),gg}var mg,qv;function Mk(){if(qv)return mg;qv=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},mg=n,mg}var vg,Hv;function Bk(){if(Hv)return vg;Hv=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const o=e*this.size+t;this.data[o]=r,i&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},vg=n,vg}var yg={},Wv;function zk(){return Wv||(Wv=1,(function(n){const e=Hc().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),l=o===145?26:Math.ceil((o-13)/(2*i-2))*2,c=[o-7];for(let u=1;u<i-1;u++)c[u]=c[u-1]-l;return c.push(6),c.reverse()},n.getPositions=function(r){const i=[],o=n.getRowColCoords(r),l=o.length;for(let c=0;c<l;c++)for(let u=0;u<l;u++)c===0&&u===0||c===0&&u===l-1||c===l-1&&u===0||i.push([o[c],o[u]]);return i}})(yg)),yg}var wg={},Vv;function Uk(){if(Vv)return wg;Vv=1;const n=Hc().getSymbolSize,e=7;return wg.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},wg}var bg={},Gv;function $k(){return Gv||(Gv=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const o=i.size;let l=0,c=0,u=0,h=null,f=null;for(let v=0;v<o;v++){c=u=0,h=f=null;for(let b=0;b<o;b++){let y=i.get(v,b);y===h?c++:(c>=5&&(l+=e.N1+(c-5)),h=y,c=1),y=i.get(b,v),y===f?u++:(u>=5&&(l+=e.N1+(u-5)),f=y,u=1)}c>=5&&(l+=e.N1+(c-5)),u>=5&&(l+=e.N1+(u-5))}return l},n.getPenaltyN2=function(i){const o=i.size;let l=0;for(let c=0;c<o-1;c++)for(let u=0;u<o-1;u++){const h=i.get(c,u)+i.get(c,u+1)+i.get(c+1,u)+i.get(c+1,u+1);(h===4||h===0)&&l++}return l*e.N2},n.getPenaltyN3=function(i){const o=i.size;let l=0,c=0,u=0;for(let h=0;h<o;h++){c=u=0;for(let f=0;f<o;f++)c=c<<1&2047|i.get(h,f),f>=10&&(c===1488||c===93)&&l++,u=u<<1&2047|i.get(f,h),f>=10&&(u===1488||u===93)&&l++}return l*e.N3},n.getPenaltyN4=function(i){let o=0;const l=i.data.length;for(let u=0;u<l;u++)o+=i.data[u];return Math.abs(Math.ceil(o*100/l/5)-10)*e.N4};function t(r,i,o){switch(r){case n.Patterns.PATTERN000:return(i+o)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(i+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return i*o%2+i*o%3===0;case n.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case n.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,o){const l=o.size;for(let c=0;c<l;c++)for(let u=0;u<l;u++)o.isReserved(u,c)||o.xor(u,c,t(i,u,c))},n.getBestMask=function(i,o){const l=Object.keys(n.Patterns).length;let c=0,u=1/0;for(let h=0;h<l;h++){o(h),n.applyMask(h,i);const f=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(h,i),f<u&&(u=f,c=h)}return c}})(bg)),bg}var nf={},Kv;function _5(){if(Kv)return nf;Kv=1;const n=pm(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return nf.getBlocksCount=function(i,o){switch(o){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},nf.getTotalCodewordsCount=function(i,o){switch(o){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},nf}var xg={},Fd={},Yv;function qk(){if(Yv)return Fd;Yv=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),Fd.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Fd.exp=function(r){return n[r]},Fd.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},Fd}var Jv;function Hk(){return Jv||(Jv=1,(function(n){const e=qk();n.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<i.length;c++)o[l+c]^=e.mul(r[l],i[c]);return o},n.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const l=o[0];for(let u=0;u<i.length;u++)o[u]^=e.mul(i[u],l);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=n.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(xg)),xg}var _g,Qv;function Wk(){if(Qv)return _g;Qv=1;const n=Hk();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const o=n.mod(i,this.genPoly),l=this.degree-o.length;if(l>0){const c=new Uint8Array(this.degree);return c.set(o,l),c}return o},_g=e,_g}var Sg={},Ng={},kg={},Xv;function S5(){return Xv||(Xv=1,kg.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),kg}var ya={},Zv;function N5(){if(Zv)return ya;Zv=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;ya.KANJI=new RegExp(t,"g"),ya.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ya.BYTE=new RegExp(r,"g"),ya.NUMERIC=new RegExp(n,"g"),ya.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ya.testKanji=function(u){return i.test(u)},ya.testNumeric=function(u){return o.test(u)},ya.testAlphanumeric=function(u){return l.test(u)},ya}var e2;function Wc(){return e2||(e2=1,(function(n){const e=S5(),t=N5();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,l){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?o.ccBits[0]:l<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(o,l){if(n.isValid(o))return o;try{return r(o)}catch{return l}}})(Ng)),Ng}var t2;function Vk(){return t2||(t2=1,(function(n){const e=Hc(),t=_5(),r=pm(),i=Wc(),o=S5(),l=7973,c=e.getBCHDigit(l);function u(b,y,C){for(let S=1;S<=40;S++)if(y<=n.getCapacity(S,C,b))return S}function h(b,y){return i.getCharCountIndicator(b,y)+4}function f(b,y){let C=0;return b.forEach(function(S){const j=h(S.mode,y);C+=j+S.getBitsLength()}),C}function v(b,y){for(let C=1;C<=40;C++)if(f(b,C)<=n.getCapacity(C,y,i.MIXED))return C}n.from=function(y,C){return o.isValid(y)?parseInt(y,10):C},n.getCapacity=function(y,C,S){if(!o.isValid(y))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=i.BYTE);const j=e.getSymbolTotalCodewords(y),k=t.getTotalCodewordsCount(y,C),O=(j-k)*8;if(S===i.MIXED)return O;const P=O-h(S,y);switch(S){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},n.getBestVersionForData=function(y,C){let S;const j=r.from(C,r.M);if(Array.isArray(y)){if(y.length>1)return v(y,j);if(y.length===0)return 1;S=y[0]}else S=y;return u(S.mode,S.getLength(),j)},n.getEncodedBits=function(y){if(!o.isValid(y)||y<7)throw new Error("Invalid QR Code version");let C=y<<12;for(;e.getBCHDigit(C)-c>=0;)C^=l<<e.getBCHDigit(C)-c;return y<<12|C}})(Sg)),Sg}var Cg={},n2;function Gk(){if(n2)return Cg;n2=1;const n=Hc(),e=1335,t=21522,r=n.getBCHDigit(e);return Cg.getEncodedBits=function(o,l){const c=o.bit<<3|l;let u=c<<10;for(;n.getBCHDigit(u)-r>=0;)u^=e<<n.getBCHDigit(u)-r;return(c<<10|u)^t},Cg}var Ag={},jg,r2;function Kk(){if(r2)return jg;r2=1;const n=Wc();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,o,l;for(i=0;i+3<=this.data.length;i+=3)o=this.data.substr(i,3),l=parseInt(o,10),r.put(l,10);const c=this.data.length-i;c>0&&(o=this.data.substr(i),l=parseInt(o,10),r.put(l,c*3+1))},jg=e,jg}var Eg,i2;function Yk(){if(i2)return Eg;i2=1;const n=Wc(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let o;for(o=0;o+2<=this.data.length;o+=2){let l=e.indexOf(this.data[o])*45;l+=e.indexOf(this.data[o+1]),i.put(l,11)}this.data.length%2&&i.put(e.indexOf(this.data[o]),6)},Eg=t,Eg}var Pg,s2;function Jk(){if(s2)return Pg;s2=1;const n=Wc();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},Pg=e,Pg}var Lg,o2;function Qk(){if(o2)return Lg;o2=1;const n=Wc(),e=Hc();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let o=e.toSJIS(this.data[i]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},Lg=t,Lg}var Tg={exports:{}},a2;function Xk(){return a2||(a2=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var o={},l={};l[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var u,h,f,v,b,y,C,S,j;!c.empty();){u=c.pop(),h=u.value,v=u.cost,b=t[h]||{};for(f in b)b.hasOwnProperty(f)&&(y=b[f],C=v+y,S=l[f],j=typeof l[f]>"u",(j||S>C)&&(l[f]=C,c.push(f,C),o[f]=h))}if(typeof i<"u"&&typeof l[i]>"u"){var k=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(k)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],o=r;o;)i.push(o),t[o],o=t[o];return i.reverse(),i},find_path:function(t,r,i){var o=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(Tg)),Tg.exports}var l2;function Zk(){return l2||(l2=1,(function(n){const e=Wc(),t=Kk(),r=Yk(),i=Jk(),o=Qk(),l=N5(),c=Hc(),u=Xk();function h(k){return unescape(encodeURIComponent(k)).length}function f(k,O,P){const R=[];let ee;for(;(ee=k.exec(P))!==null;)R.push({data:ee[0],index:ee.index,mode:O,length:ee[0].length});return R}function v(k){const O=f(l.NUMERIC,e.NUMERIC,k),P=f(l.ALPHANUMERIC,e.ALPHANUMERIC,k);let R,ee;return c.isKanjiModeEnabled()?(R=f(l.BYTE,e.BYTE,k),ee=f(l.KANJI,e.KANJI,k)):(R=f(l.BYTE_KANJI,e.BYTE,k),ee=[]),O.concat(P,R,ee).sort(function(X,W){return X.index-W.index}).map(function(X){return{data:X.data,mode:X.mode,length:X.length}})}function b(k,O){switch(O){case e.NUMERIC:return t.getBitsLength(k);case e.ALPHANUMERIC:return r.getBitsLength(k);case e.KANJI:return o.getBitsLength(k);case e.BYTE:return i.getBitsLength(k)}}function y(k){return k.reduce(function(O,P){const R=O.length-1>=0?O[O.length-1]:null;return R&&R.mode===P.mode?(O[O.length-1].data+=P.data,O):(O.push(P),O)},[])}function C(k){const O=[];for(let P=0;P<k.length;P++){const R=k[P];switch(R.mode){case e.NUMERIC:O.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:O.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:O.push([R,{data:R.data,mode:e.BYTE,length:h(R.data)}]);break;case e.BYTE:O.push([{data:R.data,mode:e.BYTE,length:h(R.data)}])}}return O}function S(k,O){const P={},R={start:{}};let ee=["start"];for(let ne=0;ne<k.length;ne++){const X=k[ne],W=[];for(let M=0;M<X.length;M++){const K=X[M],L=""+ne+M;W.push(L),P[L]={node:K,lastCount:0},R[L]={};for(let D=0;D<ee.length;D++){const I=ee[D];P[I]&&P[I].node.mode===K.mode?(R[I][L]=b(P[I].lastCount+K.length,K.mode)-b(P[I].lastCount,K.mode),P[I].lastCount+=K.length):(P[I]&&(P[I].lastCount=K.length),R[I][L]=b(K.length,K.mode)+4+e.getCharCountIndicator(K.mode,O))}}ee=W}for(let ne=0;ne<ee.length;ne++)R[ee[ne]].end=0;return{map:R,table:P}}function j(k,O){let P;const R=e.getBestModeForData(k);if(P=e.from(O,R),P!==e.BYTE&&P.bit<R.bit)throw new Error('"'+k+'" cannot be encoded with mode '+e.toString(P)+`.
 Suggested mode is: `+e.toString(R));switch(P===e.KANJI&&!c.isKanjiModeEnabled()&&(P=e.BYTE),P){case e.NUMERIC:return new t(k);case e.ALPHANUMERIC:return new r(k);case e.KANJI:return new o(k);case e.BYTE:return new i(k)}}n.fromArray=function(O){return O.reduce(function(P,R){return typeof R=="string"?P.push(j(R,null)):R.data&&P.push(j(R.data,R.mode)),P},[])},n.fromString=function(O,P){const R=v(O,c.isKanjiModeEnabled()),ee=C(R),ne=S(ee,P),X=u.find_path(ne.map,"start","end"),W=[];for(let M=1;M<X.length-1;M++)W.push(ne.table[X[M]].node);return n.fromArray(y(W))},n.rawSplit=function(O){return n.fromArray(v(O,c.isKanjiModeEnabled()))}})(Ag)),Ag}var c2;function eC(){if(c2)return pg;c2=1;const n=Hc(),e=pm(),t=Mk(),r=Bk(),i=zk(),o=Uk(),l=$k(),c=_5(),u=Wk(),h=Vk(),f=Gk(),v=Wc(),b=Zk();function y(ne,X){const W=ne.size,M=o.getPositions(X);for(let K=0;K<M.length;K++){const L=M[K][0],D=M[K][1];for(let I=-1;I<=7;I++)if(!(L+I<=-1||W<=L+I))for(let q=-1;q<=7;q++)D+q<=-1||W<=D+q||(I>=0&&I<=6&&(q===0||q===6)||q>=0&&q<=6&&(I===0||I===6)||I>=2&&I<=4&&q>=2&&q<=4?ne.set(L+I,D+q,!0,!0):ne.set(L+I,D+q,!1,!0))}}function C(ne){const X=ne.size;for(let W=8;W<X-8;W++){const M=W%2===0;ne.set(W,6,M,!0),ne.set(6,W,M,!0)}}function S(ne,X){const W=i.getPositions(X);for(let M=0;M<W.length;M++){const K=W[M][0],L=W[M][1];for(let D=-2;D<=2;D++)for(let I=-2;I<=2;I++)D===-2||D===2||I===-2||I===2||D===0&&I===0?ne.set(K+D,L+I,!0,!0):ne.set(K+D,L+I,!1,!0)}}function j(ne,X){const W=ne.size,M=h.getEncodedBits(X);let K,L,D;for(let I=0;I<18;I++)K=Math.floor(I/3),L=I%3+W-8-3,D=(M>>I&1)===1,ne.set(K,L,D,!0),ne.set(L,K,D,!0)}function k(ne,X,W){const M=ne.size,K=f.getEncodedBits(X,W);let L,D;for(L=0;L<15;L++)D=(K>>L&1)===1,L<6?ne.set(L,8,D,!0):L<8?ne.set(L+1,8,D,!0):ne.set(M-15+L,8,D,!0),L<8?ne.set(8,M-L-1,D,!0):L<9?ne.set(8,15-L-1+1,D,!0):ne.set(8,15-L-1,D,!0);ne.set(M-8,8,1,!0)}function O(ne,X){const W=ne.size;let M=-1,K=W-1,L=7,D=0;for(let I=W-1;I>0;I-=2)for(I===6&&I--;;){for(let q=0;q<2;q++)if(!ne.isReserved(K,I-q)){let ce=!1;D<X.length&&(ce=(X[D]>>>L&1)===1),ne.set(K,I-q,ce),L--,L===-1&&(D++,L=7)}if(K+=M,K<0||W<=K){K-=M,M=-M;break}}}function P(ne,X,W){const M=new t;W.forEach(function(q){M.put(q.mode.bit,4),M.put(q.getLength(),v.getCharCountIndicator(q.mode,ne)),q.write(M)});const K=n.getSymbolTotalCodewords(ne),L=c.getTotalCodewordsCount(ne,X),D=(K-L)*8;for(M.getLengthInBits()+4<=D&&M.put(0,4);M.getLengthInBits()%8!==0;)M.putBit(0);const I=(D-M.getLengthInBits())/8;for(let q=0;q<I;q++)M.put(q%2?17:236,8);return R(M,ne,X)}function R(ne,X,W){const M=n.getSymbolTotalCodewords(X),K=c.getTotalCodewordsCount(X,W),L=M-K,D=c.getBlocksCount(X,W),I=M%D,q=D-I,ce=Math.floor(M/D),J=Math.floor(L/D),re=J+1,V=ce-J,ge=new u(V);let _e=0;const te=new Array(D),T=new Array(D);let $=0;const Y=new Uint8Array(ne.buffer);for(let ye=0;ye<D;ye++){const Ce=ye<q?J:re;te[ye]=Y.slice(_e,_e+Ce),T[ye]=ge.encode(te[ye]),_e+=Ce,$=Math.max($,Ce)}const oe=new Uint8Array(M);let pe=0,le,me;for(le=0;le<$;le++)for(me=0;me<D;me++)le<te[me].length&&(oe[pe++]=te[me][le]);for(le=0;le<V;le++)for(me=0;me<D;me++)oe[pe++]=T[me][le];return oe}function ee(ne,X,W,M){let K;if(Array.isArray(ne))K=b.fromArray(ne);else if(typeof ne=="string"){let ce=X;if(!ce){const J=b.rawSplit(ne);ce=h.getBestVersionForData(J,W)}K=b.fromString(ne,ce||40)}else throw new Error("Invalid data");const L=h.getBestVersionForData(K,W);if(!L)throw new Error("The amount of data is too big to be stored in a QR Code");if(!X)X=L;else if(X<L)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+L+`.
`);const D=P(X,W,K),I=n.getSymbolSize(X),q=new r(I);return y(q,X),C(q),S(q,X),k(q,W,0),X>=7&&j(q,X),O(q,D),isNaN(M)&&(M=l.getBestMask(q,k.bind(null,q,W))),l.applyMask(M,q),k(q,W,M),{modules:q,version:X,errorCorrectionLevel:W,maskPattern:M,segments:K}}return pg.create=function(X,W){if(typeof X>"u"||X==="")throw new Error("No input text");let M=e.M,K,L;return typeof W<"u"&&(M=e.from(W.errorCorrectionLevel,e.M),K=h.from(W.version),L=l.from(W.maskPattern),W.toSJISFunc&&n.setToSJISFunction(W.toSJISFunc)),ee(X,K,M,L)},pg}var Rg={},Og={},u2;function k5(){return u2||(u2=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:o,scale:o?4:l,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const o=n.getScale(r,i);return Math.floor((r+i.margin*2)*o)},n.qrToImageData=function(r,i,o){const l=i.modules.size,c=i.modules.data,u=n.getScale(l,o),h=Math.floor((l+o.margin*2)*u),f=o.margin*u,v=[o.color.light,o.color.dark];for(let b=0;b<h;b++)for(let y=0;y<h;y++){let C=(b*h+y)*4,S=o.color.light;if(b>=f&&y>=f&&b<h-f&&y<h-f){const j=Math.floor((b-f)/u),k=Math.floor((y-f)/u);S=v[c[j*l+k]?1:0]}r[C++]=S.r,r[C++]=S.g,r[C++]=S.b,r[C]=S.a}}})(Og)),Og}var d2;function tC(){return d2||(d2=1,(function(n){const e=k5();function t(i,o,l){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=l,o.width=l,o.style.height=l+"px",o.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,l,c){let u=c,h=l;typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),l||(h=r()),u=e.getOptions(u);const f=e.getImageWidth(o.modules.size,u),v=h.getContext("2d"),b=v.createImageData(f,f);return e.qrToImageData(b.data,o,u),t(v,h,f),v.putImageData(b,0,0),h},n.renderToDataURL=function(o,l,c){let u=c;typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),u||(u={});const h=n.render(o,l,u),f=u.type||"image/png",v=u.rendererOpts||{};return h.toDataURL(f,v.quality)}})(Rg)),Rg}var Ig={},h2;function nC(){if(h2)return Ig;h2=1;const n=k5();function e(i,o){const l=i.a/255,c=o+'="'+i.hex+'"';return l<1?c+" "+o+'-opacity="'+l.toFixed(2).slice(1)+'"':c}function t(i,o,l){let c=i+o;return typeof l<"u"&&(c+=" "+l),c}function r(i,o,l){let c="",u=0,h=!1,f=0;for(let v=0;v<i.length;v++){const b=Math.floor(v%o),y=Math.floor(v/o);!b&&!h&&(h=!0),i[v]?(f++,v>0&&b>0&&i[v-1]||(c+=h?t("M",b+l,.5+y+l):t("m",u,0),u=0,h=!1),b+1<o&&i[v+1]||(c+=t("h",f),f=0)):u++}return c}return Ig.render=function(o,l,c){const u=n.getOptions(l),h=o.modules.size,f=o.modules.data,v=h+u.margin*2,b=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",y="<path "+e(u.color.dark,"stroke")+' d="'+r(f,h,u.margin)+'"/>',C='viewBox="0 0 '+v+" "+v+'"',j='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+C+' shape-rendering="crispEdges">'+b+y+`</svg>
`;return typeof c=="function"&&c(null,j),j},Ig}var f2;function rC(){if(f2)return Tu;f2=1;const n=Fk(),e=eC(),t=tC(),r=nC();function i(o,l,c,u,h){const f=[].slice.call(arguments,1),v=f.length,b=typeof f[v-1]=="function";if(!b&&!n())throw new Error("Callback required as last argument");if(b){if(v<2)throw new Error("Too few arguments provided");v===2?(h=c,c=l,l=u=void 0):v===3&&(l.getContext&&typeof h>"u"?(h=u,u=void 0):(h=u,u=c,c=l,l=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(c=l,l=u=void 0):v===2&&!l.getContext&&(u=c,c=l,l=void 0),new Promise(function(y,C){try{const S=e.create(c,u);y(o(S,l,u))}catch(S){C(S)}})}try{const y=e.create(c,u);h(null,o(y,l,u))}catch(y){h(y)}}return Tu.create=e.create,Tu.toCanvas=i.bind(null,t.render),Tu.toDataURL=i.bind(null,t.renderToDataURL),Tu.toString=i.bind(null,function(o,l,c){return r.render(o,c)}),Tu}var iC=rC();const Hu=qf(iC),sC=({token:n,organizationId:e,onBack:t})=>{const[r,i]=z.useState(null),[o,l]=z.useState([]),[c,u]=z.useState(!0),[h,f]=z.useState(!1),[v,b]=z.useState(!1),[y,C]=z.useState(null),[S,j]=z.useState(!1),[k,O]=z.useState(""),[P,R]=z.useState(""),[ee,ne]=z.useState(!1),[X,W]=z.useState(!1),[M,K]=z.useState({companyName:"",pan:"",phoneNo:"",email:"",gstNo:""}),[L,D]=z.useState({deviceName:"",serialNumber:"",brandSerialNumber:"",model:""}),[I,q]=z.useState(!1),[ce,J]=z.useState(null),[re,V]=z.useState([]),[ge,_e]=z.useState(!1),[te,T]=z.useState([]);z.useEffect(()=>{$(),Y(),oe()},[e,n]);const $=async()=>{try{const we=await fetch("http://localhost:8000/make-server-60660975/organizations",{headers:{Authorization:`Bearer ${n}`}}),de=await we.json();if(we.ok){const Pe=de.organizations?.find(Ge=>Ge.id===e);i(Pe||null)}}catch(we){console.error("Error fetching organization:",we),Je.error("Failed to fetch organization details")}},Y=async()=>{try{const we=await fetch("http://localhost:8000/make-server-60660975/devices",{headers:{Authorization:`Bearer ${n}`}}),de=await we.json();if(!we.ok){console.error("Error fetching devices:",de.error),Je.error(de.error||"Failed to fetch devices");return}const Pe=(de.devices||[]).filter(Ge=>Ge.organization_id===e&&!Ge.is_archived);l(Pe)}catch(we){console.error("Error fetching devices:",we),Je.error("Failed to fetch devices")}finally{u(!1)}},oe=async()=>{try{const we=await fetch("http://localhost:8000/make-server-60660975/technicians",{headers:{Authorization:`Bearer ${n}`}}),de=await we.json();we.ok&&T(de.technicians||[])}catch(we){console.error("Error fetching technicians:",we)}},pe=async we=>{we.preventDefault();try{const de=await fetch("http://localhost:8000/make-server-60660975/devices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({deviceName:L.deviceName,organizationId:e,brandSerialNumber:L.brandSerialNumber,model:L.model})}),Pe=await de.json();if(!de.ok){console.error("Error creating device:",Pe.error),Je.error(Pe.error||"Failed to create device");return}Je.success("Device created successfully with QR code!"),f(!1),D({deviceName:"",serialNumber:"",brandSerialNumber:"",model:""}),Y()}catch(de){console.error("Error creating device:",de),Je.error("Failed to create device")}},le=async we=>{if(we.preventDefault(),!!y)try{const de=await fetch(`http://localhost:8000/make-server-60660975/devices/${y.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({...L,organizationId:e})}),Pe=await de.json();if(!de.ok){console.error("Error updating device:",Pe.error),Je.error(Pe.error||"Failed to update device");return}Je.success("Device updated successfully!"),b(!1),C(null),Y()}catch(de){console.error("Error updating device:",de),Je.error("Failed to update device")}},me=async we=>{try{const de=await fetch(`http://localhost:8000/make-server-60660975/devices/${we.id}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({archived:!we.is_archived})}),Pe=await de.json();if(!de.ok){console.error("Error archiving device:",Pe.error),Je.error(Pe.error||"Failed to archive device");return}Je.success(we.is_archived?"Device unarchived!":"Device archived!"),Y()}catch(de){console.error("Error archiving device:",de),Je.error("Failed to archive device")}},ye=(we,de)=>{D({...L,[we]:de})},Ce=(we,de)=>{if(we==="pan"){const Pe=de.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,10);K({...M,pan:Pe});return}if(we==="gstNo"){const Pe=de.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,15);K({...M,gstNo:Pe});return}K({...M,[we]:de})},Re=()=>{r&&(K({companyName:r.name||"",pan:(r.pan||"").toUpperCase().slice(0,10),phoneNo:r.phone_no||"",email:r.email||"",gstNo:(r.gst_no||"").toUpperCase().slice(0,15)}),W(!0))},He=async we=>{if(we.preventDefault(),!!r)try{const de=(M.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(de.length!==15||!/^\d{2}[A-Z0-9]{10}\dZ[A-Z0-9]$/.test(de)){Je.error("Invalid GST number. It must be 15 characters, start with 2 digits, have Z as 14th character.");return}const Pe={...M,pan:(M.pan||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10),gstNo:(M.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,15)},Ge=await fetch(`http://localhost:8000/make-server-60660975/organizations/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(Pe)}),Ze=await Ge.json();if(!Ge.ok){console.error("Error updating organization:",Ze.error),Je.error(Ze.error||"Failed to update organization");return}Je.success("Organization updated successfully!"),W(!1),$()}catch(de){console.error("Error updating organization:",de),Je.error("Failed to update organization")}},Ve=we=>{C(we),D({deviceName:we.name,serialNumber:we.serial_number,brandSerialNumber:we.brand_serial_number||"",model:we.model||""}),b(!0)},Ie=async we=>{try{const de=await Hu.toDataURL(we,{width:300,margin:2});R(de),O(we),j(!0)}catch(de){console.error("Error generating QR code:",de),Je.error("Failed to generate QR code")}},ue=we=>{const de=te.find(Pe=>Pe.id===we);return de?de.name:"Unknown"},Rt=async we=>{J(we),q(!0),_e(!0);try{const de=await fetch(`http://localhost:8000/make-server-60660975/maintenance/device/${we.id}`,{headers:{Authorization:`Bearer ${n}`}}),Pe=await de.json();de.ok?V(Pe.maintenance||[]):(Je.error(Pe.error||"Failed to fetch device history"),V([]))}catch(de){console.error("Error fetching device history:",de),Je.error("Failed to fetch device history"),V([])}finally{_e(!1)}},lt=()=>{if(!ce)return;const we=`Maintenance Report - ${ce.name}`,de=r?.name||"",Pe=re.map(st=>`
      <tr>
        <td style="padding:8px;border:1px solid #ddd">${new Date(st.created_at).toLocaleDateString("en-IN")}</td>
        <td style="padding:8px;border:1px solid #ddd">${ue(st.technician_id)}</td>
        <td style="padding:8px;border:1px solid #ddd">${st.status||"Yet to Start"}</td>
        <td style="padding:8px;border:1px solid #ddd">${(st.description||"-").replace(/\n/g,"<br/>")}</td>
      </tr>
    `).join(""),Ge=(()=>{if(!re||re.length===0)return null;const st=re.reduce((Vt,Nt)=>{const rt=new Date(Nt.created_at);return rt>Vt?rt:Vt},new Date(re[0].created_at)),ht=new Date(st);return ht.setDate(ht.getDate()+90),ht.toLocaleDateString("en-IN")})(),Ze=`
      <html>
        <head>
          <title>${we}</title>
          <meta name="viewport" content="width=device-width,initial-scale=1" />
          <style>
            body { font-family: Inter, Arial, Helvetica, sans-serif; padding: 20px; color: #111; background: #fff }
            .top { display:flex; gap:12px; align-items:center }
            .logo { width:72px; height:72px; border-radius:6px; display:inline-block; background:#1e90ff; color:#fff; font-weight:700; display:flex; align-items:center; justify-content:center; font-size:20px }
            .org-title { text-align:center; flex:1 }
            .org-title .big { font-size:44px; font-weight:800; color: rgb(204,0,0); letter-spacing:2px; text-transform:uppercase }
            .org-title .addr { font-size:16px; font-weight:700; color:#111; margin-top:8px }
            .org-title .contact { font-size:14px; color:#111; margin-top:6px }
            .sep { height:3px; background:#d1d5db; margin:18px 0; width:100%; }
            .watermark { display:none; }
            @media print {
              .watermark { display:block; position:fixed; left:50%; top:40%; transform:translate(-50%,-50%) rotate(-25deg); width:260px; opacity:0.08; pointer-events:none; z-index:0 }
            }
            .report-title { text-align:center; margin-top:6px; font-weight:700; font-size:16px; color:#2c3e50 }
            .org-box { background:transparent; padding:8px; border-radius:6px; margin-top:8px; text-align:center; font-weight:700; color:#2563eb }
            .serial-red { color: rgb(204,0,0); font-weight:800 }
            .meta { display:flex; justify-content:space-between; margin-top:8px; font-size:12px; color:#505050 }
            .summary { background:#f1f8e9; padding:12px; border-radius:8px; margin-top:12px }
            table { border-collapse:collapse; width:100%; margin-top:12px }
            th, td { padding:8px; border:1px solid #e5e7eb; text-align:left }
            thead th { background:#1976b8; color:#fff; font-weight:700; padding:10px }
            .status-inprogress { display:inline-block; background:#fff4ce; color:#b85c00; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-completed { display:inline-block; background:#e6f9ec; color:#176f2b; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-default { display:inline-block; background:#f3f4f6; color:#374151; padding:6px 10px; border-radius:6px; font-weight:600 }
            @media print { body { padding:8mm } }
          </style>
        </head>
        <body>
          <div class="top">
            <div>
              <img src="/npa-logo.png" onerror="this.style.display='none'" style="width:72px;height:72px;object-fit:contain" />
              <div class="logo" style="display:none">NP</div>
            </div>
            <div class="org-title">
              <div  style="color:red;font-size:30px;font-weight:Bold" >NATIONAL PROCESS AUTOMATION</div>
              <div class="addr">#48, 4th cross, Ganesha Block, Nandini Layout, Bangalore-560096</div>
              <div class="contact">Ph: 080 23498376, 9900143996 &nbsp; e-mail: tech.npa@gmail.com</div>
              <div class="contact">www.npautomation.in</div>
            </div>
          </div>
          <div class="sep"></div>

          <!-- Watermark (print-only logo) -->
          <img src="/npa-logo.png" class="watermark" onerror="this.style.display='none'" alt="NPA watermark" />

          <div class="report-title">DEVICE SERVICE REPORT</div>
          <div class="org-box">${de.toUpperCase()}</div>

          <div class="meta">
            <div>Device: <strong>${ce.name}</strong>  Serial: <strong class="serial-red">${ce.serial_number}</strong></div>
            <div>Report ID: NPA-${new Date().toISOString().split("T")[0]}</div>
          </div>

          <div class="summary">
            <div>Total Maintenance Records: <strong>${re.length}</strong></div>
            <div style="margin-top:6px">Next Maintenance Date: <strong>${Ge||"-"}</strong></div>
          </div>

          ${re.length===0?`
            <div style="padding:16px;color:#6b7280">No maintenance records found for this device.</div>
          `:`
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Technician</th>
                  <th>Status</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                ${Pe}
              </tbody>
            </table>
          `}
        </body>
      </html>
    `,zt=window.open("","_blank");zt&&(zt.document.write(Ze),zt.document.close(),setTimeout(()=>{zt.print()},200))},ft=o.filter(we=>ee?we.is_archived||r?.archived:!we.is_archived&&!r?.archived);return c||!r?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(St,{variant:"outline",onClick:t,children:[p.jsx(Nv,{className:"w-4 h-4 mr-2"}),"Back to Organizations"]})}),p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading organization details..."})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs(St,{variant:"outline",onClick:t,className:"gap-2",children:[p.jsx(Nv,{className:"w-4 h-4"}),"Back to Organizations"]})}),p.jsxs(Ws,{className:"shadow-sm border-2 border-gray-400 bg-white",children:[p.jsx(Wo,{className:"border-b-2 border-gray-400",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(ka,{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-3 rounded-md bg-slate-100 border border-slate-200",children:p.jsx(Kl,{className:"w-6 h-6 text-slate-700"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-2xl text-slate-900",children:r.name}),r.archived&&p.jsx(x5,{variant:"secondary",className:"bg-gray-200",children:"Archived"})]}),p.jsx("p",{className:"text-sm text-slate-500 font-normal mt-1",children:"Organization Details"})]})]}),p.jsxs(St,{variant:"outline",size:"sm",onClick:Re,disabled:r.archived,title:"Edit organization",children:[p.jsx(Af,{className:"w-4 h-4 mr-2"})," Edit"]})]})}),p.jsx(Vs,{className:"pt-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[p.jsx(Kl,{className:"w-5 h-5 text-slate-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"Organization Code"}),p.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.organization_code||"N/A"})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[p.jsx(MN,{className:"w-5 h-5 text-slate-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),p.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.email})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[p.jsx($N,{className:"w-5 h-5 text-slate-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),p.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.phone_no})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[p.jsx(C0,{className:"w-5 h-5 text-slate-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"PAN"}),p.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.pan})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[p.jsx(C0,{className:"w-5 h-5 text-slate-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"GST Number"}),p.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.gst_no})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[p.jsx(Kl,{className:"w-5 h-5 text-slate-600 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"Address"}),p.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.address||"Not provided"})]})]})]})})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{children:"Devices"}),p.jsx("p",{className:"text-gray-600",children:"Manage devices for this organization"})]}),p.jsxs(Ki,{open:h,onOpenChange:f,children:[p.jsx(td,{asChild:!0,children:p.jsxs(St,{disabled:r.archived,children:[p.jsx(sh,{className:"w-4 h-4 mr-2"}),"Add Device"]})}),p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Add New Device"}),p.jsxs(us,{children:["Add a device to ",r.name]})]}),p.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"deviceName",children:"Device Name *"}),p.jsx(en,{id:"deviceName",value:L.deviceName,onChange:we=>ye("deviceName",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"brandSerialNumber",children:"Brand Serial No *"}),p.jsx(en,{id:"brandSerialNumber",value:L.brandSerialNumber,onChange:we=>ye("brandSerialNumber",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"model",children:"Model"}),p.jsx(en,{id:"model",value:L.model,onChange:we=>ye("model",we.target.value)})]}),p.jsx(St,{type:"submit",className:"w-full",children:"Create Device"})]})]})]})]}),p.jsx(Ki,{open:v,onOpenChange:b,children:p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Edit Device"}),p.jsx(us,{children:"Update device information"})]}),p.jsxs("form",{onSubmit:le,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-deviceName",children:"Device Name *"}),p.jsx(en,{id:"edit-deviceName",value:L.deviceName,onChange:we=>ye("deviceName",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-serialNumber",children:"Serial Number *"}),p.jsx(en,{id:"edit-serialNumber",value:L.serialNumber,disabled:!0}),p.jsx("p",{className:"text-xs text-slate-500",children:"Serial number is generated by the server and cannot be changed here."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-brandSerialNumber",children:"Brand Serial No *"}),p.jsx(en,{id:"edit-brandSerialNumber",value:L.brandSerialNumber,onChange:we=>ye("brandSerialNumber",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-model",children:"Model"}),p.jsx(en,{id:"edit-model",value:L.model,onChange:we=>ye("model",we.target.value)})]}),p.jsx(St,{type:"submit",className:"w-full",children:"Update Device"})]})]})}),p.jsxs(Ws,{className:"shadow-sm border-2 border-gray-400",children:[p.jsx(Wo,{className:"bg-white border-b-2 border-gray-400 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(ka,{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:p.jsx(Yl,{className:"w-5 h-5 text-slate-700"})}),p.jsxs("span",{className:"text-slate-900",children:["Organization Devices (",ft.length,")"]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(jt,{htmlFor:"show-archived-devices",className:"text-sm text-slate-600 cursor-pointer select-none",children:"Show Archived"}),p.jsx(fm,{id:"show-archived-devices",checked:ee,onCheckedChange:ne})]})]})}),p.jsx(Vs,{className:"p-0",children:ft.length===0?p.jsxs("div",{className:"text-center py-16",children:[p.jsx(Yl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-500",children:ee?"No archived devices found for this organization.":"No devices found. Add your first device for this organization!"})]}):p.jsx("div",{className:"divide-y divide-gray-200",children:ft.map(we=>p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:p.jsx(Yl,{className:"w-5 h-5 text-slate-600"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-slate-900",children:we.name}),p.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[we.serial_number,we.model&&`  ${we.model}`]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>Ie(we.serial_number),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View QR code",children:p.jsx(rm,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>Rt(we),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View maintenance history",children:p.jsx(ed,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>Ve(we),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"Edit device",children:p.jsx(Af,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>me(we),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:we.is_archived?"Unarchive":"Archive",children:we.is_archived?p.jsx(Qd,{className:"w-4 h-4"}):p.jsx(Zu,{className:"w-4 h-4"})})]})]},we.id))})})]}),p.jsx(Ki,{open:S,onOpenChange:j,children:p.jsxs(Yi,{className:"max-w-sm",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Device QR Code"}),p.jsx(us,{children:"Scan this QR code to identify the device"})]}),p.jsx("div",{className:"flex flex-col items-center space-y-4",children:P&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"qr-rainbow-bg absolute inset-0 rounded-2xl opacity-80 blur-xl"}),p.jsx("div",{className:"relative rounded-2xl bg-white p-3 shadow-lg",children:p.jsx("img",{src:P,alt:"QR Code",className:"w-64 h-64"})})]}),p.jsx("p",{className:"text-sm text-gray-600 text-center break-all",children:k}),p.jsxs("div",{className:"flex gap-3 mt-2",children:[p.jsx(St,{variant:"outline",size:"sm",onClick:()=>{const we=document.createElement("a");we.href=P,we.download=`${k}-qr-code.png`,we.click()},children:"Download"}),p.jsx(St,{variant:"outline",size:"sm",onClick:()=>{const we=window.open("","_blank");we&&(we.document.write(`
                          <html>
                            <head>
                              <title>Print QR Code - ${k}</title>
                              <style>
                                body { text-align: center; padding: 2em; font-family: Arial, sans-serif; }
                              </style>
                            </head>
                            <body>
                              <img src="${P}" style="width:300px;height:300px;" />
                              <br/>
                              <p style="font-size:12px;margin-top:1em;">${k}</p>
                            </body>
                          </html>
                        `),we.document.close(),we.print())},children:"Print"})]})]})})]})}),p.jsx(Ki,{open:X,onOpenChange:W,children:p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Edit Organization"}),p.jsx(us,{children:"Update organization information"})]}),p.jsxs("form",{onSubmit:He,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"org-companyName",children:"Company Name *"}),p.jsx(en,{id:"org-companyName",value:M.companyName,onChange:we=>Ce("companyName",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"org-pan",children:"PAN *"}),p.jsx(en,{id:"org-pan",value:M.pan,maxLength:10,onChange:we=>Ce("pan",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"org-phoneNo",children:"Phone Number *"}),p.jsx(en,{id:"org-phoneNo",type:"tel",value:M.phoneNo,onChange:we=>Ce("phoneNo",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"org-email",children:"Email *"}),p.jsx(en,{id:"org-email",type:"email",value:M.email,onChange:we=>Ce("email",we.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"org-gstNo",children:"GST Number *"}),p.jsx(en,{id:"org-gstNo",value:M.gstNo,maxLength:15,onChange:we=>Ce("gstNo",we.target.value),required:!0})]}),p.jsx(St,{type:"submit",className:"w-full",children:"Update Organization"})]})]})}),p.jsx(Ki,{open:I,onOpenChange:q,children:p.jsxs(Yi,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[p.jsx(Ji,{children:p.jsxs("div",{className:"w-full flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs(Qi,{children:["Maintenance History",ce?`: ${ce.name}`:""]}),p.jsx(us,{children:ce?p.jsxs("span",{className:"text-xs",children:["Serial: ",ce.serial_number]}):null})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs(St,{variant:"outline",size:"sm",onClick:lt,disabled:re.length===0,title:re.length===0?"No records to print":"Print device report",children:[p.jsx(Bw,{className:"w-4 h-4 mr-2"})," Print"]})})]})}),ge?p.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading history..."}):re.length===0?p.jsx("div",{className:"text-center py-8 text-slate-500",children:"No maintenance records found for this device."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("div",{children:[p.jsx("style",{children:".history-table thead th { background:#1976b8; color:#fff; font-weight:700; padding:8px 10px } .history-table td { padding:6px 8px } .history-table tr { height:24px }"}),p.jsxs(Ef,{className:"history-table",children:[p.jsx(Pf,{children:p.jsxs(Vl,{children:[p.jsx(vr,{children:"Date"}),p.jsx(vr,{children:"Technician"}),p.jsx(vr,{children:"Status"}),p.jsx(vr,{children:"Notes"})]})}),p.jsx(Lf,{children:re.map(we=>p.jsxs(Vl,{children:[p.jsx(yr,{children:new Date(we.created_at).toLocaleDateString("en-IN")}),p.jsx(yr,{children:ue(we.technician_id)}),p.jsx(yr,{children:p.jsx("span",{className:"px-2 py-1 rounded text-xs border",children:we.status||"Yet to Start"})}),p.jsx(yr,{children:we.description||"-"})]},we.id))})]})]})})]})})]})};function p2(n,[e,t]){return Math.min(t,Math.max(e,n))}function oC(n){const e=n+"CollectionProvider",[t,r]=od(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:j,children:k}=S,O=Xe.useRef(null),P=Xe.useRef(new Map).current;return p.jsx(i,{scope:j,itemMap:P,collectionRef:O,children:k})};l.displayName=e;const c=n+"CollectionSlot",u=Qu(c),h=Xe.forwardRef((S,j)=>{const{scope:k,children:O}=S,P=o(c,k),R=cr(j,P.collectionRef);return p.jsx(u,{ref:R,children:O})});h.displayName=c;const f=n+"CollectionItemSlot",v="data-radix-collection-item",b=Qu(f),y=Xe.forwardRef((S,j)=>{const{scope:k,children:O,...P}=S,R=Xe.useRef(null),ee=cr(j,R),ne=o(f,k);return Xe.useEffect(()=>(ne.itemMap.set(R,{ref:R,...P}),()=>void ne.itemMap.delete(R))),p.jsx(b,{[v]:"",ref:ee,children:O})});y.displayName=f;function C(S){const j=o(n+"CollectionConsumer",S);return Xe.useCallback(()=>{const O=j.collectionRef.current;if(!O)return[];const P=Array.from(O.querySelectorAll(`[${v}]`));return Array.from(j.itemMap.values()).sort((ne,X)=>P.indexOf(ne.ref.current)-P.indexOf(X.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:l,Slot:h,ItemSlot:y},C,r]}var aC=z.createContext(void 0);function lC(n){const e=z.useContext(aC);return n||e||"ltr"}const cC=["top","right","bottom","left"],Ql=Math.min,Hs=Math.max,Tf=Math.round,rf=Math.floor,Ca=n=>({x:n,y:n}),uC={left:"right",right:"left",bottom:"top",top:"bottom"},dC={start:"end",end:"start"};function E0(n,e,t){return Hs(n,Ql(e,t))}function al(n,e){return typeof n=="function"?n(e):n}function ll(n){return n.split("-")[0]}function ad(n){return n.split("-")[1]}function gm(n){return n==="x"?"y":"x"}function mm(n){return n==="y"?"height":"width"}const hC=new Set(["top","bottom"]);function Sa(n){return hC.has(ll(n))?"y":"x"}function vm(n){return gm(Sa(n))}function fC(n,e,t){t===void 0&&(t=!1);const r=ad(n),i=vm(n),o=mm(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Rf(l)),[l,Rf(l)]}function pC(n){const e=Rf(n);return[P0(n),e,P0(e)]}function P0(n){return n.replace(/start|end/g,e=>dC[e])}const g2=["left","right"],m2=["right","left"],gC=["top","bottom"],mC=["bottom","top"];function vC(n,e,t){switch(n){case"top":case"bottom":return t?e?m2:g2:e?g2:m2;case"left":case"right":return e?gC:mC;default:return[]}}function yC(n,e,t,r){const i=ad(n);let o=vC(ll(n),t==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(P0)))),o}function Rf(n){return n.replace(/left|right|bottom|top/g,e=>uC[e])}function wC(n){return{top:0,right:0,bottom:0,left:0,...n}}function C5(n){return typeof n!="number"?wC(n):{top:n,right:n,bottom:n,left:n}}function Of(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function v2(n,e,t){let{reference:r,floating:i}=n;const o=Sa(e),l=vm(e),c=mm(l),u=ll(e),h=o==="y",f=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,b=r[c]/2-i[c]/2;let y;switch(u){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:v};break;case"left":y={x:r.x-i.width,y:v};break;default:y={x:r.x,y:r.y}}switch(ad(e)){case"start":y[l]-=b*(t&&h?-1:1);break;case"end":y[l]+=b*(t&&h?-1:1);break}return y}const bC=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:v}=v2(h,r,u),b=r,y={},C=0;for(let S=0;S<c.length;S++){const{name:j,fn:k}=c[S],{x:O,y:P,data:R,reset:ee}=await k({x:f,y:v,initialPlacement:r,placement:b,strategy:i,middlewareData:y,rects:h,platform:l,elements:{reference:n,floating:e}});f=O??f,v=P??v,y={...y,[j]:{...y[j],...R}},ee&&C<=50&&(C++,typeof ee=="object"&&(ee.placement&&(b=ee.placement),ee.rects&&(h=ee.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):ee.rects),{x:f,y:v}=v2(h,b,u)),S=-1)}return{x:f,y:v,placement:b,strategy:i,middlewareData:y}};async function Zd(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:u}=n,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:v="floating",altBoundary:b=!1,padding:y=0}=al(e,n),C=C5(y),j=c[b?v==="floating"?"reference":"floating":v],k=Of(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(j)))==null||t?j:j.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:u})),O=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),R=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},ee=Of(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:P,strategy:u}):O);return{top:(k.top-ee.top+C.top)/R.y,bottom:(ee.bottom-k.bottom+C.bottom)/R.y,left:(k.left-ee.left+C.left)/R.x,right:(ee.right-k.right+C.right)/R.x}}const xC=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:u}=e,{element:h,padding:f=0}=al(n,e)||{};if(h==null)return{};const v=C5(f),b={x:t,y:r},y=vm(i),C=mm(y),S=await l.getDimensions(h),j=y==="y",k=j?"top":"left",O=j?"bottom":"right",P=j?"clientHeight":"clientWidth",R=o.reference[C]+o.reference[y]-b[y]-o.floating[C],ee=b[y]-o.reference[y],ne=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let X=ne?ne[P]:0;(!X||!await(l.isElement==null?void 0:l.isElement(ne)))&&(X=c.floating[P]||o.floating[C]);const W=R/2-ee/2,M=X/2-S[C]/2-1,K=Ql(v[k],M),L=Ql(v[O],M),D=K,I=X-S[C]-L,q=X/2-S[C]/2+W,ce=E0(D,q,I),J=!u.arrow&&ad(i)!=null&&q!==ce&&o.reference[C]/2-(q<D?K:L)-S[C]/2<0,re=J?q<D?q-D:q-I:0;return{[y]:b[y]+re,data:{[y]:ce,centerOffset:q-ce-re,...J&&{alignmentOffset:re}},reset:J}}}),_C=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:f=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...j}=al(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const k=ll(i),O=Sa(c),P=ll(c)===c,R=await(u.isRTL==null?void 0:u.isRTL(h.floating)),ee=b||(P||!S?[Rf(c)]:pC(c)),ne=C!=="none";!b&&ne&&ee.push(...yC(c,S,C,R));const X=[c,...ee],W=await Zd(e,j),M=[];let K=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&M.push(W[k]),v){const q=fC(i,l,R);M.push(W[q[0]],W[q[1]])}if(K=[...K,{placement:i,overflows:M}],!M.every(q=>q<=0)){var L,D;const q=(((L=o.flip)==null?void 0:L.index)||0)+1,ce=X[q];if(ce&&(!(v==="alignment"?O!==Sa(ce):!1)||K.every(V=>Sa(V.placement)===O?V.overflows[0]>0:!0)))return{data:{index:q,overflows:K},reset:{placement:ce}};let J=(D=K.filter(re=>re.overflows[0]<=0).sort((re,V)=>re.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(y){case"bestFit":{var I;const re=(I=K.filter(V=>{if(ne){const ge=Sa(V.placement);return ge===O||ge==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ge=>ge>0).reduce((ge,_e)=>ge+_e,0)]).sort((V,ge)=>V[1]-ge[1])[0])==null?void 0:I[0];re&&(J=re);break}case"initialPlacement":J=c;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function y2(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function w2(n){return cC.some(e=>n[e]>=0)}const SC=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=al(n,e);switch(r){case"referenceHidden":{const o=await Zd(e,{...i,elementContext:"reference"}),l=y2(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:w2(l)}}}case"escaped":{const o=await Zd(e,{...i,altBoundary:!0}),l=y2(o,t.floating);return{data:{escapedOffsets:l,escaped:w2(l)}}}default:return{}}}}},A5=new Set(["left","top"]);async function NC(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ll(t),c=ad(t),u=Sa(t)==="y",h=A5.has(l)?-1:1,f=o&&u?-1:1,v=al(e,n);let{mainAxis:b,crossAxis:y,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof C=="number"&&(y=c==="end"?C*-1:C),u?{x:y*f,y:b*h}:{x:b*h,y:y*f}}const kC=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:l,middlewareData:c}=e,u=await NC(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:l}}}}},CC=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:j=>{let{x:k,y:O}=j;return{x:k,y:O}}},...u}=al(n,e),h={x:t,y:r},f=await Zd(e,u),v=Sa(ll(i)),b=gm(v);let y=h[b],C=h[v];if(o){const j=b==="y"?"top":"left",k=b==="y"?"bottom":"right",O=y+f[j],P=y-f[k];y=E0(O,y,P)}if(l){const j=v==="y"?"top":"left",k=v==="y"?"bottom":"right",O=C+f[j],P=C-f[k];C=E0(O,C,P)}const S=c.fn({...e,[b]:y,[v]:C});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[b]:o,[v]:l}}}}}},AC=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=al(n,e),f={x:t,y:r},v=Sa(i),b=gm(v);let y=f[b],C=f[v];const S=al(c,e),j=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(u){const P=b==="y"?"height":"width",R=o.reference[b]-o.floating[P]+j.mainAxis,ee=o.reference[b]+o.reference[P]-j.mainAxis;y<R?y=R:y>ee&&(y=ee)}if(h){var k,O;const P=b==="y"?"width":"height",R=A5.has(ll(i)),ee=o.reference[v]-o.floating[P]+(R&&((k=l.offset)==null?void 0:k[v])||0)+(R?0:j.crossAxis),ne=o.reference[v]+o.reference[P]+(R?0:((O=l.offset)==null?void 0:O[v])||0)-(R?j.crossAxis:0);C<ee?C=ee:C>ne&&(C=ne)}return{[b]:y,[v]:C}}}},jC=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:u=()=>{},...h}=al(n,e),f=await Zd(e,h),v=ll(i),b=ad(i),y=Sa(i)==="y",{width:C,height:S}=o.floating;let j,k;v==="top"||v==="bottom"?(j=v,k=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=v,j=b==="end"?"top":"bottom");const O=S-f.top-f.bottom,P=C-f.left-f.right,R=Ql(S-f[j],O),ee=Ql(C-f[k],P),ne=!e.middlewareData.shift;let X=R,W=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(W=P),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(X=O),ne&&!b){const K=Hs(f.left,0),L=Hs(f.right,0),D=Hs(f.top,0),I=Hs(f.bottom,0);y?W=C-2*(K!==0||L!==0?K+L:Hs(f.left,f.right)):X=S-2*(D!==0||I!==0?D+I:Hs(f.top,f.bottom))}await u({...e,availableWidth:W,availableHeight:X});const M=await l.getDimensions(c.floating);return C!==M.width||S!==M.height?{reset:{rects:!0}}:{}}}};function Kf(){return typeof window<"u"}function ld(n){return j5(n)?(n.nodeName||"").toLowerCase():"#document"}function Ks(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ja(n){var e;return(e=(j5(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function j5(n){return Kf()?n instanceof Node||n instanceof Ks(n).Node:!1}function Vo(n){return Kf()?n instanceof Element||n instanceof Ks(n).Element:!1}function Aa(n){return Kf()?n instanceof HTMLElement||n instanceof Ks(n).HTMLElement:!1}function b2(n){return!Kf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ks(n).ShadowRoot}const EC=new Set(["inline","contents"]);function ah(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Go(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!EC.has(i)}const PC=new Set(["table","td","th"]);function LC(n){return PC.has(ld(n))}const TC=[":popover-open",":modal"];function Yf(n){return TC.some(e=>{try{return n.matches(e)}catch{return!1}})}const RC=["transform","translate","scale","rotate","perspective"],OC=["transform","translate","scale","rotate","perspective","filter"],IC=["paint","layout","strict","content"];function ym(n){const e=wm(),t=Vo(n)?Go(n):n;return RC.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||OC.some(r=>(t.willChange||"").includes(r))||IC.some(r=>(t.contain||"").includes(r))}function DC(n){let e=Xl(n);for(;Aa(e)&&!nd(e);){if(ym(e))return e;if(Yf(e))return null;e=Xl(e)}return null}function wm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FC=new Set(["html","body","#document"]);function nd(n){return FC.has(ld(n))}function Go(n){return Ks(n).getComputedStyle(n)}function Jf(n){return Vo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Xl(n){if(ld(n)==="html")return n;const e=n.assignedSlot||n.parentNode||b2(n)&&n.host||ja(n);return b2(e)?e.host:e}function E5(n){const e=Xl(n);return nd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Aa(e)&&ah(e)?e:E5(e)}function eh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=E5(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),l=Ks(i);if(o){const c=L0(l);return e.concat(l,l.visualViewport||[],ah(i)?i:[],c&&t?eh(c):[])}return e.concat(i,eh(i,[],t))}function L0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function P5(n){const e=Go(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Aa(n),o=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=Tf(t)!==o||Tf(r)!==l;return c&&(t=o,r=l),{width:t,height:r,$:c}}function bm(n){return Vo(n)?n:n.contextElement}function Wu(n){const e=bm(n);if(!Aa(e))return Ca(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=P5(e);let l=(o?Tf(t.width):t.width)/r,c=(o?Tf(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const MC=Ca(0);function L5(n){const e=Ks(n);return!wm()||!e.visualViewport?MC:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BC(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ks(n)?!1:e}function Mc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=bm(n);let l=Ca(1);e&&(r?Vo(r)&&(l=Wu(r)):l=Wu(n));const c=BC(o,t,r)?L5(o):Ca(0);let u=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,f=i.width/l.x,v=i.height/l.y;if(o){const b=Ks(o),y=r&&Vo(r)?Ks(r):r;let C=b,S=L0(C);for(;S&&r&&y!==C;){const j=Wu(S),k=S.getBoundingClientRect(),O=Go(S),P=k.left+(S.clientLeft+parseFloat(O.paddingLeft))*j.x,R=k.top+(S.clientTop+parseFloat(O.paddingTop))*j.y;u*=j.x,h*=j.y,f*=j.x,v*=j.y,u+=P,h+=R,C=Ks(S),S=L0(C)}}return Of({width:f,height:v,x:u,y:h})}function Qf(n,e){const t=Jf(n).scrollLeft;return e?e.left+t:Mc(ja(n)).left+t}function T5(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Qf(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function zC(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",l=ja(r),c=e?Yf(e.floating):!1;if(r===l||c&&o)return t;let u={scrollLeft:0,scrollTop:0},h=Ca(1);const f=Ca(0),v=Aa(r);if((v||!v&&!o)&&((ld(r)!=="body"||ah(l))&&(u=Jf(r)),Aa(r))){const y=Mc(r);h=Wu(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const b=l&&!v&&!o?T5(l,u):Ca(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-u.scrollLeft*h.x+f.x+b.x,y:t.y*h.y-u.scrollTop*h.y+f.y+b.y}}function UC(n){return Array.from(n.getClientRects())}function $C(n){const e=ja(n),t=Jf(n),r=n.ownerDocument.body,i=Hs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Hs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Qf(n);const c=-t.scrollTop;return Go(r).direction==="rtl"&&(l+=Hs(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const x2=25;function qC(n,e){const t=Ks(n),r=ja(n),i=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,u=0;if(i){o=i.width,l=i.height;const f=wm();(!f||f&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const h=Qf(r);if(h<=0){const f=r.ownerDocument,v=f.body,b=getComputedStyle(v),y=f.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(r.clientWidth-v.clientWidth-y);C<=x2&&(o-=C)}else h<=x2&&(o+=h);return{width:o,height:l,x:c,y:u}}const HC=new Set(["absolute","fixed"]);function WC(n,e){const t=Mc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=Aa(n)?Wu(n):Ca(1),l=n.clientWidth*o.x,c=n.clientHeight*o.y,u=i*o.x,h=r*o.y;return{width:l,height:c,x:u,y:h}}function _2(n,e,t){let r;if(e==="viewport")r=qC(n,t);else if(e==="document")r=$C(ja(n));else if(Vo(e))r=WC(e,t);else{const i=L5(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Of(r)}function R5(n,e){const t=Xl(n);return t===e||!Vo(t)||nd(t)?!1:Go(t).position==="fixed"||R5(t,e)}function VC(n,e){const t=e.get(n);if(t)return t;let r=eh(n,[],!1).filter(c=>Vo(c)&&ld(c)!=="body"),i=null;const o=Go(n).position==="fixed";let l=o?Xl(n):n;for(;Vo(l)&&!nd(l);){const c=Go(l),u=ym(l);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&HC.has(i.position)||ah(l)&&!u&&R5(n,l))?r=r.filter(f=>f!==l):i=c,l=Xl(l)}return e.set(n,r),r}function GC(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Yf(e)?[]:VC(e,this._c):[].concat(t),r],c=l[0],u=l.reduce((h,f)=>{const v=_2(e,f,i);return h.top=Hs(v.top,h.top),h.right=Ql(v.right,h.right),h.bottom=Ql(v.bottom,h.bottom),h.left=Hs(v.left,h.left),h},_2(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function KC(n){const{width:e,height:t}=P5(n);return{width:e,height:t}}function YC(n,e,t){const r=Aa(e),i=ja(e),o=t==="fixed",l=Mc(n,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=Ca(0);function h(){u.x=Qf(i)}if(r||!r&&!o)if((ld(e)!=="body"||ah(i))&&(c=Jf(e)),r){const y=Mc(e,!0,o,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&h();o&&!r&&i&&h();const f=i&&!r&&!o?T5(i,c):Ca(0),v=l.left+c.scrollLeft-u.x-f.x,b=l.top+c.scrollTop-u.y-f.y;return{x:v,y:b,width:l.width,height:l.height}}function Dg(n){return Go(n).position==="static"}function S2(n,e){if(!Aa(n)||Go(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ja(n)===t&&(t=t.ownerDocument.body),t}function O5(n,e){const t=Ks(n);if(Yf(n))return t;if(!Aa(n)){let i=Xl(n);for(;i&&!nd(i);){if(Vo(i)&&!Dg(i))return i;i=Xl(i)}return t}let r=S2(n,e);for(;r&&LC(r)&&Dg(r);)r=S2(r,e);return r&&nd(r)&&Dg(r)&&!ym(r)?t:r||DC(n)||t}const JC=async function(n){const e=this.getOffsetParent||O5,t=this.getDimensions,r=await t(n.floating);return{reference:YC(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function QC(n){return Go(n).direction==="rtl"}const XC={convertOffsetParentRelativeRectToViewportRelativeRect:zC,getDocumentElement:ja,getClippingRect:GC,getOffsetParent:O5,getElementRects:JC,getClientRects:UC,getDimensions:KC,getScale:Wu,isElement:Vo,isRTL:QC};function I5(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function ZC(n,e){let t=null,r;const i=ja(n);function o(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const h=n.getBoundingClientRect(),{left:f,top:v,width:b,height:y}=h;if(c||e(),!b||!y)return;const C=rf(v),S=rf(i.clientWidth-(f+b)),j=rf(i.clientHeight-(v+y)),k=rf(f),P={rootMargin:-C+"px "+-S+"px "+-j+"px "+-k+"px",threshold:Hs(0,Ql(1,u))||1};let R=!0;function ee(ne){const X=ne[0].intersectionRatio;if(X!==u){if(!R)return l();X?l(!1,X):r=setTimeout(()=>{l(!1,1e-7)},1e3)}X===1&&!I5(h,n.getBoundingClientRect())&&l(),R=!1}try{t=new IntersectionObserver(ee,{...P,root:i.ownerDocument})}catch{t=new IntersectionObserver(ee,P)}t.observe(n)}return l(!0),o}function eA(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=bm(n),f=i||o?[...h?eh(h):[],...eh(e)]:[];f.forEach(k=>{i&&k.addEventListener("scroll",t,{passive:!0}),o&&k.addEventListener("resize",t)});const v=h&&c?ZC(h,t):null;let b=-1,y=null;l&&(y=new ResizeObserver(k=>{let[O]=k;O&&O.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var P;(P=y)==null||P.observe(e)})),t()}),h&&!u&&y.observe(h),y.observe(e));let C,S=u?Mc(n):null;u&&j();function j(){const k=Mc(n);S&&!I5(S,k)&&t(),S=k,C=requestAnimationFrame(j)}return t(),()=>{var k;f.forEach(O=>{i&&O.removeEventListener("scroll",t),o&&O.removeEventListener("resize",t)}),v?.(),(k=y)==null||k.disconnect(),y=null,u&&cancelAnimationFrame(C)}}const tA=kC,nA=CC,rA=_C,iA=jC,sA=SC,N2=xC,oA=AC,aA=(n,e,t)=>{const r=new Map,i={platform:XC,...t},o={...i.platform,_c:r};return bC(n,e,{...i,platform:o})};var lA=typeof document<"u",cA=function(){},mf=lA?z.useLayoutEffect:cA;function If(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!If(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!If(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function D5(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function k2(n,e){const t=D5(n);return Math.round(e*t)/t}function Fg(n){const e=z.useRef(n);return mf(()=>{e.current=n}),e}function uA(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:u,open:h}=n,[f,v]=z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,y]=z.useState(r);If(b,r)||y(r);const[C,S]=z.useState(null),[j,k]=z.useState(null),O=z.useCallback(V=>{V!==ne.current&&(ne.current=V,S(V))},[]),P=z.useCallback(V=>{V!==X.current&&(X.current=V,k(V))},[]),R=o||C,ee=l||j,ne=z.useRef(null),X=z.useRef(null),W=z.useRef(f),M=u!=null,K=Fg(u),L=Fg(i),D=Fg(h),I=z.useCallback(()=>{if(!ne.current||!X.current)return;const V={placement:e,strategy:t,middleware:b};L.current&&(V.platform=L.current),aA(ne.current,X.current,V).then(ge=>{const _e={...ge,isPositioned:D.current!==!1};q.current&&!If(W.current,_e)&&(W.current=_e,rh.flushSync(()=>{v(_e)}))})},[b,e,t,L,D]);mf(()=>{h===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,v(V=>({...V,isPositioned:!1})))},[h]);const q=z.useRef(!1);mf(()=>(q.current=!0,()=>{q.current=!1}),[]),mf(()=>{if(R&&(ne.current=R),ee&&(X.current=ee),R&&ee){if(K.current)return K.current(R,ee,I);I()}},[R,ee,I,K,M]);const ce=z.useMemo(()=>({reference:ne,floating:X,setReference:O,setFloating:P}),[O,P]),J=z.useMemo(()=>({reference:R,floating:ee}),[R,ee]),re=z.useMemo(()=>{const V={position:t,left:0,top:0};if(!J.floating)return V;const ge=k2(J.floating,f.x),_e=k2(J.floating,f.y);return c?{...V,transform:"translate("+ge+"px, "+_e+"px)",...D5(J.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ge,top:_e}},[t,c,J.floating,f.x,f.y]);return z.useMemo(()=>({...f,update:I,refs:ce,elements:J,floatingStyles:re}),[f,I,ce,J,re])}const dA=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?N2({element:r.current,padding:i}).fn(t):{}:r?N2({element:r,padding:i}).fn(t):{}}}},hA=(n,e)=>({...tA(n),options:[n,e]}),fA=(n,e)=>({...nA(n),options:[n,e]}),pA=(n,e)=>({...oA(n),options:[n,e]}),gA=(n,e)=>({...rA(n),options:[n,e]}),mA=(n,e)=>({...iA(n),options:[n,e]}),vA=(n,e)=>({...sA(n),options:[n,e]}),yA=(n,e)=>({...dA(n),options:[n,e]});var wA="Arrow",F5=z.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return p.jsx(jn.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});F5.displayName=wA;var bA=F5,xm="Popper",[M5,B5]=od(xm),[xA,z5]=M5(xm),U5=n=>{const{__scopePopper:e,children:t}=n,[r,i]=z.useState(null);return p.jsx(xA,{scope:e,anchor:r,onAnchorChange:i,children:t})};U5.displayName=xm;var $5="PopperAnchor",q5=z.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=z5($5,t),l=z.useRef(null),c=cr(e,l),u=z.useRef(null);return z.useEffect(()=>{const h=u.current;u.current=r?.current||l.current,h!==u.current&&o.onAnchorChange(u.current)}),r?null:p.jsx(jn.div,{...i,ref:c})});q5.displayName=$5;var _m="PopperContent",[_A,SA]=M5(_m),H5=z.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:C,...S}=n,j=z5(_m,t),[k,O]=z.useState(null),P=cr(e,le=>O(le)),[R,ee]=z.useState(null),ne=hm(R),X=ne?.width??0,W=ne?.height??0,M=r+(o!=="center"?"-"+o:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(h)?h:[h],D=L.length>0,I={padding:K,boundary:L.filter(kA),altBoundary:D},{refs:q,floatingStyles:ce,placement:J,isPositioned:re,middlewareData:V}=uA({strategy:"fixed",placement:M,whileElementsMounted:(...le)=>eA(...le,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[hA({mainAxis:i+W,alignmentAxis:l}),u&&fA({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?pA():void 0,...I}),u&&gA({...I}),mA({...I,apply:({elements:le,rects:me,availableWidth:ye,availableHeight:Ce})=>{const{width:Re,height:He}=me.reference,Ve=le.floating.style;Ve.setProperty("--radix-popper-available-width",`${ye}px`),Ve.setProperty("--radix-popper-available-height",`${Ce}px`),Ve.setProperty("--radix-popper-anchor-width",`${Re}px`),Ve.setProperty("--radix-popper-anchor-height",`${He}px`)}}),R&&yA({element:R,padding:c}),CA({arrowWidth:X,arrowHeight:W}),b&&vA({strategy:"referenceHidden",...I})]}),[ge,_e]=G5(J),te=Dc(C);Xi(()=>{re&&te?.()},[re,te]);const T=V.arrow?.x,$=V.arrow?.y,Y=V.arrow?.centerOffset!==0,[oe,pe]=z.useState();return Xi(()=>{k&&pe(window.getComputedStyle(k).zIndex)},[k]),p.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:re?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(_A,{scope:t,placedSide:ge,onArrowChange:ee,arrowX:T,arrowY:$,shouldHideArrow:Y,children:p.jsx(jn.div,{"data-side":ge,"data-align":_e,...S,ref:P,style:{...S.style,animation:re?void 0:"none"}})})})});H5.displayName=_m;var W5="PopperArrow",NA={top:"bottom",right:"left",bottom:"top",left:"right"},V5=z.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=SA(W5,r),l=NA[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(bA,{...i,ref:t,style:{...i.style,display:"block"}})})});V5.displayName=W5;function kA(n){return n!==null}var CA=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:n.arrowWidth,u=l?0:n.arrowHeight,[h,f]=G5(t),v={start:"0%",center:"50%",end:"100%"}[f],b=(i.arrow?.x??0)+c/2,y=(i.arrow?.y??0)+u/2;let C="",S="";return h==="bottom"?(C=l?v:`${b}px`,S=`${-u}px`):h==="top"?(C=l?v:`${b}px`,S=`${r.floating.height+u}px`):h==="right"?(C=`${-u}px`,S=l?v:`${y}px`):h==="left"&&(C=`${r.floating.width+u}px`,S=l?v:`${y}px`),{data:{x:C,y:S}}}});function G5(n){const[e,t="center"]=n.split("-");return[e,t]}var AA=U5,jA=q5,EA=H5,PA=V5,K5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LA="VisuallyHidden",TA=z.forwardRef((n,e)=>p.jsx(jn.span,{...n,ref:e,style:{...K5,...n.style}}));TA.displayName=LA;var RA=[" ","Enter","ArrowUp","ArrowDown"],OA=[" ","Enter"],Bc="Select",[Xf,Zf,IA]=oC(Bc),[cd]=od(Bc,[IA,B5]),ep=B5(),[DA,tc]=cd(Bc),[FA,MA]=cd(Bc),Y5=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:u,dir:h,name:f,autoComplete:v,disabled:b,required:y,form:C}=n,S=ep(e),[j,k]=z.useState(null),[O,P]=z.useState(null),[R,ee]=z.useState(!1),ne=lC(h),[X,W]=Xd({prop:r,defaultProp:i??!1,onChange:o,caller:Bc}),[M,K]=Xd({prop:l,defaultProp:c,onChange:u,caller:Bc}),L=z.useRef(null),D=j?C||!!j.closest("form"):!0,[I,q]=z.useState(new Set),ce=Array.from(I).map(J=>J.props.value).join(";");return p.jsx(AA,{...S,children:p.jsxs(DA,{required:y,scope:e,trigger:j,onTriggerChange:k,valueNode:O,onValueNodeChange:P,valueNodeHasChildren:R,onValueNodeHasChildrenChange:ee,contentId:$u(),value:M,onValueChange:K,open:X,onOpenChange:W,dir:ne,triggerPointerDownPosRef:L,disabled:b,children:[p.jsx(Xf.Provider,{scope:e,children:p.jsx(FA,{scope:n.__scopeSelect,onNativeOptionAdd:z.useCallback(J=>{q(re=>new Set(re).add(J))},[]),onNativeOptionRemove:z.useCallback(J=>{q(re=>{const V=new Set(re);return V.delete(J),V})},[]),children:t})}),D?p.jsxs(vb,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:v,value:M,onChange:J=>K(J.target.value),disabled:b,form:C,children:[M===void 0?p.jsx("option",{value:""}):null,Array.from(I)]},ce):null]})})};Y5.displayName=Bc;var J5="SelectTrigger",Q5=z.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,o=ep(t),l=tc(J5,t),c=l.disabled||r,u=cr(e,l.onTriggerChange),h=Zf(t),f=z.useRef("touch"),[v,b,y]=wb(S=>{const j=h().filter(P=>!P.disabled),k=j.find(P=>P.value===l.value),O=bb(j,S,k);O!==void 0&&l.onValueChange(O.value)}),C=S=>{c||(l.onOpenChange(!0),y()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return p.jsx(jA,{asChild:!0,...o,children:p.jsx(jn.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":yb(l.value)?"":void 0,...i,ref:u,onClick:Vn(i.onClick,S=>{S.currentTarget.focus(),f.current!=="mouse"&&C(S)}),onPointerDown:Vn(i.onPointerDown,S=>{f.current=S.pointerType;const j=S.target;j.hasPointerCapture(S.pointerId)&&j.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(C(S),S.preventDefault())}),onKeyDown:Vn(i.onKeyDown,S=>{const j=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&b(S.key),!(j&&S.key===" ")&&RA.includes(S.key)&&(C(),S.preventDefault())})})})});Q5.displayName=J5;var X5="SelectValue",Z5=z.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:o,placeholder:l="",...c}=n,u=tc(X5,t),{onValueNodeHasChildrenChange:h}=u,f=o!==void 0,v=cr(e,u.onValueNodeChange);return Xi(()=>{h(f)},[h,f]),p.jsx(jn.span,{...c,ref:v,style:{pointerEvents:"none"},children:yb(u.value)?p.jsx(p.Fragment,{children:l}):o})});Z5.displayName=X5;var BA="SelectIcon",eb=z.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return p.jsx(jn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});eb.displayName=BA;var zA="SelectPortal",tb=n=>p.jsx(om,{asChild:!0,...n});tb.displayName=zA;var zc="SelectContent",nb=z.forwardRef((n,e)=>{const t=tc(zc,n.__scopeSelect),[r,i]=z.useState();if(Xi(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?rh.createPortal(p.jsx(rb,{scope:n.__scopeSelect,children:p.jsx(Xf.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),o):null}return p.jsx(ib,{...n,ref:e})});nb.displayName=zc;var qo=10,[rb,nc]=cd(zc),UA="SelectContentImpl",$A=Qu("SelectContent.RemoveScroll"),ib=z.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:v,collisionBoundary:b,collisionPadding:y,sticky:C,hideWhenDetached:S,avoidCollisions:j,...k}=n,O=tc(zc,t),[P,R]=z.useState(null),[ee,ne]=z.useState(null),X=cr(e,le=>R(le)),[W,M]=z.useState(null),[K,L]=z.useState(null),D=Zf(t),[I,q]=z.useState(!1),ce=z.useRef(!1);z.useEffect(()=>{if(P)return Xw(P)},[P]),qw();const J=z.useCallback(le=>{const[me,...ye]=D().map(He=>He.ref.current),[Ce]=ye.slice(-1),Re=document.activeElement;for(const He of le)if(He===Re||(He?.scrollIntoView({block:"nearest"}),He===me&&ee&&(ee.scrollTop=0),He===Ce&&ee&&(ee.scrollTop=ee.scrollHeight),He?.focus(),document.activeElement!==Re))return},[D,ee]),re=z.useCallback(()=>J([W,P]),[J,W,P]);z.useEffect(()=>{I&&re()},[I,re]);const{onOpenChange:V,triggerPointerDownPosRef:ge}=O;z.useEffect(()=>{if(P){let le={x:0,y:0};const me=Ce=>{le={x:Math.abs(Math.round(Ce.pageX)-(ge.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(ge.current?.y??0))}},ye=Ce=>{le.x<=10&&le.y<=10?Ce.preventDefault():P.contains(Ce.target)||V(!1),document.removeEventListener("pointermove",me),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ye,{capture:!0})}}},[P,V,ge]),z.useEffect(()=>{const le=()=>V(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[V]);const[_e,te]=wb(le=>{const me=D().filter(Re=>!Re.disabled),ye=me.find(Re=>Re.ref.current===document.activeElement),Ce=bb(me,le,ye);Ce&&setTimeout(()=>Ce.ref.current.focus())}),T=z.useCallback((le,me,ye)=>{const Ce=!ce.current&&!ye;(O.value!==void 0&&O.value===me||Ce)&&(M(le),Ce&&(ce.current=!0))},[O.value]),$=z.useCallback(()=>P?.focus(),[P]),Y=z.useCallback((le,me,ye)=>{const Ce=!ce.current&&!ye;(O.value!==void 0&&O.value===me||Ce)&&L(le)},[O.value]),oe=r==="popper"?T0:sb,pe=oe===T0?{side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:v,collisionBoundary:b,collisionPadding:y,sticky:C,hideWhenDetached:S,avoidCollisions:j}:{};return p.jsx(rb,{scope:t,content:P,viewport:ee,onViewportChange:ne,itemRefCallback:T,selectedItem:W,onItemLeave:$,itemTextRefCallback:Y,focusSelectedItem:re,selectedItemText:K,position:r,isPositioned:I,searchRef:_e,children:p.jsx(am,{as:$A,allowPinchZoom:!0,children:p.jsx(sm,{asChild:!0,trapped:O.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Vn(i,le=>{O.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:p.jsx(im,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:p.jsx(oe,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:le=>le.preventDefault(),...k,...pe,onPlaced:()=>q(!0),ref:X,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Vn(k.onKeyDown,le=>{const me=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!me&&le.key.length===1&&te(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ce=D().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Re=le.target,He=Ce.indexOf(Re);Ce=Ce.slice(He+1)}setTimeout(()=>J(Ce)),le.preventDefault()}})})})})})})});ib.displayName=UA;var qA="SelectItemAlignedPosition",sb=z.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=tc(zc,t),l=nc(zc,t),[c,u]=z.useState(null),[h,f]=z.useState(null),v=cr(e,X=>f(X)),b=Zf(t),y=z.useRef(!1),C=z.useRef(!0),{viewport:S,selectedItem:j,selectedItemText:k,focusSelectedItem:O}=l,P=z.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&S&&j&&k){const X=o.trigger.getBoundingClientRect(),W=h.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),K=k.getBoundingClientRect();if(o.dir!=="rtl"){const Re=K.left-W.left,He=M.left-Re,Ve=X.left-He,Ie=X.width+Ve,ue=Math.max(Ie,W.width),Rt=window.innerWidth-qo,lt=p2(He,[qo,Math.max(qo,Rt-ue)]);c.style.minWidth=Ie+"px",c.style.left=lt+"px"}else{const Re=W.right-K.right,He=window.innerWidth-M.right-Re,Ve=window.innerWidth-X.right-He,Ie=X.width+Ve,ue=Math.max(Ie,W.width),Rt=window.innerWidth-qo,lt=p2(He,[qo,Math.max(qo,Rt-ue)]);c.style.minWidth=Ie+"px",c.style.right=lt+"px"}const L=b(),D=window.innerHeight-qo*2,I=S.scrollHeight,q=window.getComputedStyle(h),ce=parseInt(q.borderTopWidth,10),J=parseInt(q.paddingTop,10),re=parseInt(q.borderBottomWidth,10),V=parseInt(q.paddingBottom,10),ge=ce+J+I+V+re,_e=Math.min(j.offsetHeight*5,ge),te=window.getComputedStyle(S),T=parseInt(te.paddingTop,10),$=parseInt(te.paddingBottom,10),Y=X.top+X.height/2-qo,oe=D-Y,pe=j.offsetHeight/2,le=j.offsetTop+pe,me=ce+J+le,ye=ge-me;if(me<=Y){const Re=L.length>0&&j===L[L.length-1].ref.current;c.style.bottom="0px";const He=h.clientHeight-S.offsetTop-S.offsetHeight,Ve=Math.max(oe,pe+(Re?$:0)+He+re),Ie=me+Ve;c.style.height=Ie+"px"}else{const Re=L.length>0&&j===L[0].ref.current;c.style.top="0px";const Ve=Math.max(Y,ce+S.offsetTop+(Re?T:0)+pe)+ye;c.style.height=Ve+"px",S.scrollTop=me-Y+S.offsetTop}c.style.margin=`${qo}px 0`,c.style.minHeight=_e+"px",c.style.maxHeight=D+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[b,o.trigger,o.valueNode,c,h,S,j,k,o.dir,r]);Xi(()=>P(),[P]);const[R,ee]=z.useState();Xi(()=>{h&&ee(window.getComputedStyle(h).zIndex)},[h]);const ne=z.useCallback(X=>{X&&C.current===!0&&(P(),O?.(),C.current=!1)},[P,O]);return p.jsx(WA,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:ne,children:p.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:p.jsx(jn.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sb.displayName=qA;var HA="SelectPopperPosition",T0=z.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=qo,...o}=n,l=ep(t);return p.jsx(EA,{...l,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});T0.displayName=HA;var[WA,Sm]=cd(zc,{}),R0="SelectViewport",ob=z.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,o=nc(R0,t),l=Sm(R0,t),c=cr(e,o.onViewportChange),u=z.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Xf.Slot,{scope:t,children:p.jsx(jn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Vn(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=l;if(b?.current&&v){const y=Math.abs(u.current-f.scrollTop);if(y>0){const C=window.innerHeight-qo*2,S=parseFloat(v.style.minHeight),j=parseFloat(v.style.height),k=Math.max(S,j);if(k<C){const O=k+y,P=Math.min(C,O),R=O-P;v.style.height=P+"px",v.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,v.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});ob.displayName=R0;var ab="SelectGroup",[VA,GA]=cd(ab),KA=z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=$u();return p.jsx(VA,{scope:t,id:i,children:p.jsx(jn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});KA.displayName=ab;var lb="SelectLabel",YA=z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=GA(lb,t);return p.jsx(jn.div,{id:i.id,...r,ref:e})});YA.displayName=lb;var Df="SelectItem",[JA,cb]=cd(Df),ub=z.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...l}=n,c=tc(Df,t),u=nc(Df,t),h=c.value===r,[f,v]=z.useState(o??""),[b,y]=z.useState(!1),C=cr(e,O=>u.itemRefCallback?.(O,r,i)),S=$u(),j=z.useRef("touch"),k=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(JA,{scope:t,value:r,disabled:i,textId:S,isSelected:h,onItemTextChange:z.useCallback(O=>{v(P=>P||(O?.textContent??"").trim())},[]),children:p.jsx(Xf.ItemSlot,{scope:t,value:r,disabled:i,textValue:f,children:p.jsx(jn.div,{role:"option","aria-labelledby":S,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:C,onFocus:Vn(l.onFocus,()=>y(!0)),onBlur:Vn(l.onBlur,()=>y(!1)),onClick:Vn(l.onClick,()=>{j.current!=="mouse"&&k()}),onPointerUp:Vn(l.onPointerUp,()=>{j.current==="mouse"&&k()}),onPointerDown:Vn(l.onPointerDown,O=>{j.current=O.pointerType}),onPointerMove:Vn(l.onPointerMove,O=>{j.current=O.pointerType,i?u.onItemLeave?.():j.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vn(l.onPointerLeave,O=>{O.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Vn(l.onKeyDown,O=>{u.searchRef?.current!==""&&O.key===" "||(OA.includes(O.key)&&k(),O.key===" "&&O.preventDefault())})})})})});ub.displayName=Df;var Ud="SelectItemText",db=z.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,l=tc(Ud,t),c=nc(Ud,t),u=cb(Ud,t),h=MA(Ud,t),[f,v]=z.useState(null),b=cr(e,k=>v(k),u.onItemTextChange,k=>c.itemTextRefCallback?.(k,u.value,u.disabled)),y=f?.textContent,C=z.useMemo(()=>p.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:S,onNativeOptionRemove:j}=h;return Xi(()=>(S(C),()=>j(C)),[S,j,C]),p.jsxs(p.Fragment,{children:[p.jsx(jn.span,{id:u.textId,...o,ref:b}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?rh.createPortal(o.children,l.valueNode):null]})});db.displayName=Ud;var hb="SelectItemIndicator",fb=z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return cb(hb,t).isSelected?p.jsx(jn.span,{"aria-hidden":!0,...r,ref:e}):null});fb.displayName=hb;var O0="SelectScrollUpButton",pb=z.forwardRef((n,e)=>{const t=nc(O0,n.__scopeSelect),r=Sm(O0,n.__scopeSelect),[i,o]=z.useState(!1),l=cr(e,r.onScrollButtonChange);return Xi(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollTop>0;o(h)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?p.jsx(mb,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});pb.displayName=O0;var I0="SelectScrollDownButton",gb=z.forwardRef((n,e)=>{const t=nc(I0,n.__scopeSelect),r=Sm(I0,n.__scopeSelect),[i,o]=z.useState(!1),l=cr(e,r.onScrollButtonChange);return Xi(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<h;o(f)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?p.jsx(mb,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});gb.displayName=I0;var mb=z.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=nc("SelectScrollButton",t),l=z.useRef(null),c=Zf(t),u=z.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return z.useEffect(()=>()=>u(),[u]),Xi(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),p.jsx(jn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Vn(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Vn(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Vn(i.onPointerLeave,()=>{u()})})}),QA="SelectSeparator",XA=z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx(jn.div,{"aria-hidden":!0,...r,ref:e})});XA.displayName=QA;var D0="SelectArrow",ZA=z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=ep(t),o=tc(D0,t),l=nc(D0,t);return o.open&&l.position==="popper"?p.jsx(PA,{...i,...r,ref:e}):null});ZA.displayName=D0;var e8="SelectBubbleInput",vb=z.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=z.useRef(null),o=cr(r,i),l=dm(e);return z.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==e&&f){const v=new Event("change",{bubbles:!0});f.call(c,e),c.dispatchEvent(v)}},[l,e]),p.jsx(jn.select,{...t,style:{...K5,...t.style},ref:o,defaultValue:e})});vb.displayName=e8;function yb(n){return n===""||n===void 0}function wb(n){const e=Dc(n),t=z.useRef(""),r=z.useRef(0),i=z.useCallback(l=>{const c=t.current+l;e(c),(function u(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),o=z.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return z.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function bb(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=t8(n,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==t));const u=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==t?u:void 0}function t8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var n8=Y5,r8=Q5,i8=Z5,s8=eb,o8=tb,a8=nb,l8=ob,c8=ub,u8=db,d8=fb,h8=pb,f8=gb;function fo({...n}){return p.jsx(n8,{"data-slot":"select",...n})}function po({...n}){return p.jsx(i8,{"data-slot":"select-value",...n})}function go({className:n,size:e="default",children:t,...r}){return p.jsxs(r8,{"data-slot":"select-trigger","data-size":e,className:Un("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border-2 bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,p.jsx(s8,{asChild:!0,children:p.jsx(Mw,{className:"size-4 opacity-50"})})]})}function mo({className:n,children:e,position:t="popper",...r}){return p.jsx(o8,{children:p.jsxs(a8,{"data-slot":"select-content",className:Un("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border-2 shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[p.jsx(p8,{}),p.jsx(l8,{className:Un("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(g8,{})]})})}function yi({className:n,children:e,...t}){return p.jsxs(c8,{"data-slot":"select-item",className:Un("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(d8,{children:p.jsx(Fw,{className:"size-4"})})}),p.jsx(u8,{children:e})]})}function p8({className:n,...e}){return p.jsx(h8,{"data-slot":"select-scroll-up-button",className:Un("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(AN,{className:"size-4"})})}function g8({className:n,...e}){return p.jsx(f8,{"data-slot":"select-scroll-down-button",className:Un("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(Mw,{className:"size-4"})})}const m8=({token:n})=>{const[e,t]=z.useState([]),[r,i]=z.useState([]),[o,l]=z.useState(!0),[c,u]=z.useState(!1),[h,f]=z.useState(!1),[v,b]=z.useState(null),[y,C]=z.useState(!1),[S,j]=z.useState(""),[k,O]=z.useState(""),[P,R]=z.useState(!1),[ee,ne]=z.useState(""),[X,W]=z.useState("created"),[M,K]=z.useState("desc"),[L,D]=z.useState(""),[I,q]=z.useState(!1),[ce,J]=z.useState(null),[re,V]=z.useState([]),[ge,_e]=z.useState(!1),[te,T]=z.useState([]),[$,Y]=z.useState({deviceName:"",organizationId:"",serialNumber:"",brandSerialNumber:"",model:"",deviceType:"Comprehensive"}),oe=async()=>{try{l(!0),console.log(" Fetching devices from:","http://localhost:8000/make-server-60660975/devices");const de=await fetch("http://localhost:8000/make-server-60660975/devices",{headers:{Authorization:`Bearer ${n}`}}),Pe=await de.json();console.log(" Response status:",de.status,de.ok),de.ok?(console.log(" Setting devices:",Pe.devices),t(Pe.devices||[])):(console.error(" Error fetching devices:",Pe),Je.error(Pe.error||"Failed to fetch devices"))}catch(de){console.error(" Exception fetching devices:",de),Je.error("Failed to fetch devices")}finally{l(!1)}},pe=async()=>{try{console.log(" Fetching organizations from:","http://localhost:8000/make-server-60660975/organizations");const de=await fetch("http://localhost:8000/make-server-60660975/organizations",{headers:{Authorization:`Bearer ${n}`}});console.log(" Response status:",de.status,de.ok);const Pe=await de.json();console.log(" Response data:",Pe),de.ok?(console.log(" Setting organizations:",Pe.organizations),i(Pe.organizations||[])):console.error(" Error fetching organizations:",Pe)}catch(de){console.error(" Exception fetching organizations:",de)}},le=async()=>{try{const de=await fetch("http://localhost:8000/make-server-60660975/technicians",{headers:{Authorization:`Bearer ${n}`}}),Pe=await de.json();de.ok&&T(Pe.technicians||[])}catch(de){console.error(" Exception fetching technicians:",de)}};z.useEffect(()=>{oe(),pe(),le()},[n]);const me=async de=>{if(de.preventDefault(),r.length===0){Je.error("Please add an organization first before adding devices");return}console.log("Submitting device with data:",$);try{const Pe=await fetch("http://localhost:8000/make-server-60660975/devices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({deviceName:$.deviceName,organizationId:$.organizationId,brandSerialNumber:$.brandSerialNumber,model:$.model,deviceType:$.deviceType})}),Ge=await Pe.json();if(console.log("Response:",Pe.status,Ge),!Pe.ok){console.error("Error creating device:",Ge.error),Je.error(Ge.error||"Failed to create device");return}Je.success("Device created successfully with QR code!"),u(!1),Y({deviceName:"",organizationId:"",serialNumber:"",brandSerialNumber:"",model:"",deviceType:"Comprehensive"}),oe()}catch(Pe){console.error("Error creating device:",Pe),Je.error("Failed to create device")}},ye=async de=>{if(de.preventDefault(),!!v)try{const Pe=await fetch(`http://localhost:8000/make-server-60660975/devices/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify($)}),Ge=await Pe.json();if(!Pe.ok){console.error("Error updating device:",Ge.error),Je.error(Ge.error||"Failed to update device");return}Je.success("Device updated successfully!"),f(!1),b(null),oe()}catch(Pe){console.error("Error updating device:",Pe),Je.error("Failed to update device")}},Ce=async de=>{try{const Pe=!de.is_archived,Ge=await fetch(`http://localhost:8000/make-server-60660975/devices/${de.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({deviceName:de.name,organizationId:de.organization_id,serialNumber:de.serial_number||"",brandSerialNumber:de.brand_serial_number||"",model:de.model||"",status:de.status||"active",deviceType:de.device_type||"Comprehensive",is_archived:Pe})}),Ze=await Ge.json();if(!Ge.ok){console.error("Error updating device:",Ze.error),Je.error(Ze.error||"Failed to update device");return}Je.success(Pe?"Device archived!":"Device unarchived!"),oe()}catch(Pe){console.error("Error updating device:",Pe),Je.error("Failed to update device")}},Re=(de,Pe)=>{Y({...$,[de]:Pe})},He=de=>{b(de),Y({deviceName:de.name,organizationId:de.organization_id,serialNumber:de.serial_number||"",brandSerialNumber:de.brand_serial_number||"",model:de.model||"",deviceType:de.device_type||"Comprehensive"}),f(!0)},Ve=async de=>{try{const Pe=await Hu.toDataURL(de,{width:300,margin:2});O(Pe),j(de),C(!0)}catch(Pe){console.error("Error generating QR code:",Pe),Je.error("Failed to generate QR code")}},Ie=de=>{const Pe=r.find(Ge=>Ge.id===de);return Pe?Pe.name:"Unknown"},ue=de=>{const Pe=te.find(Ge=>Ge.id===de);return Pe?Pe.name:"Unknown"},Rt=r.filter(de=>!de.archived);let lt=e.filter(de=>{const Ge=r.find(zt=>zt.id===de.organization_id)?.archived||!1,Ze=de.is_archived||!1;return P?ee&&ee.trim()!==""?(Ze||Ge)&&(de.brand_serial_number||"").toLowerCase().includes(ee.toLowerCase()):Ze||Ge:ee&&ee.trim()!==""?!Ze&&!Ge&&(de.brand_serial_number||"").toLowerCase().includes(ee.toLowerCase()):!Ze&&!Ge});L&&(lt=lt.filter(de=>de.organization_id===L)),lt=lt.sort((de,Pe)=>{let Ge="",Ze="";switch(X){case"name":Ge=(de.name||"").toLowerCase(),Ze=(Pe.name||"").toLowerCase();break;case"serial":Ge=(de.serial_number||"").toLowerCase(),Ze=(Pe.serial_number||"").toLowerCase();break;case"brand":Ge=(de.brand_serial_number||"").toLowerCase(),Ze=(Pe.brand_serial_number||"").toLowerCase();break;case"created":default:Ge=new Date(de.created_at).getTime(),Ze=new Date(Pe.created_at).getTime();break}return Ge<Ze?M==="asc"?-1:1:Ge>Ze?M==="asc"?1:-1:0});const ft=async de=>{J(de),q(!0),_e(!0);try{const Pe=await fetch(`http://localhost:8000/make-server-60660975/maintenance/device/${de.id}`,{headers:{Authorization:`Bearer ${n}`}}),Ge=await Pe.json();Pe.ok?V(Ge.maintenance||[]):(Je.error(Ge.error||"Failed to fetch device history"),V([]))}catch(Pe){console.error("Error fetching device history:",Pe),Je.error("Failed to fetch device history"),V([])}finally{_e(!1)}},we=()=>{if(!ce)return;const de=`Maintenance Report - ${ce.name}`,Pe=Ie(ce.organization_id),Ge=re.map(ht=>{const Vt=(ht.status||"Yet to Start").toString(),Nt=Vt.toLowerCase(),rt=Nt.includes("progress")?"status-inprogress":Nt.includes("complete")||Nt.includes("completed")?"status-completed":"status-default";return`
      <tr>
        <td style="padding:8px;border:1px solid #e5e7eb">${new Date(ht.created_at).toLocaleDateString("en-IN")}</td>
        <td style="padding:8px;border:1px solid #e5e7eb">${ue(ht.technician_id)}</td>
        <td style="padding:8px;border:1px solid #e5e7eb"><span class="${rt}">${Vt}</span></td>
        <td style="padding:8px;border:1px solid #e5e7eb">${(ht.description||"-").replace(/\n/g,"<br/>")}</td>
      </tr>
    `}).join(""),Ze=(()=>{if(!re||re.length===0)return null;const ht=re.reduce((Nt,rt)=>{const gt=new Date(rt.created_at);return gt>Nt?gt:Nt},new Date(re[0].created_at)),Vt=new Date(ht);return Vt.setDate(Vt.getDate()+90),Vt.toLocaleDateString("en-IN")})(),zt=`
      <html>
        <head>
          <title>${de}</title>
          <meta name="viewport" content="width=device-width,initial-scale=1" />
          <style>
            body { font-family: Inter, Arial, Helvetica, sans-serif; padding: 20px; color: #111; background: #fff }
            .top { display:flex; gap:12px; align-items:center }
            /* Logo box */
            .logo { width:72px; height:72px; border-radius:6px; display:inline-block; background:#1e90ff; color:#fff; font-weight:700; display:flex; align-items:center; justify-content:center; font-size:20px }
            .org-title { text-align:center; flex:1 }
            /* Large red uppercase header to match supplied image */
            .org-title .big { font-size:44px; font-weight:800; color: rgb(204,0,0); letter-spacing:2px; text-transform:uppercase }
            .org-title .addr { font-size:16px; font-weight:700; color:#111; margin-top:8px }
            .org-title .contact { font-size:14px; color:#111; margin-top:6px }
            /* thicker separator like the image */
            .sep { height:3px; background:#d1d5db; margin:18px 0; width:100%; }
            /* Watermark (logo) - hidden in preview, shown only when printing */
            .watermark { display:none; }
            @media print {
              .watermark { display:block; position:fixed; left:50%; top:40%; transform:translate(-50%,-50%) rotate(-25deg); width:260px; opacity:0.08; pointer-events:none; z-index:0 }
            }
            /* Report title and org box styling */
            .report-title { text-align:center; margin-top:6px; font-weight:700; font-size:14px; color:#2c3e50 }
            .org-box { background:transparent; padding:8px; border-radius:6px; margin-top:8px; text-align:center; font-weight:700; color:#2563eb }
            .serial-red { color: rgb(204,0,0); font-weight:600 }
            .meta { display:flex; justify-content:space-between; margin-top:8px; font-size:12px; color:#505050 }
            .summary { background:#f1f8e9; padding:12px; border-radius:8px; margin-top:12px }
            table { border-collapse:collapse; width:100%; margin-top:12px }
            th, td { padding:8px; border:1px solid #e5e7eb; text-align:left }
            thead th { background: #1976b8; color: #fff; font-weight:700; padding:10px; }
            .status-inprogress { display:inline-block; background:#fff4ce; color:#b85c00; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-completed { display:inline-block; background:#e6f9ec; color:#176f2b; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-default { display:inline-block; background:#f3f4f6; color:#374151; padding:6px 10px; border-radius:6px; font-weight:600 }
            @media print { body { padding:8mm } }
          </style>
        </head>
        <body>
          <div class="top">
            <div>
              <img src="/npa-logo.png" onerror="this.style.display='none'" style="width:72px;height:72px;object-fit:contain" />
              <div class="logo" style="display:none">NP</div>
            </div>
            <div class="org-title">
              <div class="" style="color:red;font-size:30px;font-weight:Bold">NATIONAL PROCESS AUTOMATION</div>
              <div class="addr">#48, 4th cross, Ganesha Block, Nandini Layout, Bangalore-560096</div>
              <div class="contact">Ph: 080 23498376, 9900143996 &nbsp; e-mail: tech.npa@gmail.com</div>
              <div class="contact">www.npautomation.in</div>
            </div>
            <!-- Generated date removed per request -->
          </div>
          <div class="sep"></div>

          <!-- Watermark (print-only logo) -->
          <img src="/npa-logo.png" class="watermark" onerror="this.style.display='none'" alt="NPA watermark" />

          <div class="report-title">DEVICE SERVICE REPORT</div>
          <div class="org-box">${Pe.toUpperCase()}</div>

          <div class="meta">
            <div>Device: <strong>${ce.name}</strong>  Serial: <strong class="serial-red">${ce.serial_number}</strong></div>
            <div>Report ID: NPA-${new Date().toISOString().split("T")[0]}</div>
          </div>

          <div class="summary">
            <div>Total Maintenance Records: <strong>${re.length}</strong></div>
            <div style="margin-top:6px">Next Maintenance Date: <strong>${Ze||"-"}</strong></div>
          </div>

          ${re.length===0?`
            <div style="padding:16px;color:#6b7280">No maintenance records found for this device.</div>
          `:`
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Technician</th>
                  <th>Status</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                ${Ge}
              </tbody>
            </table>
          `}
        </body>
      </html>
    `,st=window.open("","_blank");st&&(st.document.write(zt),st.document.close(),setTimeout(()=>st.print(),200))};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{children:"Devices"}),p.jsx("p",{className:"text-gray-600",children:"Manage water dispenser devices"})]}),p.jsxs(Ki,{open:c,onOpenChange:u,children:[p.jsx(td,{asChild:!0,children:p.jsxs(St,{disabled:Rt.length===0,children:[p.jsx(sh,{className:"w-4 h-4 mr-2"}),"Add Device"]})}),p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Add New Device"}),p.jsx(us,{children:"Register a new water dispenser device"})]}),p.jsxs("form",{onSubmit:me,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"deviceName",children:"Device Name *"}),p.jsx(en,{id:"deviceName",value:$.deviceName,onChange:de=>Re("deviceName",de.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"brandSerialNumber",children:"Brand Serial No *"}),p.jsx(en,{id:"brandSerialNumber",value:$.brandSerialNumber,onChange:de=>Re("brandSerialNumber",de.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"model",children:"Model"}),p.jsx(en,{id:"model",value:$.model,onChange:de=>Re("model",de.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"deviceType",children:"Device Type *"}),p.jsxs(fo,{value:$.deviceType,onValueChange:de=>Re("deviceType",de),children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select device type"})}),p.jsxs(mo,{children:[p.jsx(yi,{value:"Comprehensive",children:"Comprehensive"}),p.jsx(yi,{value:"Non Comprehensive",children:"Non Comprehensive"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"organization",children:"Organization *"}),p.jsxs(fo,{value:$.organizationId,onValueChange:de=>Re("organizationId",de),required:!0,children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select organization"})}),p.jsx(mo,{children:Rt.map(de=>p.jsx(yi,{value:de.id,children:de.name},de.id))})]})]}),p.jsx(St,{type:"submit",className:"w-full",children:"Create Device"})]})]})]})]}),p.jsx(Ki,{open:h,onOpenChange:f,children:p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Edit Device"}),p.jsx(us,{children:"Update device information"})]}),p.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-deviceName",children:"Device Name *"}),p.jsx(en,{id:"edit-deviceName",value:$.deviceName,onChange:de=>Re("deviceName",de.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-serialNumber",children:"Serial Number"}),p.jsx(en,{id:"edit-serialNumber",value:$.serialNumber,onChange:de=>Re("serialNumber",de.target.value),disabled:!0}),p.jsx("p",{className:"text-xs text-slate-500",children:"Serial numbers are generated automatically and cannot be changed here."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-brandSerialNumber",children:"Brand Serial No *"}),p.jsx(en,{id:"edit-brandSerialNumber",value:$.brandSerialNumber,onChange:de=>Re("brandSerialNumber",de.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-model",children:"Model"}),p.jsx(en,{id:"edit-model",value:$.model,onChange:de=>Re("model",de.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-deviceType",children:"Device Type *"}),p.jsxs(fo,{value:$.deviceType,onValueChange:de=>Re("deviceType",de),children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select device type"})}),p.jsxs(mo,{children:[p.jsx(yi,{value:"Comprehensive",children:"Comprehensive"}),p.jsx(yi,{value:"Non Comprehensive",children:"Non Comprehensive"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"edit-organization",children:"Organization *"}),p.jsxs(fo,{value:$.organizationId,onValueChange:de=>Re("organizationId",de),required:!0,children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select organization"})}),p.jsx(mo,{children:Rt.map(de=>p.jsx(yi,{value:de.id,children:de.name},de.id))})]})]}),p.jsx(St,{type:"submit",className:"w-full",children:"Update Device"})]})]})}),Rt.length===0&&p.jsx(Ws,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200 shadow-md",children:p.jsx(Vs,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"text-2xl",children:""}),p.jsxs("div",{children:[p.jsx("p",{className:"text-yellow-900 font-medium",children:"No Organizations Available"}),p.jsx("p",{className:"text-yellow-700 text-sm",children:"You must add at least one active organization before you can add devices."})]})]})})}),p.jsxs(Ws,{className:"shadow-sm border-2 border-gray-400",children:[p.jsx(Wo,{className:"bg-white border-b-2 border-gray-400 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(ka,{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:p.jsx(Yl,{className:"w-5 h-5 text-slate-700"})}),p.jsxs("span",{className:"text-slate-900",children:["Devices (",lt.length,")"]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(en,{id:"search-brand-serial",placeholder:"Search by brand serial no",value:ee,onChange:de=>ne(de.target.value),className:"w-60"}),p.jsxs("select",{value:L,onChange:de=>D(de.target.value),className:"border rounded px-2 py-1 text-sm",title:"Filter by organization",children:[p.jsx("option",{value:"",children:"All Orgs"}),Rt.map(de=>p.jsx("option",{value:de.id,children:de.organization_code||de.name},de.id))]}),p.jsxs("select",{value:X,onChange:de=>W(de.target.value),className:"border rounded px-2 py-1 text-sm",title:"Sort by",children:[p.jsx("option",{value:"created",children:"Newest"}),p.jsx("option",{value:"name",children:"Name"}),p.jsx("option",{value:"serial",children:"Serial"}),p.jsx("option",{value:"brand",children:"Brand Serial"})]}),p.jsxs("select",{value:M,onChange:de=>K(de.target.value),className:"border rounded px-2 py-1 text-sm",title:"Sort direction",children:[p.jsx("option",{value:"desc",children:"Desc"}),p.jsx("option",{value:"asc",children:"Asc"})]}),p.jsx(jt,{htmlFor:"show-archived-devices",className:"text-sm text-slate-600 cursor-pointer select-none",children:"Show Archived"}),p.jsx(fm,{id:"show-archived-devices",checked:P,onCheckedChange:R})]})]})}),p.jsx(Vs,{className:"p-0",children:o?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"w-12 h-12 border-3 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Loading devices..."})]}):lt.length===0?p.jsxs("div",{className:"text-center py-16",children:[p.jsx(Yl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-500",children:P?"No archived devices found.":"No devices found. Add your first device!"})]}):p.jsx("div",{className:"divide-y divide-gray-200",children:lt.map(de=>p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:p.jsx(Yl,{className:"w-5 h-5 text-slate-600"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-slate-900",children:de.name}),p.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[de.serial_number," ",de.brand_serial_number?`  ${de.brand_serial_number}`:"","  ",Ie(de.organization_id),de.model&&`  ${de.model}`]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>Ve(de.serial_number||""),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View QR code",children:p.jsx(rm,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>ft(de),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View maintenance history",children:p.jsx(ed,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>He(de),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"Edit device",children:p.jsx(Af,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>Ce(de),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:de.is_archived?"Unarchive":"Archive",children:de.is_archived?p.jsx(Qd,{className:"w-4 h-4"}):p.jsx(Zu,{className:"w-4 h-4"})})]})]},de.id))})})]}),p.jsx(Ki,{open:y,onOpenChange:C,children:p.jsxs(Yi,{className:"max-w-sm",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Device QR Code"}),p.jsx(us,{children:"Scan this QR code to identify the device"})]}),p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[k&&p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"qr-rainbow-bg absolute inset-0 rounded-2xl opacity-80 blur-xl"}),p.jsx("div",{className:"relative rounded-2xl bg-white p-3 shadow-lg",children:p.jsx("img",{id:"device-qr-img",src:k,alt:"QR Code",className:"w-64 h-64"})})]}),p.jsx("p",{className:"text-sm text-gray-600 text-center break-all",children:S}),p.jsxs("div",{className:"flex gap-3 mt-2",children:[p.jsx(St,{variant:"outline",size:"sm",onClick:()=>{const de=document.createElement("a");de.href=k,de.download="device-qr.png",de.click()},children:"Download"}),p.jsx(St,{variant:"outline",size:"sm",onClick:()=>{const de=window.open("","_blank");de&&(de.document.write(`<html><head><title>Print QR</title></head><body style='text-align:center;padding:2em;'><img src='${k}' style='width:300px;height:300px;'/><br/><p style='font-size:12px;margin-top:1em;'>${S}</p></body></html>`),de.document.close(),de.focus(),de.print())},children:"Print"})]})]})]})}),p.jsx(Ki,{open:I,onOpenChange:q,children:p.jsxs(Yi,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[p.jsx(Ji,{children:p.jsxs("div",{className:"w-full flex items-start justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs(Qi,{children:["Maintenance History",ce?`: ${ce.name}`:""]}),p.jsx(us,{children:ce?p.jsxs("span",{className:"text-xs",children:["Serial: ",ce.serial_number,"  Org: ",Ie(ce.organization_id)]}):null})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs(St,{variant:"outline",size:"sm",onClick:we,disabled:re.length===0,title:re.length===0?"No records to print":"Print device report",children:[p.jsx(Bw,{className:"w-4 h-4 mr-2"})," Print"]})})]})}),ge?p.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading history..."}):re.length===0?p.jsx("div",{className:"text-center py-8 text-slate-500",children:"No maintenance records found for this device."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("div",{children:[p.jsx("style",{children:".history-table thead th { background:#1976b8; color:#fff; font-weight:700; padding:8px 10px } .history-table td { padding:6px 8px } .history-table tr { height:36px }"}),p.jsxs(Ef,{className:"history-table",children:[p.jsx(Pf,{children:p.jsxs(Vl,{children:[p.jsx(vr,{children:"Date"}),p.jsx(vr,{children:"Technician"}),p.jsx(vr,{children:"Status"}),p.jsx(vr,{children:"Notes"})]})}),p.jsx(Lf,{children:re.map(de=>p.jsxs(Vl,{children:[p.jsx(yr,{children:new Date(de.created_at).toLocaleDateString("en-IN")}),p.jsx(yr,{children:ue(de.technician_id)}),p.jsx(yr,{children:p.jsx("span",{className:"px-2 py-1 rounded text-xs border",children:de.status||"Yet to Start"})}),p.jsx(yr,{children:de.description||"-"})]},de.id))})]})]})})]})})]})},v8=({token:n})=>{const[e,t]=z.useState([]),[r,i]=z.useState(!0),[o,l]=z.useState(!1),[c,u]=z.useState(null),[h,f]=z.useState(!1),[v,b]=z.useState(!1),[y,C]=z.useState(""),[S,j]=z.useState(""),[k,O]=z.useState(""),[P,R]=z.useState({name:"",contactNo:"",email:"",pan:"",aadhar:""}),[ee,ne]=z.useState(""),X=async()=>{try{const J=await fetch("http://localhost:8000/make-server-60660975/technicians",{headers:{Authorization:`Bearer ${n}`}}),re=await J.json();if(!J.ok){console.error("Error fetching technicians:",re.error),Je.error(re.error||"Failed to fetch technicians");return}t(re.technicians||[])}catch(J){console.error("Error fetching technicians:",J),Je.error("Failed to fetch technicians")}finally{i(!1)}};z.useEffect(()=>{X()},[n]);const W=async J=>{J.preventDefault();try{const re={...P,pan:(P.pan||"").toUpperCase(),aadhar:(P.aadhar||"").replace(/\D/g,"").slice(0,12)},V=c?`http://localhost:8000/make-server-60660975/technicians/${c.id}`:"http://localhost:8000/make-server-60660975/technicians",ge=await fetch(V,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(re)}),_e=await ge.json();if(!ge.ok){console.error(`Error ${c?"updating":"creating"} technician:`,_e.error),Je.error(_e.error||`Failed to ${c?"update":"create"} technician`);return}Je.success(`Technician ${c?"updated":"created"} successfully!`),l(!1),u(null),R({name:"",contactNo:"",email:"",pan:"",aadhar:""}),X()}catch(re){console.error(`Error ${c?"updating":"creating"} technician:`,re),Je.error(`Failed to ${c?"update":"create"} technician`)}},M=J=>{u(J);const V=(J.aadhar||"").replace(/\D/g,"").replace(/(.{4})/g,"$1-").replace(/-$/,"");R({name:J.name,contactNo:(J.phone||"").replace(/\D/g,"").slice(0,10),email:J.email,pan:J.pan||"",aadhar:V}),l(!0)},K=async(J,re)=>{try{const V=await fetch(`http://localhost:8000/make-server-60660975/technicians/${J}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({archived:!re})}),ge=await V.json();if(!V.ok){console.error("Error archiving technician:",ge.error),Je.error(ge.error||"Failed to archive technician");return}Je.success(`Technician ${re?"unarchived":"archived"} successfully!`),X()}catch(V){console.error("Error archiving technician:",V),Je.error("Failed to archive technician")}},L=J=>{l(J),J||(u(null),R({name:"",contactNo:"",email:"",pan:"",aadhar:""}))},D=(J,re)=>{if(J==="contactNo"){const V=re.replace(/\D/g,"").slice(0,10);R({...P,contactNo:V});return}if(J==="pan"){const V=re.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,10);R({...P,pan:V});return}if(J==="aadhar"){const ge=re.replace(/\D/g,"").slice(0,12).replace(/(.{4})/g,"$1-").replace(/-$/,"");R({...P,aadhar:ge});return}R({...P,[J]:re})},I=(J,re)=>J.code&&J.code.length>0?`NPA-TECH-${J.code}`:J.id&&J.id.length>0?`NPA-TECH-${J.id}`:`NPA-TECH-${String(re+1).padStart(6,"0")}`,q=async(J,re)=>{try{const V=I(J,re),ge=await Hu.toDataURL(V,{width:300,margin:2});j(ge),C(V),O(J.name),b(!0)}catch(V){console.error("Error generating QR code:",V),Je.error("Failed to generate QR code")}},ce=e.filter(J=>h?J.is_archived===!0:J.is_archived!==!0).filter(J=>J.name.toLowerCase().includes(ee.toLowerCase().trim()));return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"font-bold",children:"Technicians"}),p.jsx("p",{className:"text-gray-600 font-bold",children:"Manage maintenance technicians"})]}),p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{type:"text",className:"border-2 border-gray-400 rounded px-2 py-1 text-sm min-w-[180px]",placeholder:"Search by name...",value:ee,onChange:J=>ne(J.target.value)}),p.jsxs(St,{variant:"outline",onClick:()=>f(!h),children:[h?p.jsx(Qd,{className:"w-4 h-4 mr-2"}):p.jsx(Zu,{className:"w-4 h-4 mr-2"}),h?"Show Active":"Show Archived"]}),p.jsxs(Ki,{open:o,onOpenChange:L,children:[p.jsx(td,{asChild:!0,children:p.jsxs(St,{children:[p.jsx(sh,{className:"w-4 h-4 mr-2"}),"Add Technician"]})}),p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:c?"Edit Technician":"Add New Technician"}),p.jsx(us,{children:c?"Update technician information":"Register a new maintenance technician"})]}),p.jsxs("form",{onSubmit:W,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"name",children:"Name *"}),p.jsx(en,{id:"name",value:P.name,onChange:J=>D("name",J.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"contactNo",children:"Contact Number *"}),p.jsx(en,{id:"contactNo",type:"tel",value:P.contactNo,maxLength:10,pattern:"[0-9]{10}",inputMode:"numeric",onChange:J=>D("contactNo",J.target.value.replace(/\D/g,"").slice(0,10)),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"email",children:"Email *"}),p.jsx(en,{id:"email",type:"email",value:P.email,onChange:J=>D("email",J.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"pan",children:"PAN *"}),p.jsx(en,{id:"pan",value:P.pan,onChange:J=>D("pan",J.target.value.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10,required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"aadhar",children:"Aadhar *"}),p.jsx(en,{id:"aadhar",value:P.aadhar,onChange:J=>D("aadhar",J.target.value),placeholder:"1234-5678-9012",maxLength:14,inputMode:"numeric",pattern:"[0-9]{4}-[0-9]{4}-[0-9]{4}",required:!0})]}),p.jsx(St,{type:"submit",className:"w-full",onClick:J=>{if(!P.contactNo||P.contactNo.replace(/\D/g,"").length!==10){J.preventDefault(),Je.error("Phone number must be exactly 10 digits");return}if((P.aadhar||"").replace(/\D/g,"").length!==12){J.preventDefault(),Je.error("Aadhar number must be 12 digits (format: 1234-5678-9012)");return}},children:c?"Update Technician":"Create Technician"})]})]})]})]})]}),p.jsxs(Ws,{className:"shadow-sm border-2 border-gray-400",children:[p.jsx(Wo,{className:"bg-white border-b-2 border-gray-400 py-4",children:p.jsxs(ka,{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:p.jsx(Wd,{className:"w-5 h-5 text-slate-700"})}),p.jsxs("span",{className:"text-slate-900",children:[h?"Archived ":"","Technicians (",ce.length,")"]})]})}),p.jsx(Vs,{className:"p-0",children:r?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"w-12 h-12 border-3 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Loading technicians..."})]}):ce.length===0?p.jsxs("div",{className:"text-center py-16",children:[p.jsx(Wd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),p.jsx("p",{className:"text-slate-500",children:h?"No archived technicians found.":"No technicians found. Add your first technician!"})]}):p.jsx("div",{className:"divide-y divide-gray-200",children:ce.map((J,re)=>p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:p.jsx(Wd,{className:"w-5 h-5 text-slate-600"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h3",{className:"text-slate-900 font-bold",children:J.name}),p.jsx(x5,{variant:"outline",className:"text-xs font-mono",children:J.code||`TECH-${String(re+1).padStart(6,"0")}`})]}),p.jsxs("p",{className:"text-xs text-slate-500 font-bold mt-0.5",children:[J.email,"  ",J.phone]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[p.jsx(St,{variant:"outline",size:"sm",onClick:()=>q(J,re),title:"Show QR Code",children:p.jsx(rm,{className:"w-4 h-4"})}),p.jsx(St,{variant:"outline",size:"sm",onClick:()=>M(J),children:p.jsx(zN,{className:"w-4 h-4"})}),p.jsx(St,{variant:"outline",size:"sm",onClick:()=>K(J.id,J.is_archived||!1),title:J.is_archived?"Unarchive":"Archive",children:J.is_archived?p.jsx(Qd,{className:"w-4 h-4"}):p.jsx(Zu,{className:"w-4 h-4"})})]})]},J.id))})})]}),p.jsx(Ki,{open:v,onOpenChange:b,children:p.jsxs(Yi,{className:"max-w-sm",children:[p.jsx(Ji,{children:p.jsx(Qi,{children:"Technician QR Code"})}),p.jsx("div",{className:"flex flex-col items-center space-y-4",children:S&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"qr-rainbow-bg absolute inset-0 rounded-2xl opacity-80 blur-xl"}),p.jsx("div",{className:"relative rounded-2xl bg-white p-3 shadow-lg",children:p.jsx("img",{src:S,alt:"Technician QR Code",className:"w-64 h-64"})})]}),p.jsx("p",{className:"text-sm text-gray-600 text-center break-all",children:y}),p.jsxs("div",{className:"flex gap-3 mt-2",children:[p.jsx(St,{variant:"outline",size:"sm",onClick:()=>{const J=document.createElement("a");J.href=S,J.download=`${y}-qr-code.png`,J.click()},children:"Download"}),p.jsx(St,{variant:"outline",size:"sm",onClick:()=>{const J=window.open("","_blank");J&&(J.document.write(`
                          <html>
                            <head>
                              <title>Print QR Code - ${y}</title>
                              <style>
                                body { text-align: center; padding: 2em; font-family: Arial, sans-serif; }
                              </style>
                            </head>
                            <body>
                              <img src="${S}" style="width:300px;height:300px;" />
                              <br/>
                              <p style="font-size:12px;margin-top:1em;">${y}</p>
                            </body>
                          </html>
                        `),J.document.close(),J.print())},children:"Print"})]})]})})]})})]})};function Mg({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",style:{boxShadow:"0 2px 4px rgba(0,0,0,0.06)",borderWidth:"0.5px"},className:Un("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}var tp="Checkbox",[y8]=od(tp),[w8,Nm]=y8(tp);function b8(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:o,form:l,name:c,onCheckedChange:u,required:h,value:f="on",internal_do_not_use_render:v}=n,[b,y]=Xd({prop:t,defaultProp:i??!1,onChange:u,caller:tp}),[C,S]=z.useState(null),[j,k]=z.useState(null),O=z.useRef(!1),P=C?!!l||!!C.closest("form"):!0,R={checked:b,disabled:o,setChecked:y,control:C,setControl:S,name:c,form:l,value:f,hasConsumerStoppedPropagationRef:O,required:h,defaultChecked:Jl(i)?!1:i,isFormControl:P,bubbleInput:j,setBubbleInput:k};return p.jsx(w8,{scope:e,...R,children:x8(v)?v(R):r})}var xb="CheckboxTrigger",_b=z.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},i)=>{const{control:o,value:l,disabled:c,checked:u,required:h,setControl:f,setChecked:v,hasConsumerStoppedPropagationRef:b,isFormControl:y,bubbleInput:C}=Nm(xb,n),S=cr(i,f),j=z.useRef(u);return z.useEffect(()=>{const k=o?.form;if(k){const O=()=>v(j.current);return k.addEventListener("reset",O),()=>k.removeEventListener("reset",O)}},[o,v]),p.jsx(jn.button,{type:"button",role:"checkbox","aria-checked":Jl(u)?"mixed":u,"aria-required":h,"data-state":jb(u),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:S,onKeyDown:Vn(e,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Vn(t,k=>{v(O=>Jl(O)?!0:!O),C&&y&&(b.current=k.isPropagationStopped(),b.current||k.stopPropagation())})})});_b.displayName=xb;var Sb=z.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:o,required:l,disabled:c,value:u,onCheckedChange:h,form:f,...v}=n;return p.jsx(b8,{__scopeCheckbox:t,checked:i,defaultChecked:o,disabled:c,required:l,onCheckedChange:h,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:b})=>p.jsxs(p.Fragment,{children:[p.jsx(_b,{...v,ref:e,__scopeCheckbox:t}),b&&p.jsx(Ab,{__scopeCheckbox:t})]})})});Sb.displayName=tp;var Nb="CheckboxIndicator",kb=z.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,o=Nm(Nb,t);return p.jsx(oh,{present:r||Jl(o.checked)||o.checked===!0,children:p.jsx(jn.span,{"data-state":jb(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});kb.displayName=Nb;var Cb="CheckboxBubbleInput",Ab=z.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:c,disabled:u,name:h,value:f,form:v,bubbleInput:b,setBubbleInput:y}=Nm(Cb,n),C=cr(t,y),S=dm(o),j=hm(r);z.useEffect(()=>{const O=b;if(!O)return;const P=window.HTMLInputElement.prototype,ee=Object.getOwnPropertyDescriptor(P,"checked").set,ne=!i.current;if(S!==o&&ee){const X=new Event("click",{bubbles:ne});O.indeterminate=Jl(o),ee.call(O,Jl(o)?!1:o),O.dispatchEvent(X)}},[b,S,o,i]);const k=z.useRef(Jl(o)?!1:o);return p.jsx(jn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,required:c,disabled:u,name:h,value:f,form:v,...e,tabIndex:-1,ref:C,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ab.displayName=Cb;function x8(n){return typeof n=="function"}function Jl(n){return n==="indeterminate"}function jb(n){return Jl(n)?"indeterminate":n?"checked":"unchecked"}function _8({className:n,...e}){return p.jsx(Sb,{"data-slot":"checkbox",className:Un("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(kb,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx(Fw,{className:"size-3.5"})})})}function zn(n){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(n)}var Ko=Uint8Array,Gs=Uint16Array,km=Int32Array,Cm=new Ko([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Am=new Ko([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C2=new Ko([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Eb=function(n,e){for(var t=new Gs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new km(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},Pb=Eb(Cm,2),S8=Pb.b,F0=Pb.r;S8[28]=258,F0[258]=28;var N8=Eb(Am,0),A2=N8.r,M0=new Gs(32768);for(var lr=0;lr<32768;++lr){var Ul=(lr&43690)>>1|(lr&21845)<<1;Ul=(Ul&52428)>>2|(Ul&13107)<<2,Ul=(Ul&61680)>>4|(Ul&3855)<<4,M0[lr]=((Ul&65280)>>8|(Ul&255)<<8)>>1}var Vd=(function(n,e,t){for(var r=n.length,i=0,o=new Gs(e);i<r;++i)n[i]&&++o[n[i]-1];var l=new Gs(e);for(i=1;i<e;++i)l[i]=l[i-1]+o[i-1]<<1;var c;if(t){c=new Gs(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],f=e-n[i],v=l[n[i]-1]++<<f,b=v|(1<<f)-1;v<=b;++v)c[M0[v]>>u]=h}else for(c=new Gs(r),i=0;i<r;++i)n[i]&&(c[i]=M0[l[n[i]-1]++]>>15-n[i]);return c}),Uc=new Ko(288);for(var lr=0;lr<144;++lr)Uc[lr]=8;for(var lr=144;lr<256;++lr)Uc[lr]=9;for(var lr=256;lr<280;++lr)Uc[lr]=7;for(var lr=280;lr<288;++lr)Uc[lr]=8;var Ff=new Ko(32);for(var lr=0;lr<32;++lr)Ff[lr]=5;var k8=Vd(Uc,9,0),C8=Vd(Ff,5,0),Lb=function(n){return(n+7)/8|0},A8=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ko(n.subarray(e,t))},tl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Md=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Bg=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:Rb,l:0};if(i==1){var l=new Ko(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ee,ne){return ee.f-ne.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],h=0,f=1,v=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=i-1;)c=t[t[h].f<t[v].f?h++:v++],u=t[h!=f&&t[h].f<t[v].f?h++:v++],t[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var b=o[0].s,r=1;r<i;++r)o[r].s>b&&(b=o[r].s);var y=new Gs(b+1),C=B0(t[f-1],y,0);if(C>e){var r=0,S=0,j=C-e,k=1<<j;for(o.sort(function(ne,X){return y[X.s]-y[ne.s]||ne.f-X.f});r<i;++r){var O=o[r].s;if(y[O]>e)S+=k-(1<<C-y[O]),y[O]=e;else break}for(S>>=j;S>0;){var P=o[r].s;y[P]<e?S-=1<<e-y[P]++-1:++r}for(;r>=0&&S;--r){var R=o[r].s;y[R]==e&&(--y[R],++S)}C=e}return{t:new Ko(y),l:C}},B0=function(n,e,t){return n.s==-1?Math.max(B0(n.l,e,t+1),B0(n.r,e,t+1)):e[n.s]=t},j2=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Gs(++e),r=0,i=n[0],o=1,l=function(u){t[r++]=u},c=1;c<=e;++c)if(n[c]==i&&c!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(i),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(i);o=1,i=n[c]}return{c:t.subarray(0,r),n:e}},Bd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Tb=function(n,e,t){var r=t.length,i=Lb(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},E2=function(n,e,t,r,i,o,l,c,u,h,f){tl(e,f++,t),++i[256];for(var v=Bg(i,15),b=v.t,y=v.l,C=Bg(o,15),S=C.t,j=C.l,k=j2(b),O=k.c,P=k.n,R=j2(S),ee=R.c,ne=R.n,X=new Gs(19),W=0;W<O.length;++W)++X[O[W]&31];for(var W=0;W<ee.length;++W)++X[ee[W]&31];for(var M=Bg(X,7),K=M.t,L=M.l,D=19;D>4&&!K[C2[D-1]];--D);var I=h+5<<3,q=Bd(i,Uc)+Bd(o,Ff)+l,ce=Bd(i,b)+Bd(o,S)+l+14+3*D+Bd(X,K)+2*X[16]+3*X[17]+7*X[18];if(u>=0&&I<=q&&I<=ce)return Tb(e,f,n.subarray(u,u+h));var J,re,V,ge;if(tl(e,f,1+(ce<q)),f+=2,ce<q){J=Vd(b,y,0),re=b,V=Vd(S,j,0),ge=S;var _e=Vd(K,L,0);tl(e,f,P-257),tl(e,f+5,ne-1),tl(e,f+10,D-4),f+=14;for(var W=0;W<D;++W)tl(e,f+3*W,K[C2[W]]);f+=3*D;for(var te=[O,ee],T=0;T<2;++T)for(var $=te[T],W=0;W<$.length;++W){var Y=$[W]&31;tl(e,f,_e[Y]),f+=K[Y],Y>15&&(tl(e,f,$[W]>>5&127),f+=$[W]>>12)}}else J=k8,re=Uc,V=C8,ge=Ff;for(var W=0;W<c;++W){var oe=r[W];if(oe>255){var Y=oe>>18&31;Md(e,f,J[Y+257]),f+=re[Y+257],Y>7&&(tl(e,f,oe>>23&31),f+=Cm[Y]);var pe=oe&31;Md(e,f,V[pe]),f+=ge[pe],pe>3&&(Md(e,f,oe>>5&8191),f+=Am[pe])}else Md(e,f,J[oe]),f+=re[oe]}return Md(e,f,J[256]),f+re[256]},j8=new km([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Rb=new Ko(0),E8=function(n,e,t,r,i,o){var l=o.z||n.length,c=new Ko(r+l+5*(1+Math.ceil(l/7e3))+i),u=c.subarray(r,c.length-i),h=o.l,f=(o.r||0)&7;if(e){f&&(u[0]=o.r>>3);for(var v=j8[e-1],b=v>>13,y=v&8191,C=(1<<t)-1,S=o.p||new Gs(32768),j=o.h||new Gs(C+1),k=Math.ceil(t/3),O=2*k,P=function(Ie){return(n[Ie]^n[Ie+1]<<k^n[Ie+2]<<O)&C},R=new km(25e3),ee=new Gs(288),ne=new Gs(32),X=0,W=0,M=o.i||0,K=0,L=o.w||0,D=0;M+2<l;++M){var I=P(M),q=M&32767,ce=j[I];if(S[q]=ce,j[I]=q,L<=M){var J=l-M;if((X>7e3||K>24576)&&(J>423||!h)){f=E2(n,u,0,R,ee,ne,W,K,D,M-D,f),K=X=W=0,D=M;for(var re=0;re<286;++re)ee[re]=0;for(var re=0;re<30;++re)ne[re]=0}var V=2,ge=0,_e=y,te=q-ce&32767;if(J>2&&I==P(M-te))for(var T=Math.min(b,J)-1,$=Math.min(32767,M),Y=Math.min(258,J);te<=$&&--_e&&q!=ce;){if(n[M+V]==n[M+V-te]){for(var oe=0;oe<Y&&n[M+oe]==n[M+oe-te];++oe);if(oe>V){if(V=oe,ge=te,oe>T)break;for(var pe=Math.min(te,oe-2),le=0,re=0;re<pe;++re){var me=M-te+re&32767,ye=S[me],Ce=me-ye&32767;Ce>le&&(le=Ce,ce=me)}}}q=ce,ce=S[q],te+=q-ce&32767}if(ge){R[K++]=268435456|F0[V]<<18|A2[ge];var Re=F0[V]&31,He=A2[ge]&31;W+=Cm[Re]+Am[He],++ee[257+Re],++ne[He],L=M+V,++X}else R[K++]=n[M],++ee[n[M]]}}for(M=Math.max(M,L);M<l;++M)R[K++]=n[M],++ee[n[M]];f=E2(n,u,h,R,ee,ne,W,K,D,M-D,f),h||(o.r=f&7|u[f/8|0]<<3,f-=7,o.h=j,o.p=S,o.i=M,o.w=L)}else{for(var M=o.w||0;M<l+h;M+=65535){var Ve=M+65535;Ve>=l&&(u[f/8|0]=h,Ve=l),f=Tb(u,f+1,n.subarray(M,Ve))}o.i=l}return A8(c,0,r+Lb(f)+i)},Ob=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},P8=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new Ko(o.length+n.length);l.set(o),l.set(n,o.length),n=l,i.w=o.length}return E8(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},Ib=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},L8=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Ob();i.p(e.dictionary),Ib(n,2,i.d())}};function z0(n,e){e||(e={});var t=Ob();t.p(n);var r=P8(n,e,e.dictionary?6:2,4);return L8(r,e),Ib(r,r.length-4,t.d()),r}var T8=typeof TextDecoder<"u"&&new TextDecoder,R8=0;try{T8.decode(Rb,{stream:!0}),R8=1}catch{}function O8(n){if(Array.isArray(n))return n}function I8(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,l,c=[],u=!0,h=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(u=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function P2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function D8(n,e){if(n){if(typeof n=="string")return P2(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P2(n,e):void 0}}function F8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2(n,e){return O8(n)||I8(n,e)||D8(n,e)||F8()}function T2(n,e="utf8"){return new TextDecoder(e).decode(n)}const M8=new TextEncoder;function B8(n){return M8.encode(n)}const z8=1024*8,U8=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),zg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class jm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=z8,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,o=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof jm)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=zg[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===U8&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const u=new zg[t](c.buffer);return this.offset+=r,u.reverse(),u}const l=new zg[t](o);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return T2(this.readBytes(e))}decodeText(e=1,t="utf8"){return T2(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(B8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ud(n){let e=n.length;for(;--e>=0;)n[e]=0}const $8=3,q8=258,Db=29,H8=256,W8=H8+1+Db,Fb=30,V8=512,G8=new Array((W8+2)*2);ud(G8);const K8=new Array(Fb*2);ud(K8);const Y8=new Array(V8);ud(Y8);const J8=new Array(q8-$8+1);ud(J8);const Q8=new Array(Db);ud(Q8);const X8=new Array(Fb);ud(X8);const Z8=(n,e,t,r)=>{let i=n&65535|0,o=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[r++]|0,o=o+i|0;while(--l);i%=65521,o%=65521}return i|o<<16|0};var U0=Z8;const ej=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},tj=new Uint32Array(ej()),nj=(n,e,t,r)=>{const i=tj,o=r+t;n^=-1;for(let l=r;l<o;l++)n=n>>>8^i[(n^e[l])&255];return n^-1};var wa=nj,$0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const rj=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ij=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)rj(t,r)&&(n[r]=t[r])}}return n},sj=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let l=n[r];t.set(l,i),i+=l.length}return t},Bb={assign:ij,flattenChunks:sj};let zb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zb=!1}const th=new Uint8Array(256);for(let n=0;n<256;n++)th[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;th[254]=th[254]=1;var oj=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,o,l=n.length,c=0;for(i=0;i<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,i=0;o<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const aj=(n,e)=>{if(e<65534&&n.subarray&&zb)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var lj=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const o=new Array(t*2);for(i=0,r=0;r<t;){let l=n[r++];if(l<128){o[i++]=l;continue}let c=th[l];if(c>4){o[i++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<t;)l=l<<6|n[r++]&63,c--;if(c>1){o[i++]=65533;continue}l<65536?o[i++]=l:(l-=65536,o[i++]=55296|l>>10&1023,o[i++]=56320|l&1023)}return aj(o,i)},cj=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+th[n[t]]>e?t:e},q0={string2buf:oj,buf2string:lj,utf8border:cj};function uj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dj=uj;const sf=16209,hj=16191;var fj=function(e,t){let r,i,o,l,c,u,h,f,v,b,y,C,S,j,k,O,P,R,ee,ne,X,W,M,K;const L=e.state;r=e.next_in,M=e.input,i=r+(e.avail_in-5),o=e.next_out,K=e.output,l=o-(t-e.avail_out),c=o+(e.avail_out-257),u=L.dmax,h=L.wsize,f=L.whave,v=L.wnext,b=L.window,y=L.hold,C=L.bits,S=L.lencode,j=L.distcode,k=(1<<L.lenbits)-1,O=(1<<L.distbits)-1;e:do{C<15&&(y+=M[r++]<<C,C+=8,y+=M[r++]<<C,C+=8),P=S[y&k];t:for(;;){if(R=P>>>24,y>>>=R,C-=R,R=P>>>16&255,R===0)K[o++]=P&65535;else if(R&16){ee=P&65535,R&=15,R&&(C<R&&(y+=M[r++]<<C,C+=8),ee+=y&(1<<R)-1,y>>>=R,C-=R),C<15&&(y+=M[r++]<<C,C+=8,y+=M[r++]<<C,C+=8),P=j[y&O];n:for(;;){if(R=P>>>24,y>>>=R,C-=R,R=P>>>16&255,R&16){if(ne=P&65535,R&=15,C<R&&(y+=M[r++]<<C,C+=8,C<R&&(y+=M[r++]<<C,C+=8)),ne+=y&(1<<R)-1,ne>u){e.msg="invalid distance too far back",L.mode=sf;break e}if(y>>>=R,C-=R,R=o-l,ne>R){if(R=ne-R,R>f&&L.sane){e.msg="invalid distance too far back",L.mode=sf;break e}if(X=0,W=b,v===0){if(X+=h-R,R<ee){ee-=R;do K[o++]=b[X++];while(--R);X=o-ne,W=K}}else if(v<R){if(X+=h+v-R,R-=v,R<ee){ee-=R;do K[o++]=b[X++];while(--R);if(X=0,v<ee){R=v,ee-=R;do K[o++]=b[X++];while(--R);X=o-ne,W=K}}}else if(X+=v-R,R<ee){ee-=R;do K[o++]=b[X++];while(--R);X=o-ne,W=K}for(;ee>2;)K[o++]=W[X++],K[o++]=W[X++],K[o++]=W[X++],ee-=3;ee&&(K[o++]=W[X++],ee>1&&(K[o++]=W[X++]))}else{X=o-ne;do K[o++]=K[X++],K[o++]=K[X++],K[o++]=K[X++],ee-=3;while(ee>2);ee&&(K[o++]=K[X++],ee>1&&(K[o++]=K[X++]))}}else if((R&64)===0){P=j[(P&65535)+(y&(1<<R)-1)];continue n}else{e.msg="invalid distance code",L.mode=sf;break e}break}}else if((R&64)===0){P=S[(P&65535)+(y&(1<<R)-1)];continue t}else if(R&32){L.mode=hj;break e}else{e.msg="invalid literal/length code",L.mode=sf;break e}break}}while(r<i&&o<c);ee=C>>3,r-=ee,C-=ee<<3,y&=(1<<C)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<c?257+(c-o):257-(o-c),L.hold=y,L.bits=C};const Ru=15,R2=852,O2=592,I2=0,Ug=1,D2=2,pj=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gj=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mj=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vj=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yj=(n,e,t,r,i,o,l,c)=>{const u=c.bits;let h=0,f=0,v=0,b=0,y=0,C=0,S=0,j=0,k=0,O=0,P,R,ee,ne,X,W=null,M;const K=new Uint16Array(Ru+1),L=new Uint16Array(Ru+1);let D=null,I,q,ce;for(h=0;h<=Ru;h++)K[h]=0;for(f=0;f<r;f++)K[e[t+f]]++;for(y=u,b=Ru;b>=1&&K[b]===0;b--);if(y>b&&(y=b),b===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<b&&K[v]===0;v++);for(y<v&&(y=v),j=1,h=1;h<=Ru;h++)if(j<<=1,j-=K[h],j<0)return-1;if(j>0&&(n===I2||b!==1))return-1;for(L[1]=0,h=1;h<Ru;h++)L[h+1]=L[h]+K[h];for(f=0;f<r;f++)e[t+f]!==0&&(l[L[e[t+f]]++]=f);if(n===I2?(W=D=l,M=20):n===Ug?(W=pj,D=gj,M=257):(W=mj,D=vj,M=0),O=0,f=0,h=v,X=o,C=y,S=0,ee=-1,k=1<<y,ne=k-1,n===Ug&&k>R2||n===D2&&k>O2)return 1;for(;;){I=h-S,l[f]+1<M?(q=0,ce=l[f]):l[f]>=M?(q=D[l[f]-M],ce=W[l[f]-M]):(q=96,ce=0),P=1<<h-S,R=1<<C,v=R;do R-=P,i[X+(O>>S)+R]=I<<24|q<<16|ce|0;while(R!==0);for(P=1<<h-1;O&P;)P>>=1;if(P!==0?(O&=P-1,O+=P):O=0,f++,--K[h]===0){if(h===b)break;h=e[t+l[f]]}if(h>y&&(O&ne)!==ee){for(S===0&&(S=y),X+=v,C=h-S,j=1<<C;C+S<b&&(j-=K[C+S],!(j<=0));)C++,j<<=1;if(k+=1<<C,n===Ug&&k>R2||n===D2&&k>O2)return 1;ee=O&ne,i[ee]=y<<24|C<<16|X-o|0}}return O!==0&&(i[X+O]=h-S<<24|64<<16|0),c.bits=y,0};var Gd=yj;const wj=0,Ub=1,$b=2,{Z_FINISH:F2,Z_BLOCK:bj,Z_TREES:of,Z_OK:$c,Z_STREAM_END:xj,Z_NEED_DICT:_j,Z_STREAM_ERROR:vo,Z_DATA_ERROR:qb,Z_MEM_ERROR:Hb,Z_BUF_ERROR:Sj,Z_DEFLATED:M2}=Mb,np=16180,B2=16181,z2=16182,U2=16183,$2=16184,q2=16185,H2=16186,W2=16187,V2=16188,G2=16189,Mf=16190,nl=16191,$g=16192,K2=16193,qg=16194,Y2=16195,J2=16196,Q2=16197,X2=16198,af=16199,lf=16200,Z2=16201,ey=16202,ty=16203,ny=16204,ry=16205,Hg=16206,iy=16207,sy=16208,mr=16209,Wb=16210,Vb=16211,Nj=852,kj=592,Cj=15,Aj=Cj,oy=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function jj(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<np||e.mode>Vb?1:0},Gb=n=>{if(Vc(n))return vo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=np,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Nj),e.distcode=e.distdyn=new Int32Array(kj),e.sane=1,e.back=-1,$c},Kb=n=>{if(Vc(n))return vo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Gb(n)},Yb=(n,e)=>{let t;if(Vc(n))return vo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?vo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Kb(n))},Jb=(n,e)=>{if(!n)return vo;const t=new jj;n.state=t,t.strm=n,t.window=null,t.mode=np;const r=Yb(n,e);return r!==$c&&(n.state=null),r},Ej=n=>Jb(n,Aj);let ay=!0,Wg,Vg;const Pj=n=>{if(ay){Wg=new Int32Array(512),Vg=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Gd(Ub,n.lens,0,288,Wg,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Gd($b,n.lens,0,32,Vg,0,n.work,{bits:5}),ay=!1}n.lencode=Wg,n.lenbits=9,n.distcode=Vg,n.distbits=5},Qb=(n,e,t,r)=>{let i;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Lj=(n,e)=>{let t,r,i,o,l,c,u,h,f,v,b,y,C,S,j=0,k,O,P,R,ee,ne,X,W;const M=new Uint8Array(4);let K,L;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vc(n)||!n.output||!n.input&&n.avail_in!==0)return vo;t=n.state,t.mode===nl&&(t.mode=$g),l=n.next_out,i=n.output,u=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,h=t.hold,f=t.bits,v=c,b=u,W=$c;e:for(;;)switch(t.mode){case np:if(t.wrap===0){t.mode=$g;break}for(;f<16;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,M[0]=h&255,M[1]=h>>>8&255,t.check=wa(t.check,M,2,0),h=0,f=0,t.mode=B2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=mr;break}if((h&15)!==M2){n.msg="unknown compression method",t.mode=mr;break}if(h>>>=4,f-=4,X=(h&15)+8,t.wbits===0&&(t.wbits=X),X>15||X>t.wbits){n.msg="invalid window size",t.mode=mr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?G2:nl,h=0,f=0;break;case B2:for(;f<16;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(t.flags=h,(t.flags&255)!==M2){n.msg="unknown compression method",t.mode=mr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=mr;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,t.check=wa(t.check,M,2,0)),h=0,f=0,t.mode=z2;case z2:for(;f<32;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,M[2]=h>>>16&255,M[3]=h>>>24&255,t.check=wa(t.check,M,4,0)),h=0,f=0,t.mode=U2;case U2:for(;f<16;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,t.check=wa(t.check,M,2,0)),h=0,f=0,t.mode=$2;case $2:if(t.flags&1024){for(;f<16;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,t.check=wa(t.check,M,2,0)),h=0,f=0}else t.head&&(t.head.extra=null);t.mode=q2;case q2:if(t.flags&1024&&(y=t.length,y>c&&(y=c),y&&(t.head&&(X=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+y),X)),t.flags&512&&t.wrap&4&&(t.check=wa(t.check,r,y,o)),c-=y,o+=y,t.length-=y),t.length))break e;t.length=0,t.mode=H2;case H2:if(t.flags&2048){if(c===0)break e;y=0;do X=r[o+y++],t.head&&X&&t.length<65536&&(t.head.name+=String.fromCharCode(X));while(X&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=wa(t.check,r,y,o)),c-=y,o+=y,X)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=W2;case W2:if(t.flags&4096){if(c===0)break e;y=0;do X=r[o+y++],t.head&&X&&t.length<65536&&(t.head.comment+=String.fromCharCode(X));while(X&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=wa(t.check,r,y,o)),c-=y,o+=y,X)break e}else t.head&&(t.head.comment=null);t.mode=V2;case V2:if(t.flags&512){for(;f<16;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=mr;break}h=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=nl;break;case G2:for(;f<32;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}n.adler=t.check=oy(h),h=0,f=0,t.mode=Mf;case Mf:if(t.havedict===0)return n.next_out=l,n.avail_out=u,n.next_in=o,n.avail_in=c,t.hold=h,t.bits=f,_j;n.adler=t.check=1,t.mode=nl;case nl:if(e===bj||e===of)break e;case $g:if(t.last){h>>>=f&7,f-=f&7,t.mode=Hg;break}for(;f<3;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}switch(t.last=h&1,h>>>=1,f-=1,h&3){case 0:t.mode=K2;break;case 1:if(Pj(t),t.mode=af,e===of){h>>>=2,f-=2;break e}break;case 2:t.mode=J2;break;case 3:n.msg="invalid block type",t.mode=mr}h>>>=2,f-=2;break;case K2:for(h>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=mr;break}if(t.length=h&65535,h=0,f=0,t.mode=qg,e===of)break e;case qg:t.mode=Y2;case Y2:if(y=t.length,y){if(y>c&&(y=c),y>u&&(y=u),y===0)break e;i.set(r.subarray(o,o+y),l),c-=y,o+=y,u-=y,l+=y,t.length-=y;break}t.mode=nl;break;case J2:for(;f<14;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(t.nlen=(h&31)+257,h>>>=5,f-=5,t.ndist=(h&31)+1,h>>>=5,f-=5,t.ncode=(h&15)+4,h>>>=4,f-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=mr;break}t.have=0,t.mode=Q2;case Q2:for(;t.have<t.ncode;){for(;f<3;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}t.lens[D[t.have++]]=h&7,h>>>=3,f-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,K={bits:t.lenbits},W=Gd(wj,t.lens,0,19,t.lencode,0,t.work,K),t.lenbits=K.bits,W){n.msg="invalid code lengths set",t.mode=mr;break}t.have=0,t.mode=X2;case X2:for(;t.have<t.nlen+t.ndist;){for(;j=t.lencode[h&(1<<t.lenbits)-1],k=j>>>24,O=j>>>16&255,P=j&65535,!(k<=f);){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(P<16)h>>>=k,f-=k,t.lens[t.have++]=P;else{if(P===16){for(L=k+2;f<L;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(h>>>=k,f-=k,t.have===0){n.msg="invalid bit length repeat",t.mode=mr;break}X=t.lens[t.have-1],y=3+(h&3),h>>>=2,f-=2}else if(P===17){for(L=k+3;f<L;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}h>>>=k,f-=k,X=0,y=3+(h&7),h>>>=3,f-=3}else{for(L=k+7;f<L;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}h>>>=k,f-=k,X=0,y=11+(h&127),h>>>=7,f-=7}if(t.have+y>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=mr;break}for(;y--;)t.lens[t.have++]=X}}if(t.mode===mr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=mr;break}if(t.lenbits=9,K={bits:t.lenbits},W=Gd(Ub,t.lens,0,t.nlen,t.lencode,0,t.work,K),t.lenbits=K.bits,W){n.msg="invalid literal/lengths set",t.mode=mr;break}if(t.distbits=6,t.distcode=t.distdyn,K={bits:t.distbits},W=Gd($b,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,K),t.distbits=K.bits,W){n.msg="invalid distances set",t.mode=mr;break}if(t.mode=af,e===of)break e;case af:t.mode=lf;case lf:if(c>=6&&u>=258){n.next_out=l,n.avail_out=u,n.next_in=o,n.avail_in=c,t.hold=h,t.bits=f,fj(n,b),l=n.next_out,i=n.output,u=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,h=t.hold,f=t.bits,t.mode===nl&&(t.back=-1);break}for(t.back=0;j=t.lencode[h&(1<<t.lenbits)-1],k=j>>>24,O=j>>>16&255,P=j&65535,!(k<=f);){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(O&&(O&240)===0){for(R=k,ee=O,ne=P;j=t.lencode[ne+((h&(1<<R+ee)-1)>>R)],k=j>>>24,O=j>>>16&255,P=j&65535,!(R+k<=f);){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}h>>>=R,f-=R,t.back+=R}if(h>>>=k,f-=k,t.back+=k,t.length=P,O===0){t.mode=ry;break}if(O&32){t.back=-1,t.mode=nl;break}if(O&64){n.msg="invalid literal/length code",t.mode=mr;break}t.extra=O&15,t.mode=Z2;case Z2:if(t.extra){for(L=t.extra;f<L;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ey;case ey:for(;j=t.distcode[h&(1<<t.distbits)-1],k=j>>>24,O=j>>>16&255,P=j&65535,!(k<=f);){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if((O&240)===0){for(R=k,ee=O,ne=P;j=t.distcode[ne+((h&(1<<R+ee)-1)>>R)],k=j>>>24,O=j>>>16&255,P=j&65535,!(R+k<=f);){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}h>>>=R,f-=R,t.back+=R}if(h>>>=k,f-=k,t.back+=k,O&64){n.msg="invalid distance code",t.mode=mr;break}t.offset=P,t.extra=O&15,t.mode=ty;case ty:if(t.extra){for(L=t.extra;f<L;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=mr;break}t.mode=ny;case ny:if(u===0)break e;if(y=b-u,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=mr;break}y>t.wnext?(y-=t.wnext,C=t.wsize-y):C=t.wnext-y,y>t.length&&(y=t.length),S=t.window}else S=i,C=l-t.offset,y=t.length;y>u&&(y=u),u-=y,t.length-=y;do i[l++]=S[C++];while(--y);t.length===0&&(t.mode=lf);break;case ry:if(u===0)break e;i[l++]=t.length,u--,t.mode=lf;break;case Hg:if(t.wrap){for(;f<32;){if(c===0)break e;c--,h|=r[o++]<<f,f+=8}if(b-=u,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?wa(t.check,i,b,l-b):U0(t.check,i,b,l-b)),b=u,t.wrap&4&&(t.flags?h:oy(h))!==t.check){n.msg="incorrect data check",t.mode=mr;break}h=0,f=0}t.mode=iy;case iy:if(t.wrap&&t.flags){for(;f<32;){if(c===0)break e;c--,h+=r[o++]<<f,f+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=mr;break}h=0,f=0}t.mode=sy;case sy:W=xj;break e;case mr:W=qb;break e;case Wb:return Hb;case Vb:default:return vo}return n.next_out=l,n.avail_out=u,n.next_in=o,n.avail_in=c,t.hold=h,t.bits=f,(t.wsize||b!==n.avail_out&&t.mode<mr&&(t.mode<Hg||e!==F2))&&Qb(n,n.output,n.next_out,b-n.avail_out),v-=n.avail_in,b-=n.avail_out,n.total_in+=v,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?wa(t.check,i,b,n.next_out-b):U0(t.check,i,b,n.next_out-b)),n.data_type=t.bits+(t.last?64:0)+(t.mode===nl?128:0)+(t.mode===af||t.mode===qg?256:0),(v===0&&b===0||e===F2)&&W===$c&&(W=Sj),W},Tj=n=>{if(Vc(n))return vo;let e=n.state;return e.window&&(e.window=null),n.state=null,$c},Rj=(n,e)=>{if(Vc(n))return vo;const t=n.state;return(t.wrap&2)===0?vo:(t.head=e,e.done=!1,$c)},Oj=(n,e)=>{const t=e.length;let r,i,o;return Vc(n)||(r=n.state,r.wrap!==0&&r.mode!==Mf)?vo:r.mode===Mf&&(i=1,i=U0(i,e,t,0),i!==r.check)?qb:(o=Qb(n,e,t,t),o?(r.mode=Wb,Hb):(r.havedict=1,$c))};var Ij=Kb,Dj=Yb,Fj=Gb,Mj=Ej,Bj=Jb,zj=Lj,Uj=Tj,$j=Rj,qj=Oj,Hj="pako inflate (from Nodeca project)",il={inflateReset:Ij,inflateReset2:Dj,inflateResetKeep:Fj,inflateInit:Mj,inflateInit2:Bj,inflate:zj,inflateEnd:Uj,inflateGetHeader:$j,inflateSetDictionary:qj,inflateInfo:Hj};function Wj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vj=Wj;const Xb=Object.prototype.toString,{Z_NO_FLUSH:Gj,Z_FINISH:Kj,Z_OK:nh,Z_STREAM_END:Gg,Z_NEED_DICT:Kg,Z_STREAM_ERROR:Yj,Z_DATA_ERROR:ly,Z_MEM_ERROR:Jj}=Mb;function lh(n){this.options=Bb.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dj,this.strm.avail_out=0;let t=il.inflateInit2(this.strm,e.windowBits);if(t!==nh)throw new Error($0[t]);if(this.header=new Vj,il.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=q0.string2buf(e.dictionary):Xb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=il.inflateSetDictionary(this.strm,e.dictionary),t!==nh)))throw new Error($0[t])}lh.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?Kj:Gj,Xb.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=il.inflate(t,l),o===Kg&&i&&(o=il.inflateSetDictionary(t,i),o===nh?o=il.inflate(t,l):o===ly&&(o=Kg));t.avail_in>0&&o===Gg&&t.state.wrap>0&&n[t.next_in]!==0;)il.inflateReset(t),o=il.inflate(t,l);switch(o){case Yj:case ly:case Kg:case Jj:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Gg))if(this.options.to==="string"){let u=q0.utf8border(t.output,t.next_out),h=t.next_out-u,f=q0.buf2string(t.output,u);t.next_out=h,t.avail_out=r-h,h&&t.output.set(t.output.subarray(u,u+h),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===nh&&c===0)){if(o===Gg)return o=il.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};lh.prototype.onData=function(n){this.chunks.push(n)};lh.prototype.onEnd=function(n){n===nh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bb.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Qj(n,e){const t=new lh(e);if(t.push(n),t.err)throw t.msg||$0[t.err];return t.result}var Xj=lh,Zj=Qj,eE={Inflate:Xj,inflate:Zj};const{Inflate:tE,inflate:nE}=eE;var cy=tE,rE=nE;const Zb=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Zb[n]=e}const uy=4294967295;function iE(n,e,t){let r=n;for(let i=0;i<t;i++)r=Zb[(r^e[i])&255]^r>>>8;return r}function sE(n,e){return(iE(uy,n,e)^uy)>>>0}function dy(n,e,t){const r=n.readUint32(),i=sE(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function ex(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function tx(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function nx(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function rx(n,e,t,r,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-i]+t[o]>>1)&255}}function ix(n,e,t,r,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+oE(e[o-i],t[o],t[o-i])&255}}function oE(n,e,t){const r=n+e-t,i=Math.abs(r-n),o=Math.abs(r-e),l=Math.abs(r-t);return i<=o&&i<=l?n:o<=l?e:t}function aE(n,e,t,r,i,o){switch(n){case 0:ex(e,t,i);break;case 1:tx(e,t,i,o);break;case 2:nx(e,t,r,i);break;case 3:rx(e,t,r,i,o);break;case 4:ix(e,t,r,i,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const lE=new Uint16Array([255]),cE=new Uint8Array(lE.buffer),uE=cE[0]===255;function dE(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*i,u=new Uint8Array(r*t*c);let h=0;for(let f=0;f<7;f++){const v=l[f],b=Math.ceil((t-v.x)/v.xStep),y=Math.ceil((r-v.y)/v.yStep);if(b<=0||y<=0)continue;const C=b*c,S=new Uint8Array(C);for(let j=0;j<y;j++){const k=e[h++],O=e.subarray(h,h+C);h+=C;const P=new Uint8Array(C);aE(k,O,P,S,C,c),S.set(P);for(let R=0;R<b;R++){const ee=v.x+R*v.xStep,ne=v.y+j*v.yStep;if(!(ee>=t||ne>=r))for(let X=0;X<c;X++)u[(ne*t+ee)*c+X]=P[R*c+X]}}}if(o===16){const f=new Uint16Array(u.buffer);if(uE)for(let v=0;v<f.length;v++)f[v]=hE(f[v]);return f}else return u}function hE(n){return(n&255)<<8|n>>8&255}const fE=new Uint16Array([255]),pE=new Uint8Array(fE.buffer),gE=pE[0]===255,mE=new Uint8Array(0);function hy(n){const{data:e,width:t,height:r,channels:i,depth:o}=n,l=Math.ceil(o/8)*i,c=Math.ceil(o/8*i*t),u=new Uint8Array(r*c);let h=mE,f=0,v,b;for(let y=0;y<r;y++){switch(v=e.subarray(f+1,f+1+c),b=u.subarray(y*c,(y+1)*c),e[f]){case 0:ex(v,b,c);break;case 1:tx(v,b,c,l);break;case 2:nx(v,b,h,c);break;case 3:rx(v,b,h,c,l);break;case 4:ix(v,b,h,c,l);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=b,f+=c+1}if(o===16){const y=new Uint16Array(u.buffer);if(gE)for(let C=0;C<y.length;C++)y[C]=vE(y[C]);return y}else return u}function vE(n){return(n&255)<<8|n>>8&255}const vf=Uint8Array.of(137,80,78,71,13,10,26,10);function fy(n){if(!yE(n.readBytes(vf.length)))throw new Error("wrong PNG signature")}function yE(n){if(n.length<vf.length)return!1;for(let e=0;e<vf.length;e++)if(n[e]!==vf[e])return!1;return!0}const wE="tEXt",bE=0,sx=new TextDecoder("latin1");function xE(n){if(SE(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const _E=/^[\u0000-\u00FF]*$/;function SE(n){if(!_E.test(n))throw new Error("invalid latin1 text")}function NE(n,e,t){const r=ox(e);n[r]=kE(e,t-r.length-1)}function ox(n){for(n.mark();n.readByte()!==bE;);const e=n.offset;n.reset();const t=sx.decode(n.readBytes(e-n.offset-1));return n.skip(1),xE(t),t}function kE(n,e){return sx.decode(n.readBytes(e))}const $s={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Yg={UNKNOWN:-1,DEFLATE:0},py={UNKNOWN:-1,ADAPTIVE:0},Jg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},cf={NONE:0,BACKGROUND:1,PREVIOUS:2},Qg={SOURCE:0,OVER:1};class CE extends jm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new cy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Yg.UNKNOWN,this._filterMethod=py.UNKNOWN,this._interlaceMethod=Jg.UNKNOWN,this._colorType=$s.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(fy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case wE:NE(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?dy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?dy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=AE(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case $s.GREYSCALE:r=1;break;case $s.TRUECOLOUR:r=3;break;case $s.INDEXED_COLOUR:r=1;break;case $s.GREYSCALE_ALPHA:r=2;break;case $s.TRUECOLOUR_ALPHA:r=4;break;case $s.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Yg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case $s.GREYSCALE:case $s.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case $s.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case $s.UNKNOWN:case $s.GREYSCALE_ALPHA:case $s.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=ox(this),r=this.readUint8();if(r!==Yg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:rE(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=hy({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case cf.NONE:break;case cf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[l+c]=0}break;case cf.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(o,l)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,u=(o*t.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(t.blendOp){case Qg.SOURCE:for(let o=0;o<t.height;o++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++)e.data[c+h]=t.data[u+h]}break;case Qg.OVER:for(let o=0;o<t.height;o++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++){const f=t.data[u+this._png.channels-1]/r,v=h%(this._png.channels-1)===0?1:t.data[u+h],b=Math.floor(f*v+(1-f)*e.data[c+h]);e.data[c+h]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==py.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Jg.NO_INTERLACE)this._png.data=hy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Jg.ADAM7)this._png.data=dE({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:cf.NONE,blendOp:Qg.SOURCE,data:e}),this._inflator=new cy,this._writingDataChunks=!1}}function AE(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var gy;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(gy||(gy={}));function jE(n,e){return new CE(n,e).decode()}var Kt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Xg(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var Jn={log:Xg,warn:function(n){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):Xg.call(null,arguments))},error:function(n){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):Xg(n))}};function Zg(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Pc(r.response,e,t)},r.onerror=function(){Jn.error("could not download file")},r.send()}function my(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function uf(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Pc=Kt.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Kt.URL||Kt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?my(i.href)?Zg(n,e,t):uf(i,i.target="_blank"):uf(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){uf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(my(n))Zg(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){uf(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:zn(o)!=="object"&&(Jn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Zg(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(Kt.HTMLElement)||Kt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&o)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=l?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},c.readAsDataURL(n)}else{var u=Kt.URL||Kt.webkitURL,h=u.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ax(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,l=i.exec(n);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+c+u+h}}var yf=Kt.atob.bind(Kt),vy=Kt.btoa.bind(Kt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function e0(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=Hi(t,r,i,o,e[0],7,-680876936),o=Hi(o,t,r,i,e[1],12,-389564586),i=Hi(i,o,t,r,e[2],17,606105819),r=Hi(r,i,o,t,e[3],22,-1044525330),t=Hi(t,r,i,o,e[4],7,-176418897),o=Hi(o,t,r,i,e[5],12,1200080426),i=Hi(i,o,t,r,e[6],17,-1473231341),r=Hi(r,i,o,t,e[7],22,-45705983),t=Hi(t,r,i,o,e[8],7,1770035416),o=Hi(o,t,r,i,e[9],12,-1958414417),i=Hi(i,o,t,r,e[10],17,-42063),r=Hi(r,i,o,t,e[11],22,-1990404162),t=Hi(t,r,i,o,e[12],7,1804603682),o=Hi(o,t,r,i,e[13],12,-40341101),i=Hi(i,o,t,r,e[14],17,-1502002290),t=Wi(t,r=Hi(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Wi(o,t,r,i,e[6],9,-1069501632),i=Wi(i,o,t,r,e[11],14,643717713),r=Wi(r,i,o,t,e[0],20,-373897302),t=Wi(t,r,i,o,e[5],5,-701558691),o=Wi(o,t,r,i,e[10],9,38016083),i=Wi(i,o,t,r,e[15],14,-660478335),r=Wi(r,i,o,t,e[4],20,-405537848),t=Wi(t,r,i,o,e[9],5,568446438),o=Wi(o,t,r,i,e[14],9,-1019803690),i=Wi(i,o,t,r,e[3],14,-187363961),r=Wi(r,i,o,t,e[8],20,1163531501),t=Wi(t,r,i,o,e[13],5,-1444681467),o=Wi(o,t,r,i,e[2],9,-51403784),i=Wi(i,o,t,r,e[7],14,1735328473),t=Vi(t,r=Wi(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Vi(o,t,r,i,e[8],11,-2022574463),i=Vi(i,o,t,r,e[11],16,1839030562),r=Vi(r,i,o,t,e[14],23,-35309556),t=Vi(t,r,i,o,e[1],4,-1530992060),o=Vi(o,t,r,i,e[4],11,1272893353),i=Vi(i,o,t,r,e[7],16,-155497632),r=Vi(r,i,o,t,e[10],23,-1094730640),t=Vi(t,r,i,o,e[13],4,681279174),o=Vi(o,t,r,i,e[0],11,-358537222),i=Vi(i,o,t,r,e[3],16,-722521979),r=Vi(r,i,o,t,e[6],23,76029189),t=Vi(t,r,i,o,e[9],4,-640364487),o=Vi(o,t,r,i,e[12],11,-421815835),i=Vi(i,o,t,r,e[15],16,530742520),t=Gi(t,r=Vi(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Gi(o,t,r,i,e[7],10,1126891415),i=Gi(i,o,t,r,e[14],15,-1416354905),r=Gi(r,i,o,t,e[5],21,-57434055),t=Gi(t,r,i,o,e[12],6,1700485571),o=Gi(o,t,r,i,e[3],10,-1894986606),i=Gi(i,o,t,r,e[10],15,-1051523),r=Gi(r,i,o,t,e[1],21,-2054922799),t=Gi(t,r,i,o,e[8],6,1873313359),o=Gi(o,t,r,i,e[15],10,-30611744),i=Gi(i,o,t,r,e[6],15,-1560198380),r=Gi(r,i,o,t,e[13],21,1309151649),t=Gi(t,r,i,o,e[4],6,-145523070),o=Gi(o,t,r,i,e[11],10,-1120210379),i=Gi(i,o,t,r,e[2],15,718787259),r=Gi(r,i,o,t,e[9],21,-343485551),n[0]=Gl(t,n[0]),n[1]=Gl(r,n[1]),n[2]=Gl(i,n[2]),n[3]=Gl(o,n[3])}function rp(n,e,t,r,i,o){return e=Gl(Gl(e,n),Gl(r,o)),Gl(e<<i|e>>>32-i,t)}function Hi(n,e,t,r,i,o,l){return rp(e&t|~e&r,n,e,i,o,l)}function Wi(n,e,t,r,i,o,l){return rp(e&r|t&~r,n,e,i,o,l)}function Vi(n,e,t,r,i,o,l){return rp(e^t^r,n,e,i,o,l)}function Gi(n,e,t,r,i,o,l){return rp(t^(e|~r),n,e,i,o,l)}function lx(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)e0(r,EE(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(e0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,e0(r,i),r}function EE(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var yy="0123456789abcdef".split("");function PE(n){for(var e="",t=0;t<4;t++)e+=yy[n>>8*t+4&15]+yy[n>>8*t&15];return e}function LE(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function H0(n){return lx(n).map(LE).join("")}var TE=(function(n){for(var e=0;e<n.length;e++)n[e]=PE(n[e]);return n.join("")})(lx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gl(n,e){if(TE){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function W0(n,e){var t,r,i,o;if(n!==t){for(var l=(i=n,o=1+(256/n.length|0),new Array(o+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var h=0;for(u=0;u<256;u++){var f=c[u];h=(h+f+l.charCodeAt(u))%256,c[u]=c[h],c[h]=f}t=n,r=c}else c=r;var v=e.length,b=0,y=0,C="";for(u=0;u<v;u++)y=(y+(f=c[b=(b+1)%256]))%256,c[b]=c[y],c[y]=f,l=c[(c[b]+c[y])%256],C+=String.fromCharCode(e.charCodeAt(u)^l);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wy={print:4,modify:8,copy:16,"annot-forms":32};function Mu(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(c){if(wy.perm!==void 0)throw new Error("Invalid permission: "+c);i+=wy[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^i)),this.encryptionKey=H0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=W0(this.encryptionKey,this.padding)}function Bu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function by(n){if(zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var l=e[t][o];try{l[0].apply(n,r)}catch(c){Kt.console&&Jn.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Bf(n){if(!(this instanceof Bf))return new Bf(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function cx(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Rc(n,e,t,r,i){if(!(this instanceof Rc))return new Rc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,cx.call(this,r,i)}function zu(n,e,t,r,i){if(!(this instanceof zu))return new zu(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,cx.call(this,r,i)}function Tt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],l=[],c=1,u=16,h="S",f=null;zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),h=n.defaultPathOperation||"S"),l=n.filters||(o===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,b={},y={internal:{},__private__:{}};y.__private__.PubSub=by;var C="1.3",S=y.__private__.getPdfVersion=function(){return C};y.__private__.setPdfVersion=function(x){C=x};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return j};var k=y.__private__.getPageFormat=function(x){return j[x]};i=i||"a4";var O="compat",P="advanced",R=O;function ee(){this.saveGraphicsState(),ue(new it(gt,0,0,-gt,0,gs()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),h="n",R=P}function ne(){this.restoreGraphicsState(),h="S",R=O}var X=y.__private__.combineFontStyleAndFontWeight=function(x,B){if(x=="bold"&&B=="normal"||x=="bold"&&B==400||x=="normal"&&B=="italic"||x=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(x=B==400||B==="normal"?x==="italic"?"italic":"normal":B!=700&&B!=="bold"||x!=="normal"?(B==700?"bold":B)+""+x:"bold"),x};y.advancedAPI=function(x){var B=R===O;return B&&ee.call(this),typeof x!="function"||(x(this),B&&ne.call(this)),this},y.compatAPI=function(x){var B=R===P;return B&&ne.call(this),typeof x!="function"||(x(this),B&&ee.call(this)),this},y.isAdvancedAPI=function(){return R===P};var W,M=function(x){if(R!==P)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=y.roundToPrecision=y.__private__.roundToPrecision=function(x,B){var ae=e||B;if(isNaN(x)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ae).replace(/0+$/,"")};W=y.hpf=y.__private__.hpf=typeof u=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return K(x,u)}:u==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return K(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return K(x,16)};var L=y.f2=y.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return K(x,2)},D=y.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return K(x,3)},I=y.scale=y.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return R===O?x*gt:R===P?x:void 0},q=function(x){return I((function(B){return R===O?gs()-B:R===P?B:void 0})(x))};y.__private__.setPrecision=y.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var ce,J="00000000000000000000000000000000",re=y.__private__.getFileId=function(){return J},V=y.__private__.setFileId=function(x){return J=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Kn=new Mu(f.userPermissions,f.userPassword,f.ownerPassword,J)),J};y.setFileId=function(x){return V(x),this},y.getFileId=function(){return re()};var ge=y.__private__.convertDateToPDFDate=function(x){var B=x.getTimezoneOffset(),ae=B<0?"+":"-",ve=Math.floor(Math.abs(B/60)),Ae=Math.abs(B%60),Ue=[ae,Y(ve),"'",Y(Ae),"'"].join("");return["D:",x.getFullYear(),Y(x.getMonth()+1),Y(x.getDate()),Y(x.getHours()),Y(x.getMinutes()),Y(x.getSeconds()),Ue].join("")},_e=y.__private__.convertPDFDateToDate=function(x){var B=parseInt(x.substr(2,4),10),ae=parseInt(x.substr(6,2),10)-1,ve=parseInt(x.substr(8,2),10),Ae=parseInt(x.substr(10,2),10),Ue=parseInt(x.substr(12,2),10),We=parseInt(x.substr(14,2),10);return new Date(B,ae,ve,Ae,Ue,We,0)},te=y.__private__.setCreationDate=function(x){var B;if(x===void 0&&(x=new Date),x instanceof Date)B=ge(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=x}return ce=B},T=y.__private__.getCreationDate=function(x){var B=ce;return x==="jsDate"&&(B=_e(ce)),B};y.setCreationDate=function(x){return te(x),this},y.getCreationDate=function(x){return T(x)};var $,Y=y.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},oe=y.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},pe=0,le=[],me=[],ye=0,Ce=[],Re=[],He=!1,Ve=me;y.__private__.setCustomOutputDestination=function(x){He=!0,Ve=x};var Ie=function(x){He||(Ve=x)};y.__private__.resetCustomOutputDestination=function(){He=!1,Ve=me};var ue=y.__private__.out=function(x){return x=x.toString(),ye+=x.length+1,Ve.push(x),Ve},Rt=y.__private__.write=function(x){return ue(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},lt=y.__private__.getArrayBuffer=function(x){for(var B=x.length,ae=new ArrayBuffer(B),ve=new Uint8Array(ae);B--;)ve[B]=x.charCodeAt(B);return ae},ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ft};var we=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(x){return we=R===P?x/gt:x,this};var de,Pe=y.__private__.getFontSize=y.getFontSize=function(){return R===O?we:we*gt},Ge=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(x){return Ge=x,this},y.__private__.getR2L=y.getR2L=function(){return Ge};var Ze,zt=y.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))de=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');de=x}else de=parseInt(x,10)};y.__private__.getZoomMode=function(){return de};var st,ht=y.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Ze=x};y.__private__.getPageMode=function(){return Ze};var Vt=y.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');st=x};y.__private__.getLayoutMode=function(){return st},y.__private__.setDisplayMode=y.setDisplayMode=function(x,B,ae){return zt(x),Vt(B),ht(ae),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(x){if(Object.keys(Nt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[x]},y.__private__.getDocumentProperties=function(){return Nt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(x){for(var B in Nt)Nt.hasOwnProperty(B)&&x[B]&&(Nt[B]=x[B]);return this},y.__private__.setDocumentProperty=function(x,B){if(Object.keys(Nt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[x]=B};var rt,gt,ct,Zt,on,mt={},Ut={},fn=[],Lt={},$t={},Pt={},Nn={},gn=null,tn=0,Ot=[],nt=new by(y),yn=n.hotfixes||[],an={},$n={},Gn=[],it=function x(B,ae,ve,Ae,Ue,We){if(!(this instanceof x))return new x(B,ae,ve,Ae,Ue,We);isNaN(B)&&(B=1),isNaN(ae)&&(ae=0),isNaN(ve)&&(ve=0),isNaN(Ae)&&(Ae=1),isNaN(Ue)&&(Ue=0),isNaN(We)&&(We=0),this._matrix=[B,ae,ve,Ae,Ue,We]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(x)},it.prototype.multiply=function(x){var B=x.sx*this.sx+x.shy*this.shx,ae=x.sx*this.shy+x.shy*this.sy,ve=x.shx*this.sx+x.sy*this.shx,Ae=x.shx*this.shy+x.sy*this.sy,Ue=x.tx*this.sx+x.ty*this.shx+this.tx,We=x.tx*this.shy+x.ty*this.sy+this.ty;return new it(B,ae,ve,Ae,Ue,We)},it.prototype.decompose=function(){var x=this.sx,B=this.shy,ae=this.shx,ve=this.sy,Ae=this.tx,Ue=this.ty,We=Math.sqrt(x*x+B*B),vt=(x/=We)*ae+(B/=We)*ve;ae-=x*vt,ve-=B*vt;var Ct=Math.sqrt(ae*ae+ve*ve);return vt/=Ct,x*(ve/=Ct)<B*(ae/=Ct)&&(x=-x,B=-B,vt=-vt,We=-We),{scale:new it(We,0,0,Ct,0,0),translate:new it(1,0,0,1,Ae,Ue),rotate:new it(x,B,-B,x,0,0),skew:new it(1,0,vt,1,0,0)}},it.prototype.toString=function(x){return this.join(" ")},it.prototype.inversed=function(){var x=this.sx,B=this.shy,ae=this.shx,ve=this.sy,Ae=this.tx,Ue=this.ty,We=1/(x*ve-B*ae),vt=ve*We,Ct=-B*We,Ht=-ae*We,Wt=x*We;return new it(vt,Ct,Ht,Wt,-vt*Ae-Ht*Ue,-Ct*Ae-Wt*Ue)},it.prototype.applyToPoint=function(x){var B=x.x*this.sx+x.y*this.shx+this.tx,ae=x.x*this.shy+x.y*this.sy+this.ty;return new ps(B,ae)},it.prototype.applyToRectangle=function(x){var B=this.applyToPoint(x),ae=this.applyToPoint(new ps(x.x+x.w,x.y+x.h));return new Co(B.x,B.y,ae.x-B.x,ae.y-B.y)},it.prototype.clone=function(){var x=this.sx,B=this.shy,ae=this.shx,ve=this.sy,Ae=this.tx,Ue=this.ty;return new it(x,B,ae,ve,Ae,Ue)},y.Matrix=it;var kn=y.matrixMult=function(x,B){return B.multiply(x)},Dr=new it(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Dr;var Cn=function(x,B){if(!$t[x]){var ae=(B instanceof Rc?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);B.id=ae,$t[x]=ae,Lt[ae]=B,nt.publish("addPattern",B)}};y.ShadingPattern=Rc,y.TilingPattern=zu,y.addShadingPattern=function(x,B){return M("addShadingPattern()"),Cn(x,B),this},y.beginTilingPattern=function(x){M("beginTilingPattern()"),Oi(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},y.endTilingPattern=function(x,B){M("endTilingPattern()"),B.stream=Re[$].join(`
`),Cn(x,B),nt.publish("endTilingPattern",B),Gn.pop().restore()};var mn,un=y.__private__.newObject=function(){var x=dn();return On(x,!0),x},dn=y.__private__.newObjectDeferred=function(){return pe++,le[pe]=function(){return ye},pe},On=function(x,B){return B=typeof B=="boolean"&&B,le[x]=ye,B&&ue(x+" 0 obj"),x},li=y.__private__.newAdditionalObject=function(){var x={objId:dn(),content:""};return Ce.push(x),x},js=dn(),bi=dn(),ds=y.__private__.decodeColorString=function(x){var B=x.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ae=parseFloat(B[0]);B=[ae,ae,ae,"r"]}for(var ve="#",Ae=0;Ae<3;Ae++)ve+=("0"+Math.floor(255*parseFloat(B[Ae])).toString(16)).slice(-2);return ve},Ar=y.__private__.encodeColorString=function(x){var B;typeof x=="string"&&(x={ch1:x});var ae=x.ch1,ve=x.ch2,Ae=x.ch3,Ue=x.ch4,We=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var vt=new ax(ae);if(vt.ok)ae=vt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Ct=parseInt(ae.substr(1),16);ae=Ct>>16&255,ve=Ct>>8&255,Ae=255&Ct}if(ve===void 0||Ue===void 0&&ae===ve&&ve===Ae)B=typeof ae=="string"?ae+" "+We[0]:x.precision===2?L(ae/255)+" "+We[0]:D(ae/255)+" "+We[0];else if(Ue===void 0||zn(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",We[1]].join(" ");B=typeof ae=="string"?[ae,ve,Ae,We[1]].join(" "):x.precision===2?[L(ae/255),L(ve/255),L(Ae/255),We[1]].join(" "):[D(ae/255),D(ve/255),D(Ae/255),We[1]].join(" ")}else B=typeof ae=="string"?[ae,ve,Ae,Ue,We[2]].join(" "):x.precision===2?[L(ae),L(ve),L(Ae),L(Ue),We[2]].join(" "):[D(ae),D(ve),D(Ae),D(Ue),We[2]].join(" ");return B},Pi=y.__private__.getFilters=function(){return l},xi=y.__private__.putStream=function(x){var B=(x=x||{}).data||"",ae=x.filters||Pi(),ve=x.alreadyAppliedFilters||[],Ae=x.addLength1||!1,Ue=B.length,We=x.objectId,vt=function(Mr){return Mr};if(f!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(vt=Kn.encryptor(We,0));var Ct={};ae===!0&&(ae=["FlateEncode"]);var Ht=x.additionalKeyValues||[],Wt=(Ct=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(B,ae):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Ct.data.length!==0&&(Ht.push({key:"Length",value:Ct.data.length}),Ae===!0&&Ht.push({key:"Length1",value:Ue})),Wt.length!=0)if(Wt.split("/").length-1==1)Ht.push({key:"Filter",value:Wt});else{Ht.push({key:"Filter",value:"["+Wt+"]"});for(var wn=0;wn<Ht.length;wn+=1)if(Ht[wn].key==="DecodeParms"){for(var or=[],Er=0;Er<Ct.reverseChain.split("/").length-1;Er+=1)or.push("null");or.push(Ht[wn].value),Ht[wn].value="["+or.join(" ")+"]"}}ue("<<");for(var Hn=0;Hn<Ht.length;Hn++)ue("/"+Ht[Hn].key+" "+Ht[Hn].value);ue(">>"),Ct.data.length!==0&&(ue("stream"),ue(vt(Ct.data)),ue("endstream"))},yo=y.__private__.putPage=function(x){var B=x.number,ae=x.data,ve=x.objId,Ae=x.contentsObjId;On(ve,!0),ue("<</Type /Page"),ue("/Parent "+x.rootDictionaryObjId+" 0 R"),ue("/Resources "+x.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(W(x.mediaBox.bottomLeftX))+" "+parseFloat(W(x.mediaBox.bottomLeftY))+" "+W(x.mediaBox.topRightX)+" "+W(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&ue("/CropBox ["+W(x.cropBox.bottomLeftX)+" "+W(x.cropBox.bottomLeftY)+" "+W(x.cropBox.topRightX)+" "+W(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&ue("/BleedBox ["+W(x.bleedBox.bottomLeftX)+" "+W(x.bleedBox.bottomLeftY)+" "+W(x.bleedBox.topRightX)+" "+W(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&ue("/TrimBox ["+W(x.trimBox.bottomLeftX)+" "+W(x.trimBox.bottomLeftY)+" "+W(x.trimBox.topRightX)+" "+W(x.trimBox.topRightY)+"]"),x.artBox!==null&&ue("/ArtBox ["+W(x.artBox.bottomLeftX)+" "+W(x.artBox.bottomLeftY)+" "+W(x.artBox.topRightX)+" "+W(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&ue("/UserUnit "+x.userUnit),nt.publish("putPage",{objId:ve,pageContext:Ot[B],pageNumber:B,page:ae}),ue("/Contents "+Ae+" 0 R"),ue(">>"),ue("endobj");var Ue=ae.join(`
`);return R===P&&(Ue+=`
Q`),On(Ae,!0),xi({data:Ue,filters:Pi(),objectId:Ae}),ue("endobj"),ve},Zi=y.__private__.putPages=function(){var x,B,ae=[];for(x=1;x<=tn;x++)Ot[x].objId=dn(),Ot[x].contentsObjId=dn();for(x=1;x<=tn;x++)ae.push(yo({number:x,data:Re[x],objId:Ot[x].objId,contentsObjId:Ot[x].contentsObjId,mediaBox:Ot[x].mediaBox,cropBox:Ot[x].cropBox,bleedBox:Ot[x].bleedBox,trimBox:Ot[x].trimBox,artBox:Ot[x].artBox,userUnit:Ot[x].userUnit,rootDictionaryObjId:js,resourceDictionaryObjId:bi}));On(js,!0),ue("<</Type /Pages");var ve="/Kids [";for(B=0;B<tn;B++)ve+=ae[B]+" 0 R ";ue(ve+"]"),ue("/Count "+tn),ue(">>"),ue("endobj"),nt.publish("postPutPages")},Ys=function(x){nt.publish("putFont",{font:x,out:ue,newObject:un,putStream:xi}),x.isAlreadyPutted!==!0&&(x.objectNumber=un(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Bu(x.postScriptName)),ue("/Subtype /Type1"),typeof x.encoding=="string"&&ue("/Encoding /"+x.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},wo=function(x){x.objectNumber=un();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[W(x.x),W(x.y),W(x.x+x.width),W(x.y+x.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ae=x.pages[1].join(`
`);xi({data:ae,additionalKeyValues:B,objectId:x.objectNumber}),ue("endobj")},Js=function(x,B){B||(B=21);var ae=un(),ve=(function(We,vt){var Ct,Ht=[],Wt=1/(vt-1);for(Ct=0;Ct<1;Ct+=Wt)Ht.push(Ct);if(Ht.push(1),We[0].offset!=0){var wn={offset:0,color:We[0].color};We.unshift(wn)}if(We[We.length-1].offset!=1){var or={offset:1,color:We[We.length-1].color};We.push(or)}for(var Er="",Hn=0,Mr=0;Mr<Ht.length;Mr++){for(Ct=Ht[Mr];Ct>We[Hn+1].offset;)Hn++;var br=We[Hn].offset,ni=(Ct-br)/(We[Hn+1].offset-br),ms=We[Hn].color,Ii=We[Hn+1].color;Er+=oe(Math.round((1-ni)*ms[0]+ni*Ii[0]).toString(16))+oe(Math.round((1-ni)*ms[1]+ni*Ii[1]).toString(16))+oe(Math.round((1-ni)*ms[2]+ni*Ii[2]).toString(16))}return Er.trim()})(x.colors,B),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+B+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xi({data:ve,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ue("endobj"),x.objectNumber=un(),ue("<< /ShadingType "+x.type),ue("/ColorSpace /DeviceRGB");var Ue="/Coords ["+W(parseFloat(x.coords[0]))+" "+W(parseFloat(x.coords[1]))+" ";x.type===2?Ue+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3])):Ue+=W(parseFloat(x.coords[2]))+" "+W(parseFloat(x.coords[3]))+" "+W(parseFloat(x.coords[4]))+" "+W(parseFloat(x.coords[5])),ue(Ue+="]"),x.matrix&&ue("/Matrix ["+x.matrix.toString()+"]"),ue("/Function "+ae+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},bo=function(x,B){var ae=dn(),ve=un();B.push({resourcesOid:ae,objectOid:ve}),x.objectNumber=ve;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+x.boundingBox.map(W).join(" ")+"]"}),Ae.push({key:"XStep",value:W(x.xStep)}),Ae.push({key:"YStep",value:W(x.yStep)}),Ae.push({key:"Resources",value:ae+" 0 R"}),x.matrix&&Ae.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),xi({data:x.stream,additionalKeyValues:Ae,objectId:x.objectNumber}),ue("endobj")},ul=function(x){for(var B in x.objectNumber=un(),ue("<<"),x)switch(B){case"opacity":ue("/ca "+L(x[B]));break;case"stroke-opacity":ue("/CA "+L(x[B]))}ue(">>"),ue("endobj")},Pn=function(x){On(x.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in ue("/Font <<"),mt)mt.hasOwnProperty(B)&&(v===!1||v===!0&&b.hasOwnProperty(B))&&ue("/"+B+" "+mt[B].objectNumber+" 0 R");ue(">>")})(),(function(){if(Object.keys(Lt).length>0){for(var B in ue("/Shading <<"),Lt)Lt.hasOwnProperty(B)&&Lt[B]instanceof Rc&&Lt[B].objectNumber>=0&&ue("/"+B+" "+Lt[B].objectNumber+" 0 R");nt.publish("putShadingPatternDict"),ue(">>")}})(),(function(B){if(Object.keys(Lt).length>0){for(var ae in ue("/Pattern <<"),Lt)Lt.hasOwnProperty(ae)&&Lt[ae]instanceof y.TilingPattern&&Lt[ae].objectNumber>=0&&Lt[ae].objectNumber<B&&ue("/"+ae+" "+Lt[ae].objectNumber+" 0 R");nt.publish("putTilingPatternDict"),ue(">>")}})(x.objectOid),(function(){if(Object.keys(Pt).length>0){var B;for(B in ue("/ExtGState <<"),Pt)Pt.hasOwnProperty(B)&&Pt[B].objectNumber>=0&&ue("/"+B+" "+Pt[B].objectNumber+" 0 R");nt.publish("putGStateDict"),ue(">>")}})(),(function(){for(var B in ue("/XObject <<"),an)an.hasOwnProperty(B)&&an[B].objectNumber>=0&&ue("/"+B+" "+an[B].objectNumber+" 0 R");nt.publish("putXobjectDict"),ue(">>")})(),ue(">>"),ue("endobj")},he=function(x){Ut[x.fontName]=Ut[x.fontName]||{},Ut[x.fontName][x.fontStyle]=x.id},ze=function(x,B,ae,ve,Ae){var Ue={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:x,fontName:B,fontStyle:ae,encoding:ve,isStandardFont:Ae||!1,metadata:{}};return nt.publish("addFont",{font:Ue,instance:this}),mt[Ue.id]=Ue,he(Ue),Ue.id},Se=y.__private__.pdfEscape=y.pdfEscape=function(x,B){return(function(ae,ve){var Ae,Ue,We,vt,Ct,Ht,Wt,wn,or;if(We=(ve=ve||{}).sourceEncoding||"Unicode",Ct=ve.outputEncoding,(ve.autoencode||Ct)&&mt[rt].metadata&&mt[rt].metadata[We]&&mt[rt].metadata[We].encoding&&(vt=mt[rt].metadata[We].encoding,!Ct&&mt[rt].encoding&&(Ct=mt[rt].encoding),!Ct&&vt.codePages&&(Ct=vt.codePages[0]),typeof Ct=="string"&&(Ct=vt[Ct]),Ct)){for(Wt=!1,Ht=[],Ae=0,Ue=ae.length;Ae<Ue;Ae++)(wn=Ct[ae.charCodeAt(Ae)])?Ht.push(String.fromCharCode(wn)):Ht.push(ae[Ae]),Ht[Ae].charCodeAt(0)>>8&&(Wt=!0);ae=Ht.join("")}for(Ae=ae.length;Wt===void 0&&Ae!==0;)ae.charCodeAt(Ae-1)>>8&&(Wt=!0),Ae--;if(!Wt)return ae;for(Ht=ve.noBOM?[]:[254,255],Ae=0,Ue=ae.length;Ae<Ue;Ae++){if((or=(wn=ae.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(or),Ht.push(wn-(or<<8))}return String.fromCharCode.apply(void 0,Ht)})(x,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ot=y.__private__.beginPage=function(x){Re[++tn]=[],Ot[tn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},wr(tn),Ie(Re[$])},nn=function(x,B){var ae,ve,Ae;switch(t=B||t,typeof x=="string"&&(ae=k(x.toLowerCase()),Array.isArray(ae)&&(ve=ae[0],Ae=ae[1])),Array.isArray(x)&&(ve=x[0]*gt,Ae=x[1]*gt),isNaN(ve)&&(ve=i[0],Ae=i[1]),(ve>14400||Ae>14400)&&(Jn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ae=Math.min(14400,Ae)),i=[ve,Ae],t.substr(0,1)){case"l":Ae>ve&&(i=[Ae,ve]);break;case"p":ve>Ae&&(i=[Ae,ve])}ot(i),So(ci),ue(eo),ta!==0&&ue(ta+" J"),na!==0&&ue(na+" j"),nt.publish("addPage",{pageNumber:tn})},qn=function(x){x>0&&x<=tn&&(Re.splice(x,1),Ot.splice(x,1),tn--,$>tn&&($=tn),this.setPage($))},wr=function(x){x>0&&x<=tn&&($=x)},Qn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Re.length-1},Es=function(x,B,ae){var ve,Ae=void 0;return ae=ae||{},x=x!==void 0?x:mt[rt].fontName,B=B!==void 0?B:mt[rt].fontStyle,ve=x.toLowerCase(),Ut[ve]!==void 0&&Ut[ve][B]!==void 0?Ae=Ut[ve][B]:Ut[x]!==void 0&&Ut[x][B]!==void 0?Ae=Ut[x][B]:ae.disableWarning===!1&&Jn.warn("Unable to look up font label for font '"+x+"', '"+B+"'. Refer to getFontList() for available fonts."),Ae||ae.noFallback||(Ae=Ut.times[B])==null&&(Ae=Ut.times.normal),Ae},rr=y.__private__.putInfo=function(){var x=un(),B=function(ve){return ve};for(var ae in f!==null&&(B=Kn.encryptor(x,0)),ue("<<"),ue("/Producer ("+Se(B("jsPDF "+Tt.version))+")"),Nt)Nt.hasOwnProperty(ae)&&Nt[ae]&&ue("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Se(B(Nt[ae]))+")");ue("/CreationDate ("+Se(B(ce))+")"),ue(">>"),ue("endobj")},rc=y.__private__.putCatalog=function(x){var B=(x=x||{}).rootDictionaryObjId||js;switch(un(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+B+" 0 R"),de||(de="fullwidth"),de){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+de;ae.substr(ae.length-1)==="%"&&(de=parseInt(de)/100),typeof de=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+L(de)+"]")}switch(st||(st="continuous"),st){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Ze&&ue("/PageMode /"+Ze),nt.publish("putCatalog"),ue(">>"),ue("endobj")},ir=y.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(pe+1)),ue("/Root "+pe+" 0 R"),ue("/Info "+(pe-1)+" 0 R"),f!==null&&ue("/Encrypt "+Kn.oid+" 0 R"),ue("/ID [ <"+J+"> <"+J+"> ]"),ue(">>")},es=y.__private__.putHeader=function(){ue("%PDF-"+C),ue("%")},xo=y.__private__.putXRef=function(){var x="0000000000";ue("xref"),ue("0 "+(pe+1)),ue("0000000000 65535 f ");for(var B=1;B<=pe;B++)typeof le[B]=="function"?ue((x+le[B]()).slice(-10)+" 00000 n "):le[B]!==void 0?ue((x+le[B]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Qr=y.__private__.buildDocument=function(){var x;pe=0,ye=0,me=[],le=[],Ce=[],js=dn(),bi=dn(),Ie(me),nt.publish("buildDocument"),es(),Zi(),(function(){nt.publish("putAdditionalObjects");for(var ae=0;ae<Ce.length;ae++){var ve=Ce[ae];On(ve.objId,!0),ue(ve.content),ue("endobj")}nt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ae in mt)mt.hasOwnProperty(ae)&&(v===!1||v===!0&&b.hasOwnProperty(ae))&&Ys(mt[ae])})(),(function(){var ae;for(ae in Pt)Pt.hasOwnProperty(ae)&&ul(Pt[ae])})(),(function(){for(var ae in an)an.hasOwnProperty(ae)&&wo(an[ae])})(),(function(ae){var ve;for(ve in Lt)Lt.hasOwnProperty(ve)&&(Lt[ve]instanceof Rc?Js(Lt[ve]):Lt[ve]instanceof zu&&bo(Lt[ve],ae))})(x),nt.publish("putResources"),x.forEach(Pn),Pn({resourcesOid:bi,objectOid:Number.MAX_SAFE_INTEGER}),nt.publish("postPutResources"),f!==null&&(Kn.oid=un(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Kn.v),ue("/R "+Kn.r),ue("/U <"+Kn.toHexString(Kn.U)+">"),ue("/O <"+Kn.toHexString(Kn.O)+">"),ue("/P "+Kn.P),ue(">>"),ue("endobj")),rr(),rc();var B=ye;return xo(),ir(),ue("startxref"),ue(""+B),ue("%%EOF"),Ie(Re[$]),me.join(`
`)},hs=y.__private__.getBlob=function(x){return new Blob([lt(x)],{type:"application/pdf"})},Xr=y.output=y.__private__.output=(mn=function(x,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",x){case void 0:return Qr();case"save":y.save(B.filename);break;case"arraybuffer":return lt(Qr());case"blob":return hs(Qr());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(hs(Qr()))||void 0;Jn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ve=Qr();try{ae=vy(ve)}catch{ae=vy(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+B.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Ae=B.pdfObjectUrl,Ue="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",vt=Kt.open();return vt!==null&&vt.document.write(We),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Ht=Kt.open();if(Ht!==null){Ht.document.write(Ct);var Wt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=B.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',or=Kt.open();if(or!==null&&(or.document.write(wn),or.document.title=B.filename),or||typeof safari>"u")return or;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",B);default:return null}},mn.foo=function(){try{return mn.apply(this,arguments)}catch(ae){var x=ae.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var B="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Kt.console)throw new Error(B);Kt.console.error(B,ae),Kt.alert&&alert(B)}},mn.foo.bar=mn,mn.foo),_o=function(x){return Array.isArray(yn)===!0&&yn.indexOf(x)>-1};switch(r){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=_o("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);gt=r}var Kn=null;te(),V();var Qs=y.__private__.getPageInfo=y.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[x].objId,pageNumber:x,pageContext:Ot[x]}},Pa=y.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Ot)if(Ot[B].objId===x)break;return Qs(B)},La=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ot[$].objId,pageNumber:$,pageContext:Ot[$]}};y.addPage=function(){return nn.apply(this,arguments),this},y.setPage=function(){return wr.apply(this,arguments),Ie.call(this,Re[$]),this},y.insertPage=function(x){return this.addPage(),this.movePage($,x),this},y.movePage=function(x,B){var ae,ve;if(x>B){ae=Re[x],ve=Ot[x];for(var Ae=x;Ae>B;Ae--)Re[Ae]=Re[Ae-1],Ot[Ae]=Ot[Ae-1];Re[B]=ae,Ot[B]=ve,this.setPage(B)}else if(x<B){ae=Re[x],ve=Ot[x];for(var Ue=x;Ue<B;Ue++)Re[Ue]=Re[Ue+1],Ot[Ue]=Ot[Ue+1];Re[B]=ae,Ot[B]=ve,this.setPage(B)}return this},y.deletePage=function(){return qn.apply(this,arguments),this},y.__private__.text=y.text=function(x,B,ae,ve,Ae){var Ue,We,vt,Ct,Ht,Wt,wn,or,Er,Hn=(ve=ve||{}).scope||this;if(typeof x=="number"&&typeof B=="number"&&(typeof ae=="string"||Array.isArray(ae))){var Mr=ae;ae=B,B=x,x=Mr}if(arguments[3]instanceof it==0?(vt=arguments[4],Ct=arguments[5],zn(wn=arguments[3])==="object"&&wn!==null||(typeof vt=="string"&&(Ct=vt,vt=null),typeof wn=="string"&&(Ct=wn,wn=null),typeof wn=="number"&&(vt=wn,wn=null),ve={flags:wn,angle:vt,align:Ct})):(M("The transform parameter of text() with a Matrix value"),Er=Ae),isNaN(B)||isNaN(ae)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Hn;var br,ni="",ms=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Zr,Ii=Hn.internal.scaleFactor;function Kc(bn){return bn=bn.split("	").join(Array(ve.TabLen||9).join(" ")),Se(bn,wn)}function ra(bn){for(var Ln,hr=bn.concat(),Pr=[],Is=hr.length;Is--;)typeof(Ln=hr.shift())=="string"?Pr.push(Ln):Array.isArray(bn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?Pr.push(Ln[0]):Pr.push([Ln[0],Ln[1],Ln[2]]);return Pr}function Ra(bn,Ln){var hr;if(typeof bn=="string")hr=Ln(bn)[0];else if(Array.isArray(bn)){for(var Pr,Is,ac=bn.concat(),wl=[],Lo=ac.length;Lo--;)typeof(Pr=ac.shift())=="string"?wl.push(Ln(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(Is=Ln(Pr[0],Pr[1],Pr[2]),wl.push([Is[0],Is[1],Is[2]]));hr=wl}return hr}var ia=!1,Oa=!0;if(typeof x=="string")ia=!0;else if(Array.isArray(x)){var sa=x.concat();We=[];for(var Ia,ui=sa.length;ui--;)(typeof(Ia=sa.shift())!="string"||Array.isArray(Ia)&&typeof Ia[0]!="string")&&(Oa=!1);ia=Oa}if(ia===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Da=we/Hn.internal.scaleFactor,Fa=Da*(ms-1);switch(ve.baseline){case"bottom":ae-=Fa;break;case"top":ae+=Da-Fa;break;case"hanging":ae+=Da-2*Fa;break;case"middle":ae+=Da/2-Fa}if((Wt=ve.maxWidth||0)>0&&(typeof x=="string"?x=Hn.splitTextToSize(x,Wt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(bn,Ln){return bn.concat(Hn.splitTextToSize(Ln,Wt))},[]))),Ue={text:x,x:B,y:ae,options:ve,mutex:{pdfEscape:Se,activeFontKey:rt,fonts:mt,activeFontSize:we}},nt.publish("preProcessText",Ue),x=Ue.text,vt=(ve=Ue.options).angle,Er instanceof it==0&&vt&&typeof vt=="number"){vt*=Math.PI/180,ve.rotationDirection===0&&(vt=-vt),R===P&&(vt=-vt);var sc=Math.cos(vt),oc=Math.sin(vt);Er=new it(sc,oc,-oc,sc,0,0)}else vt&&vt instanceof it&&(Er=vt);R!==P||Er||(Er=Dr),(Ht=ve.charSpace||Ri)!==void 0&&(ni+=W(I(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(or=ve.horizontalScale)!==void 0&&(ni+=W(100*or)+` Tz
`),ve.lang;var ur=-1,Rs=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,to=Hn.internal.getCurrentPageInfo().pageContext;switch(Rs){case 0:case!1:case"fill":ur=0;break;case 1:case!0:case"stroke":ur=1;break;case 2:case"fillThenStroke":ur=2;break;case 3:case"invisible":ur=3;break;case 4:case"fillAndAddForClipping":ur=4;break;case 5:case"strokeAndAddPathForClipping":ur=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ur=6;break;case 7:case"addToPathForClipping":ur=7}var Yc=to.usedRenderingMode!==void 0?to.usedRenderingMode:-1;ur!==-1?ni+=ur+` Tr
`:Yc!==-1&&(ni+=`0 Tr
`),ur!==-1&&(to.usedRenderingMode=ur),Ct=ve.align||"left";var rs,oa=we*ms,gl=Hn.internal.pageSize.getWidth(),ml=mt[rt];Ht=ve.charSpace||Ri,Wt=ve.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ao=[],vs=function(bn){return Hn.getStringUnitWidth(bn,{font:ml,charSpace:Ht,fontSize:we,doKerning:!1})*we/Ii};if(Object.prototype.toString.call(x)==="[object Array]"){var is;We=ra(x),Ct!=="left"&&(rs=We.map(vs));var ss,aa=0;if(Ct==="right"){B-=rs[0],x=[],ui=We.length;for(var no=0;no<ui;no++)no===0?(ss=Ni(B),is=Ts(ae)):(ss=I(aa-rs[no]),is=-oa),x.push([We[no],ss,is]),aa=rs[no]}else if(Ct==="center"){B-=rs[0]/2,x=[],ui=We.length;for(var jo=0;jo<ui;jo++)jo===0?(ss=Ni(B),is=Ts(ae)):(ss=I((aa-rs[jo])/2),is=-oa),x.push([We[jo],ss,is]),aa=rs[jo]}else if(Ct==="left"){x=[],ui=We.length;for(var Eo=0;Eo<ui;Eo++)x.push(We[Eo])}else if(Ct==="justify"&&ml.encoding==="Identity-H"){x=[],ui=We.length,Wt=Wt!==0?Wt:gl;for(var ro=0,xr=0;xr<ui;xr++)if(is=xr===0?Ts(ae):-oa,ss=xr===0?Ni(B):ro,xr<ui-1){var Ma=I((Wt-rs[xr])/(We[xr].split(" ").length-1)),io=We[xr].split(" ");x.push([io[0]+" ",ss,is]),ro=0;for(var Os=1;Os<io.length;Os++){var Ba=(vs(io[Os-1]+" "+io[Os])-vs(io[Os]))*Ii+Ma;Os==io.length-1?x.push([io[Os],Ba,0]):x.push([io[Os]+" ",Ba,0]),ro-=Ba}}else x.push([We[xr],ss,is]);x.push(["",ro,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],ui=We.length,Wt=Wt!==0?Wt:gl,xr=0;xr<ui;xr++){is=xr===0?Ts(ae):-oa,ss=xr===0?Ni(B):0;var za=We[xr].split(" ").length-1,vl=za>0?(Wt-rs[xr])/za:0;xr<ui-1?Ao.push(W(I(vl))):Ao.push(0),x.push([We[xr],ss,is])}}}(typeof ve.R2L=="boolean"?ve.R2L:Ge)===!0&&(x=Ra(x,function(bn,Ln,hr){return[bn.split("").reverse().join(""),Ln,hr]})),Ue={text:x,x:B,y:ae,options:ve,mutex:{pdfEscape:Se,activeFontKey:rt,fonts:mt,activeFontSize:we}},nt.publish("postProcessText",Ue),x=Ue.text,br=Ue.mutex.isHex||!1;var yl=mt[rt].encoding;yl!=="WinAnsiEncoding"&&yl!=="StandardEncoding"||(x=Ra(x,function(bn,Ln,hr){return[Kc(bn),Ln,hr]})),We=ra(x),x=[];for(var Po,la,ca,Ua=Array.isArray(We[0])?1:0,ua="",$a=function(bn,Ln,hr){var Pr="";return hr instanceof it?(hr=typeof ve.angle=="number"?kn(hr,new it(1,0,0,1,bn,Ln)):kn(new it(1,0,0,1,bn,Ln),hr),R===P&&(hr=kn(new it(1,0,0,-1,0,0),hr)),Pr=hr.join(" ")+` Tm
`):Pr=W(bn)+" "+W(Ln)+` Td
`,Pr},dr=0;dr<We.length;dr++){switch(ua="",Ua){case 1:ca=(br?"<":"(")+We[dr][0]+(br?">":")"),Po=parseFloat(We[dr][1]),la=parseFloat(We[dr][2]);break;case 0:ca=(br?"<":"(")+We[dr]+(br?">":")"),Po=Ni(B),la=Ts(ae)}Ao!==void 0&&Ao[dr]!==void 0&&(ua=Ao[dr]+` Tw
`),dr===0?x.push(ua+$a(Po,la,Er)+ca):Ua===0?x.push(ua+ca):Ua===1&&x.push(ua+$a(Po,la,Er)+ca)}x=Ua===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Di=`BT
/`;return Di+=rt+" "+we+` Tf
`,Di+=W(we*ms)+` TL
`,Di+=Ti+`
`,Di+=ni,Di+=x,ue(Di+="ET"),b[rt]=!0,Hn};var _i=y.__private__.clip=y.clip=function(x){return ue(x==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return _i("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ue("n"),this};var Ps=y.__private__.isValidStyle=function(x){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(B=!0),B};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(x){return Ps(x)&&(h=x),this};var Ls=y.__private__.getStyle=y.getStyle=function(x){var B=h;switch(x){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=x}return B},pn=y.close=function(){return ue("h"),this};y.stroke=function(){return ue("S"),this},y.fill=function(x){return Xs("f",x),this},y.fillEvenOdd=function(x){return Xs("f*",x),this},y.fillStroke=function(x){return Xs("B",x),this},y.fillStrokeEvenOdd=function(x){return Xs("B*",x),this};var Xs=function(x,B){zn(B)==="object"?Zo(B,x):ue(x)},Zs=function(x){x===null||R===P&&x===void 0||(x=Ls(x),ue(x))};function Xo(x,B,ae,ve,Ae){var Ue=new zu(B||this.boundingBox,ae||this.xStep,ve||this.yStep,this.gState,Ae||this.matrix);Ue.stream=this.stream;var We=x+"$$"+this.cloneIndex+++"$$";return Cn(We,Ue),Ue}var Zo=function(x,B){var ae=$t[x.key],ve=Lt[ae];if(ve instanceof Rc)ue("q"),ue(dl(B)),ve.gState&&y.setGState(ve.gState),ue(x.matrix.toString()+" cm"),ue("/"+ae+" sh"),ue("Q");else if(ve instanceof zu){var Ae=new it(1,0,0,-1,0,gs());x.matrix&&(Ae=Ae.multiply(x.matrix||Dr),ae=Xo.call(ve,x.key,x.boundingBox,x.xStep,x.yStep,Ae).id),ue("q"),ue("/Pattern cs"),ue("/"+ae+" scn"),ve.gState&&y.setGState(ve.gState),ue(B),ue("Q")}},dl=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ea=y.moveTo=function(x,B){return ue(W(I(x))+" "+W(q(B))+" m"),this},Si=y.lineTo=function(x,B){return ue(W(I(x))+" "+W(q(B))+" l"),this},Li=y.curveTo=function(x,B,ae,ve,Ae,Ue){return ue([W(I(x)),W(q(B)),W(I(ae)),W(q(ve)),W(I(Ae)),W(q(Ue)),"c"].join(" ")),this};y.__private__.line=y.line=function(x,B,ae,ve,Ae){if(isNaN(x)||isNaN(B)||isNaN(ae)||isNaN(ve)||!Ps(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return R===O?this.lines([[ae-x,ve-B]],x,B,[1,1],Ae||"S"):this.lines([[ae-x,ve-B]],x,B,[1,1]).stroke()},y.__private__.lines=y.lines=function(x,B,ae,ve,Ae,Ue){var We,vt,Ct,Ht,Wt,wn,or,Er,Hn,Mr,br,ni;if(typeof x=="number"&&(ni=ae,ae=B,B=x,x=ni),ve=ve||[1,1],Ue=Ue||!1,isNaN(B)||isNaN(ae)||!Array.isArray(x)||!Array.isArray(ve)||!Ps(Ae)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ea(B,ae),We=ve[0],vt=ve[1],Ht=x.length,Mr=B,br=ae,Ct=0;Ct<Ht;Ct++)(Wt=x[Ct]).length===2?(Mr=Wt[0]*We+Mr,br=Wt[1]*vt+br,Si(Mr,br)):(wn=Wt[0]*We+Mr,or=Wt[1]*vt+br,Er=Wt[2]*We+Mr,Hn=Wt[3]*vt+br,Mr=Wt[4]*We+Mr,br=Wt[5]*vt+br,Li(wn,or,Er,Hn,Mr,br));return Ue&&pn(),Zs(Ae),this},y.path=function(x){for(var B=0;B<x.length;B++){var ae=x[B],ve=ae.c;switch(ae.op){case"m":ea(ve[0],ve[1]);break;case"l":Si(ve[0],ve[1]);break;case"c":Li.apply(this,ve);break;case"h":pn()}}return this},y.__private__.rect=y.rect=function(x,B,ae,ve,Ae){if(isNaN(x)||isNaN(B)||isNaN(ae)||isNaN(ve)||!Ps(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return R===O&&(ve=-ve),ue([W(I(x)),W(q(B)),W(I(ae)),W(I(ve)),"re"].join(" ")),Zs(Ae),this},y.__private__.triangle=y.triangle=function(x,B,ae,ve,Ae,Ue,We){if(isNaN(x)||isNaN(B)||isNaN(ae)||isNaN(ve)||isNaN(Ae)||isNaN(Ue)||!Ps(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-x,ve-B],[Ae-ae,Ue-ve],[x-Ae,B-Ue]],x,B,[1,1],We,!0),this},y.__private__.roundedRect=y.roundedRect=function(x,B,ae,ve,Ae,Ue,We){if(isNaN(x)||isNaN(B)||isNaN(ae)||isNaN(ve)||isNaN(Ae)||isNaN(Ue)||!Ps(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ae),Ue=Math.min(Ue,.5*ve),this.lines([[ae-2*Ae,0],[Ae*vt,0,Ae,Ue-Ue*vt,Ae,Ue],[0,ve-2*Ue],[0,Ue*vt,-Ae*vt,Ue,-Ae,Ue],[2*Ae-ae,0],[-Ae*vt,0,-Ae,-Ue*vt,-Ae,-Ue],[0,2*Ue-ve],[0,-Ue*vt,Ae*vt,-Ue,Ae,-Ue]],x+Ae,B,[1,1],We,!0),this},y.__private__.ellipse=y.ellipse=function(x,B,ae,ve,Ae){if(isNaN(x)||isNaN(B)||isNaN(ae)||isNaN(ve)||!Ps(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*ae,We=4/3*(Math.SQRT2-1)*ve;return ea(x+ae,B),Li(x+ae,B-We,x+Ue,B-ve,x,B-ve),Li(x-Ue,B-ve,x-ae,B-We,x-ae,B),Li(x-ae,B+We,x-Ue,B+ve,x,B+ve),Li(x+Ue,B+ve,x+ae,B+We,x+ae,B),Zs(Ae),this},y.__private__.circle=y.circle=function(x,B,ae,ve){if(isNaN(x)||isNaN(B)||isNaN(ae)||!Ps(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,B,ae,ae,ve)},y.setFont=function(x,B,ae){return ae&&(B=X(B,ae)),rt=Es(x,B,{disableWarning:!1}),this};var ts=y.__private__.getFont=y.getFont=function(){return mt[Es.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var x,B,ae={};for(x in Ut)if(Ut.hasOwnProperty(x))for(B in ae[x]=[],Ut[x])Ut[x].hasOwnProperty(B)&&ae[x].push(B);return ae},y.addFont=function(x,B,ae,ve,Ae){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(ae=X(ae,ve)),ze.call(this,x,B,ae,Ae=Ae||"Identity-H")};var Zr,ci=n.lineWidth||.200025,It=y.__private__.getLineWidth=y.getLineWidth=function(){return ci},So=y.__private__.setLineWidth=y.setLineWidth=function(x){return ci=x,ue(W(I(x))+" w"),this};y.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(x,B){if(x=x||[],B=B||0,isNaN(B)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ae){return W(I(ae))}).join(" "),B=W(I(B)),ue("["+x+"] "+B+" d"),this};var Fr=y.__private__.getLineHeight=y.getLineHeight=function(){return we*Zr};y.__private__.getLineHeight=y.getLineHeight=function(){return we*Zr};var ic=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Zr=x),this},hl=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Zr};ic(n.lineHeight);var Ni=y.__private__.getHorizontalCoordinate=function(x){return I(x)},Ts=y.__private__.getVerticalCoordinate=function(x){return R===P?x:Ot[$].mediaBox.topRightY-Ot[$].mediaBox.bottomLeftY-I(x)},fl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(x){return W(Ni(x))},No=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(x){return W(Ts(x))},eo=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return ds(eo)},y.__private__.setStrokeColor=y.setDrawColor=function(x,B,ae,ve){return eo=Ar({ch1:x,ch2:B,ch3:ae,ch4:ve,pdfColorType:"draw",precision:2}),ue(eo),this};var Ta=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return ds(Ta)},y.__private__.setFillColor=y.setFillColor=function(x,B,ae,ve){return Ta=Ar({ch1:x,ch2:B,ch3:ae,ch4:ve,pdfColorType:"fill",precision:2}),ue(Ta),this};var Ti=n.textColor||"0 g",ns=y.__private__.getTextColor=y.getTextColor=function(){return ds(Ti)};y.__private__.setTextColor=y.setTextColor=function(x,B,ae,ve){return Ti=Ar({ch1:x,ch2:B,ch3:ae,ch4:ve,pdfColorType:"text",precision:3}),this};var Ri=n.charSpace,ko=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ri||0)};y.__private__.setCharSpace=y.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ri=x,this};var ta=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(x){var B=y.CapJoinStyles[x];if(B===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ta=B,ue(B+" J"),this};var na=0;y.__private__.setLineJoin=y.setLineJoin=function(x){var B=y.CapJoinStyles[x];if(B===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=B,ue(B+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(W(I(x))+" M"),this},y.GState=Bf,y.setGState=function(x){(x=typeof x=="string"?Pt[Nn[x]]:fs(null,x)).equals(gn)||(ue("/"+x.id+" gs"),gn=x)};var fs=function(x,B){if(!x||!Nn[x]){var ae=!1;for(var ve in Pt)if(Pt.hasOwnProperty(ve)&&Pt[ve].equals(B)){ae=!0;break}if(ae)B=Pt[ve];else{var Ae="GS"+(Object.keys(Pt).length+1).toString(10);Pt[Ae]=B,B.id=Ae}return x&&(Nn[x]=B.id),nt.publish("addGState",B),B}};y.addGState=function(x,B){return fs(x,B),this},y.saveGraphicsState=function(){return ue("q"),fn.push({key:rt,size:we,color:Ti}),this},y.restoreGraphicsState=function(){ue("Q");var x=fn.pop();return rt=x.key,we=x.size,Ti=x.color,gn=null,this},y.setCurrentTransformationMatrix=function(x){return ue(x.toString()+" cm"),this},y.comment=function(x){return ue("#"+x),this};var ps=function(x,B){var ae=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Ue){isNaN(Ue)||(ae=parseFloat(Ue))}});var ve=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ue){isNaN(Ue)||(ve=parseFloat(Ue))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ue){Ae=Ue.toString()}}),this},Co=function(x,B,ae,ve){ps.call(this,x,B),this.type="rect";var Ae=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(We){isNaN(We)||(Ae=parseFloat(We))}});var Ue=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(We){isNaN(We)||(Ue=parseFloat(We))}}),this},ki=function(){this.page=tn,this.currentPage=$,this.pages=Re.slice(0),this.pagesContext=Ot.slice(0),this.x=ct,this.y=Zt,this.matrix=on,this.width=vn($),this.height=In($),this.outputDestination=Ve,this.id="",this.objectNumber=-1};ki.prototype.restore=function(){tn=this.page,$=this.currentPage,Ot=this.pagesContext,Re=this.pages,ct=this.x,Zt=this.y,on=this.matrix,jr($,this.width),sr($,this.height),Ve=this.outputDestination};var Oi=function(x,B,ae,ve,Ae){Gn.push(new ki),tn=$=0,Re=[],ct=x,Zt=B,on=Ae,ot([ae,ve])};for(var Dt in y.beginFormObject=function(x,B,ae,ve,Ae){return Oi(x,B,ae,ve,Ae),this},y.endFormObject=function(x){return(function(B){if($n[B])Gn.pop().restore();else{var ae=new ki,ve="Xo"+(Object.keys(an).length+1).toString(10);ae.id=ve,$n[B]=ve,an[ve]=ae,nt.publish("addFormObject",ae),Gn.pop().restore()}})(x),this},y.doFormObject=function(x,B){var ae=an[$n[x]];return ue("q"),ue(B.toString()+" cm"),ue("/"+ae.id+" Do"),ue("Q"),this},y.getFormObject=function(x){var B=an[$n[x]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},y.save=function(x,B){return x=x||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Pc(hs(Qr()),x),typeof Pc.unload=="function"&&Kt.setTimeout&&setTimeout(Pc.unload,911),this):new Promise(function(ae,ve){try{var Ae=Pc(hs(Qr()),x);typeof Pc.unload=="function"&&Kt.setTimeout&&setTimeout(Pc.unload,911),ae(Ae)}catch(Ue){ve(Ue.message)}})},Tt.API)Tt.API.hasOwnProperty(Dt)&&(Dt==="events"&&Tt.API.events.length?(function(x,B){var ae,ve,Ae;for(Ae=B.length-1;Ae!==-1;Ae--)ae=B[Ae][0],ve=B[Ae][1],x.subscribe.apply(x,[ae].concat(typeof ve=="function"?[ve]:ve))})(nt,Tt.API.events):y[Dt]=Tt.API[Dt]);function vn(x){return Ot[x].mediaBox.topRightX-Ot[x].mediaBox.bottomLeftX}function jr(x,B){Ot[x].mediaBox.topRightX=B+Ot[x].mediaBox.bottomLeftX}function In(x){return Ot[x].mediaBox.topRightY-Ot[x].mediaBox.bottomLeftY}function sr(x,B){Ot[x].mediaBox.topRightY=B+Ot[x].mediaBox.bottomLeftY}var ei=y.getPageWidth=function(x){return vn(x=x||$)/gt},ti=y.setPageWidth=function(x,B){jr(x,B*gt)},gs=y.getPageHeight=function(x){return In(x=x||$)/gt},pl=y.setPageHeight=function(x,B){sr(x,B*gt)};return y.internal={pdfEscape:Se,getStyle:Ls,getFont:ts,getFontSize:Pe,getCharSpace:ko,getTextColor:ns,getLineHeight:Fr,getLineHeightFactor:hl,getLineWidth:It,write:Rt,getHorizontalCoordinate:Ni,getVerticalCoordinate:Ts,getCoordinateString:fl,getVerticalCoordinateString:No,collections:{},newObject:un,newAdditionalObject:li,newObjectDeferred:dn,newObjectDeferredBegin:On,getFilters:Pi,putStream:xi,events:nt,scaleFactor:gt,pageSize:{getWidth:function(){return ei($)},setWidth:function(x){ti($,x)},getHeight:function(){return gs($)},setHeight:function(x){pl($,x)}},encryptionOptions:f,encryption:Kn,getEncryptor:function(x){return f!==null?Kn.encryptor(x,0):function(B){return B}},output:Xr,getNumberOfPages:Qn,pages:Re,out:ue,f2:L,f3:D,getPageInfo:Qs,getPageInfoByObjId:Pa,getCurrentPageInfo:La,getPDFVersion:S,Point:ps,Rectangle:Co,Matrix:it,hasHotfix:_o},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ei($)},set:function(x){ti($,x)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return gs($)},set:function(x){pl($,x)},enumerable:!0,configurable:!0}),function(x){for(var B=0,ae=ft.length;B<ae;B++){var ve=ze.call(this,x[B][0],x[B][1],x[B][2],ft[B][3],!0);v===!1&&(b[ve]=!0);var Ae=x[B][0].split("-");he({id:ve,fontName:Ae[0],fontStyle:Ae[1]||""})}nt.publish("addFonts",{fonts:mt,dictionary:Ut})}.call(y,ft),rt="F1",nn(i,t),nt.publish("initialized"),y}Mu.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Mu.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mu.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Mu.prototype.processOwnerPassword=function(n,e){return W0(H0(e).substr(0,5),n)},Mu.prototype.encryptor=function(n,e){var t=H0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return W0(t,r)}},Bf.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||zn(n)!==zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Tt.API={events:[]},Tt.version="3.0.3";var Ir=Tt.API,Em=1,Gc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ou=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(n){return n.toFixed(2)},$l=function(n){return n.toFixed(5)};Ir.__acroform__={};var As=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},xy=function(n){return n*Em},ba=function(n){var e=new dx,t=_t.internal.getHeight(n)||0,r=_t.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Qt(r)),Number(Qt(t))],e},RE=Ir.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},OE=Ir.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},IE=Ir.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},$r=Ir.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return IE(n,e-1)},qr=Ir.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return RE(n,e-1)},Hr=Ir.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return OE(n,e-1)},DE=Ir.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],l=n[2],c=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(o+c)||0,u.upperRight_X=t(i+l)||0,u.upperRight_Y=r(o)||0,[Number(Qt(u.lowerLeft_X)),Number(Qt(u.lowerLeft_Y)),Number(Qt(u.upperRight_X)),Number(Qt(u.upperRight_Y))]},FE=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=V0(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ba(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},V0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var o=t,l=_t.internal.getHeight(n)||0;l=l<0?-l:l;var c=_t.internal.getWidth(n)||0;c=c<0?-c:c;var u=function(L,D,I){if(L+1<i.length){var q=D+" "+i[L+1][0];return df(q,n,I).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var h,f,v=df("3",n,o).height,b=n.multiline?l-o:(l-v)/2,y=b+=2,C=0,S=0,j=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+df(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var k="",O=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var R=!1;if(i[P].length!==1&&j!==i[P].length-1){if((v+2)*(O+2)+2>l)continue e;k+=i[P][j],R=!0,S=P,P--}else{k=(k+=i[P][j]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ee=parseInt(P),ne=u(ee,k,o),X=P>=i.length-1;if(ne&&!X){k+=" ",j=0;continue}if(ne||X){if(X)S=ee;else if(n.multiline&&(v+2)*(O+2)+2>l)continue e}else{if(!n.multiline||(v+2)*(O+2)+2>l)continue e;S=ee}}for(var W="",M=C;M<=S;M++){var K=i[M];if(n.multiline){if(M===S){W+=K[j]+" ",j=(j+1)%K.length;continue}if(M===C){W+=K[K.length-1]+" ";continue}}W+=K[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,f=df(W,n,o).width,n.textAlign){case"right":h=c-f-2;break;case"center":h=(c-f)/2;break;default:h=2}e+=Qt(h)+" "+Qt(y)+` Td
`,e+="("+Gc(W)+`) Tj
`,e+=-Qt(h)+` 0 Td
`,y=-(o+2),f=0,C=R?S:S+1,O++,k=""}break}return r.text=e,r.fontSize=o,r},df=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},ME={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BE=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},zE=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Jo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(ME)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Em=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new hx,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&BE(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],u=[],h=c.Rect;if(c.Rect&&(c.Rect=DE(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_t.createDefaultAppearanceStream(c),zn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=FE(c);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var v="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var y=c.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var C=y[l];typeof C=="function"&&(C=C.call(i,c)),v+="/"+l+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=y)=="function"&&(C=C.call(i,c)),v+="/"+l+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);v+=">>"}u.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}o&&(function(S,j){for(var k in S)if(S.hasOwnProperty(k)){var O=k,P=S[k];j.internal.newObjectDeferredBegin(P.objId,!0),zn(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete S[O]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},ux=Ir.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),zn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Gc(r(n[o].toString()))+")"):i+=n[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},t0=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Gc(r(n))+")"},Na=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Na.prototype.toString=function(){return this.objId+" 0 R"},Na.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Na.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:ux(i,this.objId,this.scope)}):i instanceof Na?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var dx=function(){Na.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};As(dx,Na);var hx=function(){Na.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Gc(t(n))+")"}},set:function(t){n=t}})};As(hx,Na);var Jo=function n(){Na.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$r(e,3)},set:function(k){k?this.F=qr(e,3):this.F=Hr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof zf)return;o="FieldObject"+n.FieldNum++}var k=function(O){return O};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Gc(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Em:h},set:function(k){h=k}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof zf||this instanceof Ic))return t0(v,this.objId,this.scope)},set:function(k){k=k.toString(),v=k}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof wi==0?t0(b,this.objId,this.scope):b},set:function(k){k=k.toString(),b=this instanceof wi==0?k.substr(0,1)==="("?Ou(k.substr(1,k.length-2)):Ou(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Ou(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof wi==1?"/"+k:k}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof wi==0?t0(y,this.objId,this.scope):y},set:function(k){k=k.toString(),y=this instanceof wi==0?k.substr(0,1)==="("?Ou(k.substr(1,k.length-2)):Ou(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Ou(y.substr(1,y.length-1)):y},set:function(k){k=k.toString(),y=this instanceof wi==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(k){k=!!k,S=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(k){C=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,1)},set:function(k){k?this.Ff=qr(this.Ff,1):this.Ff=Hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,2)},set:function(k){k?this.Ff=qr(this.Ff,2):this.Ff=Hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,3)},set:function(k){k?this.Ff=qr(this.Ff,3):this.Ff=Hr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');j=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(j){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};As(Jo,Na);var Vu=function(){Jo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ux(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(o,l,c){c||(c=1);for(var u,h=[];u=l.exec(o);)h.push(u[c]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,18)},set:function(t){t?this.Ff=qr(this.Ff,18):this.Ff=Hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=qr(this.Ff,19):this.Ff=Hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,20)},set:function(t){t?(this.Ff=qr(this.Ff,20),e.sort()):this.Ff=Hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,22)},set:function(t){t?this.Ff=qr(this.Ff,22):this.Ff=Hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,23)},set:function(t){t?this.Ff=qr(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,27)},set:function(t){t?this.Ff=qr(this.Ff,27):this.Ff=Hr(this.Ff,27)}}),this.hasAppearanceStream=!1};As(Vu,Jo);var Gu=function(){Vu.call(this),this.fontName="helvetica",this.combo=!1};As(Gu,Vu);var Ku=function(){Gu.call(this),this.combo=!0};As(Ku,Gu);var wf=function(){Ku.call(this),this.edit=!0};As(wf,Ku);var wi=function(){Jo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,15)},set:function(t){t?this.Ff=qr(this.Ff,15):this.Ff=Hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,16)},set:function(t){t?this.Ff=qr(this.Ff,16):this.Ff=Hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,17)},set:function(t){t?this.Ff=qr(this.Ff,17):this.Ff=Hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,26)},set:function(t){t?this.Ff=qr(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Gc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};As(wi,Jo);var bf=function(){wi.call(this),this.pushButton=!0};As(bf,wi);var Yu=function(){wi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};As(Yu,wi);var zf=function(){var n,e;Jo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),r)l.push("/"+o+" ("+Gc(i(r[o]))+")");return l.push(">>"),l.join(`
`)},set:function(i){zn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};As(zf,Jo),Yu.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Yu.prototype.createOption=function(n){var e=new zf;return e.Parent=this,e.optionName=n,this.Kids.push(e),UE.call(this.scope,e),e};var xf=function(){wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};As(xf,wi);var Ic=function(){Jo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,13)},set:function(e){e?this.Ff=qr(this.Ff,13):this.Ff=Hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,21)},set:function(e){e?this.Ff=qr(this.Ff,21):this.Ff=Hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,23)},set:function(e){e?this.Ff=qr(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,24)},set:function(e){e?this.Ff=qr(this.Ff,24):this.Ff=Hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,25)},set:function(e){e?this.Ff=qr(this.Ff,25):this.Ff=Hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,26)},set:function(e){e?this.Ff=qr(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};As(Ic,Jo);var _f=function(){Ic.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,14)},set:function(n){n?this.Ff=qr(this.Ff,14):this.Ff=Hr(this.Ff,14)}}),this.password=!0};As(_f,Ic);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=ba(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=V0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Qt(_t.internal.getWidth(n))+" "+Qt(_t.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Qt(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=ba(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=_t.internal.getHeight(n),l=_t.internal.getWidth(n),c=V0(n,n.caption);return i.push("1 g"),i.push("0 0 "+Qt(l)+" "+Qt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(l-1)+" "+Qt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Qt(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=ba(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qt(_t.internal.getWidth(n))+" "+Qt(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Circle.YesNormal,e.D[n]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=ba(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=_t.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+$l(_t.internal.getWidth(n)/2)+" "+$l(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ba(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*_t.internal.Bezier_C).toFixed(5)),l=Number((r*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$l(_t.internal.getWidth(n)/2)+" "+$l(_t.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+$l(_t.internal.getWidth(n)/2)+" "+$l(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=ba(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$l(_t.internal.getWidth(n)/2)+" "+$l(_t.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Cross.YesNormal,e.D[n]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=ba(n);e.scope=n.scope;var t=[],r=_t.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Qt(_t.internal.getWidth(n)-2)+" "+Qt(_t.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),t.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),t.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),t.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ba(n);e.scope=n.scope;var t=_t.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(_t.internal.getWidth(n))+" "+Qt(_t.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qt(_t.internal.getWidth(n)-2)+" "+Qt(_t.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(t.x1.x)+" "+Qt(t.x1.y)+" m"),r.push(Qt(t.x2.x)+" "+Qt(t.x2.y)+" l"),r.push(Qt(t.x4.x)+" "+Qt(t.x4.y)+" m"),r.push(Qt(t.x3.x)+" "+Qt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=ba(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qt(_t.internal.getWidth(n))+" "+Qt(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=_t.internal.getWidth(n),t=_t.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},_t.internal.getWidth=function(n){var e=0;return zn(n)==="object"&&(e=xy(n.Rect[2])),e},_t.internal.getHeight=function(n){var e=0;return zn(n)==="object"&&(e=xy(n.Rect[3])),e};var UE=Ir.addField=function(n){if(zE(this,n),!(n instanceof Jo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ir.AcroFormChoiceField=Vu,Ir.AcroFormListBox=Gu,Ir.AcroFormComboBox=Ku,Ir.AcroFormEditBox=wf,Ir.AcroFormButton=wi,Ir.AcroFormPushButton=bf,Ir.AcroFormRadioButton=Yu,Ir.AcroFormCheckBox=xf,Ir.AcroFormTextField=Ic,Ir.AcroFormPasswordField=_f,Ir.AcroFormAppearance=_t,Ir.AcroForm={ChoiceField:Vu,ListBox:Gu,ComboBox:Ku,EditBox:wf,Button:wi,PushButton:bf,RadioButton:Yu,CheckBox:xf,TextField:Ic,PasswordField:_f,Appearance:_t},Tt.AcroForm={ChoiceField:Vu,ListBox:Gu,ComboBox:Ku,EditBox:wf,Button:wi,PushButton:bf,RadioButton:Yu,CheckBox:xf,TextField:Ic,PasswordField:_f,Appearance:_t};Tt.AcroForm;function fx(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(L,D){var I,q,ce,J,re,V=t;if((D=D||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(ne(L))for(re in r)for(ce=r[re],I=0;I<ce.length;I+=1){for(J=!0,q=0;q<ce[I].length;q+=1)if(ce[I][q]!==void 0&&ce[I][q]!==L[q]){J=!1;break}if(J===!0){V=re;break}}else for(re in r)for(ce=r[re],I=0;I<ce.length;I+=1){for(J=!0,q=0;q<ce[I].length;q+=1)if(ce[I][q]!==void 0&&ce[I][q]!==L.charCodeAt(q)){J=!1;break}if(J===!0){V=re;break}}return V===t&&D!==t&&(V=D),V},o=function L(D){for(var I=this.internal.write,q=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:D.width}),J.push({key:"Height",value:D.height}),D.colorSpace===k.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===k.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var re="",V=0,ge=D.transparency.length;V<ge;V++)re+=D.transparency[V]+" "+D.transparency[V]+" ";J.push({key:"Mask",value:"["+re+"]"})}D.sMask!==void 0&&J.push({key:"SMask",value:D.objectId+1+" 0 R"});var _e=D.filter!==void 0?["/"+D.filter]:void 0;if(q({data:D.data,additionalKeyValues:J,alreadyAppliedFilters:_e,objectId:D.objectId}),I("endobj"),"sMask"in D&&D.sMask!==void 0){var te,T=(te=D.sMaskBitsPerComponent)!==null&&te!==void 0?te:D.bitsPerComponent,$={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:D.sMask};"filter"in D&&($.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(D.width),$.filter=D.filter),L.call(this,$)}if(D.colorSpace===k.INDEXED){var Y=this.internal.newObject();q({data:W(new Uint8Array(D.palette)),objectId:Y}),I("endobj")}},l=function(){var L=this.internal.collections[e+"images"];for(var D in L)o.call(this,L[D])},c=function(){var L,D=this.internal.collections[e+"images"],I=this.internal.write;for(var q in D)I("/I"+(L=D[q]).index,L.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var L=this.internal.collections[e+"images"];return u.call(this),L},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(L){return typeof n["process"+L.toUpperCase()]=="function"},b=function(L){return zn(L)==="object"&&L.nodeType===1},y=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var I=""+L.getAttribute("src");if(I.indexOf("data:image/")===0)return yf(unescape(I).split("base64,").pop());var q=n.loadFile(I,!0);if(q!==void 0)return q}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ce;switch(D){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return yf(L.toDataURL(ce,1).split("base64,").pop())}},C=function(L){var D=this.internal.collections[e+"images"];if(D){for(var I in D)if(L===D[I].alias)return D[I]}},S=function(L,D,I){return L||D||(L=-96,D=-96),L<0&&(L=-1*I.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*I.height*72/D/this.internal.scaleFactor),L===0&&(L=D*I.width/I.height),D===0&&(D=L*I.height/I.width),[L,D]},j=function(L,D,I,q,ce,J){var re=S.call(this,I,q,ce),V=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,_e=h.call(this);if(I=re[0],q=re[1],_e[ce.index]=ce,J){J*=Math.PI/180;var te=Math.cos(J),T=Math.sin(J),$=function(oe){return oe.toFixed(4)},Y=[$(te),$(T),$(-1*T),$(te),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,V(L),ge(D+q),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([V(I),"0","0",V(q),"0","0","cm"].join(" "))):this.internal.write([V(I),"0","0",V(q),V(L),ge(D+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=n.__addimage__.sHashCode=function(L){var D,I,q=0;if(typeof L=="string")for(I=L.length,D=0;D<I;D++)q=(q<<5)-q+L.charCodeAt(D),q|=0;else if(ne(L))for(I=L.byteLength/2,D=0;D<I;D++)q=(q<<5)-q+L[D],q|=0;return q},R=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},ee=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null};n.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var ne=n.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},X=n.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,I=new Uint8Array(D),q=0;q<D;q++)I[q]=L.charCodeAt(q);return I},W=n.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",I=ne(L)?L:new Uint8Array(L),q=0;q<I.length;q+=8192)D+=String.fromCharCode.apply(null,I.subarray(q,q+8192));return D};n.addImage=function(){var L,D,I,q,ce,J,re,V,ge;if(typeof arguments[1]=="number"?(D=t,I=arguments[1],q=arguments[2],ce=arguments[3],J=arguments[4],re=arguments[5],V=arguments[6],ge=arguments[7]):(D=arguments[1],I=arguments[2],q=arguments[3],ce=arguments[4],J=arguments[5],re=arguments[6],V=arguments[7],ge=arguments[8]),zn(L=arguments[0])==="object"&&!b(L)&&"imageData"in L){var _e=L;L=_e.imageData,D=_e.format||D||t,I=_e.x||I||0,q=_e.y||q||0,ce=_e.w||_e.width||ce,J=_e.h||_e.height||J,re=_e.alias||re,V=_e.compression||V,ge=_e.rotation||_e.angle||ge}var te=this.internal.getFilters();if(V===void 0&&te.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(I)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var T=M.call(this,L,D,re,V);return j.call(this,I,q,ce,J,T,ge),this};var M=function(L,D,I,q){var ce,J,re;if(typeof L=="string"&&i(L)===t){L=unescape(L);var V=K(L,!1);(V!==""||(V=n.loadFile(L,!0))!==void 0)&&(L=V)}if(b(L)&&(L=y(L,D)),D=i(L,D),!v(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((re=I)==null||re.length===0)&&(I=(function(ge){return typeof ge=="string"||ne(ge)?P(ge):ne(ge.data)?P(ge.data):null})(L)),(ce=C.call(this,I))||(L instanceof Uint8Array||D==="RGBA"||(J=L,L=X(L)),ce=this["process"+D.toUpperCase()](L,f.call(this),I,(function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in n.image_compression?ge:O.NONE})(q),J)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},K=n.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var I,q="";if(typeof L=="string"){var ce;I=(ce=ee(L))!==null&&ce!==void 0?ce:L;try{q=yf(I)}catch(J){if(D)throw R(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};n.getImageProperties=function(L){var D,I,q="";if(b(L)&&(L=y(L)),typeof L=="string"&&i(L)===t&&((q=K(L,!1))===""&&(q=n.loadFile(L)||""),L=q),I=i(L),!v(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(L instanceof Uint8Array||(L=X(L)),!(D=this["process"+I.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=I,D}})(Tt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Tt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,f=!1,v=0;v<h.length&&!f;v++)switch((r=h[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){r=h[b];var y=this.internal.pdfEscape,C=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(S.objId),O=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(k(r.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+y(k(O))+") >>",S.content=o;var P=S.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(S.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(C(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ne=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,l){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:h(r),w:u(t+i),h:h(r+o)},options:l,type:"link"})},n.textWithLink=function(t,r,i,o){var l,c,u=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var f=this.splitTextToSize(t,c).length;l=Math.ceil(h*f)}else c=u,l=h;return this.text(t,r,i,o),i+=.2*h,o.align==="center"&&(r-=u/2),o.align==="right"&&(r-=u),this.link(r,i-h,c,l,o),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Tt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},c=n.__arabicParser__.isArabicEndLetter=function(S){return l(S)&&o(S)&&e[S.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(S){return l(S)&&i.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return l(S)&&o(S)&&e[S.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return l(S)&&o(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return l(S)&&o(S)&&e[S.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return l(S)&&o(S)&&e[S.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(S){var j=0,k=t,O="",P=0;for(j=0;j<S.length;j+=1)k[S.charCodeAt(j)]!==void 0?(P++,typeof(k=k[S.charCodeAt(j)])=="number"&&(O+=String.fromCharCode(k),k=t,P=0),j===S.length-1&&(k=t,O+=S.charAt(j-(P-1)),j-=P-1,P=0)):(k=t,O+=S.charAt(j-P),j-=P,P=0);return O};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(S,j,k){return l(S)?o(S)===!1?-1:!h(S)||!l(j)&&!l(k)||!l(k)&&c(j)||c(S)&&!l(j)||c(S)&&u(j)||c(S)&&c(j)?0:f(S)&&l(j)&&!c(j)&&l(k)&&h(k)?3:c(S)||!l(k)?1:2:-1},y=function(S){var j=0,k=0,O=0,P="",R="",ee="",ne=(S=S||"").split("\\s+"),X=[];for(j=0;j<ne.length;j+=1){for(X.push(""),k=0;k<ne[j].length;k+=1)P=ne[j][k],R=ne[j][k-1],ee=ne[j][k+1],l(P)?(O=b(P,R,ee),X[j]+=O!==-1?String.fromCharCode(e[P.charCodeAt(0)][O]):P):X[j]+=P;X[j]=v(X[j])}return X.join(" ")},C=n.__arabicParser__.processArabic=n.processArabic=function(){var S,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(j)){var O=0;for(k=[],O=0;O<j.length;O+=1)Array.isArray(j[O])?k.push([y(j[O][0]),j[O][1],j[O][2]]):k.push([y(j[O])]);S=k}else S=y(j);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",C])})(Tt.API),Tt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(S){b=S}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(S){C=S}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,h){r.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),v=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,y=0,C=0,S=0,j=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var k=h.maxWidth;k>0?typeof u=="string"?u=this.splitTextToSize(u,k):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(P,R){return P.concat(j.splitTextToSize(R,k))},[])):u=Array.isArray(u)?u:[u];for(var O=0;O<u.length;O++)y<(S=this.getStringUnitWidth(u[O],{font:v})*f)&&(y=S);return y!==0&&(C=u.length),{w:y/=b,h:Math.max((C*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=v.top,y&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};n.table=function(u,h,f,v,b){if(r.call(this),!f)throw new Error("No data for PDF table.");var y,C,S,j,k=[],O=[],P=[],R={},ee={},ne=[],X=[],W=(b=b||{}).autoSize||!1,M=b.printHeaders!==!1,K=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,L=b.margins||Object.assign({width:this.getPageWidth()},e),D=typeof b.padding=="number"?b.padding:3,I=b.headerBackgroundColor||"#c8c8c8",q=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=q,this.setFontSize(K),v==null)O=k=Object.keys(f[0]),P=k.map(function(){return"left"});else if(Array.isArray(v)&&zn(v[0])==="object")for(k=v.map(function(_e){return _e.name}),O=v.map(function(_e){return _e.prompt||_e.name||""}),P=v.map(function(_e){return _e.align||"left"}),y=0;y<v.length;y+=1)ee[v[y].name]=.7499990551181103*v[y].width;else Array.isArray(v)&&typeof v[0]=="string"&&(O=k=v,P=k.map(function(){return"left"}));if(W||Array.isArray(v)&&typeof v[0]=="string")for(y=0;y<k.length;y+=1){for(R[j=k[y]]=f.map(function(_e){return _e[j]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(O[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=R[j],this.setFont(void 0,"normal"),S=0;S<C.length;S+=1)ne.push(this.getTextDimensions(C[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[j]=Math.max.apply(null,ne)+D+D,ne=[]}if(M){var ce={};for(y=0;y<k.length;y+=1)ce[k[y]]={},ce[k[y]].text=O[y],ce[k[y]].align=P[y];var J=c.call(this,ce,ee);X=k.map(function(_e){return new o(u,h,ee[_e],J,ce[_e].text,void 0,ce[_e].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var re=v.reduce(function(_e,te){return _e[te.name]=te.align,_e},{});for(y=0;y<f.length;y+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:y,data:f[y]},this);var V=c.call(this,f[y],ee);for(S=0;S<k.length;S+=1){var ge=f[y][k[S]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:y,col:S,data:ge},this),l.call(this,new o(u,h,ee[k[S]],V,ge,y+2,re[k[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var c=function(u,h){var f=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(y){var C=u[y];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,h[y]-f-f)},this).map(function(y){return this.getLineHeightFactor()*y.length*v/b+f+f},this).reduce(function(y,C){return Math.max(y,C)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){f=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=u;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,f),this.setTextColor(C)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(Tt.API);var px={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G0=fx(gx),mx=[100,200,300,400,500,600,700,800,900],$E=fx(mx);function n0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return px[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),i=(function(o){return typeof G0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function _y(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var qE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Sy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ny(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ky(n){return n.trimLeft()}function HE(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function WE(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var hf,Cy,Ay,Iu,ff,jy,Ey,Py,r0=["times"];function Ly(n,e,t,r,i){var o=4,l=Ry;switch(i){case Tt.API.image_compression.FAST:o=1,l=Ty;break;case Tt.API.image_compression.MEDIUM:o=6,l=Oy;break;case Tt.API.image_compression.SLOW:o=9,l=Iy}n=(function(u,h,f,v){for(var b,y=u.length/h,C=new Uint8Array(u.length+y),S=[VE,Ty,Ry,Oy,Iy],j=0;j<y;j+=1){var k=j*h,O=u.subarray(k,k+h);if(v)C.set(v(O,f,b),k+j);else{for(var P=S.length,R=[],ee=0;ee<P;ee+=1)R[ee]=S[ee](O,f,b);var ne=KE(R.concat());C.set(R[ne],k+j)}b=O}return C})(n,e,Math.ceil(t*r/8),l);var c=z0(n,{level:o});return Tt.API.__addimage__.arrayBufferToBinaryString(c)}function VE(n){var e=Array.apply([],n);return e.unshift(0),e}function Ty(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var o=n[i-e]||0;r[i+1]=n[i]-o+256&255}return r}function Ry(n,e,t){var r=n.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var l=t&&t[o]||0;i[o+1]=n[o]-l+256&255}return i}function Oy(n,e,t){var r=n.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var l=n[o-e]||0,c=t&&t[o]||0;i[o+1]=n[o]+256-(l+c>>>1)&255}return i}function Iy(n,e,t){var r=n.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var l=GE(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);i[o+1]=n[o]-l+256&255}return i}function GE(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=i&&r<=o?n:i<=o?e:t}function KE(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function i0(n,e,t){var r=e*t,i=Math.floor(r/8),o=16-(r-8*i+t),l=(1<<t)-1;return vx(n,i)>>o&l}function Dy(n,e,t,r){var i=t*r,o=Math.floor(i/8),l=16-(i-8*o+r),c=(1<<r)-1,u=(e&c)<<l;(function(h,f,v){if(f+1<h.byteLength)h.setUint16(f,v,!1);else{var b=v>>8&255;h.setUint8(f,b)}})(n,o,vx(n,o)&~(c<<l)&65535|u)}function vx(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function YE(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,l=1<<1+(7&i);n[e++],n[e++];var c=null,u=null;o&&(c=e,u=l,e+=3*l);var h=!0,f=[],v=0,b=null,y=0,C=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,C=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];v=n[e++]|n[e++]<<8,b=n[e++],1&S||(b=null),y=S>>2&7,e++;break;case 254:for(;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var j=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,R=n[e++],ee=R>>6&1,ne=1<<1+(7&R),X=c,W=u,M=!1;R>>7&&(M=!0,X=e,W=ne,e+=3*ne);var K=e;for(e++;;){var L;if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}f.push({x:j,y:k,width:O,height:P,has_local_palette:M,palette_offset:X,palette_size:W,data_offset:K,data_length:e-K,transparent_index:b,interlaced:!!ee,delay:v,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return C},this.frameInfo=function(D){if(D<0||D>=f.length)throw new Error("Frame index out of range.");return f[D]},this.decodeAndBlitFrameBGRA=function(D,I){var q=this.frameInfo(D),ce=q.width*q.height,J=new Uint8Array(ce);Fy(n,q.data_offset,J,ce);var re=q.palette_offset,V=q.transparent_index;V===null&&(V=256);var ge=q.width,_e=t-ge,te=ge,T=4*(q.y*t+q.x),$=4*((q.y+q.height)*t+q.x),Y=T,oe=4*_e;q.interlaced===!0&&(oe+=4*t*7);for(var pe=8,le=0,me=J.length;le<me;++le){var ye=J[le];if(te===0&&(te=ge,(Y+=oe)>=$&&(oe=4*_e+4*t*(pe-1),Y=T+(ge+_e)*(pe<<1),pe>>=1)),ye===V)Y+=4;else{var Ce=n[re+3*ye],Re=n[re+3*ye+1],He=n[re+3*ye+2];I[Y++]=He,I[Y++]=Re,I[Y++]=Ce,I[Y++]=255}--te}},this.decodeAndBlitFrameRGBA=function(D,I){var q=this.frameInfo(D),ce=q.width*q.height,J=new Uint8Array(ce);Fy(n,q.data_offset,J,ce);var re=q.palette_offset,V=q.transparent_index;V===null&&(V=256);var ge=q.width,_e=t-ge,te=ge,T=4*(q.y*t+q.x),$=4*((q.y+q.height)*t+q.x),Y=T,oe=4*_e;q.interlaced===!0&&(oe+=4*t*7);for(var pe=8,le=0,me=J.length;le<me;++le){var ye=J[le];if(te===0&&(te=ge,(Y+=oe)>=$&&(oe=4*_e+4*t*(pe-1),Y=T+(ge+_e)*(pe<<1),pe>>=1)),ye===V)Y+=4;else{var Ce=n[re+3*ye],Re=n[re+3*ye+1],He=n[re+3*ye+2];I[Y++]=Ce,I[Y++]=Re,I[Y++]=He,I[Y++]=255}--te}}}function Fy(n,e,t,r){for(var i=n[e++],o=1<<i,l=o+1,c=l+1,u=i+1,h=(1<<u)-1,f=0,v=0,b=0,y=n[e++],C=new Int32Array(4096),S=null;;){for(;f<16&&y!==0;)v|=n[e++]<<f,f+=8,y===1?y=n[e++]:--y;if(f<u)break;var j=v&h;if(v>>=u,f-=u,j!==o){if(j===l)break;for(var k=j<c?j:S,O=0,P=k;P>o;)P=C[P]>>8,++O;var R=P;if(b+O+(k!==j?1:0)>r)return void Jn.log("Warning, gif stream longer than expected.");t[b++]=R;var ee=b+=O;for(k!==j&&(t[b++]=R),P=k;O--;)P=C[P],t[--ee]=255&P,P>>=8;S!==null&&c<4096&&(C[c++]=S<<8|R,c>=h+1&&u<12&&(++u,h=h<<1|1)),S=j}else c=l+1,h=(1<<(u=i+1))-1,S=null}return b!==r&&Jn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function s0(n){var e,t,r,i,o,l=Math.floor,c=new Array(64),u=new Array(64),h=new Array(64),f=new Array(64),v=new Array(65535),b=new Array(65535),y=new Array(64),C=new Array(64),S=[],j=0,k=7,O=new Array(64),P=new Array(64),R=new Array(64),ee=new Array(256),ne=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(T,$){for(var Y=0,oe=0,pe=new Array,le=1;le<=16;le++){for(var me=1;me<=T[le];me++)pe[$[oe]]=[],pe[$[oe]][0]=Y,pe[$[oe]][1]=le,oe++,Y++;Y*=2}return pe}function re(T){for(var $=T[0],Y=T[1]-1;Y>=0;)$&1<<Y&&(j|=1<<k),Y--,--k<0&&(j==255?(V(255),V(0)):V(j),k=7,j=0)}function V(T){S.push(T)}function ge(T){V(T>>8&255),V(255&T)}function _e(T,$,Y,oe,pe){for(var le,me=pe[0],ye=pe[240],Ce=(function(we,de){var Pe,Ge,Ze,zt,st,ht,Vt,Nt,rt,gt,ct=0;for(rt=0;rt<8;++rt){Pe=we[ct],Ge=we[ct+1],Ze=we[ct+2],zt=we[ct+3],st=we[ct+4],ht=we[ct+5],Vt=we[ct+6];var Zt=Pe+(Nt=we[ct+7]),on=Pe-Nt,mt=Ge+Vt,Ut=Ge-Vt,fn=Ze+ht,Lt=Ze-ht,$t=zt+st,Pt=zt-st,Nn=Zt+$t,gn=Zt-$t,tn=mt+fn,Ot=mt-fn;we[ct]=Nn+tn,we[ct+4]=Nn-tn;var nt=.707106781*(Ot+gn);we[ct+2]=gn+nt,we[ct+6]=gn-nt;var yn=.382683433*((Nn=Pt+Lt)-(Ot=Ut+on)),an=.5411961*Nn+yn,$n=1.306562965*Ot+yn,Gn=.707106781*(tn=Lt+Ut),it=on+Gn,kn=on-Gn;we[ct+5]=kn+an,we[ct+3]=kn-an,we[ct+1]=it+$n,we[ct+7]=it-$n,ct+=8}for(ct=0,rt=0;rt<8;++rt){Pe=we[ct],Ge=we[ct+8],Ze=we[ct+16],zt=we[ct+24],st=we[ct+32],ht=we[ct+40],Vt=we[ct+48];var Dr=Pe+(Nt=we[ct+56]),Cn=Pe-Nt,mn=Ge+Vt,un=Ge-Vt,dn=Ze+ht,On=Ze-ht,li=zt+st,js=zt-st,bi=Dr+li,ds=Dr-li,Ar=mn+dn,Pi=mn-dn;we[ct]=bi+Ar,we[ct+32]=bi-Ar;var xi=.707106781*(Pi+ds);we[ct+16]=ds+xi,we[ct+48]=ds-xi;var yo=.382683433*((bi=js+On)-(Pi=un+Cn)),Zi=.5411961*bi+yo,Ys=1.306562965*Pi+yo,wo=.707106781*(Ar=On+un),Js=Cn+wo,bo=Cn-wo;we[ct+40]=bo+Zi,we[ct+24]=bo-Zi,we[ct+8]=Js+Ys,we[ct+56]=Js-Ys,ct++}for(rt=0;rt<64;++rt)gt=we[rt]*de[rt],y[rt]=gt>0?gt+.5|0:gt-.5|0;return y})(T,$),Re=0;Re<64;++Re)C[X[Re]]=Ce[Re];var He=C[0]-Y;Y=C[0],He==0?re(oe[0]):(re(oe[b[le=32767+He]]),re(v[le]));for(var Ve=63;Ve>0&&C[Ve]==0;)Ve--;if(Ve==0)return re(me),Y;for(var Ie,ue=1;ue<=Ve;){for(var Rt=ue;C[ue]==0&&ue<=Ve;)++ue;var lt=ue-Rt;if(lt>=16){Ie=lt>>4;for(var ft=1;ft<=Ie;++ft)re(ye);lt&=15}le=32767+C[ue],re(pe[(lt<<4)+b[le]]),re(v[le]),ue++}return Ve!=63&&re(me),Y}function te(T){T=Math.min(Math.max(T,1),100),o!=T&&((function($){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var pe=l((Y[oe]*$+50)/100);pe=Math.min(Math.max(pe,1),255),c[X[oe]]=pe}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ye=l((le[me]*$+50)/100);ye=Math.min(Math.max(ye,1),255),u[X[me]]=ye}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,He=0;He<8;He++)for(var Ve=0;Ve<8;Ve++)h[Re]=1/(c[X[Re]]*Ce[He]*Ce[Ve]*8),f[Re]=1/(u[X[Re]]*Ce[He]*Ce[Ve]*8),Re++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,$){$&&te($),S=new Array,j=0,k=7,ge(65496),ge(65504),ge(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ge(1),ge(1),V(0),V(0),(function(){ge(65499),ge(132),V(0);for(var Ge=0;Ge<64;Ge++)V(c[Ge]);V(1);for(var Ze=0;Ze<64;Ze++)V(u[Ze])})(),(function(Ge,Ze){ge(65472),ge(17),V(8),ge(Ze),ge(Ge),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)})(T.width,T.height),(function(){ge(65476),ge(418),V(0);for(var Ge=0;Ge<16;Ge++)V(W[Ge+1]);for(var Ze=0;Ze<=11;Ze++)V(M[Ze]);V(16);for(var zt=0;zt<16;zt++)V(K[zt+1]);for(var st=0;st<=161;st++)V(L[st]);V(1);for(var ht=0;ht<16;ht++)V(D[ht+1]);for(var Vt=0;Vt<=11;Vt++)V(I[Vt]);V(17);for(var Nt=0;Nt<16;Nt++)V(q[Nt+1]);for(var rt=0;rt<=161;rt++)V(ce[rt])})(),ge(65498),ge(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Y=0,oe=0,pe=0;j=0,k=7,this.encode.displayName="_encode_";for(var le,me,ye,Ce,Re,He,Ve,Ie,ue,Rt=T.data,lt=T.width,ft=T.height,we=4*lt,de=0;de<ft;){for(le=0;le<we;){for(Re=we*de+le,Ve=-1,Ie=0,ue=0;ue<64;ue++)He=Re+(Ie=ue>>3)*we+(Ve=4*(7&ue)),de+Ie>=ft&&(He-=we*(de+1+Ie-ft)),le+Ve>=we&&(He-=le+Ve-we+4),me=Rt[He++],ye=Rt[He++],Ce=Rt[He++],O[ue]=(ne[me]+ne[ye+256|0]+ne[Ce+512|0]>>16)-128,P[ue]=(ne[me+768|0]+ne[ye+1024|0]+ne[Ce+1280|0]>>16)-128,R[ue]=(ne[me+1280|0]+ne[ye+1536|0]+ne[Ce+1792|0]>>16)-128;Y=_e(O,h,Y,e,r),oe=_e(P,f,oe,t,i),pe=_e(R,f,pe,t,i),le+=32}de+=8}if(k>=0){var Pe=[];Pe[1]=k+1,Pe[0]=(1<<k+1)-1,re(Pe)}return ge(65497),new Uint8Array(S)},n=n||50,(function(){for(var T=String.fromCharCode,$=0;$<256;$++)ee[$]=T($)})(),e=J(W,M),t=J(D,I),r=J(K,L),i=J(q,ce),(function(){for(var T=1,$=2,Y=1;Y<=15;Y++){for(var oe=T;oe<$;oe++)b[32767+oe]=Y,v[32767+oe]=[],v[32767+oe][1]=Y,v[32767+oe][0]=oe;for(var pe=-($-1);pe<=-T;pe++)b[32767+pe]=Y,v[32767+pe]=[],v[32767+pe][1]=Y,v[32767+pe][0]=$-1+pe;T<<=1,$<<=1}})(),(function(){for(var T=0;T<256;T++)ne[T]=19595*T,ne[T+256|0]=38470*T,ne[T+512|0]=7471*T+32768,ne[T+768|0]=-11059*T,ne[T+1024|0]=-21709*T,ne[T+1280|0]=32768*T+8421375,ne[T+1536|0]=-27439*T,ne[T+1792|0]=-5329*T})(),te(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Uo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function My(n){function e(M){if(!M)throw Error("assert :P")}function t(M,K,L){for(var D=0;4>D;D++)if(M[K+D]!=L.charCodeAt(D))return!0;return!1}function r(M,K,L,D,I){for(var q=0;q<I;q++)M[K+q]=L[D+q]}function i(M,K,L,D){for(var I=0;I<D;I++)M[K+I]=L}function o(M){return new Int32Array(M)}function l(M,K){for(var L=[],D=0;D<M;D++)L.push(new K);return L}function c(M,K){var L=[];return(function D(I,q,ce){for(var J=ce[q],re=0;re<J&&(I.push(ce.length>q+1?[]:new K),!(ce.length<q+1));re++)D(I[re],q+1,ce)})(L,0,M),L}var u=function(){var M=this;function K(g,w){for(var N=1<<w-1>>>0;g&N;)N>>>=1;return N?(g&N-1)+N:g}function L(g,w,N,E,F){e(!(E%N));do g[w+(E-=N)]=F;while(0<E)}function D(g,w,N,E,F){if(e(2328>=F),512>=F)var H=o(512);else if((H=o(F))==null)return 0;return(function(G,Q,Z,ie,be,Ee){var se,Ne,je=Q,Be=1<<Z,Te=o(16),Fe=o(16);for(e(be!=0),e(ie!=null),e(G!=null),e(0<Z),Ne=0;Ne<be;++Ne){if(15<ie[Ne])return 0;++Te[ie[Ne]]}if(Te[0]==be)return 0;for(Fe[1]=0,se=1;15>se;++se){if(Te[se]>1<<se)return 0;Fe[se+1]=Fe[se]+Te[se]}for(Ne=0;Ne<be;++Ne)se=ie[Ne],0<ie[Ne]&&(Ee[Fe[se]++]=Ne);if(Fe[15]==1)return(ie=new I).g=0,ie.value=Ee[0],L(G,je,1,Be,ie),Be;var Me,$e=-1,qe=Be-1,At=0,ut=1,Yt=1,yt=1<<Z;for(Ne=0,se=1,be=2;se<=Z;++se,be<<=1){if(ut+=Yt<<=1,0>(Yt-=Te[se]))return 0;for(;0<Te[se];--Te[se])(ie=new I).g=se,ie.value=Ee[Ne++],L(G,je+At,be,yt,ie),At=K(At,se)}for(se=Z+1,be=2;15>=se;++se,be<<=1){if(ut+=Yt<<=1,0>(Yt-=Te[se]))return 0;for(;0<Te[se];--Te[se]){if(ie=new I,(At&qe)!=$e){for(je+=yt,Me=1<<($e=se)-Z;15>$e&&!(0>=(Me-=Te[$e]));)++$e,Me<<=1;Be+=yt=1<<(Me=$e-Z),G[Q+($e=At&qe)].g=Me+Z,G[Q+$e].value=je-Q-$e}ie.g=se-Z,ie.value=Ee[Ne++],L(G,je+(At>>Z),be,yt,ie),At=K(At,se)}}return ut!=2*Fe[15]-1?0:Be})(g,w,N,E,F,H)}function I(){this.value=this.g=0}function q(){this.value=this.g=0}function ce(){this.G=l(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(vs,q)}function J(g,w,N,E){e(g!=null),e(w!=null),e(2147483648>E),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=N,g.Jd=w,g.Yc=N+E,g.Zc=4<=E?N+E-4+1:N,me(g)}function re(g,w){for(var N=0;0<w--;)N|=Ce(g,128)<<w;return N}function V(g,w){var N=re(g,w);return ye(g)?-N:N}function ge(g,w,N,E){var F,H=0;for(e(g!=null),e(w!=null),e(4294967288>E),g.Sb=E,g.Ra=0,g.u=0,g.h=0,4<E&&(E=4),F=0;F<E;++F)H+=w[N+F]<<8*F;g.Ra=H,g.bb=E,g.oa=w,g.pa=N}function _e(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<aa-8>>>0,++g.bb,g.u-=8;oe(g)&&(g.h=1,g.u=0)}function te(g,w){if(e(0<=w),!g.h&&w<=ss){var N=Y(g)&is[w];return g.u+=w,_e(g),N}return g.h=1,g.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&aa-1)>>>0}function oe(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>aa}function pe(g,w){g.u=w,g.h=oe(g)}function le(g){g.u>=no&&(e(g.u>=no),_e(g))}function me(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ye(g){return re(g,1)}function Ce(g,w){var N=g.Ca;0>g.b&&me(g);var E=g.b,F=N*w>>>8,H=(g.I>>>E>F)+0;for(H?(N-=F,g.I-=F+1<<E>>>0):N=F+1,E=N,F=0;256<=E;)F+=8,E>>=8;return E=7^F+jo[E],g.b-=E,g.Ca=(N<<E)-1,H}function Re(g,w,N){g[w+0]=N>>24&255,g[w+1]=N>>16&255,g[w+2]=N>>8&255,g[w+3]=255&N}function He(g,w){return g[w+0]|g[w+1]<<8}function Ve(g,w){return He(g,w)|g[w+2]<<16}function Ie(g,w){return He(g,w)|He(g,w+2)<<16}function ue(g,w){var N=1<<w;return e(g!=null),e(0<w),g.X=o(N),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Rt(g,w){e(g!=null),e(w!=null),e(g.Xa==w.Xa),r(w.X,0,g.X,0,1<<w.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function ft(g,w,N,E){e(N!=null),e(E!=null);var F=N[0],H=E[0];return F==0&&(F=(g*H+w/2)/w),H==0&&(H=(w*F+g/2)/g),0>=F||0>=H?0:(N[0]=F,E[0]=H,1)}function we(g,w){return g+(1<<w)-1>>>w}function de(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function Pe(g,w){M[w]=function(N,E,F,H,G,Q,Z){var ie;for(ie=0;ie<G;++ie){var be=M[g](Q[Z+ie-1],F,H+ie);Q[Z+ie]=de(N[E+ie],be)}}}function Ge(){this.ud=this.hd=this.jd=0}function Ze(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function zt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function st(g,w){return zt(g+(g-w+.5>>1))}function ht(g,w,N){return Math.abs(w-N)-Math.abs(g-N)}function Vt(g,w,N,E,F,H,G){for(E=H[G-1],N=0;N<F;++N)H[G+N]=E=de(g[w+N],E)}function Nt(g,w,N,E,F){var H;for(H=0;H<N;++H){var G=g[w+H],Q=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((Q<<16)+Q));E[F+H]=(4278255360&G)+Z>>>0}}function rt(g,w){w.jd=255&g,w.hd=g>>8&255,w.ud=g>>16&255}function gt(g,w,N,E,F,H){var G;for(G=0;G<E;++G){var Q=w[N+G],Z=Q>>>8,ie=Q,be=255&(be=(be=Q>>>16)+((g.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie+=(g.hd<<24>>24)*(Z<<24>>24)>>>5)+((g.ud<<24>>24)*(be<<24>>24)>>>5)),F[H+G]=(4278255360&Q)+(be<<16)+ie}}function ct(g,w,N,E,F){M[w]=function(H,G,Q,Z,ie,be,Ee,se,Ne){for(Z=Ee;Z<se;++Z)for(Ee=0;Ee<Ne;++Ee)ie[be++]=F(Q[E(H[G++])])},M[g]=function(H,G,Q,Z,ie,be,Ee){var se=8>>H.b,Ne=H.Ea,je=H.K[0],Be=H.w;if(8>se)for(H=(1<<H.b)-1,Be=(1<<se)-1;G<Q;++G){var Te,Fe=0;for(Te=0;Te<Ne;++Te)Te&H||(Fe=E(Z[ie++])),be[Ee++]=F(je[Fe&Be]),Fe>>=se}else M["VP8LMapColor"+N](Z,ie,je,Be,be,Ee,G,Q,Ne)}}function Zt(g,w,N,E,F){for(N=w+N;w<N;){var H=g[w++];E[F++]=H>>16&255,E[F++]=H>>8&255,E[F++]=255&H}}function on(g,w,N,E,F){for(N=w+N;w<N;){var H=g[w++];E[F++]=H>>16&255,E[F++]=H>>8&255,E[F++]=255&H,E[F++]=H>>24&255}}function mt(g,w,N,E,F){for(N=w+N;w<N;){var H=(G=g[w++])>>16&240|G>>12&15,G=240&G|G>>28&15;E[F++]=H,E[F++]=G}}function Ut(g,w,N,E,F){for(N=w+N;w<N;){var H=(G=g[w++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;E[F++]=H,E[F++]=G}}function fn(g,w,N,E,F){for(N=w+N;w<N;){var H=g[w++];E[F++]=255&H,E[F++]=H>>8&255,E[F++]=H>>16&255}}function Lt(g,w,N,E,F,H){if(H==0)for(N=w+N;w<N;)Re(E,((H=g[w++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),F+=32;else r(E,F,g,w,N)}function $t(g,w){M[w][0]=M[g+"0"],M[w][1]=M[g+"1"],M[w][2]=M[g+"2"],M[w][3]=M[g+"3"],M[w][4]=M[g+"4"],M[w][5]=M[g+"5"],M[w][6]=M[g+"6"],M[w][7]=M[g+"7"],M[w][8]=M[g+"8"],M[w][9]=M[g+"9"],M[w][10]=M[g+"10"],M[w][11]=M[g+"11"],M[w][12]=M[g+"12"],M[w][13]=M[g+"13"],M[w][14]=M[g+"0"],M[w][15]=M[g+"0"]}function Pt(g){return g==_l||g==Wa||g==hc||g==fc}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new gn,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yn(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function an(g,w){var N=g.T,E=w.ba.f.RGBA,F=E.eb,H=E.fb+g.ka*E.A,G=Mi[w.ba.S],Q=g.y,Z=g.O,ie=g.f,be=g.N,Ee=g.ea,se=g.W,Ne=w.cc,je=w.dc,Be=w.Mc,Te=w.Nc,Fe=g.ka,Me=g.ka+g.T,$e=g.U,qe=$e+1>>1;for(Fe==0?G(Q,Z,null,null,ie,be,Ee,se,ie,be,Ee,se,F,H,null,null,$e):(G(w.ec,w.fc,Q,Z,Ne,je,Be,Te,ie,be,Ee,se,F,H-E.A,F,H,$e),++N);Fe+2<Me;Fe+=2)Ne=ie,je=be,Be=Ee,Te=se,be+=g.Rc,se+=g.Rc,H+=2*E.A,G(Q,(Z+=2*g.fa)-g.fa,Q,Z,Ne,je,Be,Te,ie,be,Ee,se,F,H-E.A,F,H,$e);return Z+=g.fa,g.j+Me<g.o?(r(w.ec,w.fc,Q,Z,$e),r(w.cc,w.dc,ie,be,qe),r(w.Mc,w.Nc,Ee,se,qe),N--):1&Me||G(Q,Z,null,null,ie,be,Ee,se,ie,be,Ee,se,F,H+E.A,null,null,$e),N}function $n(g,w,N){var E=g.F,F=[g.J];if(E!=null){var H=g.U,G=w.ba.S,Q=G==dc||G==hc;w=w.ba.f.RGBA;var Z=[0],ie=g.ka;Z[0]=g.T,g.Kb&&(ie==0?--Z[0]:(--ie,F[0]-=g.width),g.j+g.ka+g.T==g.o&&(Z[0]=g.o-g.j-ie));var be=w.eb;ie=w.fb+ie*w.A,g=cc(E,F[0],g.width,H,Z,be,ie+(Q?0:3),w.A),e(N==Z),g&&Pt(G)&&Ha(be,ie,Q,H,Z,w.A)}return 0}function Gn(g){var w=g.ma,N=w.ba.S,E=11>N,F=N==da||N==uc||N==dc||N==Dn||N==12||Pt(N);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!gl(w.Oa,g,F?11:12))return 0;if(F&&Pt(N)&&Kc(),g.da)alert("todo:use_scaling");else{if(E){if(w.Ib=yn,g.Kb){if(N=g.U+1>>1,w.memory=o(g.U+2*N),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+N,w.Ib=an,Kc()}}else alert("todo:EmitYUV");F&&(w.Jb=$n,E&&ms())}if(E&&!ri){for(g=0;256>g;++g)Bi[g]=89858*(g-128)+Ds>>To,zi[g]=-22014*(g-128)+Ds,Cl[g]=-45773*(g-128),Ya[g]=113618*(g-128)+Ds>>To;for(g=En;g<Tn;++g)w=76283*(g-16)+Ds>>To,nu[g-En]=ur(w,255),ph[g-En]=ur(w+8>>4,15);ri=1}return 1}function it(g){var w=g.ma,N=g.U,E=g.T;return e(!(1&g.ka)),0>=N||0>=E?0:(N=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,N),w.Dc+=N,1)}function kn(g){g.ma.memory=null}function Dr(g,w,N,E){return te(g,8)!=47?0:(w[0]=te(g,14)+1,N[0]=te(g,14)+1,E[0]=te(g,1),te(g,3)!=0?0:!g.h)}function Cn(g,w){if(4>g)return g+1;var N=g-2>>1;return(2+(1&g)<<N)+te(w,N)+1}function mn(g,w){return 120<w?w-120:1<=(N=((N=op[w-1])>>4)*g+(8-(15&N)))?N:1;var N}function un(g,w,N){var E=Y(N),F=g[w+=255&E].g-8;return 0<F&&(pe(N,N.u+8),E=Y(N),w+=g[w].value,w+=E&(1<<F)-1),pe(N,N.u+g[w].g),g[w].value}function dn(g,w,N){return N.g+=g.g,N.value+=g.value<<w>>>0,e(8>=N.g),g.g}function On(g,w,N){var E=g.xc;return e((w=E==0?0:g.vc[g.md*(N>>E)+(w>>E)])<g.Wb),g.Ya[w]}function li(g,w,N,E){var F=g.ab,H=g.c*w,G=g.C;w=G+w;var Q=N,Z=E;for(E=g.Ta,N=g.Ua;0<F--;){var ie=g.gc[F],be=G,Ee=w,se=Q,Ne=Z,je=(Z=E,Q=N,ie.Ea);switch(e(be<Ee),e(Ee<=ie.nc),ie.hc){case 2:xr(se,Ne,(Ee-be)*je,Z,Q);break;case 0:var Be=be,Te=Ee,Fe=Z,Me=Q,$e=(yt=ie).Ea;Be==0&&(Eo(se,Ne,null,null,1,Fe,Me),Vt(se,Ne+1,0,0,$e-1,Fe,Me+1),Ne+=$e,Me+=$e,++Be);for(var qe=1<<yt.b,At=qe-1,ut=we($e,yt.b),Yt=yt.K,yt=yt.w+(Be>>yt.b)*ut;Be<Te;){var ln=Yt,fr=yt,Jt=1;for(ro(se,Ne,Fe,Me-$e,1,Fe,Me);Jt<$e;){var dt=(Jt&~At)+qe;dt>$e&&(dt=$e),(0,za[ln[fr++]>>8&15])(se,Ne+ +Jt,Fe,Me+Jt-$e,dt-Jt,Fe,Me+Jt),Jt=dt}Ne+=$e,Me+=$e,++Be&At||(yt+=ut)}Ee!=ie.nc&&r(Z,Q-je,Z,Q+(Ee-be-1)*je,je);break;case 1:for(je=se,Te=Ne,$e=(se=ie.Ea)-(Me=se&~(Fe=(Ne=1<<ie.b)-1)),Be=we(se,ie.b),qe=ie.K,ie=ie.w+(be>>ie.b)*Be;be<Ee;){for(At=qe,ut=ie,Yt=new Ge,yt=Te+Me,ln=Te+se;Te<yt;)rt(At[ut++],Yt),vl(Yt,je,Te,Ne,Z,Q),Te+=Ne,Q+=Ne;Te<ln&&(rt(At[ut++],Yt),vl(Yt,je,Te,$e,Z,Q),Te+=$e,Q+=$e),++be&Fe||(ie+=Be)}break;case 3:if(se==Z&&Ne==Q&&0<ie.b){for(Te=Z,se=je=Q+(Ee-be)*je-(Me=(Ee-be)*we(ie.Ea,ie.b)),Ne=Z,Fe=Q,Be=[],Me=($e=Me)-1;0<=Me;--Me)Be[Me]=Ne[Fe+Me];for(Me=$e-1;0<=Me;--Me)Te[se+Me]=Be[Me];Ma(ie,be,Ee,Z,je,Z,Q)}else Ma(ie,be,Ee,se,Ne,Z,Q)}Q=E,Z=N}Z!=N&&r(E,N,Q,Z,H)}function js(g,w){var N=g.V,E=g.Ba+g.c*g.C,F=w-g.C;if(e(w<=g.l.o),e(16>=F),0<F){var H=g.l,G=g.Ta,Q=g.Ua,Z=H.width;if(li(g,F,N,E),F=Q=[Q],e((N=g.C)<(E=w)),e(H.v<H.va),E>H.o&&(E=H.o),N<H.j){var ie=H.j-N;N=H.j,F[0]+=ie*Z}if(N>=E?N=0:(F[0]+=4*H.v,H.ka=N-H.j,H.U=H.va-H.v,H.T=E-N,N=1),N){if(Q=Q[0],11>(N=g.ca).S){var be=N.f.RGBA,Ee=(E=N.S,F=H.U,H=H.T,ie=be.eb,be.A),se=H;for(be=be.fb+g.Ma*be.A;0<se--;){var Ne=G,je=Q,Be=F,Te=ie,Fe=be;switch(E){case Xc:yl(Ne,je,Be,Te,Fe);break;case da:Po(Ne,je,Be,Te,Fe);break;case _l:Po(Ne,je,Be,Te,Fe),Ha(Te,Fe,0,Be,1,0);break;case ch:Ua(Ne,je,Be,Te,Fe);break;case uc:Lt(Ne,je,Be,Te,Fe,1);break;case Wa:Lt(Ne,je,Be,Te,Fe,1),Ha(Te,Fe,0,Be,1,0);break;case dc:Lt(Ne,je,Be,Te,Fe,0);break;case hc:Lt(Ne,je,Be,Te,Fe,0),Ha(Te,Fe,1,Be,1,0);break;case Dn:la(Ne,je,Be,Te,Fe);break;case fc:la(Ne,je,Be,Te,Fe),hd(Te,Fe,Be,1,0);break;case Zc:ca(Ne,je,Be,Te,Fe);break;default:e(0)}Q+=Z,be+=Ee}g.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=N.height)}}g.C=w,e(g.C<=g.i)}function bi(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var N=g.Ya[w].G,E=g.Ya[w].H;if(0<N[1][E[1]+0].g||0<N[2][E[2]+0].g||0<N[3][E[3]+0].g)return 0}return 1}function ds(g,w,N,E,F,H){if(g.Z!=0){var G=g.qd,Q=g.rd;for(e(di[g.Z]!=null);w<N;++w)di[g.Z](G,Q,E,F,E,F,H),G=E,Q=F,F+=H;g.qd=G,g.rd=Q}}function Ar(g,w){var N=g.l.ma,E=N.Z==0||N.Z==1?g.l.j:g.C;if(E=g.C<E?E:g.C,e(w<=g.l.o),w>E){var F=g.l.width,H=N.ca,G=N.tb+F*E,Q=g.V,Z=g.Ba+g.c*E,ie=g.gc;e(g.ab==1),e(ie[0].hc==3),Os(ie[0],E,w,Q,Z,H,G),ds(N,E,w,H,G,F)}g.C=g.Ma=w}function Pi(g,w,N,E,F,H,G){var Q=g.$/E,Z=g.$%E,ie=g.m,be=g.s,Ee=N+g.$,se=Ee;F=N+E*F;var Ne=N+E*H,je=280+be.ua,Be=g.Pb?Q:16777216,Te=0<be.ua?be.Wa:null,Fe=be.wc,Me=Ee<Ne?On(be,Z,Q):null;e(g.C<H),e(Ne<=F);var $e=!1;e:for(;;){for(;$e||Ee<Ne;){var qe=0;if(Q>=Be){var At=Ee-N;e((Be=g).Pb),Be.wd=Be.m,Be.xd=At,0<Be.s.ua&&Rt(Be.s.Wa,Be.s.vb),Be=Q+tu}if(Z&Fe||(Me=On(be,Z,Q)),e(Me!=null),Me.Qb&&(w[Ee]=Me.qb,$e=!0),!$e)if(le(ie),Me.jc){qe=ie,At=w;var ut=Ee,Yt=Me.pd[Y(qe)&vs-1];e(Me.jc),256>Yt.g?(pe(qe,qe.u+Yt.g),At[ut]=Yt.value,qe=0):(pe(qe,qe.u+Yt.g-256),e(256<=Yt.value),qe=Yt.value),qe==0&&($e=!0)}else qe=un(Me.G[0],Me.H[0],ie);if(ie.h)break;if($e||256>qe){if(!$e)if(Me.nd)w[Ee]=(Me.qb|qe<<8)>>>0;else{if(le(ie),$e=un(Me.G[1],Me.H[1],ie),le(ie),At=un(Me.G[2],Me.H[2],ie),ut=un(Me.G[3],Me.H[3],ie),ie.h)break;w[Ee]=(ut<<24|$e<<16|qe<<8|At)>>>0}if($e=!1,++Ee,++Z>=E&&(Z=0,++Q,G!=null&&Q<=H&&!(Q%16)&&G(g,Q),Te!=null))for(;se<Ee;)qe=w[se++],Te.X[(506832829*qe&4294967295)>>>Te.Mb]=qe}else if(280>qe){if(qe=Cn(qe-256,ie),At=un(Me.G[4],Me.H[4],ie),le(ie),At=mn(E,At=Cn(At,ie)),ie.h)break;if(Ee-N<At||F-Ee<qe)break e;for(ut=0;ut<qe;++ut)w[Ee+ut]=w[Ee+ut-At];for(Ee+=qe,Z+=qe;Z>=E;)Z-=E,++Q,G!=null&&Q<=H&&!(Q%16)&&G(g,Q);if(e(Ee<=F),Z&Fe&&(Me=On(be,Z,Q)),Te!=null)for(;se<Ee;)qe=w[se++],Te.X[(506832829*qe&4294967295)>>>Te.Mb]=qe}else{if(!(qe<je))break e;for($e=qe-280,e(Te!=null);se<Ee;)qe=w[se++],Te.X[(506832829*qe&4294967295)>>>Te.Mb]=qe;qe=Ee,e(!($e>>>(At=Te).Xa)),w[qe]=At.X[$e],$e=!0}$e||e(ie.h==oe(ie))}if(g.Pb&&ie.h&&Ee<F)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Rt(g.s.vb,g.s.Wa);else{if(ie.h)break e;G?.(g,Q>H?H:Q),g.a=0,g.$=Ee-N}return 1}return g.a=3,0}function xi(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,e(g!=null)}function yo(){var g=new Ct;return g==null?null:(g.a=0,g.xb=Nl,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),xr=Nt,vl=gt,yl=Zt,Po=on,la=mt,ca=Ut,Ua=fn,M.VP8LMapColor32b=io,M.VP8LMapColor8b=Ba,g)}function Zi(g,w,N,E,F){var H=1,G=[g],Q=[w],Z=E.m,ie=E.s,be=null,Ee=0;e:for(;;){if(N)for(;H&&te(Z,1);){var se=G,Ne=Q,je=E,Be=1,Te=je.m,Fe=je.gc[je.ab],Me=te(Te,2);if(je.Oc&1<<Me)H=0;else{switch(je.Oc|=1<<Me,Fe.hc=Me,Fe.Ea=se[0],Fe.nc=Ne[0],Fe.K=[null],++je.ab,e(4>=je.ab),Me){case 0:case 1:Fe.b=te(Te,3)+2,Be=Zi(we(Fe.Ea,Fe.b),we(Fe.nc,Fe.b),0,je,Fe.K),Fe.K=Fe.K[0];break;case 3:var $e,qe=te(Te,8)+1,At=16<qe?0:4<qe?1:2<qe?2:3;if(se[0]=we(Fe.Ea,At),Fe.b=At,$e=Be=Zi(qe,1,0,je,Fe.K)){var ut,Yt=qe,yt=Fe,ln=1<<(8>>yt.b),fr=o(ln);if(fr==null)$e=0;else{var Jt=yt.K[0],dt=yt.w;for(fr[0]=yt.K[0][0],ut=1;ut<1*Yt;++ut)fr[ut]=de(Jt[dt+ut],fr[ut-1]);for(;ut<4*ln;++ut)fr[ut]=0;yt.K[0]=null,yt.K[0]=fr,$e=1}}Be=$e;break;case 2:break;default:e(0)}H=Be}}if(G=G[0],Q=Q[0],H&&te(Z,1)&&!(H=1<=(Ee=te(Z,4))&&11>=Ee)){E.a=3;break e}var tt;if(tt=H)t:{var _r,qt,rn,Wn=E,Wr=G,Lr=Q,ar=Ee,Br=N,Vr=Wn.m,Xn=Wn.s,hn=[null],xn=1,Zn=0,_n=dh[ar];n:for(;;){if(Br&&te(Vr,1)){var pr=te(Vr,3)+2,gr=we(Wr,pr),Fn=we(Lr,pr),hi=gr*Fn;if(!Zi(gr,Fn,0,Wn,hn))break n;for(hn=hn[0],Xn.xc=pr,_r=0;_r<hi;++_r){var Rn=hn[_r]>>8&65535;hn[_r]=Rn,Rn>=xn&&(xn=Rn+1)}}if(Vr.h)break n;for(qt=0;5>qt;++qt){var Mn=Va[qt];!qt&&0<ar&&(Mn+=1<<ar),Zn<Mn&&(Zn=Mn)}var Tr=l(xn*_n,I),ii=xn,Ui=l(ii,ce);if(Ui==null)var Sr=null;else e(65536>=ii),Sr=Ui;var Nr=o(Zn);if(Sr==null||Nr==null||Tr==null){Wn.a=1;break n}var fi=Tr;for(_r=rn=0;_r<xn;++_r){var Bn=Sr[_r],pi=Bn.G,bs=Bn.H,Fs=0,Gr=1,kr=0;for(qt=0;5>qt;++qt){Mn=Va[qt],pi[qt]=fi,bs[qt]=rn,!qt&&0<ar&&(Mn+=1<<ar);i:{var pa,Oo=Mn,Al=Wn,ao=Nr,mh=fi,Nd=rn,Yn=0,Ms=Al.m,kd=te(Ms,1);if(i(ao,0,0,Oo),kd){var Cd=te(Ms,1)+1,ru=te(Ms,1),iu=te(Ms,ru==0?1:8);ao[iu]=1,Cd==2&&(ao[iu=te(Ms,8)]=1);var lo=1}else{var er=o(19),Rr=te(Ms,4)+4;if(19<Rr){Al.a=3;var Cr=0;break i}for(pa=0;pa<Rr;++pa)er[sp[pa]]=te(Ms,3);var jl=void 0,Io=void 0,El=Al,dp=er,zr=Oo,su=ao,yc=0,co=El.m,Bs=8,os=l(128,I);r:for(;D(os,0,7,dp,19);){if(te(co,1)){var wc=2+2*te(co,3);if((jl=2+te(co,wc))>zr)break r}else jl=zr;for(Io=0;Io<zr&&jl--;){le(co);var ou=os[0+(127&Y(co))];pe(co,co.u+ou.g);var ga=ou.value;if(16>ga)su[Io++]=ga,ga!=0&&(Bs=ga);else{var vh=ga==16,Ad=ga-16,yh=eu[Ad],jd=te(co,pc[Ad])+yh;if(Io+jd>zr)break r;for(var wh=vh?Bs:0;0<jd--;)su[Io++]=wh}}yc=1;break r}yc||(El.a=3),lo=yc}(lo=lo&&!Ms.h)&&(Yn=D(mh,Nd,8,ao,Oo)),lo&&Yn!=0?Cr=Yn:(Al.a=3,Cr=0)}if(Cr==0)break n;if(Gr&&uh[qt]==1&&(Gr=fi[rn].g==0),Fs+=fi[rn].g,rn+=Cr,3>=qt){var Pl,au=Nr[0];for(Pl=1;Pl<Mn;++Pl)Nr[Pl]>au&&(au=Nr[Pl]);kr+=au}}if(Bn.nd=Gr,Bn.Qb=0,Gr&&(Bn.qb=(pi[3][bs[3]+0].value<<24|pi[1][bs[1]+0].value<<16|pi[2][bs[2]+0].value)>>>0,Fs==0&&256>pi[0][bs[0]+0].value&&(Bn.Qb=1,Bn.qb+=pi[0][bs[0]+0].value<<8)),Bn.jc=!Bn.Qb&&6>kr,Bn.jc){var bc,as=Bn;for(bc=0;bc<vs;++bc){var Do=bc,zs=as.pd[Do],Qa=as.G[0][as.H[0]+Do];256<=Qa.value?(zs.g=Qa.g+256,zs.value=Qa.value):(zs.g=0,zs.value=0,Do>>=dn(Qa,8,zs),Do>>=dn(as.G[1][as.H[1]+Do],16,zs),Do>>=dn(as.G[2][as.H[2]+Do],0,zs),dn(as.G[3][as.H[3]+Do],24,zs))}}}Xn.vc=hn,Xn.Wb=xn,Xn.Ya=Sr,Xn.yc=Tr,tt=1;break t}tt=0}if(!(H=tt)){E.a=3;break e}if(0<Ee){if(ie.ua=1<<Ee,!ue(ie.Wa,Ee)){E.a=1,H=0;break e}}else ie.ua=0;var lu=E,cu=G,bh=Q,uu=lu.s,du=uu.xc;if(lu.c=cu,lu.i=bh,uu.md=we(cu,du),uu.wc=du==0?-1:(1<<du)-1,N){E.xb=oo;break e}if((be=o(G*Q))==null){E.a=1,H=0;break e}H=(H=Pi(E,be,0,G,Q,Q,null))&&!Z.h;break e}return H?(F!=null?F[0]=be:(e(be==null),e(N)),E.$=0,N||xi(ie)):xi(ie),H}function Ys(g,w){var N=g.c*g.i,E=N+w+16*w;return e(g.c<=w),g.V=o(E),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+N+w,1)}function wo(g,w){var N=g.C,E=w-N,F=g.V,H=g.Ba+g.c*N;for(e(w<=g.l.o);0<E;){var G=16<E?16:E,Q=g.l.ma,Z=g.l.width,ie=Z*G,be=Q.ca,Ee=Q.tb+Z*N,se=g.Ta,Ne=g.Ua;li(g,G,F,H),fd(se,Ne,be,Ee,ie),ds(Q,N,N+G,be,Ee,Z),E-=G,F+=G*g.c,N+=G}e(N==w),g.C=g.Ma=w}function Js(){this.ub=this.yd=this.td=this.Rb=0}function bo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ul(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Pn(){this.Yb=(function(){var g=[];return(function w(N,E,F){for(var H=F[E],G=0;G<H&&(N.push(F.length>E+1?[]:0),!(F.length<E+1));G++)w(N[G],E+1,F)})(g,0,[3,11]),g})()}function he(){this.jb=o(3),this.Wc=c([4,8],Pn),this.Xc=c([4,17],Pn)}function ze(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Se(){this.ld=this.La=this.dd=this.tc=0}function ot(){this.Na=this.la=0}function nn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qn(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Se),this.Y=0,this.ya=Array(new qn),this.aa=0,this.l=new rr}function Qn(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Es(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Js,this.Kc=new bo,this.ed=new ze,this.Qa=new ul,this.Ic=this.$c=this.Aa=0,this.D=new wr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,T),this.ia=0,this.pb=l(4,nn),this.Pa=new he,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qn),this.Hd=0,this.rb=Array(new ot),this.sb=0,this.wa=Array(new Se),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qn),this.L=this.aa=0,this.gd=c([4,2],Se),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function rc(){var g=new Es;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Ga||(Ga=Qr)),g}function ir(g,w,N){return g.a==0&&(g.a=w,g.sc=N,g.cb=0),0}function es(g,w,N){return 3<=N&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function xo(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return ir(g,2,"null VP8Io passed to VP8GetHeaders()");var N=w.data,E=w.w,F=w.ha;if(4>F)return ir(g,7,"Truncated header.");var H=N[E+0]|N[E+1]<<8|N[E+2]<<16,G=g.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return ir(g,3,"Incorrect keyframe parameters.");if(!G.yd)return ir(g,4,"Frame not displayable.");E+=3,F-=3;var Q=g.Kc;if(G.Rb){if(7>F)return ir(g,7,"cannot parse picture header");if(!es(N,E,F))return ir(g,3,"Bad code word");Q.c=16383&(N[E+4]<<8|N[E+3]),Q.Td=N[E+4]>>6,Q.i=16383&(N[E+6]<<8|N[E+5]),Q.Ud=N[E+6]>>6,E+=7,F-=7,g.za=Q.c+15>>4,g.Ub=Q.i+15>>4,w.width=Q.c,w.height=Q.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((H=g.Pa).jb,0,255,H.jb.length),e((H=g.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(G.ub>F)return ir(g,7,"bad partition length");J(H=g.m,N,E,G.ub),E+=G.ub,F-=G.ub,G.Rb&&(Q.Ld=ye(H),Q.Kd=ye(H)),Q=g.Qa;var Z,ie=g.Pa;if(e(H!=null),e(Q!=null),Q.Cb=ye(H),Q.Cb){if(Q.Bb=ye(H),ye(H)){for(Q.Fb=ye(H),Z=0;4>Z;++Z)Q.Zb[Z]=ye(H)?V(H,7):0;for(Z=0;4>Z;++Z)Q.Lb[Z]=ye(H)?V(H,6):0}if(Q.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=ye(H)?re(H,8):255}else Q.Bb=0;if(H.Ka)return ir(g,3,"cannot parse segment header");if((Q=g.ed).zd=ye(H),Q.Tb=re(H,6),Q.wb=re(H,3),Q.Pc=ye(H),Q.Pc&&ye(H)){for(ie=0;4>ie;++ie)ye(H)&&(Q.vd[ie]=V(H,6));for(ie=0;4>ie;++ie)ye(H)&&(Q.od[ie]=V(H,6))}if(g.L=Q.Tb==0?0:Q.zd?1:2,H.Ka)return ir(g,3,"cannot parse filter header");var be=F;if(F=Z=E,E=Z+be,Q=be,g.Xb=(1<<re(g.m,2))-1,be<3*(ie=g.Xb))N=7;else{for(Z+=3*ie,Q-=3*ie,be=0;be<ie;++be){var Ee=N[F+0]|N[F+1]<<8|N[F+2]<<16;Ee>Q&&(Ee=Q),J(g.Jc[+be],N,Z,Ee),Z+=Ee,Q-=Ee,F+=3}J(g.Jc[+ie],N,Z,Q),N=Z<E?0:5}if(N!=0)return ir(g,N,"cannot parse partitions");for(N=re(Z=g.m,7),F=ye(Z)?V(Z,4):0,E=ye(Z)?V(Z,4):0,Q=ye(Z)?V(Z,4):0,ie=ye(Z)?V(Z,4):0,Z=ye(Z)?V(Z,4):0,be=g.Qa,Ee=0;4>Ee;++Ee){if(be.Cb){var se=be.Zb[Ee];be.Fb||(se+=N)}else{if(0<Ee){g.pb[Ee]=g.pb[0];continue}se=N}var Ne=g.pb[Ee];Ne.Sc[0]=Sl[ur(se+F,127)],Ne.Sc[1]=gc[ur(se+0,127)],Ne.Eb[0]=2*Sl[ur(se+E,127)],Ne.Eb[1]=101581*gc[ur(se+Q,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Sl[ur(se+ie,117)],Ne.Qc[1]=gc[ur(se+Z,127)],Ne.lc=se+Z}if(!G.Rb)return ir(g,4,"Not a key frame.");for(ye(H),G=g.Pa,N=0;4>N;++N){for(F=0;8>F;++F)for(E=0;3>E;++E)for(Q=0;11>Q;++Q)ie=Ce(H,lp[N][F][E][Q])?re(H,8):fh[N][F][E][Q],G.Wc[N][F].Yb[E][Q]=ie;for(F=0;17>F;++F)G.Xc[N][F]=G.Wc[N][xd[F]]}return g.kc=ye(H),g.kc&&(g.Bd=re(H,8)),g.cb=1}function Qr(g,w,N,E,F,H,G){var Q=w[F].Yb[N];for(N=0;16>F;++F){if(!Ce(g,Q[N+0]))return F;for(;!Ce(g,Q[N+1]);)if(Q=w[++F].Yb[0],N=0,F==16)return 16;var Z=w[F+1].Yb;if(Ce(g,Q[N+2])){var ie=g,be=0;if(Ce(ie,(se=Q)[(Ee=N)+3]))if(Ce(ie,se[Ee+6])){for(Q=0,Ee=2*(be=Ce(ie,se[Ee+8]))+(se=Ce(ie,se[Ee+9+be])),be=0,se=wd[Ee];se[Q];++Q)be+=be+Ce(ie,se[Q]);be+=3+(8<<Ee)}else Ce(ie,se[Ee+7])?(be=7+2*Ce(ie,165),be+=Ce(ie,145)):be=5+Ce(ie,159);else be=Ce(ie,se[Ee+4])?3+Ce(ie,se[Ee+5]):2;Q=Z[2]}else be=1,Q=Z[1];Z=G+bd[F],0>(ie=g).b&&me(ie);var Ee,se=ie.b,Ne=(Ee=ie.Ca>>1)-(ie.I>>se)>>31;--ie.b,ie.Ca+=Ne,ie.Ca|=1,ie.I-=(Ee+1&Ne)<<se,H[Z]=((be^Ne)-Ne)*E[(0<F)+0]}return 16}function hs(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Xr(g,w,N,E,F){F=g[w+N+32*E]+(F>>3),g[w+N+32*E]=-256&F?0>F?0:255:F}function _o(g,w,N,E,F,H){Xr(g,w,0,N,E+F),Xr(g,w,1,N,E+H),Xr(g,w,2,N,E-H),Xr(g,w,3,N,E-F)}function Kn(g){return(20091*g>>16)+g}function Qs(g,w,N,E){var F,H=0,G=o(16);for(F=0;4>F;++F){var Q=g[w+0]+g[w+8],Z=g[w+0]-g[w+8],ie=(35468*g[w+4]>>16)-Kn(g[w+12]),be=Kn(g[w+4])+(35468*g[w+12]>>16);G[H+0]=Q+be,G[H+1]=Z+ie,G[H+2]=Z-ie,G[H+3]=Q-be,H+=4,w++}for(F=H=0;4>F;++F)Q=(g=G[H+0]+4)+G[H+8],Z=g-G[H+8],ie=(35468*G[H+4]>>16)-Kn(G[H+12]),Xr(N,E,0,0,Q+(be=Kn(G[H+4])+(35468*G[H+12]>>16))),Xr(N,E,1,0,Z+ie),Xr(N,E,2,0,Z-ie),Xr(N,E,3,0,Q-be),H++,E+=32}function Pa(g,w,N,E){var F=g[w+0]+4,H=35468*g[w+4]>>16,G=Kn(g[w+4]),Q=35468*g[w+1]>>16;_o(N,E,0,F+G,g=Kn(g[w+1]),Q),_o(N,E,1,F+H,g,Q),_o(N,E,2,F-H,g,Q),_o(N,E,3,F-G,g,Q)}function La(g,w,N,E,F){Qs(g,w,N,E),F&&Qs(g,w+16,N,E+4)}function _i(g,w,N,E){$a(g,w+0,N,E,1),$a(g,w+32,N,E+128,1)}function Ps(g,w,N,E){var F;for(g=g[w+0]+4,F=0;4>F;++F)for(w=0;4>w;++w)Xr(N,E,w,F,g)}function Ls(g,w,N,E){g[w+0]&&bn(g,w+0,N,E),g[w+16]&&bn(g,w+16,N,E+4),g[w+32]&&bn(g,w+32,N,E+128),g[w+48]&&bn(g,w+48,N,E+128+4)}function pn(g,w,N,E){var F,H=o(16);for(F=0;4>F;++F){var G=g[w+0+F]+g[w+12+F],Q=g[w+4+F]+g[w+8+F],Z=g[w+4+F]-g[w+8+F],ie=g[w+0+F]-g[w+12+F];H[0+F]=G+Q,H[8+F]=G-Q,H[4+F]=ie+Z,H[12+F]=ie-Z}for(F=0;4>F;++F)G=(g=H[0+4*F]+3)+H[3+4*F],Q=H[1+4*F]+H[2+4*F],Z=H[1+4*F]-H[2+4*F],ie=g-H[3+4*F],N[E+0]=G+Q>>3,N[E+16]=ie+Z>>3,N[E+32]=G-Q>>3,N[E+48]=ie-Z>>3,E+=64}function Xs(g,w,N){var E,F=w-32,H=Ci,G=255-g[F-1];for(E=0;E<N;++E){var Q,Z=H,ie=G+g[w-1];for(Q=0;Q<N;++Q)g[w+Q]=Z[ie+g[F+Q]];w+=32}}function Zs(g,w){Xs(g,w,4)}function Xo(g,w){Xs(g,w,8)}function Zo(g,w){Xs(g,w,16)}function dl(g,w){var N;for(N=0;16>N;++N)r(g,w+32*N,g,w-32,16)}function ea(g,w){var N;for(N=16;0<N;--N)i(g,w,g[w-1],16),w+=32}function Si(g,w,N){var E;for(E=0;16>E;++E)i(w,N+32*E,g,16)}function Li(g,w){var N,E=16;for(N=0;16>N;++N)E+=g[w-1+32*N]+g[w+N-32];Si(E>>5,g,w)}function ts(g,w){var N,E=8;for(N=0;16>N;++N)E+=g[w-1+32*N];Si(E>>4,g,w)}function Zr(g,w){var N,E=8;for(N=0;16>N;++N)E+=g[w+N-32];Si(E>>4,g,w)}function ci(g,w){Si(128,g,w)}function It(g,w,N){return g+2*w+N+2>>2}function So(g,w){var N,E=w-32;for(E=new Uint8Array([It(g[E-1],g[E+0],g[E+1]),It(g[E+0],g[E+1],g[E+2]),It(g[E+1],g[E+2],g[E+3]),It(g[E+2],g[E+3],g[E+4])]),N=0;4>N;++N)r(g,w+32*N,E,0,E.length)}function Fr(g,w){var N=g[w-1],E=g[w-1+32],F=g[w-1+64],H=g[w-1+96];Re(g,w+0,16843009*It(g[w-1-32],N,E)),Re(g,w+32,16843009*It(N,E,F)),Re(g,w+64,16843009*It(E,F,H)),Re(g,w+96,16843009*It(F,H,H))}function ic(g,w){var N,E=4;for(N=0;4>N;++N)E+=g[w+N-32]+g[w-1+32*N];for(E>>=3,N=0;4>N;++N)i(g,w+32*N,E,4)}function hl(g,w){var N=g[w-1+0],E=g[w-1+32],F=g[w-1+64],H=g[w-1-32],G=g[w+0-32],Q=g[w+1-32],Z=g[w+2-32],ie=g[w+3-32];g[w+0+96]=It(E,F,g[w-1+96]),g[w+1+96]=g[w+0+64]=It(N,E,F),g[w+2+96]=g[w+1+64]=g[w+0+32]=It(H,N,E),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=It(G,H,N),g[w+3+64]=g[w+2+32]=g[w+1+0]=It(Q,G,H),g[w+3+32]=g[w+2+0]=It(Z,Q,G),g[w+3+0]=It(ie,Z,Q)}function Ni(g,w){var N=g[w+1-32],E=g[w+2-32],F=g[w+3-32],H=g[w+4-32],G=g[w+5-32],Q=g[w+6-32],Z=g[w+7-32];g[w+0+0]=It(g[w+0-32],N,E),g[w+1+0]=g[w+0+32]=It(N,E,F),g[w+2+0]=g[w+1+32]=g[w+0+64]=It(E,F,H),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=It(F,H,G),g[w+3+32]=g[w+2+64]=g[w+1+96]=It(H,G,Q),g[w+3+64]=g[w+2+96]=It(G,Q,Z),g[w+3+96]=It(Q,Z,Z)}function Ts(g,w){var N=g[w-1+0],E=g[w-1+32],F=g[w-1+64],H=g[w-1-32],G=g[w+0-32],Q=g[w+1-32],Z=g[w+2-32],ie=g[w+3-32];g[w+0+0]=g[w+1+64]=H+G+1>>1,g[w+1+0]=g[w+2+64]=G+Q+1>>1,g[w+2+0]=g[w+3+64]=Q+Z+1>>1,g[w+3+0]=Z+ie+1>>1,g[w+0+96]=It(F,E,N),g[w+0+64]=It(E,N,H),g[w+0+32]=g[w+1+96]=It(N,H,G),g[w+1+32]=g[w+2+96]=It(H,G,Q),g[w+2+32]=g[w+3+96]=It(G,Q,Z),g[w+3+32]=It(Q,Z,ie)}function fl(g,w){var N=g[w+0-32],E=g[w+1-32],F=g[w+2-32],H=g[w+3-32],G=g[w+4-32],Q=g[w+5-32],Z=g[w+6-32],ie=g[w+7-32];g[w+0+0]=N+E+1>>1,g[w+1+0]=g[w+0+64]=E+F+1>>1,g[w+2+0]=g[w+1+64]=F+H+1>>1,g[w+3+0]=g[w+2+64]=H+G+1>>1,g[w+0+32]=It(N,E,F),g[w+1+32]=g[w+0+96]=It(E,F,H),g[w+2+32]=g[w+1+96]=It(F,H,G),g[w+3+32]=g[w+2+96]=It(H,G,Q),g[w+3+64]=It(G,Q,Z),g[w+3+96]=It(Q,Z,ie)}function No(g,w){var N=g[w-1+0],E=g[w-1+32],F=g[w-1+64],H=g[w-1+96];g[w+0+0]=N+E+1>>1,g[w+2+0]=g[w+0+32]=E+F+1>>1,g[w+2+32]=g[w+0+64]=F+H+1>>1,g[w+1+0]=It(N,E,F),g[w+3+0]=g[w+1+32]=It(E,F,H),g[w+3+32]=g[w+1+64]=It(F,H,H),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=H}function eo(g,w){var N=g[w-1+0],E=g[w-1+32],F=g[w-1+64],H=g[w-1+96],G=g[w-1-32],Q=g[w+0-32],Z=g[w+1-32],ie=g[w+2-32];g[w+0+0]=g[w+2+32]=N+G+1>>1,g[w+0+32]=g[w+2+64]=E+N+1>>1,g[w+0+64]=g[w+2+96]=F+E+1>>1,g[w+0+96]=H+F+1>>1,g[w+3+0]=It(Q,Z,ie),g[w+2+0]=It(G,Q,Z),g[w+1+0]=g[w+3+32]=It(N,G,Q),g[w+1+32]=g[w+3+64]=It(E,N,G),g[w+1+64]=g[w+3+96]=It(F,E,N),g[w+1+96]=It(H,F,E)}function Ta(g,w){var N;for(N=0;8>N;++N)r(g,w+32*N,g,w-32,8)}function Ti(g,w){var N;for(N=0;8>N;++N)i(g,w,g[w-1],8),w+=32}function ns(g,w,N){var E;for(E=0;8>E;++E)i(w,N+32*E,g,8)}function Ri(g,w){var N,E=8;for(N=0;8>N;++N)E+=g[w+N-32]+g[w-1+32*N];ns(E>>4,g,w)}function ko(g,w){var N,E=4;for(N=0;8>N;++N)E+=g[w+N-32];ns(E>>3,g,w)}function ta(g,w){var N,E=4;for(N=0;8>N;++N)E+=g[w-1+32*N];ns(E>>3,g,w)}function na(g,w){ns(128,g,w)}function fs(g,w,N){var E=g[w-N],F=g[w+0],H=3*(F-E)+so[1020+g[w-2*N]-g[w+N]],G=xl[112+(H+4>>3)];g[w-N]=Ci[255+E+xl[112+(H+3>>3)]],g[w+0]=Ci[255+F-G]}function ps(g,w,N,E){var F=g[w+0],H=g[w+N];return ys[255+g[w-2*N]-g[w-N]]>E||ys[255+H-F]>E}function Co(g,w,N,E){return 4*ys[255+g[w-N]-g[w+0]]+ys[255+g[w-2*N]-g[w+N]]<=E}function ki(g,w,N,E,F){var H=g[w-3*N],G=g[w-2*N],Q=g[w-N],Z=g[w+0],ie=g[w+N],be=g[w+2*N],Ee=g[w+3*N];return 4*ys[255+Q-Z]+ys[255+G-ie]>E?0:ys[255+g[w-4*N]-H]<=F&&ys[255+H-G]<=F&&ys[255+G-Q]<=F&&ys[255+Ee-be]<=F&&ys[255+be-ie]<=F&&ys[255+ie-Z]<=F}function Oi(g,w,N,E){var F=2*E+1;for(E=0;16>E;++E)Co(g,w+E,N,F)&&fs(g,w+E,N)}function Dt(g,w,N,E){var F=2*E+1;for(E=0;16>E;++E)Co(g,w+E*N,1,F)&&fs(g,w+E*N,1)}function vn(g,w,N,E){var F;for(F=3;0<F;--F)Oi(g,w+=4*N,N,E)}function jr(g,w,N,E){var F;for(F=3;0<F;--F)Dt(g,w+=4,N,E)}function In(g,w,N,E,F,H,G,Q){for(H=2*H+1;0<F--;){if(ki(g,w,N,H,G))if(ps(g,w,N,Q))fs(g,w,N);else{var Z=g,ie=w,be=N,Ee=Z[ie-2*be],se=Z[ie-be],Ne=Z[ie+0],je=Z[ie+be],Be=Z[ie+2*be],Te=27*(Me=so[1020+3*(Ne-se)+so[1020+Ee-je]])+63>>7,Fe=18*Me+63>>7,Me=9*Me+63>>7;Z[ie-3*be]=Ci[255+Z[ie-3*be]+Me],Z[ie-2*be]=Ci[255+Ee+Fe],Z[ie-be]=Ci[255+se+Te],Z[ie+0]=Ci[255+Ne-Te],Z[ie+be]=Ci[255+je-Fe],Z[ie+2*be]=Ci[255+Be-Me]}w+=E}}function sr(g,w,N,E,F,H,G,Q){for(H=2*H+1;0<F--;){if(ki(g,w,N,H,G))if(ps(g,w,N,Q))fs(g,w,N);else{var Z=g,ie=w,be=N,Ee=Z[ie-be],se=Z[ie+0],Ne=Z[ie+be],je=xl[112+(4+(Be=3*(se-Ee))>>3)],Be=xl[112+(Be+3>>3)],Te=je+1>>1;Z[ie-2*be]=Ci[255+Z[ie-2*be]+Te],Z[ie-be]=Ci[255+Ee+Be],Z[ie+0]=Ci[255+se-je],Z[ie+be]=Ci[255+Ne-Te]}w+=E}}function ei(g,w,N,E,F,H){In(g,w,N,1,16,E,F,H)}function ti(g,w,N,E,F,H){In(g,w,1,N,16,E,F,H)}function gs(g,w,N,E,F,H){var G;for(G=3;0<G;--G)sr(g,w+=4*N,N,1,16,E,F,H)}function pl(g,w,N,E,F,H){var G;for(G=3;0<G;--G)sr(g,w+=4,1,N,16,E,F,H)}function x(g,w,N,E,F,H,G,Q){In(g,w,F,1,8,H,G,Q),In(N,E,F,1,8,H,G,Q)}function B(g,w,N,E,F,H,G,Q){In(g,w,1,F,8,H,G,Q),In(N,E,1,F,8,H,G,Q)}function ae(g,w,N,E,F,H,G,Q){sr(g,w+4*F,F,1,8,H,G,Q),sr(N,E+4*F,F,1,8,H,G,Q)}function ve(g,w,N,E,F,H,G,Q){sr(g,w+4,1,F,8,H,G,Q),sr(N,E+4,1,F,8,H,G,Q)}function Ae(){this.ba=new tn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vt(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new I}function Ct(){this.xb=this.a=0,this.l=new rr,this.ca=new tn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vt,this.ab=0,this.gc=l(4,We),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(g,w,N,E,F,H,G){for(g=g==null?0:g[w+0],w=0;w<G;++w)F[H+w]=g+N[E+w]&255,g=F[H+w]}function wn(g,w,N,E,F,H,G){var Q;if(g==null)Wt(null,null,N,E,F,H,G);else for(Q=0;Q<G;++Q)F[H+Q]=g[w+Q]+N[E+Q]&255}function or(g,w,N,E,F,H,G){if(g==null)Wt(null,null,N,E,F,H,G);else{var Q,Z=g[w+0],ie=Z,be=Z;for(Q=0;Q<G;++Q)ie=be+(Z=g[w+Q])-ie,be=N[E+Q]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,F[H+Q]=be}}function Er(g,w,N,E){var F=w.width,H=w.o;if(e(g!=null&&w!=null),0>N||0>=E||N+E>H)return null;if(!g.Cc){if(g.ga==null){var G;if(g.ga=new Ht,(G=g.ga==null)||(G=w.width*w.o,e(g.Gb.length==0),g.Gb=o(G),g.Uc=0,g.Gb==null?G=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,G=1),G=!G),!G){G=g.ga;var Q=g.Fa,Z=g.P,ie=g.qc,be=g.mb,Ee=g.nb,se=Z+1,Ne=ie-1,je=G.l;if(e(Q!=null&&be!=null&&w!=null),di[0]=null,di[1]=Wt,di[2]=wn,di[3]=or,G.ca=be,G.tb=Ee,G.c=w.width,G.i=w.height,e(0<G.c&&0<G.i),1>=ie)w=0;else if(G.$a=3&Q[Z+0],G.Z=Q[Z+0]>>2&3,G.Lc=Q[Z+0]>>4&3,Z=Q[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)w=0;else if(je.put=it,je.ac=Gn,je.bc=kn,je.ma=G,je.width=w.width,je.height=w.height,je.Da=w.Da,je.v=w.v,je.va=w.va,je.j=w.j,je.o=w.o,G.$a)e:{e(G.$a==1),w=yo();t:for(;;){if(w==null){w=0;break e}if(e(G!=null),G.mc=w,w.c=G.c,w.i=G.i,w.l=G.l,w.l.ma=G,w.l.width=G.c,w.l.height=G.i,w.a=0,ge(w.m,Q,se,Ne),!Zi(G.c,G.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&bi(w.s)?(G.ic=1,Q=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(Q),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(G.ic=0,w=Ys(w,G.c)),!w))break t;w=1;break e}G.mc=null,w=0}else w=Ne>=G.c*G.i;G=!w}if(G)return null;g.ga.Lc!=1?g.Ga=0:E=H-N}e(g.ga!=null),e(N+E<=H);e:{if(w=(Q=g.ga).c,H=Q.l.o,Q.$a==0){if(se=g.rc,Ne=g.Vc,je=g.Fa,Z=g.P+1+N*w,ie=g.mb,be=g.nb+N*w,e(Z<=g.P+g.qc),Q.Z!=0)for(e(di[Q.Z]!=null),G=0;G<E;++G)di[Q.Z](se,Ne,je,Z,ie,be,w),se=ie,Ne=be,be+=w,Z+=w;else for(G=0;G<E;++G)r(ie,be,je,Z,w),se=ie,Ne=be,be+=w,Z+=w;g.rc=se,g.Vc=Ne}else{if(e(Q.mc!=null),w=N+E,e((G=Q.mc)!=null),e(w<=G.i),G.C>=w)w=1;else if(Q.ic||ms(),Q.ic){Q=G.V,se=G.Ba,Ne=G.c;var Be=G.i,Te=(je=1,Z=G.$/Ne,ie=G.$%Ne,be=G.m,Ee=G.s,G.$),Fe=Ne*Be,Me=Ne*w,$e=Ee.wc,qe=Te<Me?On(Ee,ie,Z):null;e(Te<=Fe),e(w<=Be),e(bi(Ee));t:for(;;){for(;!be.h&&Te<Me;){if(ie&$e||(qe=On(Ee,ie,Z)),e(qe!=null),le(be),256>(Be=un(qe.G[0],qe.H[0],be)))Q[se+Te]=Be,++Te,++ie>=Ne&&(ie=0,++Z<=w&&!(Z%16)&&Ar(G,Z));else{if(!(280>Be)){je=0;break t}Be=Cn(Be-256,be);var At,ut=un(qe.G[4],qe.H[4],be);if(le(be),!(Te>=(ut=mn(Ne,ut=Cn(ut,be)))&&Fe-Te>=Be)){je=0;break t}for(At=0;At<Be;++At)Q[se+Te+At]=Q[se+Te+At-ut];for(Te+=Be,ie+=Be;ie>=Ne;)ie-=Ne,++Z<=w&&!(Z%16)&&Ar(G,Z);Te<Me&&ie&$e&&(qe=On(Ee,ie,Z))}e(be.h==oe(be))}Ar(G,Z>w?w:Z);break t}!je||be.h&&Te<Fe?(je=0,G.a=be.h?5:3):G.$=Te,w=je}else w=Pi(G,G.V,G.Ba,G.c,G.i,w,wo);if(!w){E=0;break e}}N+E>=H&&(g.Cc=1),E=1}if(!E)return null;if(g.Cc&&((E=g.ga)!=null&&(E.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+N*F}function Hn(g,w,N,E,F,H){for(;0<F--;){var G,Q=g,Z=w+(N?1:0),ie=g,be=w+(N?0:3);for(G=0;G<E;++G){var Ee=ie[be+4*G];Ee!=255&&(Ee*=32897,Q[Z+4*G+0]=Q[Z+4*G+0]*Ee>>23,Q[Z+4*G+1]=Q[Z+4*G+1]*Ee>>23,Q[Z+4*G+2]=Q[Z+4*G+2]*Ee>>23)}w+=H}}function Mr(g,w,N,E,F){for(;0<E--;){var H;for(H=0;H<N;++H){var G=g[w+2*H+0],Q=15&(ie=g[w+2*H+1]),Z=4369*Q,ie=(240&ie|ie>>4)*Z>>16;g[w+2*H+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,g[w+2*H+1]=240&ie|Q}w+=F}}function br(g,w,N,E,F,H,G,Q){var Z,ie,be=255;for(ie=0;ie<F;++ie){for(Z=0;Z<E;++Z){var Ee=g[w+Z];H[G+4*Z]=Ee,be&=Ee}w+=N,G+=Q}return be!=255}function ni(g,w,N,E,F){var H;for(H=0;H<F;++H)N[E+H]=g[w+H]>>8}function ms(){Ha=Hn,hd=Mr,cc=br,fd=ni}function Ii(g,w,N){M[g]=function(E,F,H,G,Q,Z,ie,be,Ee,se,Ne,je,Be,Te,Fe,Me,$e){var qe,At=$e-1>>1,ut=Q[Z+0]|ie[be+0]<<16,Yt=Ee[se+0]|Ne[je+0]<<16;e(E!=null);var yt=3*ut+Yt+131074>>2;for(w(E[F+0],255&yt,yt>>16,Be,Te),H!=null&&(yt=3*Yt+ut+131074>>2,w(H[G+0],255&yt,yt>>16,Fe,Me)),qe=1;qe<=At;++qe){var ln=Q[Z+qe]|ie[be+qe]<<16,fr=Ee[se+qe]|Ne[je+qe]<<16,Jt=ut+ln+Yt+fr+524296,dt=Jt+2*(ln+Yt)>>3;yt=dt+ut>>1,ut=(Jt=Jt+2*(ut+fr)>>3)+ln>>1,w(E[F+2*qe-1],255&yt,yt>>16,Be,Te+(2*qe-1)*N),w(E[F+2*qe-0],255&ut,ut>>16,Be,Te+(2*qe-0)*N),H!=null&&(yt=Jt+Yt>>1,ut=dt+fr>>1,w(H[G+2*qe-1],255&yt,yt>>16,Fe,Me+(2*qe-1)*N),w(H[G+2*qe+0],255&ut,ut>>16,Fe,Me+(2*qe+0)*N)),ut=ln,Yt=fr}1&$e||(yt=3*ut+Yt+131074>>2,w(E[F+$e-1],255&yt,yt>>16,Be,Te+($e-1)*N),H!=null&&(yt=3*Yt+ut+131074>>2,w(H[G+$e-1],255&yt,yt>>16,Fe,Me+($e-1)*N)))}}function Kc(){Mi[Xc]=cp,Mi[da]=ha,Mi[ch]=up,Mi[uc]=kl,Mi[dc]=Ka,Mi[Dn]=mc,Mi[Zc]=_d,Mi[_l]=ha,Mi[Wa]=kl,Mi[hc]=Ka,Mi[fc]=mc}function ra(g){return g&-16384?0>g?0:255:g>>fa}function Ra(g,w){return ra((19077*g>>8)+(26149*w>>8)-14234)}function ia(g,w,N){return ra((19077*g>>8)-(6419*w>>8)-(13320*N>>8)+8708)}function Oa(g,w){return ra((19077*g>>8)+(33050*w>>8)-17685)}function sa(g,w,N,E,F){E[F+0]=Ra(g,N),E[F+1]=ia(g,w,N),E[F+2]=Oa(g,w)}function Ia(g,w,N,E,F){E[F+0]=Oa(g,w),E[F+1]=ia(g,w,N),E[F+2]=Ra(g,N)}function ui(g,w,N,E,F){var H=ia(g,w,N);w=H<<3&224|Oa(g,w)>>3,E[F+0]=248&Ra(g,N)|H>>5,E[F+1]=w}function Da(g,w,N,E,F){var H=240&Oa(g,w)|15;E[F+0]=240&Ra(g,N)|ia(g,w,N)>>4,E[F+1]=H}function Fa(g,w,N,E,F){E[F+0]=255,sa(g,w,N,E,F+1)}function sc(g,w,N,E,F){Ia(g,w,N,E,F),E[F+3]=255}function oc(g,w,N,E,F){sa(g,w,N,E,F),E[F+3]=255}function ur(g,w){return 0>g?0:g>w?w:g}function Rs(g,w,N){M[g]=function(E,F,H,G,Q,Z,ie,be,Ee){for(var se=be+(-2&Ee)*N;be!=se;)w(E[F+0],H[G+0],Q[Z+0],ie,be),w(E[F+1],H[G+0],Q[Z+0],ie,be+N),F+=2,++G,++Z,be+=2*N;1&Ee&&w(E[F+0],H[G+0],Q[Z+0],ie,be)}}function to(g,w,N){return N==0?g==0?w==0?6:5:w==0?4:0:N}function Yc(g,w,N,E,F){switch(g>>>30){case 3:$a(w,N,E,F,0);break;case 2:dr(w,N,E,F);break;case 1:bn(w,N,E,F)}}function rs(g,w){var N,E,F=w.M,H=w.Nb,G=g.oc,Q=g.pc+40,Z=g.oc,ie=g.pc+584,be=g.oc,Ee=g.pc+600;for(N=0;16>N;++N)G[Q+32*N-1]=129;for(N=0;8>N;++N)Z[ie+32*N-1]=129,be[Ee+32*N-1]=129;for(0<F?G[Q-1-32]=Z[ie-1-32]=be[Ee-1-32]=129:(i(G,Q-32-1,127,21),i(Z,ie-32-1,127,9),i(be,Ee-32-1,127,9)),E=0;E<g.za;++E){var se=w.ya[w.aa+E];if(0<E){for(N=-1;16>N;++N)r(G,Q+32*N-4,G,Q+32*N+12,4);for(N=-1;8>N;++N)r(Z,ie+32*N-4,Z,ie+32*N+4,4),r(be,Ee+32*N-4,be,Ee+32*N+4,4)}var Ne=g.Gd,je=g.Hd+E,Be=se.ad,Te=se.Hc;if(0<F&&(r(G,Q-32,Ne[je].y,0,16),r(Z,ie-32,Ne[je].f,0,8),r(be,Ee-32,Ne[je].ea,0,8)),se.Za){var Fe=G,Me=Q-32+16;for(0<F&&(E>=g.za-1?i(Fe,Me,Ne[je].y[15],4):r(Fe,Me,Ne[je+1].y,0,4)),N=0;4>N;N++)Fe[Me+128+N]=Fe[Me+256+N]=Fe[Me+384+N]=Fe[Me+0+N];for(N=0;16>N;++N,Te<<=2)Fe=G,Me=Q+Sd[N],ws[se.Ob[N]](Fe,Me),Yc(Te,Be,16*+N,Fe,Me)}else if(Fe=to(E,F,se.Ob[0]),Ai[Fe](G,Q),Te!=0)for(N=0;16>N;++N,Te<<=2)Yc(Te,Be,16*+N,G,Q+Sd[N]);for(N=se.Gc,Fe=to(E,F,se.Dd),Fi[Fe](Z,ie),Fi[Fe](be,Ee),Te=Be,Fe=Z,Me=ie,255&(se=0|N)&&(170&se?Di(Te,256,Fe,Me):Ln(Te,256,Fe,Me)),se=be,Te=Ee,255&(N>>=8)&&(170&N?Di(Be,320,se,Te):Ln(Be,320,se,Te)),F<g.Ub-1&&(r(Ne[je].y,0,G,Q+480,16),r(Ne[je].f,0,Z,ie+224,8),r(Ne[je].ea,0,be,Ee+224,8)),N=8*H*g.B,Ne=g.sa,je=g.ta+16*E+16*H*g.R,Be=g.qa,se=g.ra+8*E+N,Te=g.Ha,Fe=g.Ia+8*E+N,N=0;16>N;++N)r(Ne,je+N*g.R,G,Q+32*N,16);for(N=0;8>N;++N)r(Be,se+N*g.B,Z,ie+32*N,8),r(Te,Fe+N*g.B,be,Ee+32*N,8)}}function oa(g,w,N,E,F,H,G,Q,Z){var ie=[0],be=[0],Ee=0,se=Z!=null?Z.kd:0,Ne=Z??new Ue;if(g==null||12>N)return 7;Ne.data=g,Ne.w=w,Ne.ha=N,w=[w],N=[N],Ne.gb=[Ne.gb];e:{var je=w,Be=N,Te=Ne.gb;if(e(g!=null),e(Be!=null),e(Te!=null),Te[0]=0,12<=Be[0]&&!t(g,je[0],"RIFF")){if(t(g,je[0]+8,"WEBP")){Te=3;break e}var Fe=Ie(g,je[0]+4);if(12>Fe||4294967286<Fe){Te=3;break e}if(se&&Fe>Be[0]-8){Te=7;break e}Te[0]=Fe,je[0]+=12,Be[0]-=12}Te=0}if(Te!=0)return Te;for(Fe=0<Ne.gb[0],N=N[0];;){e:{var Me=g;Be=w,Te=N;var $e=ie,qe=be,At=je=[0];if((yt=Ee=[Ee])[0]=0,8>Te[0])Te=7;else{if(!t(Me,Be[0],"VP8X")){if(Ie(Me,Be[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ut=Ie(Me,Be[0]+8),Yt=1+Ve(Me,Be[0]+12);if(2147483648<=Yt*(Me=1+Ve(Me,Be[0]+15))){Te=3;break e}At!=null&&(At[0]=ut),$e!=null&&($e[0]=Yt),qe!=null&&(qe[0]=Me),Be[0]+=18,Te[0]-=18,yt[0]=1}Te=0}}if(Ee=Ee[0],je=je[0],Te!=0)return Te;if(Be=!!(2&je),!Fe&&Ee)return 3;if(H!=null&&(H[0]=!!(16&je)),G!=null&&(G[0]=Be),Q!=null&&(Q[0]=0),G=ie[0],je=be[0],Ee&&Be&&Z==null){Te=0;break}if(4>N){Te=7;break}if(Fe&&Ee||!Fe&&!Ee&&!t(g,w[0],"ALPH")){N=[N],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{ut=g,Te=w,Fe=N;var yt=Ne.gb;$e=Ne.na,qe=Ne.P,At=Ne.Sa,Yt=22,e(ut!=null),e(Fe!=null),Me=Te[0];var ln=Fe[0];for(e($e!=null),e(At!=null),$e[0]=null,qe[0]=null,At[0]=0;;){if(Te[0]=Me,Fe[0]=ln,8>ln){Te=7;break e}var fr=Ie(ut,Me+4);if(4294967286<fr){Te=3;break e}var Jt=8+fr+1&-2;if(Yt+=Jt,0<yt&&Yt>yt){Te=3;break e}if(!t(ut,Me,"VP8 ")||!t(ut,Me,"VP8L")){Te=0;break e}if(ln[0]<Jt){Te=7;break e}t(ut,Me,"ALPH")||($e[0]=ut,qe[0]=Me+8,At[0]=fr),Me+=Jt,ln-=Jt}}if(N=N[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Te!=0)break}N=[N],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(yt=g,Te=w,Fe=N,$e=Ne.gb[0],qe=Ne.Ja,At=Ne.xa,ut=Te[0],Me=!t(yt,ut,"VP8 "),Yt=!t(yt,ut,"VP8L"),e(yt!=null),e(Fe!=null),e(qe!=null),e(At!=null),8>Fe[0])Te=7;else{if(Me||Yt){if(yt=Ie(yt,ut+4),12<=$e&&yt>$e-12){Te=3;break e}if(se&&yt>Fe[0]-8){Te=7;break e}qe[0]=yt,Te[0]+=8,Fe[0]-=8,At[0]=Yt}else At[0]=5<=Fe[0]&&yt[ut+0]==47&&!(yt[ut+4]>>5),qe[0]=Fe[0];Te=0}if(N=N[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],w=w[0],Te!=0)break;if(4294967286<Ne.Ja)return 3;if(Q==null||Be||(Q[0]=Ne.xa?2:1),G=[G],je=[je],Ne.xa){if(5>N){Te=7;break}Q=G,se=je,Be=H,g==null||5>N?g=0:5<=N&&g[w+0]==47&&!(g[w+4]>>5)?(Fe=[0],yt=[0],$e=[0],ge(qe=new $,g,w,N),Dr(qe,Fe,yt,$e)?(Q!=null&&(Q[0]=Fe[0]),se!=null&&(se[0]=yt[0]),Be!=null&&(Be[0]=$e[0]),g=1):g=0):g=0}else{if(10>N){Te=7;break}Q=je,g==null||10>N||!es(g,w+3,N-3)?g=0:(se=g[w+0]|g[w+1]<<8|g[w+2]<<16,Be=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=Ne.Ja||!Be||!g?g=0:(G&&(G[0]=Be),Q&&(Q[0]=g),g=1))}if(!g||(G=G[0],je=je[0],Ee&&(ie[0]!=G||be[0]!=je)))return 3;Z!=null&&(Z[0]=Ne,Z.offset=w-Z.w,e(4294967286>w-Z.w),e(Z.offset==Z.ha-N));break}return Te==0||Te==7&&Ee&&Z==null?(H!=null&&(H[0]|=Ne.na!=null&&0<Ne.na.length),E!=null&&(E[0]=G),F!=null&&(F[0]=je),0):Te}function gl(g,w,N){var E=w.width,F=w.height,H=0,G=0,Q=E,Z=F;if(w.Da=g!=null&&0<g.Da,w.Da&&(Q=g.cd,Z=g.bd,H=g.v,G=g.j,11>N||(H&=-2,G&=-2),0>H||0>G||0>=Q||0>=Z||H+Q>E||G+Z>F))return 0;if(w.v=H,w.j=G,w.va=H+Q,w.o=G+Z,w.U=Q,w.T=Z,w.da=g!=null&&0<g.da,w.da){if(!ft(Q,Z,N=[g.ib],H=[g.hb]))return 0;w.ib=N[0],w.hb=H[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*E/4&&w.hb<3*F/4,w.Kb=0),1}function ml(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function Ao(g,w,N,E){if(E==null||0>=g||0>=w)return 2;if(N!=null){if(N.Da){var F=N.cd,H=N.bd,G=-2&N.v,Q=-2&N.j;if(0>G||0>Q||0>=F||0>=H||G+F>g||Q+H>w)return 2;g=F,w=H}if(N.da){if(!ft(g,w,F=[N.ib],H=[N.hb]))return 2;g=F[0],w=H[0]}}E.width=g,E.height=w;e:{var Z=E.width,ie=E.height;if(g=E.S,0>=Z||0>=ie||!(g>=Xc&&13>g))g=2;else{if(0>=E.Rd&&E.sd==null){G=H=F=w=0;var be=(Q=Z*vc[g])*ie;if(11>g||(H=(ie+1)/2*(w=(Z+1)/2),g==12&&(G=(F=Z)*ie)),(ie=o(be+2*H+G))==null){g=1;break e}E.sd=ie,11>g?((Z=E.f.RGBA).eb=ie,Z.fb=0,Z.A=Q,Z.size=be):((Z=E.f.kb).y=ie,Z.O=0,Z.fa=Q,Z.Fd=be,Z.f=ie,Z.N=0+be,Z.Ab=w,Z.Cd=H,Z.ea=ie,Z.W=0+be+H,Z.Db=w,Z.Ed=H,g==12&&(Z.F=ie,Z.J=0+be+2*H),Z.Tc=G,Z.lb=F)}if(w=1,F=E.S,H=E.width,G=E.height,F>=Xc&&13>F)if(11>F)g=E.f.RGBA,w&=(Q=Math.abs(g.A))*(G-1)+H<=g.size,w&=Q>=H*vc[F],w&=g.eb!=null;else{g=E.f.kb,Q=(H+1)/2,be=(G+1)/2,Z=Math.abs(g.fa),ie=Math.abs(g.Ab);var Ee=Math.abs(g.Db),se=Math.abs(g.lb),Ne=se*(G-1)+H;w&=Z*(G-1)+H<=g.Fd,w&=ie*(be-1)+Q<=g.Cd,w=(w&=Ee*(be-1)+Q<=g.Ed)&Z>=H&ie>=Q&Ee>=Q,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,F==12&&(w&=se>=H,w&=Ne<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||N!=null&&N.fd&&(g=ml(E)),g}var vs=64,is=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ss=24,aa=32,no=8,jo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(g){return g},M.Predictor2=function(g,w,N){return w[N+0]},M.Predictor3=function(g,w,N){return w[N+1]},M.Predictor4=function(g,w,N){return w[N-1]},M.Predictor5=function(g,w,N){return Ze(Ze(g,w[N+1]),w[N+0])},M.Predictor6=function(g,w,N){return Ze(g,w[N-1])},M.Predictor7=function(g,w,N){return Ze(g,w[N+0])},M.Predictor8=function(g,w,N){return Ze(w[N-1],w[N+0])},M.Predictor9=function(g,w,N){return Ze(w[N+0],w[N+1])},M.Predictor10=function(g,w,N){return Ze(Ze(g,w[N-1]),Ze(w[N+0],w[N+1]))},M.Predictor11=function(g,w,N){var E=w[N+0];return 0>=ht(E>>24&255,g>>24&255,(w=w[N-1])>>24&255)+ht(E>>16&255,g>>16&255,w>>16&255)+ht(E>>8&255,g>>8&255,w>>8&255)+ht(255&E,255&g,255&w)?E:g},M.Predictor12=function(g,w,N){var E=w[N+0];return(zt((g>>24&255)+(E>>24&255)-((w=w[N-1])>>24&255))<<24|zt((g>>16&255)+(E>>16&255)-(w>>16&255))<<16|zt((g>>8&255)+(E>>8&255)-(w>>8&255))<<8|zt((255&g)+(255&E)-(255&w)))>>>0},M.Predictor13=function(g,w,N){var E=w[N-1];return(st((g=Ze(g,w[N+0]))>>24&255,E>>24&255)<<24|st(g>>16&255,E>>16&255)<<16|st(g>>8&255,E>>8&255)<<8|st(255&g,255&E))>>>0};var Eo=M.PredictorAdd0;M.PredictorAdd1=Vt,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var ro=M.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var xr,Ma=M.ColorIndexInverseTransform,io=M.MapARGB,Os=M.VP8LColorIndexInverseTransformAlpha,Ba=M.MapAlpha,za=M.VP8LPredictorsAdd=[];za.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var vl,yl,Po,la,ca,Ua,ua,$a,dr,Di,bn,Ln,hr,Pr,Is,ac,wl,Lo,Jc,bl,Qc,dd,lc,qa,Ha,hd,cc,fd,pd=o(511),gd=o(2041),md=o(225),vd=o(767),yd=0,so=gd,xl=md,Ci=vd,ys=pd,Xc=0,da=1,ch=2,uc=3,dc=4,Dn=5,Zc=6,_l=7,Wa=8,hc=9,fc=10,pc=[2,3,7],eu=[3,3,11],Va=[280,256,256,256,40],uh=[0,1,1,1,0],sp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],op=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tu=8,Sl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ga=null,wd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ap=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ai=[],ws=[],Fi=[],oo=1,Nl=2,di=[],Mi=[];Ii("UpsampleRgbLinePair",sa,3),Ii("UpsampleBgrLinePair",Ia,3),Ii("UpsampleRgbaLinePair",oc,4),Ii("UpsampleBgraLinePair",sc,4),Ii("UpsampleArgbLinePair",Fa,4),Ii("UpsampleRgba4444LinePair",Da,2),Ii("UpsampleRgb565LinePair",ui,2);var cp=M.UpsampleRgbLinePair,up=M.UpsampleBgrLinePair,ha=M.UpsampleRgbaLinePair,kl=M.UpsampleBgraLinePair,Ka=M.UpsampleArgbLinePair,mc=M.UpsampleRgba4444LinePair,_d=M.UpsampleRgb565LinePair,To=16,Ds=1<<To-1,En=-227,Tn=482,fa=6,ri=0,Bi=o(256),Ya=o(256),Cl=o(256),zi=o(256),nu=o(Tn-En),ph=o(Tn-En);Rs("YuvToRgbRow",sa,3),Rs("YuvToBgrRow",Ia,3),Rs("YuvToRgbaRow",oc,4),Rs("YuvToBgraRow",sc,4),Rs("YuvToArgbRow",Fa,4),Rs("YuvToRgba4444Row",Da,2),Rs("YuvToRgb565Row",ui,2);var Sd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ja=[0,2,8],gh=[8,7,6,4,4,2,2,2,1,1,1,1],Ro=1;this.WebPDecodeRGBA=function(g,w,N,E,F){var H=da,G=new Ae,Q=new tn;G.ba=Q,Q.S=H,Q.width=[Q.width],Q.height=[Q.height];var Z=Q.width,ie=Q.height,be=new Ot;if(be==null||g==null)var Ee=2;else e(be!=null),Ee=oa(g,w,N,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Ee!=0?Z=0:(Z!=null&&(Z[0]=be.width[0]),ie!=null&&(ie[0]=be.height[0]),Z=1),Z){Q.width=Q.width[0],Q.height=Q.height[0],E!=null&&(E[0]=Q.width),F!=null&&(F[0]=Q.height);e:{if(E=new rr,(F=new Ue).data=g,F.w=w,F.ha=N,F.kd=1,w=[0],e(F!=null),((g=oa(F.data,F.w,F.ha,null,null,null,w,null,F))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(e(G!=null),E.data=F.data,E.w=F.w+F.offset,E.ha=F.ha-F.offset,E.put=it,E.ac=Gn,E.bc=kn,E.ma=G,F.xa){if((g=yo())==null){G=1;break e}if((function(se,Ne){var je=[0],Be=[0],Te=[0];t:for(;;){if(se==null)return 0;if(Ne==null)return se.a=2,0;if(se.l=Ne,se.a=0,ge(se.m,Ne.data,Ne.w,Ne.ha),!Dr(se.m,je,Be,Te)){se.a=3;break t}if(se.xb=Nl,Ne.width=je[0],Ne.height=Be[0],!Zi(je[0],Be[0],1,se,null))break t;return 1}return e(se.a!=0),0})(g,E)){if(E=(w=Ao(E.width,E.height,G.Oa,G.ba))==0){t:{E=g;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((N=E.l)!=null),e((F=N.ma)!=null),E.xb!=0){if(E.ca=F.ba,E.tb=F.tb,e(E.ca!=null),!gl(F.Oa,N,uc)){E.a=2;break n}if(!Ys(E,N.width)||N.da)break n;if((N.da||Pt(E.ca.S))&&ms(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ms()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!ue(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Pi(E,E.V,E.Ba,E.c,E.i,N.o,js))break n;F.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(w=g.a)}else w=g.a}else{if((g=new rc)==null){G=1;break e}if(g.Fa=F.na,g.P=F.P,g.qc=F.Sa,xo(g,E)){if((w=Ao(E.width,E.height,G.Oa,G.ba))==0){if(g.Aa=0,N=G.Oa,e((F=g)!=null),N!=null){if(0<(Z=0>(Z=N.Md)?0:100<Z?255:255*Z/100)){for(ie=be=0;4>ie;++ie)12>(Ee=F.pb[ie]).lc&&(Ee.ia=Z*gh[0>Ee.lc?0:Ee.lc]>>3),be|=Ee.ia;be&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=N.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(se,Ne){if(se==null)return 0;if(Ne==null)return ir(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!xo(se,Ne))return 0;if(e(se.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(se.L=0);var je=Ja[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=Ne.v-je>>4,se.zb=Ne.j-je>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=Ne.o+15+je>>4,se.Hb=Ne.va+15+je>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Be=se.ed;for(je=0;4>je;++je){var Te;if(se.Qa.Cb){var Fe=se.Qa.Lb[je];se.Qa.Fb||(Fe+=Be.Tb)}else Fe=Be.Tb;for(Te=0;1>=Te;++Te){var Me=se.gd[je][Te],$e=Fe;if(Be.Pc&&($e+=Be.vd[0],Te&&($e+=Be.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var qe=$e;0<Be.wb&&(qe=4<Be.wb?qe>>2:qe>>1)>9-Be.wb&&(qe=9-Be.wb),1>qe&&(qe=1),Me.dd=qe,Me.tc=2*$e+qe,Me.ld=40<=$e?2:15<=$e?1:0}else Me.tc=0;Me.La=Te}}}je=0}else ir(se,6,"Frame setup failed"),je=se.a;if(je=je==0){if(je){se.$c=0,0<se.Aa||(se.Ic=Ro);t:{je=se.Ic,Be=4*(qe=se.za);var At=32*qe,ut=qe+1,Yt=0<se.L?qe*(0<se.Aa?2:1):0,yt=(se.Aa==2?2:1)*qe;if((Me=Be+832+(Te=3*(16*je+Ja[se.L])/2*At)+(Fe=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Me)je=0;else{if(Me>se.Vb){if(se.Vb=0,se.Ec=o(Me),se.Fc=0,se.Ec==null){je=ir(se,1,"no memory during frame initialization.");break t}se.Vb=Me}Me=se.Ec,$e=se.Fc,se.Ac=Me,se.Bc=$e,$e+=Be,se.Gd=l(At,Qn),se.Hd=0,se.rb=l(ut+1,ot),se.sb=1,se.wa=Yt?l(Yt,Se):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=qe),e(!0),se.oc=Me,se.pc=$e,$e+=832,se.ya=l(yt,qn),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=qe),se.R=16*qe,se.B=8*qe,qe=(At=Ja[se.L])*se.R,At=At/2*se.B,se.sa=Me,se.ta=$e+qe,se.qa=se.sa,se.ra=se.ta+16*je*se.R+At,se.Ha=se.qa,se.Ia=se.ra+8*je*se.B+At,se.$c=0,$e+=Te,se.mb=Fe?Me:null,se.nb=Fe?$e:null,e($e+Fe<=se.Fc+se.Vb),hs(se),i(se.Ac,se.Bc,0,Be),je=1}}if(je){if(Ne.ka=0,Ne.y=se.sa,Ne.O=se.ta,Ne.f=se.qa,Ne.N=se.ra,Ne.ea=se.Ha,Ne.Vd=se.Ia,Ne.fa=se.R,Ne.Rc=se.B,Ne.F=null,Ne.J=0,!yd){for(je=-255;255>=je;++je)pd[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)gd[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)md[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)vd[255+je]=0>je?0:255<je?255:je;yd=1}ua=pn,$a=La,Di=_i,bn=Ps,Ln=Ls,dr=Pa,hr=ei,Pr=ti,Is=x,ac=B,wl=gs,Lo=pl,Jc=ae,bl=ve,Qc=Oi,dd=Dt,lc=vn,qa=jr,ws[0]=ic,ws[1]=Zs,ws[2]=So,ws[3]=Fr,ws[4]=hl,ws[5]=Ts,ws[6]=Ni,ws[7]=fl,ws[8]=eo,ws[9]=No,Ai[0]=Li,Ai[1]=Zo,Ai[2]=dl,Ai[3]=ea,Ai[4]=ts,Ai[5]=Zr,Ai[6]=ci,Fi[0]=Ri,Fi[1]=Xo,Fi[2]=Ta,Fi[3]=Ti,Fi[4]=ta,Fi[5]=ko,Fi[6]=na,je=1}else je=0}je&&(je=(function(ln,fr){for(ln.M=0;ln.M<ln.Va;++ln.M){var Jt,dt=ln.Jc[ln.M&ln.Xb],tt=ln.m,_r=ln;for(Jt=0;Jt<_r.za;++Jt){var qt=tt,rn=_r,Wn=rn.Ac,Wr=rn.Bc+4*Jt,Lr=rn.zc,ar=rn.ya[rn.aa+Jt];if(rn.Qa.Bb?ar.$b=Ce(qt,rn.Pa.jb[0])?2+Ce(qt,rn.Pa.jb[2]):Ce(qt,rn.Pa.jb[1]):ar.$b=0,rn.kc&&(ar.Ad=Ce(qt,rn.Bd)),ar.Za=!Ce(qt,145)+0,ar.Za){var Br=ar.Ob,Vr=0;for(rn=0;4>rn;++rn){var Xn,hn=Lr[0+rn];for(Xn=0;4>Xn;++Xn){hn=ap[Wn[Wr+Xn]][hn];for(var xn=hh[Ce(qt,hn[0])];0<xn;)xn=hh[2*xn+Ce(qt,hn[xn])];hn=-xn,Wn[Wr+Xn]=hn}r(Br,Vr,Wn,Wr,4),Vr+=4,Lr[0+rn]=hn}}else hn=Ce(qt,156)?Ce(qt,128)?1:3:Ce(qt,163)?2:0,ar.Ob[0]=hn,i(Wn,Wr,hn,4),i(Lr,0,hn,4);ar.Dd=Ce(qt,142)?Ce(qt,114)?Ce(qt,183)?1:3:2:0}if(_r.m.Ka)return ir(ln,7,"Premature end-of-partition0 encountered.");for(;ln.ja<ln.za;++ln.ja){if(_r=dt,qt=(tt=ln).rb[tt.sb-1],Wn=tt.rb[tt.sb+tt.ja],Jt=tt.ya[tt.aa+tt.ja],Wr=tt.kc?Jt.Ad:0)qt.la=Wn.la=0,Jt.Za||(qt.Na=Wn.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var Zn,_n;if(qt=Wn,Wn=_r,Wr=tt.Pa.Xc,Lr=tt.ya[tt.aa+tt.ja],ar=tt.pb[Lr.$b],rn=Lr.ad,Br=0,Vr=tt.rb[tt.sb-1],hn=Xn=0,i(rn,Br,0,384),Lr.Za)var pr=0,gr=Wr[3];else{xn=o(16);var Fn=qt.Na+Vr.Na;if(Fn=Ga(Wn,Wr[1],Fn,ar.Eb,0,xn,0),qt.Na=Vr.Na=(0<Fn)+0,1<Fn)ua(xn,0,rn,Br);else{var hi=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)rn[Br+xn]=hi}pr=1,gr=Wr[0]}var Rn=15&qt.la,Mn=15&Vr.la;for(xn=0;4>xn;++xn){var Tr=1&Mn;for(hi=_n=0;4>hi;++hi)Rn=Rn>>1|(Tr=(Fn=Ga(Wn,gr,Fn=Tr+(1&Rn),ar.Sc,pr,rn,Br))>pr)<<7,_n=_n<<2|(3<Fn?3:1<Fn?2:rn[Br+0]!=0),Br+=16;Rn>>=4,Mn=Mn>>1|Tr<<7,Xn=(Xn<<8|_n)>>>0}for(gr=Rn,pr=Mn>>4,Zn=0;4>Zn;Zn+=2){for(_n=0,Rn=qt.la>>4+Zn,Mn=Vr.la>>4+Zn,xn=0;2>xn;++xn){for(Tr=1&Mn,hi=0;2>hi;++hi)Fn=Tr+(1&Rn),Rn=Rn>>1|(Tr=0<(Fn=Ga(Wn,Wr[2],Fn,ar.Qc,0,rn,Br)))<<3,_n=_n<<2|(3<Fn?3:1<Fn?2:rn[Br+0]!=0),Br+=16;Rn>>=2,Mn=Mn>>1|Tr<<5}hn|=_n<<4*Zn,gr|=Rn<<4<<Zn,pr|=(240&Mn)<<Zn}qt.la=gr,Vr.la=pr,Lr.Hc=Xn,Lr.Gc=hn,Lr.ia=43690&hn?0:ar.ia,Wr=!(Xn|hn)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Jt.$b][Jt.Za],tt.wa[tt.Y+tt.ja].La|=!Wr),_r.Ka)return ir(ln,7,"Premature end-of-file encountered.")}if(hs(ln),tt=fr,_r=1,Jt=(dt=ln).D,qt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Jt.M=dt.M,Jt.uc=qt,rs(dt,Jt),_r=1,Jt=(_n=dt.D).Nb,qt=(hn=Ja[dt.L])*dt.R,Wn=hn/2*dt.B,xn=16*Jt*dt.R,hi=8*Jt*dt.B,Wr=dt.sa,Lr=dt.ta-qt+xn,ar=dt.qa,rn=dt.ra-Wn+hi,Br=dt.Ha,Vr=dt.Ia-Wn+hi,Mn=(Rn=_n.M)==0,Xn=Rn>=dt.Va-1,dt.Aa==2&&rs(dt,_n),_n.uc)for(Tr=(Fn=dt).D.M,e(Fn.D.uc),_n=Fn.yb;_n<Fn.Hb;++_n){pr=_n,gr=Tr;var ii=(Ui=(kr=Fn).D).Nb;Zn=kr.R;var Ui=Ui.wa[Ui.Y+pr],Sr=kr.sa,Nr=kr.ta+16*ii*Zn+16*pr,fi=Ui.dd,Bn=Ui.tc;if(Bn!=0)if(e(3<=Bn),kr.L==1)0<pr&&dd(Sr,Nr,Zn,Bn+4),Ui.La&&qa(Sr,Nr,Zn,Bn),0<gr&&Qc(Sr,Nr,Zn,Bn+4),Ui.La&&lc(Sr,Nr,Zn,Bn);else{var pi=kr.B,bs=kr.qa,Fs=kr.ra+8*ii*pi+8*pr,Gr=kr.Ha,kr=kr.Ia+8*ii*pi+8*pr;ii=Ui.ld,0<pr&&(Pr(Sr,Nr,Zn,Bn+4,fi,ii),ac(bs,Fs,Gr,kr,pi,Bn+4,fi,ii)),Ui.La&&(Lo(Sr,Nr,Zn,Bn,fi,ii),bl(bs,Fs,Gr,kr,pi,Bn,fi,ii)),0<gr&&(hr(Sr,Nr,Zn,Bn+4,fi,ii),Is(bs,Fs,Gr,kr,pi,Bn+4,fi,ii)),Ui.La&&(wl(Sr,Nr,Zn,Bn,fi,ii),Jc(bs,Fs,Gr,kr,pi,Bn,fi,ii))}}if(dt.ia&&alert("todo:DitherRow"),tt.put!=null){if(_n=16*Rn,Rn=16*(Rn+1),Mn?(tt.y=dt.sa,tt.O=dt.ta+xn,tt.f=dt.qa,tt.N=dt.ra+hi,tt.ea=dt.Ha,tt.W=dt.Ia+hi):(_n-=hn,tt.y=Wr,tt.O=Lr,tt.f=ar,tt.N=rn,tt.ea=Br,tt.W=Vr),Xn||(Rn-=hn),Rn>tt.o&&(Rn=tt.o),tt.F=null,tt.J=null,dt.Fa!=null&&0<dt.Fa.length&&_n<Rn&&(tt.J=Er(dt,tt,_n,Rn-_n),tt.F=dt.mb,tt.F==null&&tt.F.length==0)){_r=ir(dt,3,"Could not decode alpha data.");break t}_n<tt.j&&(hn=tt.j-_n,_n=tt.j,e(!(1&hn)),tt.O+=dt.R*hn,tt.N+=dt.B*(hn>>1),tt.W+=dt.B*(hn>>1),tt.F!=null&&(tt.J+=tt.width*hn)),_n<Rn&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=_n-tt.j,tt.U=tt.va-tt.v,tt.T=Rn-_n,_r=tt.put(tt))}Jt+1!=dt.Ic||Xn||(r(dt.sa,dt.ta-qt,Wr,Lr+16*dt.R,qt),r(dt.qa,dt.ra-Wn,ar,rn+8*dt.B,Wn),r(dt.Ha,dt.Ia-Wn,Br,Vr+8*dt.B,Wn))}if(!_r)return ir(ln,6,"Output aborted.")}return 1})(se,Ne)),Ne.bc!=null&&Ne.bc(Ne),je&=1}return je?(se.cb=0,je):0})(g,E)||(w=g.a)}}else w=g.a}w==0&&G.Oa!=null&&G.Oa.fd&&(w=ml(G.ba))}G=w}H=G!=0?null:11>H?Q.f.RGBA.eb:Q.f.kb.y}else H=null;return H};var vc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(M,K){for(var L="",D=0;D<4;D++)L+=String.fromCharCode(M[K++]);return L}function f(M,K){return M[K+0]|M[K+1]<<8}function v(M,K){return(M[K+0]|M[K+1]<<8|M[K+2]<<16)>>>0}function b(M,K){return(M[K+0]|M[K+1]<<8|M[K+2]<<16|M[K+3]<<24)>>>0}new u;var y=[0],C=[0],S=[],j=new u,k=n,O=(function(M,K){var L={},D=0,I=!1,q=0,ce=0;if(L.frames=[],!(function(T,$){for(var Y=0;Y<4;Y++)if(T[$+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(M,K)){for(b(M,K+=4),K+=8;K<M.length;){var J=h(M,K),re=b(M,K+=4);K+=4;var V=re+(1&re);switch(J){case"VP8 ":case"VP8L":L.frames[D]===void 0&&(L.frames[D]={}),(te=L.frames[D]).src_off=I?ce:K-8,te.src_size=q+re+8,D++,I&&(I=!1,q=0,ce=0);break;case"VP8X":(te=L.header={}).feature_flags=M[K];var ge=K+4;te.canvas_width=1+v(M,ge),ge+=3,te.canvas_height=1+v(M,ge),ge+=3;break;case"ALPH":I=!0,q=V+8,ce=K-8;break;case"ANIM":(te=L.header).bgcolor=b(M,K),ge=K+4,te.loop_count=f(M,ge),ge+=2;break;case"ANMF":var _e,te;(te=L.frames[D]={}).offset_x=2*v(M,K),K+=3,te.offset_y=2*v(M,K),K+=3,te.width=1+v(M,K),K+=3,te.height=1+v(M,K),K+=3,te.duration=v(M,K),K+=3,_e=M[K++],te.dispose=1&_e,te.blend=_e>>1&1}J!="ANMF"&&(K+=V)}return L}})(k,0);O.response=k,O.rgbaoutput=!0,O.dataurl=!1;var P=O.header?O.header:null,R=O.frames?O.frames:null;if(P){P.loop_counter=P.loop_count,y=[P.canvas_height],C=[P.canvas_width];for(var ee=0;ee<R.length&&R[ee].blend!=0;ee++);}var ne=R[0],X=j.WebPDecodeRGBA(k,ne.src_off,ne.src_size,C,y);ne.rgba=X,ne.imgwidth=C[0],ne.imgheight=y[0];for(var W=0;W<C[0]*y[0]*4;W++)S[W]=X[W];return this.width=C,this.height=y,this.data=S,this}(function(n){var e,t,r,i,o,l,c,u,h,f=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new u,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new l,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new l,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,h=new f}]);var v=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=T;Object.defineProperty(this,"pdf",{get:function(){return $}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Ie){Y=!!Ie}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Ie){oe=!!Ie}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(Ie){isNaN(Ie)||(pe=Ie)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Ie){isNaN(Ie)||(le=Ie)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ie){var ue;typeof Ie=="number"?ue=[Ie,Ie,Ie,Ie]:((ue=new Array(4))[0]=Ie[0],ue[1]=Ie.length>=2?Ie[1]:ue[0],ue[2]=Ie.length>=3?Ie[2]:ue[0],ue[3]=Ie.length>=4?Ie[3]:ue[1]),h.margin=ue}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Ie){me=Ie}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Ie){ye=Ie}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Ie){Ce=Ie}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ie){Ie instanceof f&&(h=Ie)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ie){h.path=Ie}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Ie){Re=Ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ie){var ue;ue=b(Ie),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ie){var ue=b(Ie);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ie){["butt","round","square"].indexOf(Ie)!==-1&&(this.ctx.lineCap=Ie,this.pdf.setLineCap(Ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ie){isNaN(Ie)||(this.ctx.lineWidth=Ie,this.pdf.setLineWidth(Ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ie){["bevel","round","miter"].indexOf(Ie)!==-1&&(this.ctx.lineJoin=Ie,this.pdf.setLineJoin(Ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ie){isNaN(Ie)||(this.ctx.miterLimit=Ie,this.pdf.setMiterLimit(Ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ie){this.ctx.textBaseline=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ie){["right","end","center","left","start"].indexOf(Ie)!==-1&&(this.ctx.textAlign=Ie)}});var He=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Ie){He=null,Ve=Ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ie){var ue;if(this.ctx.font=Ie,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ie))!==null){var Rt=ue[1];ue[2];var lt=ue[3],ft=ue[4];ue[5];var we=ue[6],de=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ft)[2];ft=Math.floor(de==="px"?parseFloat(ft)*this.pdf.internal.scaleFactor:de==="em"?parseFloat(ft)*this.pdf.getFontSize():parseFloat(ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ft);var Pe=(function(gt){var ct,Zt,on=[],mt=gt.trim();if(mt==="")return r0;if(mt in Sy)return[Sy[mt]];for(;mt!=="";){switch(Zt=null,ct=(mt=ky(mt)).charAt(0)){case'"':case"'":Zt=HE(mt.substring(1),ct);break;default:Zt=WE(mt)}if(Zt===null||(on.push(Zt[0]),(mt=ky(Zt[1]))!==""&&mt.charAt(0)!==","))return r0;mt=mt.replace(/^,/,"")}return on})(we);if(this.fontFaces){var Ge=(function(gt,ct){if(He===null){var Zt=(function(on){var mt=[];return Object.keys(on).forEach(function(Ut){on[Ut].forEach(function(fn){var Lt=null;switch(fn){case"bold":Lt={family:Ut,weight:"bold"};break;case"italic":Lt={family:Ut,style:"italic"};break;case"bolditalic":Lt={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":Lt={family:Ut}}Lt!==null&&(Lt.ref={name:Ut,style:fn},mt.push(Lt))})}),mt})(gt.getFontList());He=(function(on){for(var mt={},Ut=0;Ut<on.length;++Ut){var fn=n0(on[Ut]),Lt=fn.family,$t=fn.stretch,Pt=fn.style,Nn=fn.weight;mt[Lt]=mt[Lt]||{},mt[Lt][$t]=mt[Lt][$t]||{},mt[Lt][$t][Pt]=mt[Lt][$t][Pt]||{},mt[Lt][$t][Pt][Nn]=fn}return mt})(Zt.concat(ct))}return He})(this.pdf,this.fontFaces),Ze=Pe.map(function(gt){return{family:gt,stretch:"normal",weight:lt,style:Rt}}),zt=(function(gt,ct,Zt){for(var on=(Zt=Zt||{}).defaultFontFamily||"times",mt=Object.assign({},qE,Zt.genericFontFamilies||{}),Ut=null,fn=null,Lt=0;Lt<ct.length;++Lt)if(mt[(Ut=n0(ct[Lt])).family]&&(Ut.family=mt[Ut.family]),gt.hasOwnProperty(Ut.family)){fn=gt[Ut.family];break}if(!(fn=fn||gt[on]))throw new Error("Could not find a font-family for the rule '"+Ny(Ut)+"' and default family '"+on+"'.");if(fn=(function($t,Pt){if(Pt[$t])return Pt[$t];var Nn=G0[$t],gn=Nn<=G0.normal?-1:1,tn=_y(Pt,gx,Nn,gn);if(!tn)throw new Error("Could not find a matching font-stretch value for "+$t);return tn})(Ut.stretch,fn),fn=(function($t,Pt){if(Pt[$t])return Pt[$t];for(var Nn=px[$t],gn=0;gn<Nn.length;++gn)if(Pt[Nn[gn]])return Pt[Nn[gn]];throw new Error("Could not find a matching font-style for "+$t)})(Ut.style,fn),!(fn=(function($t,Pt){if(Pt[$t])return Pt[$t];if($t===400&&Pt[500])return Pt[500];if($t===500&&Pt[400])return Pt[400];var Nn=$E[$t],gn=_y(Pt,mx,Nn,$t<400?-1:1);if(!gn)throw new Error("Could not find a matching font-weight for value "+$t);return gn})(Ut.weight,fn)))throw new Error("Failed to resolve a font for the rule '"+Ny(Ut)+"'.");return fn})(Ge,Ze);this.pdf.setFont(zt.ref.name,zt.ref.style)}else{var st="";(lt==="bold"||parseInt(lt,10)>=700||Rt==="bold")&&(st="bold"),Rt==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var ht="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<Pe.length;Nt++){if(this.pdf.internal.getFont(Pe[Nt],st,{noFallback:!0,disableWarning:!0})!==void 0){ht=Pe[Nt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Pe[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Pe[Nt],st="bold";else if(this.pdf.internal.getFont(Pe[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Pe[Nt],st="normal";break}}if(ht===""){for(var rt=0;rt<Pe.length;rt++)if(Vt[Pe[rt]]){ht=Vt[Pe[rt]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ie){this.ctx.globalCompositeOperation=Ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ie){this.ctx.globalAlpha=Ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ie){this.ctx.lineDashOffset=Ie,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ie){this.ctx.lineDash=Ie,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ie){this.ctx.ignoreClearRect=!!Ie}})};v.prototype.setLineDash=function(T){this.lineDash=T},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){R.call(this,"fill",!1)},v.prototype.stroke=function(){R.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(T,$){if(isNaN(T)||isNaN($))throw Jn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new l(T,$));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(T,$)},v.prototype.closePath=function(){var T=new l(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&zn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){T=new l(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(T.x,T.y)},v.prototype.lineTo=function(T,$){if(isNaN(T)||isNaN($))throw Jn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new l(T,$));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(Y.x,Y.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},v.prototype.quadraticCurveTo=function(T,$,Y,oe){if(isNaN(Y)||isNaN(oe)||isNaN(T)||isNaN($))throw Jn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new l(Y,oe)),le=this.ctx.transform.applyToPoint(new l(T,$));this.path.push({type:"qct",x1:le.x,y1:le.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new l(pe.x,pe.y)},v.prototype.bezierCurveTo=function(T,$,Y,oe,pe,le){if(isNaN(pe)||isNaN(le)||isNaN(T)||isNaN($)||isNaN(Y)||isNaN(oe))throw Jn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new l(pe,le)),ye=this.ctx.transform.applyToPoint(new l(T,$)),Ce=this.ctx.transform.applyToPoint(new l(Y,oe));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Ce.x,y2:Ce.y,x:me.x,y:me.y}),this.ctx.lastPoint=new l(me.x,me.y)},v.prototype.arc=function(T,$,Y,oe,pe,le){if(isNaN(T)||isNaN($)||isNaN(Y)||isNaN(oe)||isNaN(pe))throw Jn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new l(T,$));T=me.x,$=me.y;var ye=this.ctx.transform.applyToPoint(new l(0,Y)),Ce=this.ctx.transform.applyToPoint(new l(0,0));Y=Math.sqrt(Math.pow(ye.x-Ce.x,2)+Math.pow(ye.y-Ce.y,2))}Math.abs(pe-oe)>=2*Math.PI&&(oe=0,pe=2*Math.PI),this.path.push({type:"arc",x:T,y:$,radius:Y,startAngle:oe,endAngle:pe,counterclockwise:le})},v.prototype.arcTo=function(T,$,Y,oe,pe){throw new Error("arcTo not implemented.")},v.prototype.rect=function(T,$,Y,oe){if(isNaN(T)||isNaN($)||isNaN(Y)||isNaN(oe))throw Jn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,$),this.lineTo(T+Y,$),this.lineTo(T+Y,$+oe),this.lineTo(T,$+oe),this.lineTo(T,$),this.lineTo(T+Y,$),this.lineTo(T,$)},v.prototype.fillRect=function(T,$,Y,oe){if(isNaN(T)||isNaN($)||isNaN(Y)||isNaN(oe))throw Jn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,$,Y,oe),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},v.prototype.strokeRect=function(T,$,Y,oe){if(isNaN(T)||isNaN($)||isNaN(Y)||isNaN(oe))throw Jn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(T,$,Y,oe),this.stroke())},v.prototype.clearRect=function(T,$,Y,oe){if(isNaN(T)||isNaN($)||isNaN(Y)||isNaN(oe))throw Jn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,$,Y,oe))},v.prototype.save=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage($),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},v.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage($),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(T){var $,Y,oe,pe;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))$=0,Y=0,oe=0,pe=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(le!==null)$=parseInt(le[1]),Y=parseInt(le[2]),oe=parseInt(le[3]),pe=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)$=parseInt(le[1]),Y=parseInt(le[2]),oe=parseInt(le[3]),pe=parseFloat(le[4]);else{if(pe=1,typeof T=="string"&&T.charAt(0)!=="#"){var me=new ax(T);T=me.ok?me.toHex():"#000000"}T.length===4?($=T.substring(1,2),$+=$,Y=T.substring(2,3),Y+=Y,oe=T.substring(3,4),oe+=oe):($=T.substring(1,3),Y=T.substring(3,5),oe=T.substring(5,7)),$=parseInt($,16),Y=parseInt(Y,16),oe=parseInt(oe,16)}}return{r:$,g:Y,b:oe,a:pe,style:T}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(T,$,Y,oe){if(isNaN($)||isNaN(Y)||typeof T!="string")throw Jn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!y.call(this)){var pe=V(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;D.call(this,{text:T,x:$,y:Y,scale:le,angle:pe,align:this.textAlign,maxWidth:oe})}},v.prototype.strokeText=function(T,$,Y,oe){if(isNaN($)||isNaN(Y)||typeof T!="string")throw Jn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){oe=isNaN(oe)?void 0:oe;var pe=V(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;D.call(this,{text:T,x:$,y:Y,scale:le,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:oe})}},v.prototype.measureText=function(T){if(typeof T!="string")throw Jn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Y=this.pdf.internal.scaleFactor,oe=$.internal.getFontSize(),pe=$.getStringUnitWidth(T)*oe/$.internal.scaleFactor;return new function(le){var me=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:pe*=Math.round(96*Y/72*1e4)/1e4})},v.prototype.scale=function(T,$){if(isNaN(T)||isNaN($))throw Jn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new u(T,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.rotate=function(T){if(isNaN(T))throw Jn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new u(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.translate=function(T,$){if(isNaN(T)||isNaN($))throw Jn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new u(1,0,0,1,T,$);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.transform=function(T,$,Y,oe,pe,le){if(isNaN(T)||isNaN($)||isNaN(Y)||isNaN(oe)||isNaN(pe)||isNaN(le))throw Jn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new u(T,$,Y,oe,pe,le);this.ctx.transform=this.ctx.transform.multiply(me)},v.prototype.setTransform=function(T,$,Y,oe,pe,le){T=isNaN(T)?1:T,$=isNaN($)?0:$,Y=isNaN(Y)?0:Y,oe=isNaN(oe)?1:oe,pe=isNaN(pe)?0:pe,le=isNaN(le)?0:le,this.ctx.transform=new u(T,$,Y,oe,pe,le)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(T,$,Y,oe,pe,le,me,ye,Ce){var Re=this.pdf.getImageProperties(T),He=1,Ve=1,Ie=1,ue=1;oe!==void 0&&ye!==void 0&&(Ie=ye/oe,ue=Ce/pe,He=Re.width/oe*ye/oe,Ve=Re.height/pe*Ce/pe),le===void 0&&(le=$,me=Y,$=0,Y=0),oe!==void 0&&ye===void 0&&(ye=oe,Ce=pe),oe===void 0&&ye===void 0&&(ye=Re.width,Ce=Re.height);for(var Rt,lt=this.ctx.transform.decompose(),ft=V(lt.rotate.shx),we=new u,de=(we=(we=(we=we.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new c(le-$*Ie,me-Y*ue,oe*He,pe*Ve)),Pe=j.call(this,de),Ge=[],Ze=0;Ze<Pe.length;Ze+=1)Ge.indexOf(Pe[Ze])===-1&&Ge.push(Pe[Ze]);if(P(Ge),this.autoPaging)for(var zt=Ge[0],st=Ge[Ge.length-1],ht=zt;ht<st+1;ht++){this.pdf.setPage(ht);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=ht===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=ht===1?0:rt+(ht-2)*gt;if(this.ctx.clip_path.length!==0){var Zt=this.path;Rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Rt,this.posX+this.margin[3],-ct+Nt+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=Zt}var on=JSON.parse(JSON.stringify(de));on=O([on],this.posX+this.margin[3],-ct+Nt+this.ctx.prevPageLastElemOffset)[0];var mt=(ht>zt||ht<st)&&S.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,gt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",on.x,on.y,on.w,on.h,null,null,ft),mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",de.x,de.y,de.w,de.h,null,null,ft)};var j=function(T,$,Y){var oe=[];$=$||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":oe.push(Math.floor((T.y+pe)/Y)+1);break;case"arc":oe.push(Math.floor((T.y+pe-T.radius)/Y)+1),oe.push(Math.floor((T.y+pe+T.radius)/Y)+1);break;case"qct":var le=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);oe.push(Math.floor((le.y+pe)/Y)+1),oe.push(Math.floor((le.y+le.h+pe)/Y)+1);break;case"bct":var me=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);oe.push(Math.floor((me.y+pe)/Y)+1),oe.push(Math.floor((me.y+me.h+pe)/Y)+1);break;case"rect":oe.push(Math.floor((T.y+pe)/Y)+1),oe.push(Math.floor((T.y+T.h+pe)/Y)+1)}for(var ye=0;ye<oe.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ye];)k.call(this);return oe},k=function(){var T=this.fillStyle,$=this.strokeStyle,Y=this.font,oe=this.lineCap,pe=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=$,this.font=Y,this.lineCap=oe,this.lineWidth=pe,this.lineJoin=le},O=function(T,$,Y){for(var oe=0;oe<T.length;oe++)switch(T[oe].type){case"bct":T[oe].x2+=$,T[oe].y2+=Y;case"qct":T[oe].x1+=$,T[oe].y1+=Y;default:T[oe].x+=$,T[oe].y+=Y}return T},P=function(T){return T.sort(function($,Y){return $-Y})},R=function(T,$){for(var Y,oe,pe=this.fillStyle,le=this.strokeStyle,me=this.lineCap,ye=this.lineWidth,Ce=Math.abs(ye*this.ctx.transform.scaleX),Re=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Ie=[],ue=0;ue<Ve.length;ue++)if(Ve[ue].x!==void 0)for(var Rt=j.call(this,Ve[ue]),lt=0;lt<Rt.length;lt+=1)Ie.indexOf(Rt[lt])===-1&&Ie.push(Rt[lt]);for(var ft=0;ft<Ie.length;ft++)for(;this.pdf.internal.getNumberOfPages()<Ie[ft];)k.call(this);if(P(Ie),this.autoPaging)for(var we=Ie[0],de=Ie[Ie.length-1],Pe=we;Pe<de+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=pe,this.strokeStyle=le,this.lineCap=me,this.lineWidth=Ce,this.lineJoin=Re;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Pe===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Pe===1?0:zt+(Pe-2)*st;if(this.ctx.clip_path.length!==0){var Vt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Y,this.posX+this.margin[3],-ht+Ze+this.ctx.prevPageLastElemOffset),ee.call(this,T,!0),this.path=Vt}if(oe=JSON.parse(JSON.stringify(He)),this.path=O(oe,this.posX+this.margin[3],-ht+Ze+this.ctx.prevPageLastElemOffset),$===!1||Pe===0){var Nt=(Pe>we||Pe<de)&&S.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,st,null).clip().discardPath()),ee.call(this,T,$),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Ce,ee.call(this,T,$),this.lineWidth=ye;this.path=He},ee=function(T,$){if((T!=="stroke"||$||!C.call(this))&&(T==="stroke"||$||!y.call(this))){for(var Y,oe,pe=[],le=this.path,me=0;me<le.length;me++){var ye=le[me];switch(ye.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:ye,deltas:[],abs:[]});break;case"lt":var Ce=pe.length;if(le[me-1]&&!isNaN(le[me-1].x)&&(Y=[ye.x-le[me-1].x,ye.y-le[me-1].y],Ce>0)){for(;Ce>=0;Ce--)if(pe[Ce-1].close!==!0&&pe[Ce-1].begin!==!0){pe[Ce-1].deltas.push(Y),pe[Ce-1].abs.push(ye);break}}break;case"bct":Y=[ye.x1-le[me-1].x,ye.y1-le[me-1].y,ye.x2-le[me-1].x,ye.y2-le[me-1].y,ye.x-le[me-1].x,ye.y-le[me-1].y],pe[pe.length-1].deltas.push(Y);break;case"qct":var Re=le[me-1].x+2/3*(ye.x1-le[me-1].x),He=le[me-1].y+2/3*(ye.y1-le[me-1].y),Ve=ye.x+2/3*(ye.x1-ye.x),Ie=ye.y+2/3*(ye.y1-ye.y),ue=ye.x,Rt=ye.y;Y=[Re-le[me-1].x,He-le[me-1].y,Ve-le[me-1].x,Ie-le[me-1].y,ue-le[me-1].x,Rt-le[me-1].y],pe[pe.length-1].deltas.push(Y);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(ye)}}oe=$?null:T==="stroke"?"stroke":"fill";for(var lt=!1,ft=0;ft<pe.length;ft++)if(pe[ft].arc)for(var we=pe[ft].abs,de=0;de<we.length;de++){var Pe=we[de];Pe.type==="arc"?W.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,$,!lt):I.call(this,Pe.x,Pe.y),lt=!0}else if(pe[ft].close===!0)this.pdf.internal.out("h"),lt=!1;else if(pe[ft].begin!==!0){var Ge=pe[ft].start.x,Ze=pe[ft].start.y;q.call(this,pe[ft].deltas,Ge,Ze),lt=!0}oe&&M.call(this,oe),$&&K.call(this)}},ne=function(T){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-Y;case"top":return T+$-Y;case"hanging":return T+$-2*Y;case"middle":return T+$/2-Y;default:return T}},X=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function($,Y){this.colorStops.push([$,Y])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(T,$,Y,oe,pe,le,me,ye,Ce){for(var Re=J.call(this,Y,oe,pe,le),He=0;He<Re.length;He++){var Ve=Re[He];He===0&&(Ce?L.call(this,Ve.x1+T,Ve.y1+$):I.call(this,Ve.x1+T,Ve.y1+$)),ce.call(this,T,$,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}ye?K.call(this):M.call(this,me)},M=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(T,$){this.pdf.internal.out(t(T)+" "+r($)+" m")},D=function(T){var $;switch(T.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var Y=this.pdf.getTextDimensions(T.text),oe=ne.call(this,T.y),pe=X.call(this,oe)-Y.h,le=this.ctx.transform.applyToPoint(new l(T.x,oe)),me=this.ctx.transform.decompose(),ye=new u;ye=(ye=(ye=ye.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Ce,Re,He,Ve=this.ctx.transform.applyToRectangle(new c(T.x,oe,Y.w,Y.h)),Ie=ye.applyToRectangle(new c(T.x,pe,Y.w,Y.h)),ue=j.call(this,Ie),Rt=[],lt=0;lt<ue.length;lt+=1)Rt.indexOf(ue[lt])===-1&&Rt.push(ue[lt]);if(P(Rt),this.autoPaging)for(var ft=Rt[0],we=Rt[Rt.length-1],de=ft;de<we+1;de++){this.pdf.setPage(de);var Pe=de===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],zt=Ze-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],ht=st-this.margin[3],Vt=de===1?0:Ge+(de-2)*zt;if(this.ctx.clip_path.length!==0){var Nt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Ce,this.posX+this.margin[3],-1*Vt+Pe),ee.call(this,"fill",!0),this.path=Nt}var rt=O([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Vt+Pe+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*T.scale),He=this.lineWidth,this.lineWidth=He*T.scale);var gt=this.autoPaging!=="text";if(gt||rt.y+rt.h<=Ze){if(gt||rt.y>=Pe&&rt.x<=st){var ct=gt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||st-rt.x)[0],Zt=O([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Vt+Pe+this.ctx.prevPageLastElemOffset)[0],on=gt&&(de>ft||de<we)&&S.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,zt,null).clip().discardPath()),this.pdf.text(ct,Zt.x,Zt.y,{angle:T.angle,align:$,renderingMode:T.renderingMode}),on&&this.pdf.restoreGraphicsState()}}else rt.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-rt.y);T.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=He)}else T.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*T.scale),He=this.lineWidth,this.lineWidth=He*T.scale),this.pdf.text(T.text,le.x+this.posX,le.y+this.posY,{angle:T.angle,align:$,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=He)},I=function(T,$,Y,oe){Y=Y||0,oe=oe||0,this.pdf.internal.out(t(T+Y)+" "+r($+oe)+" l")},q=function(T,$,Y){return this.pdf.lines(T,$,Y,null,null)},ce=function(T,$,Y,oe,pe,le,me,ye){this.pdf.internal.out([e(i(Y+T)),e(o(oe+$)),e(i(pe+T)),e(o(le+$)),e(i(me+T)),e(o(ye+$)),"c"].join(" "))},J=function(T,$,Y,oe){for(var pe=2*Math.PI,le=Math.PI/2;$>Y;)$-=pe;var me=Math.abs(Y-$);me<pe&&oe&&(me=pe-me);for(var ye=[],Ce=oe?-1:1,Re=$;me>1e-5;){var He=Re+Ce*Math.min(me,le);ye.push(re.call(this,T,Re,He)),me-=Math.abs(He-Re),Re=He}return ye},re=function(T,$,Y){var oe=(Y-$)/2,pe=T*Math.cos(oe),le=T*Math.sin(oe),me=pe,ye=-le,Ce=me*me+ye*ye,Re=Ce+me*pe+ye*le,He=4/3*(Math.sqrt(2*Ce*Re)-Re)/(me*le-ye*pe),Ve=me-He*ye,Ie=ye+He*me,ue=Ve,Rt=-Ie,lt=oe+$,ft=Math.cos(lt),we=Math.sin(lt);return{x1:T*Math.cos($),y1:T*Math.sin($),x2:Ve*ft-Ie*we,y2:Ve*we+Ie*ft,x3:ue*ft-Rt*we,y3:ue*we+Rt*ft,x4:T*Math.cos(Y),y4:T*Math.sin(Y)}},V=function(T){return 180*T/Math.PI},ge=function(T,$,Y,oe,pe,le){var me=T+.5*(Y-T),ye=$+.5*(oe-$),Ce=pe+.5*(Y-pe),Re=le+.5*(oe-le),He=Math.min(T,pe,me,Ce),Ve=Math.max(T,pe,me,Ce),Ie=Math.min($,le,ye,Re),ue=Math.max($,le,ye,Re);return new c(He,Ie,Ve-He,ue-Ie)},_e=function(T,$,Y,oe,pe,le,me,ye){var Ce,Re,He,Ve,Ie,ue,Rt,lt,ft,we,de,Pe,Ge,Ze,zt=Y-T,st=oe-$,ht=pe-Y,Vt=le-oe,Nt=me-pe,rt=ye-le;for(Re=0;Re<41;Re++)ft=(Rt=(He=T+(Ce=Re/40)*zt)+Ce*((Ie=Y+Ce*ht)-He))+Ce*(Ie+Ce*(pe+Ce*Nt-Ie)-Rt),we=(lt=(Ve=$+Ce*st)+Ce*((ue=oe+Ce*Vt)-Ve))+Ce*(ue+Ce*(le+Ce*rt-ue)-lt),Re==0?(de=ft,Pe=we,Ge=ft,Ze=we):(de=Math.min(de,ft),Pe=Math.min(Pe,we),Ge=Math.max(Ge,ft),Ze=Math.max(Ze,we));return new c(Math.round(de),Math.round(Pe),Math.round(Ge-de),Math.round(Ze-Pe))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,$,Y=(T=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:$}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Tt.API),(function(n){var e=function(l){var c,u,h,f,v,b,y,C,S,j;for(u=[],h=0,f=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;f>h;h+=4)(v=(l.charCodeAt(h)<<24)+(l.charCodeAt(h+1)<<16)+(l.charCodeAt(h+2)<<8)+l.charCodeAt(h+3))!==0?(b=(v=((v=((v=((v=(v-(j=v%85))/85)-(S=v%85))/85)-(C=v%85))/85)-(y=v%85))/85)%85,u.push(b+33,y+33,C+33,S+33,j+33)):u.push(122);return(function(k,O){for(var P=O;P>0;P--)k.pop()})(u,c.length),String.fromCharCode.apply(String,u)+"~>"},t=function(l){var c,u,h,f,v,b=String,y="length",C=255,S="charCodeAt",j="slice",k="replace";for(l[j](-2),l=l[j](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),h=[],f=0,v=(l+=c="uuuuu"[j](l[y]%5||5))[y];v>f;f+=5)u=52200625*(l[S](f)-33)+614125*(l[S](f+1)-33)+7225*(l[S](f+2)-33)+85*(l[S](f+3)-33)+(l[S](f+4)-33),h.push(C&u>>24,C&u>>16,C&u>>8,C&u);return(function(O,P){for(var R=P;R>0;R--)O.pop()})(h,c[y]),b.fromCharCode.apply(b,h)},r=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var u="",h=0;h<l.length;h+=2)u+=String.fromCharCode("0x"+(l[h]+l[h+1]));return u},o=function(l){for(var c=new Uint8Array(l.length),u=l.length;u--;)c[u]=l.charCodeAt(u);return(c=z0(c)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(l,c){var u=0,h=l||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(Tt.API),(function(n){n.loadFile=function(e,t,r){return(function(i,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(u,h,f){var v=new XMLHttpRequest,b=0,y=function(C){var S=C.length,j=[],k=String.fromCharCode;for(b=0;b<S;b+=1)j.push(k(255&C.charCodeAt(b)));return j.join("")};if(v.open("GET",u,!h),v.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(v.onload=function(){v.status===200?f(y(this.responseText)):f(void 0)}),v.send(null),h&&v.status===200)return y(v.responseText)})(i,o,l)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(Tt.API),(function(n){function e(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):ol(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):ol(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var u=zn(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(c,u){var h=document.createElement(c);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},o=function c(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),v=u.firstChild;v;v=v.nextSibling)h!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(c(v,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},l=function c(u){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),h);return(f=f.setProgress(1,c,1,[c])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,u){return c.__proto__=u||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,u){return this.then(function(){switch(u=u||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),u){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var C=f[y],S=C.src.find(function(j){return j.format==="truetype"});S&&h.addFont(S.url,C.ref.name,C.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),u(this.prop.container,b)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},l.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var u=Object.keys(c||{}).map(function(h){if(h in l.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(c,u){return this.then(function(){var h=c in l.template.prop?this.prop[c]:this.opt[c];return u?u(h):h})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(c=c||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,u,h,f){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,u,h,f){return this.setProgress(c?this.progress.val+c:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},l.prototype.then=function(c,u){var h=this;return this.thenCore(c,u,function(f,v){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,f),b}).then(f,v).then(function(b){return h.updateProgress(1),b})})},l.prototype.thenCore=function(c,u,h){h=h||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),u&&(u=u.bind(f));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:l.convert(Object.assign({},f),Promise.prototype),b=h.call(v,c,u);return l.convert(b,f.__proto__)},l.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},l.prototype.thenList=function(c){var u=this;return c.forEach(function(h){u=u.thenCore(h)}),u},l.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return l.convert(u,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Tt.getPageSize=function(c,u,h){if(zn(c)==="object"){var f=c;c=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var v,b=(""+h).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+u}var C,S=0,j=0;if(y.hasOwnProperty(b))S=y[b][1]/v,j=y[b][0]/v;else try{S=h[1],j=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",j>S&&(C=j,j=S,S=C);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",S>j&&(C=j,j=S,S=C)}return{width:j,height:S,unit:u,k:v,orientation:c}},n.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(n0):null;var h=new l(u);return u.worker?h:h.from(c).doCallback()}})(Tt.API),Tt.API.addJS=function(n){return Ay=n,this.internal.events.subscribe("postPutResources",function(){hf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Cy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ay+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hf!==void 0&&Cy!==void 0&&this.internal.out("/Names <</JavaScript "+hf+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var l=i[o],c=r.exec(l);if(c!=null){var u=c[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(o=0;o<h;o++){var v=t.internal.newObject();f.push(v);var b=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<f.length;o++)t.internal.write("(page_"+(o+1)+")"+f[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var l={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var l=r.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var u=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(Tt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,l,c){var u,h=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(v){for(var b,y=256*v.charCodeAt(4)+v.charCodeAt(5),C=v.length,S={width:0,height:0,numcomponents:1},j=4;j<C;j+=2){if(j+=y,e.indexOf(v.charCodeAt(j+1))!==-1){b=256*v.charCodeAt(j+5)+v.charCodeAt(j+6),S={width:256*v.charCodeAt(j+7)+v.charCodeAt(j+8),height:b,numcomponents:v.charCodeAt(j+9)};break}y=256*v.charCodeAt(j+2)+v.charCodeAt(j+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:h,index:r,alias:i}}return f}})(Tt.API),Tt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,o=jE(n,{checkCrc:!0}),l=o.width,c=o.height,u=o.channels,h=o.palette,f=o.depth;i=h&&u===1?(function(W){for(var M=W.width,K=W.height,L=W.data,D=W.palette,I=W.depth,q=!1,ce=[],J=[],re=void 0,V=!1,ge=0,_e=0;_e<D.length;_e++){var te=L2(D[_e],4),T=te[0],$=te[1],Y=te[2],oe=te[3];ce.push(T,$,Y),oe!=null&&(oe===0?(ge++,J.length<1&&J.push(_e)):oe<255&&(V=!0))}if(V||ge>1){q=!0,J=void 0;var pe=M*K;re=new Uint8Array(pe);for(var le=new DataView(L.buffer),me=0;me<pe;me++){var ye=i0(le,me,I),Ce=L2(D[ye],4)[3];re[me]=Ce}}else ge===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:L,alphaBytes:re,needSMask:q,palette:ce,mask:J}})(o):u===2||u===4?(function(W){for(var M=W.data,K=W.width,L=W.height,D=W.channels,I=W.depth,q=D===2?"DeviceGray":"DeviceRGB",ce=D-1,J=K*L,re=ce,V=J*re,ge=1*J,_e=Math.ceil(V*I/8),te=Math.ceil(ge*I/8),T=new Uint8Array(_e),$=new Uint8Array(te),Y=new DataView(M.buffer),oe=new DataView(T.buffer),pe=new DataView($.buffer),le=!1,me=0;me<J;me++){for(var ye=me*D,Ce=0;Ce<re;Ce++)Dy(oe,i0(Y,ye+Ce,I),me*re+Ce,I);var Re=i0(Y,ye+re,I);Re<(1<<I)-1&&(le=!0),Dy(pe,Re,1*me,I)}return{colorSpace:q,colorsPerPixel:ce,sMaskBitsPerComponent:le?I:void 0,colorBytes:T,alphaBytes:$,needSMask:le}})(o):(function(W){var M=W.data,K=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(L){for(var D=L.length,I=new Uint8Array(2*D),q=new DataView(I.buffer,I.byteOffset,I.byteLength),ce=0;ce<D;ce++)q.setUint16(2*ce,L[ce],!1);return I})(M):M,needSMask:!1}})(o);var v,b,y,C=i,S=C.colorSpace,j=C.colorsPerPixel,k=C.sMaskBitsPerComponent,O=C.colorBytes,P=C.alphaBytes,R=C.needSMask,ee=C.palette,ne=C.mask,X=null;return r!==Tt.API.image_compression.NONE&&typeof z0=="function"?(X=(function(W){var M;switch(W){case Tt.API.image_compression.FAST:M=11;break;case Tt.API.image_compression.MEDIUM:M=13;break;case Tt.API.image_compression.SLOW:M=14;break;default:M=12}return M})(r),v=this.decode.FLATE_DECODE,b="/Predictor ".concat(X," /Colors ").concat(j," /BitsPerComponent ").concat(f," /Columns ").concat(l),n=Ly(O,Math.ceil(l*j*f/8),j,f,r),R&&(y=Ly(P,Math.ceil(l*k/8),1,k,r))):(v=void 0,b=void 0,n=O,R&&(y=P)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:n,index:e,filter:v,decodeParameters:b,transparency:ne,palette:ee,sMask:y,predictor:X,width:l,height:c,bitsPerComponent:f,sMaskBitsPerComponent:k,colorSpace:S}}},(function(n){n.processGIF89A=function(e,t,r,i){var o=new YE(e),l=o.width,c=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:l,height:c},f=new s0(100).encode(h,100);return n.processJPEG.call(this,f,t,r,i)},n.processGIF87A=n.processGIF89A})(Tt.API),Uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Uo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Jn.log("bit decode error:"+t)}},Uo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[o>>7-c&1];this.data[l+4*c]=u.blue,this.data[l+4*c+1]=u.green,this.data[l+4*c+2]=u.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Uo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=o>>4,u=15&o,h=this.palette[c];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Uo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Uo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,h=o>>15?255:0,f=r*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=h}this.pos+=n}},Uo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,u=(l>>5&t)/t*255|0,h=(l>>11)/e*255|0,f=i*this.width*4+4*o;this.data[f]=h,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=n}},Uo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Uo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},Uo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var o=new Uo(e,!1),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},h=new s0(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}})(Tt.API),My.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var o=new My(e),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},h=new s0(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}})(Tt.API),Tt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,u=0,h=0;h<i;h+=4){var f=r[h],v=r[h+1],b=r[h+2],y=r[h+3];o[c++]=f,o[c++]=v,o[c++]=b,l[u++]=y}var C=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:C,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Tt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Iu=Tt.API,ff=Iu.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,v=e.doKerning!==!1,b=0,y=n.length,C=0,S=c[0]||u,j=[];for(t=0;t<y;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/o)||0)/1e3):(b=v&&zn(h[r])==="object"&&!isNaN(parseInt(h[r][C],10))?h[r][C]/f:0,j.push((c[r]||S)/u+b)),C=r;return j},jy=Iu.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Iu.processArabic&&(n=Iu.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:ff.apply(this,arguments).reduce(function(o,l){return o+l},0)},Ey=function(n,e,t,r){for(var i=[],o=0,l=n.length,c=0;o!==l&&c+e[o]<t;)c+=e[o],o++;i.push(n.slice(0,o));var u=o;for(c=0;o!==l;)c+e[o]>r&&(i.push(n.slice(u,o)),c=0,u=o),c+=e[o],o++;return u!==o&&i.push(n.slice(u,o)),i},Py=function(n,e,t){t||(t={});var r,i,o,l,c,u,h,f=[],v=[f],b=t.textIndent||0,y=0,C=0,S=n.split(" "),j=ff.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var k=Array(u).join(" "),O=[];S.map(function(R){(R=R.split(/\s*\n/)).length>1?O=O.concat(R.map(function(ee,ne){return(ne&&ee.length?`
`:"")+ee})):O.push(R[0])}),S=O,u=jy.apply(this,[k,t])}for(o=0,l=S.length;o<l;o++){var P=0;if(r=S[o],u&&r[0]==`
`&&(r=r.substr(1),P=1),b+y+(C=(i=ff.apply(this,[r,t])).reduce(function(R,ee){return R+ee},0))>e||P){if(C>e){for(c=Ey.apply(this,[r,i,e-(b+y),e]),f.push(c.shift()),f=[c.pop()];c.length;)v.push([c.shift()]);C=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(R,ee){return R+ee},0)}else f=[r];v.push(f),b=C+u,y=j}else f.push(r),b+=y+C,y=j}return h=u?function(R,ee){return(ee?k:"")+R.join(" ")}:function(R){return R.join(" ")},v.map(h)},Iu.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var v=this.internal.getFont(f.fontName,f.fontStyle),b="Unicode";return v.metadata[b]?{widths:v.metadata[b].widths||{0:1},kerning:v.metadata[b].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var c,u,h=[];for(c=0,u=r.length;c<u;c++)h=h.concat(Py.apply(this,[r[c],l,o]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[t[o]]=e[o],i[e[o]]=t[o];var l=function(b){return"0x"+parseInt(b,10).toString(16)},c=n.__fontmetrics__.compress=function(b){var y,C,S,j,k=["{"];for(var O in b){if(y=b[O],isNaN(parseInt(O,10))?C="'"+O+"'":(O=parseInt(O,10),C=(C=l(O).slice(2)).slice(0,-1)+i[C.slice(-1)]),typeof y=="number")y<0?(S=l(y).slice(3),j="-"):(S=l(y).slice(2),j=""),S=j+S.slice(0,-1)+i[S.slice(-1)];else{if(zn(y)!=="object")throw new Error("Don't know what to do with value type "+zn(y)+".");S=c(y)}k.push(C+S)}return k.push("}"),k.join("")},u=n.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,C,S,j,k={},O=1,P=k,R=[],ee="",ne="",X=b.length-1,W=1;W<X;W+=1)(j=b[W])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(j):j=="{"?(R.push([P,S]),P={},S=void 0):j=="}"?((C=R.pop())[0][C[1]]=P,S=void 0,P=C[0]):j=="-"?O=-1:S===void 0?r.hasOwnProperty(j)?(ee+=r[j],S=parseInt(ee,16)*O,O=1,ee=""):ee+=j:r.hasOwnProperty(j)?(ne+=r[j],P[S]=parseInt(ne,16)*O,O=1,S=void 0,ne=""):ne+=j;return k},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},v={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(b){var y=b.font,C=v.Unicode[y.postScriptName];C&&(y.metadata.Unicode={},y.metadata.Unicode.widths=C.widths,y.metadata.Unicode.kerning=C.kerning);var S=f.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])})(Tt.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(yf(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(Tt),Tt.API.addSvgAsImage=function(n,e,t,r,i,o,l,c){if(isNaN(e)||isNaN(t))throw Jn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Jn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Kt.canvg?Promise.resolve(Kt.canvg):ol(()=>import("./index.es-Bxr2ENPt.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(f)}).then(function(){v.addImage(u.toDataURL("image/jpeg",1),e,t,r,i,l,c)})},Tt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Tt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),u=[],h=0,f=0,v=0;function b(C,S){var j,k=!1;for(j=0;j<C.length;j+=1)C[j]===S&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=c.length;for(v=0;v<y;v+=1)t[c[v]].value=t[c[v]].defaultValue,t[c[v]].explicitSet=!1}if(zn(n)==="object"){for(i in n)if(o=n[i],b(c,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&b(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(h=0;h<o.length;h+=1)if(r=!0,o[h].length===1&&typeof o[h][0]=="number")u.push(String(o[h]-1));else if(o[h].length>1){for(f=0;f<o[h].length;f+=1)typeof o[h][f]!="number"&&(r=!1);r===!0&&u.push([o[h][0]-1,o[h][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,S=[];for(C in t)t[C].explicitSet===!0&&(t[C].type==="name"?S.push("/"+C+" /"+t[C].value):S.push("/"+C+" "+t[C].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+l.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+l+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Tt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,l){for(var c,u=l.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],v=0,b=o.length;v<b;++v){if(c=l.metadata.characterToGlyph(o.charCodeAt(v)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(v),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(h[4-c.length],c)}return f.join("")},r=function(o){var l,c,u,h,f,v,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],v=0,b=(c=Object.keys(o).sort(function(y,C){return y-C})).length;v<b;v++)l=c[v],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(h=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+h+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,h=l.newObject,f=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",C=0;C<b.length;C++)y+=String.fromCharCode(b[C]);var S=h();f({data:y,addLength1:!0,objectId:S}),u("endobj");var j=h();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var k=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Bu(c.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var O=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+Bu(c.fontName)),u("/FontDescriptor "+k+" 0 R"),u("/W "+n.API.PDFObject.convert(v)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+j+" 0 R"),u("/BaseFont /"+Bu(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+O+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,h=l.newObject,f=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,b="",y=0;y<v.length;y++)b+=String.fromCharCode(v[y]);var C=h();f({data:b,addLength1:!0,objectId:C}),u("endobj");var S=h();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var j=h();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+C+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Bu(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=h();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Bu(c.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]);var i=function(o){var l,c=o.text||"",u=o.x,h=o.y,f=o.options||{},v=o.mutex||{},b=v.pdfEscape,y=v.activeFontKey,C=v.fonts,S=y,j="",k=0,O="",P=C[S].encoding;if(C[S].encoding!=="Identity-H")return{text:c,x:u,y:h,options:f,mutex:v};for(O=c,S=y,Array.isArray(c)&&(O=c[0]),k=0;k<O.length;k+=1)C[S].metadata.hasOwnProperty("cmap")&&(l=C[S].metadata.cmap.unicode.codeMap[O[k].charCodeAt(0)]),l||O[k].charCodeAt(0)<256&&C[S].metadata.hasOwnProperty("Unicode")?j+=O[k]:j+="";var R="";return parseInt(S.slice(1))<14||P==="WinAnsiEncoding"?R=b(j,S).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(R=t(j,C[S])),v.isHex=!0,{text:R,x:u,y:h,options:f,mutex:v}};e.events.push(["postProcessText",function(o){var l=o.text||"",c=[],u={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?c.push([i(Object.assign({},u,{text:l[h][0]})).text,l[h][1],l[h][2]]):c.push(i(Object.assign({},u,{text:l[h]})).text);o.text=c}else o.text=i(Object.assign({},u,{text:l})).text}])})(Tt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Tt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,l,c,u,h,f,v=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,P=0;this.__bidiEngine__={};var R=function(L){var D=L.charCodeAt(),I=D>>8,q=S[I];return q!==void 0?v[256*q+(255&D)]:I===252||I===253?"AL":k.test(I)?"L":I===8?"R":"N"},ee=function(L){for(var D,I=0;I<L.length;I++){if((D=R(L.charAt(I)))==="L")return!1;if(D==="R")return!0}return!1},ne=function(L,D,I,q){var ce,J,re,V,ge=D[q];switch(ge){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(ge="AN");break;case"AL":O=!0,ge="R";break;case"WS":case"BN":ge="N";break;case"CS":q<1||q+1>=D.length||(ce=I[q-1])!=="EN"&&ce!=="AN"||(J=D[q+1])!=="EN"&&J!=="AN"?ge="N":O&&(J="AN"),ge=J===ce?J:"N";break;case"ES":ge=(ce=q>0?I[q-1]:"B")==="EN"&&q+1<D.length&&D[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&I[q-1]==="EN"){ge="EN";break}if(O){ge="N";break}for(re=q+1,V=D.length;re<V&&D[re]==="ET";)re++;ge=re<V&&D[re]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(V=D.length,re=q+1;re<V&&D[re]==="NSM";)re++;if(re<V){var _e=L[q],te=_e>=1425&&_e<=2303||_e===64286;if(ce=D[re],te&&(ce==="R"||ce==="AL")){ge="R";break}}}ge=q<1||(ce=D[q-1])==="B"?"N":I[q-1];break;case"B":O=!1,i=!0,ge=P;break;case"S":o=!0,ge="N"}return ge},X=function(L,D,I){var q=L.split("");return I&&W(q,I,{hiLevel:P}),q.reverse(),D&&D.reverse(),q.join("")},W=function(L,D,I){var q,ce,J,re,V,ge=-1,_e=L.length,te=0,T=[],$=P?y:b,Y=[];for(O=!1,i=!1,o=!1,ce=0;ce<_e;ce++)Y[ce]=R(L[ce]);for(J=0;J<_e;J++){if(V=te,T[J]=ne(L,Y,T,J),q=240&(te=$[V][C[T[J]]]),te&=15,D[J]=re=$[te][5],q>0)if(q===16){for(ce=ge;ce<J;ce++)D[ce]=1;ge=-1}else ge=-1;if($[te][6])ge===-1&&(ge=J);else if(ge>-1){for(ce=ge;ce<J;ce++)D[ce]=re;ge=-1}Y[J]==="B"&&(D[J]=0),I.hiLevel|=re}o&&(function(oe,pe,le){for(var me=0;me<le;me++)if(oe[me]==="S"){pe[me]=P;for(var ye=me-1;ye>=0&&oe[ye]==="WS";ye--)pe[ye]=P}})(Y,D,_e)},M=function(L,D,I,q,ce){if(!(ce.hiLevel<L)){if(L===1&&P===1&&!i)return D.reverse(),void(I&&I.reverse());for(var J,re,V,ge,_e=D.length,te=0;te<_e;){if(q[te]>=L){for(V=te+1;V<_e&&q[V]>=L;)V++;for(ge=te,re=V-1;ge<re;ge++,re--)J=D[ge],D[ge]=D[re],D[re]=J,I&&(J=I[ge],I[ge]=I[re],I[re]=J);te=V}te++}}},K=function(L,D,I){var q=L.split(""),ce={hiLevel:P};return I||(I=[]),W(q,I,ce),(function(J,re,V){if(V.hiLevel!==0&&f)for(var ge,_e=0;_e<J.length;_e++)re[_e]===1&&(ge=j.indexOf(J[_e]))>=0&&(J[_e]=j[ge+1])})(q,I,ce),M(2,q,D,I,ce),M(1,q,D,I,ce),q.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,I){if((function(ce,J){if(J)for(var re=0;re<ce.length;re++)J[re]=re;c===void 0&&(c=ee(ce)),h===void 0&&(h=ee(ce))})(L,D),l||!u||h)if(l&&u&&c^h)P=c?1:0,L=X(L,D,I);else if(!l&&u&&h)P=c?1:0,L=K(L,D,I),L=X(L,D);else if(!l||c||u||h){if(l&&!u&&c^h)L=X(L,D),c?(P=0,L=K(L,D,I)):(P=1,L=K(L,D,I),L=X(L,D));else if(l&&c&&!u&&h)P=1,L=K(L,D,I),L=X(L,D);else if(!l&&!u&&c^h){var q=f;c?(P=1,L=K(L,D,I),P=0,f=!1,L=K(L,D,I),f=q):(P=0,L=K(L,D,I),L=X(L,D),P=1,f=!1,L=K(L,D,I),f=q,L=X(L,D))}}else P=0,L=K(L,D,I);else P=c?1:0,L=K(L,D,I);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,u=L.isOutputVisual,c=L.isInputRtl,h=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([t.doBidiReorder(i[c])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Tt),Tt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Zl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new uP(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new JE(this.contents),this.head=new XE(this),this.name=new rP(this),this.cmap=new yx(this),this.toUnicode={},this.hhea=new ZE(this),this.maxp=new iP(this),this.hmtx=new sP(this),this.post=new tP(this),this.os2=new eP(this),this.loca=new cP(this),this.glyf=new oP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var l,c,u,h;for(h=[],l=0,c=(u=this.bbox).length;l<c;l++)e=u[l],h.push(Math.round(e*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,l,c;for(l=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)i=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Qo,Zl=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,l,c,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*l+256*c+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),JE=(function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,l,c,u,h,f,v,b,y,C,S;for(S in y=Object.keys(t).length,u=Math.log(2),v=16*Math.floor(Math.log(y)/u),l=Math.floor(v/u),f=16*y-v,(i=new Zl).writeInt(this.scalarType),i.writeShort(y),i.writeShort(v),i.writeShort(l),i.writeShort(f),o=16*y,h=i.pos+o,c=null,C=[],t)for(b=t[S],i.writeString(S),i.writeInt(n(b)),i.writeInt(h),i.writeInt(b.length),C=C.concat(b),S==="head"&&(c=h),h+=b.length;h%4;)C.push(0),h++;return i.write(C),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,l;for(t=wx.call(t);t.length%4;)t.push(0);for(o=new Zl(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),QE={}.hasOwnProperty,Ea=function(n,e){for(var t in e)QE.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Qo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var XE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Zl).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),By=(function(){function n(e,t){var r,i,o,l,c,u,h,f,v,b,y,C,S,j,k,O,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(y=e.readUInt16(),b=y/2,e.pos+=6,o=(function(){var R,ee;for(ee=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)ee.push(e.readUInt16());return ee})(),e.pos+=2,S=(function(){var R,ee;for(ee=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)ee.push(e.readUInt16());return ee})(),h=(function(){var R,ee;for(ee=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)ee.push(e.readUInt16());return ee})(),f=(function(){var R,ee;for(ee=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)ee.push(e.readUInt16());return ee})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var R,ee;for(ee=[],u=R=0;0<=i?R<i:R>i;u=0<=i?++R:--R)ee.push(e.readUInt16());return ee})(),u=k=0,P=o.length;k<P;u=++k)for(j=o[u],r=O=C=S[u];C<=j?O<=j:O>=j;r=C<=j?++O:--O)f[u]===0?l=r+h[u]:(l=c[f[u]/2+(r-C)-(b-u)]||0)!==0&&(l+=h[u]),this.codeMap[r]=65535&l}e.pos=v}return n.encode=function(e,t){var r,i,o,l,c,u,h,f,v,b,y,C,S,j,k,O,P,R,ee,ne,X,W,M,K,L,D,I,q,ce,J,re,V,ge,_e,te,T,$,Y,oe,pe,le,me,ye,Ce,Re,He;switch(q=new Zl,l=Object.keys(e).sort(function(Ve,Ie){return Ve-Ie}),t){case"macroman":for(S=0,j=(function(){var Ve=[];for(C=0;C<256;++C)Ve.push(0);return Ve})(),O={0:0},o={},ce=0,ge=l.length;ce<ge;ce++)O[ye=e[i=l[ce]]]==null&&(O[ye]=++S),o[i]={old:e[i],new:O[e[i]]},j[i]=O[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(j),{charMap:o,subtable:q.data,maxGlyphID:S+1};case"unicode":for(D=[],v=[],P=0,O={},r={},k=h=null,J=0,_e=l.length;J<_e;J++)O[ee=e[i=l[J]]]==null&&(O[ee]=++P),r[i]={old:ee,new:O[ee]},c=O[ee]-i,k!=null&&c===h||(k&&v.push(k),D.push(i),h=c),k=i;for(k&&v.push(k),v.push(65535),D.push(65535),K=2*(M=D.length),W=2*Math.pow(Math.log(M)/Math.LN2,2),b=Math.log(W/2)/Math.LN2,X=2*M-W,u=[],ne=[],y=[],C=re=0,te=D.length;re<te;C=++re){if(L=D[C],f=v[C],L===65535){u.push(0),ne.push(0);break}if(L-(I=r[L].new)>=32768)for(u.push(0),ne.push(2*(y.length+M-C)),i=V=L;L<=f?V<=f:V>=f;i=L<=f?++V:--V)y.push(r[i].new);else u.push(I-L),ne.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*M+2*y.length),q.writeUInt16(0),q.writeUInt16(K),q.writeUInt16(W),q.writeUInt16(b),q.writeUInt16(X),le=0,T=v.length;le<T;le++)i=v[le],q.writeUInt16(i);for(q.writeUInt16(0),me=0,$=D.length;me<$;me++)i=D[me],q.writeUInt16(i);for(Ce=0,Y=u.length;Ce<Y;Ce++)c=u[Ce],q.writeUInt16(c);for(Re=0,oe=ne.length;Re<oe;Re++)R=ne[Re],q.writeUInt16(R);for(He=0,pe=y.length;He<pe;He++)S=y[He],q.writeUInt16(S);return{charMap:r,subtable:q.data,maxGlyphID:P+1}}},n})(),yx=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new By(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=By.encode(e,t),(i=new Zl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),ZE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),eP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),tP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(e.readUInt32());return u}.call(this)}},n})(),nP=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,o,l,c,u,h,f,v,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(u={},o=f=0,v=r.length;f<v;o=++f)i=r[o],e.pos=i.offset,h=e.readString(i.length),l=new nP(h,i),u[b=i.nameID]==null&&(u[b]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n})(),iP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),sP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,o,l,c,u;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)f.push(e.readInt16());return f})(),this.widths=function(){var h,f,v,b;for(b=[],h=0,f=(v=this.metrics).length;h<f;h++)o=v[h],b.push(o.advance);return b}.call(this),r=this.widths[this.widths.length-1],u=[],t=l=0;0<=i?l<i:l>i;t=0<=i?++l:--l)u.push(this.widths.push(r));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),wx=[].slice,oP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,o,l,c,u,h,f,v;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,l=(c=new Zl(t.read(i))).readShort(),h=c.readShort(),v=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[e]=l===-1?new lP(c,h,v,u,f):new aP(c,l,h,v,u,f),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,o,l,c,u;for(l=[],o=[],c=0,u=t.length;c<u;c++)i=e[t[c]],o.push(l.length),i&&(l=l.concat(i.encode(r)));return o.push(l.length),{table:l,offsets:o}},n})(),aP=(function(){function n(e,t,r,i,o,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),lP=(function(){function n(e,t,r,i,o){var l,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Zl(wx.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),cP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ea(n,Qo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<r.length;++l)if(r[l]=i,o<t.length&&t[o]==l){++o,r[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var h=new Array(4*r.length),f=0;f<r.length;++f)h[4*f+3]=255&r[f],h[4*f+2]=(65280&r[f])>>8,h[4*f+1]=(16711680&r[f])>>16,h[4*f]=(4278190080&r[f])>>24;return h},n})(),uP=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,l,c,u;for(i={},l=0,c=e.length;l<c;l++)i[o=e[l]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))r=u[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,l,c,u,h,f,v,b,y,C,S,j,k;for(i in r=yx.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),y={0:0},k=r.charMap)y[(u=k[i]).old]=u.new;for(C in b=r.maxGlyphID,l)C in y||(y[C]=b++);return f=(function(O){var P,R;for(P in R={},O)R[O[P]]=P;return R})(y),v=Object.keys(f).sort(function(O,P){return O-P}),S=(function(){var O,P,R;for(R=[],O=0,P=v.length;O<P;O++)c=v[O],R.push(f[c]);return R})(),o=this.font.glyf.encode(l,S,y),h=this.font.loca.encode(o.offsets,S),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n})();Tt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,l;if(Array.isArray(t))return"["+(function(){var c,u,h;for(h=[],c=0,u=t.length;c<u;c++)r=t[c],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)l=t[i],o.push("/"+i+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+t},e})();function bx(n,e,t,r,i){r=r||{};var o=1.15,l=i.internal.scaleFactor,c=i.internal.getFontSize()/l,u=i.getLineHeightFactor?i.getLineHeightFactor():o,h=c*u,f=/\r\n|\r|\n/g,v="",b=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(v=typeof n=="string"?n.split(f):n,b=v.length||1),t+=c*(2-o),r.valign==="middle"?t-=b/2*h:r.valign==="bottom"&&(t-=b*h),r.halign==="center"||r.halign==="right"){var y=c;if(r.halign==="center"&&(y*=.5),v&&b>=1){for(var C=0;C<v.length;C++)i.text(v[C],e-i.getStringUnitWidth(v[C])*y,t),t+=h;return i}e-=i.getStringUnitWidth(n)*y}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var zy={},Ju=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:zy=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,u=l.fontName;if(e.font&&(u=e.font),e.fontStyle){c=e.fontStyle;var h=this.getFontList()[u];h&&h.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),c=h[0])}if(this.jsPDFDocument.setFont(u,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=n.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=n.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=n.unifyColor(e.lineColor),f&&(o=this.jsPDFDocument).setDrawColor.apply(o,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,o){return this.jsPDFDocument.rect(e,t,r,i,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return zy||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),K0=function(n,e){return K0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},K0(n,e)};function xx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _x=(function(n){xx(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function dP(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hP(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Uf(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,l){return Math.max(o,l)},0);return i}function Sx(n,e,t,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:o});var l=Nx(i,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,l)}function Nx(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function ip(n,e){var t,r,i,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function kx(n,e){var t=ip(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function fP(n,e,t,r,i){var o={},l=1.3333333333333333,c=o0(e,function(P){return i.getComputedStyle(P).backgroundColor});c!=null&&(o.fillColor=c);var u=o0(e,function(P){return i.getComputedStyle(P).color});u!=null&&(o.textColor=u);var h=gP(r,t);h&&(o.cellPadding=h);var f="borderTopColor",v=l*t,b=r.borderTopWidth;if(r.borderBottomWidth===b&&r.borderRightWidth===b&&r.borderLeftWidth===b){var y=(parseFloat(b)||0)/v;y&&(o.lineWidth=y)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/v,right:(parseFloat(r.borderRightWidth)||0)/v,bottom:(parseFloat(r.borderBottomWidth)||0)/v,left:(parseFloat(r.borderLeftWidth)||0)/v},o.lineWidth.top||(o.lineWidth.right?f="borderRightColor":o.lineWidth.bottom?f="borderBottomColor":o.lineWidth.left&&(f="borderLeftColor"));var C=o0(e,function(P){return i.getComputedStyle(P)[f]});C!=null&&(o.lineColor=C);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var j=parseInt(r.fontSize||"");isNaN(j)||(o.fontSize=j/l);var k=pP(r);k&&(o.fontStyle=k);var O=(r.fontFamily||"").toLowerCase();return n.indexOf(O)!==-1&&(o.font=O),o}function pP(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function o0(n,e){var t=Cx(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Cx(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:Cx(n.parentElement,e):t}function gP(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(c){return parseInt(c||"0")/r}),l=ip(o,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function Ax(n,e,t,r,i){var o,l;r===void 0&&(r=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var u=Object.keys(n.getFontList()),h=n.scaleFactor(),f=[],v=[],b=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:f,body:v,foot:b};for(var y=0;y<c.rows.length;y++){var C=c.rows[y],S=(l=(o=C?.parentElement)===null||o===void 0?void 0:o.tagName)===null||l===void 0?void 0:l.toLowerCase(),j=mP(u,h,t,C,r,i);j&&(S==="thead"?f.push(j):S==="tfoot"?b.push(j):v.push(j))}return{head:f,body:v,foot:b}}function mP(n,e,t,r,i,o){for(var l=new _x(r),c=0;c<r.cells.length;c++){var u=r.cells[c],h=t.getComputedStyle(u);if(i||h.display!=="none"){var f=void 0;o&&(f=fP(n,u,e,h,t)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:vP(u)})}}var v=t.getComputedStyle(r);if(l.length>0&&(i||v.display!=="none"))return l}function vP(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function yP(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function sl(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])}return o}function jx(n,e){var t=new Ju(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();yP(i,r,e);var o=sl({},i,r,e),l;typeof window<"u"&&(l=window);var c=wP(i,r,e),u=bP(i,r,e),h=xP(t,o),f=SP(t,o,l);return{id:e.tableId,content:f,hooks:u,styles:c,settings:h}}function wP(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var h=n[u],f=e[u],v=t[u];r.columnStyles=sl({},h,f,v)}else{var b=[n,e,t],y=b.map(function(C){return C[u]||{}});r[u]=sl({},y[0],y[1],y[2])}},o=0,l=Object.keys(r);o<l.length;o++){var c=l[o];i(c)}return r}function bP(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,l=r;o<l.length;o++){var c=l[o];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function xP(n,e){var t,r,i,o,l,c,u,h,f,v,b,y,C=ip(e.margin,40/n.scaleFactor()),S=(t=_P(n,e.startY))!==null&&t!==void 0?t:C.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var O=(o=e.useCss)!==null&&o!==void 0?o:!1,P=e.theme||(O?"plain":"striped"),R=!!e.horizontalPageBreak,ee=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:O,theme:P,startY:S,margin:C,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:k,showFoot:j,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:R,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function _P(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;o=l===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function SP(n,e,t){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var c=Ax(n,e.html,t,l,e.useCss)||{};r=c.head||r,i=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||NP(r,i,o);return{columns:u,head:r,body:i,foot:o}}function NP(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var l=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(l=c?.colSpan||1);for(var u=0;u<l;u++){var h=void 0;Array.isArray(r)?h=i.length:h=o+(u>0?"_".concat(u):"");var f={dataKey:h};i.push(f)}}),i}var Y0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),kP=(function(n){xx(e,n);function e(t,r,i,o,l,c){var u=n.call(this,t,r,c)||this;return u.cell=i,u.row=o,u.column=l,u.section=o.section,u}return e})(Y0),CP=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,o,l){for(var c=0,u=t;c<u.length;c++){var h=u[c],f=new kP(e,this,r,i,o,l),v=h(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],v)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new Y0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new Y0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),Ex=(function(){function n(e,t,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof _x&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=t.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,o){var l=r.cells[o.index];if(!l)return 0;var c=t.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),h=u+c;return h>i?h:i},0)},n})(),Px=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=ip(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),AP=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],l=o.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n})();function jP(n,e){EP(n,e);var t=[],r=0;e.columns.forEach(function(o){var l=o.getMaxCustomCellWidth(e);l?o.width=l:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=J0(t,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=J0(t,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),LP(e),TP(e,n),PP(e)}function EP(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=kx(n,e);e.allRows().forEach(function(o){for(var l=0,c=e.columns;l<c.length;l++){var u=c[l],h=o.cells[u.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(n,f,h,o,u,null);var v=h.padding("horizontal");h.contentWidth=Uf(h.text,h.styles,n)+v;var b=Uf(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=b+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var y=10/t;h.minWidth=h.styles.minCellWidth||y,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(o){for(var l=0,c=e.columns;l<c.length;l++){var u=c[l],h=o.cells[u.index];if(h&&h.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,h.wrappedWidth),u.minWidth=Math.max(u.minWidth,h.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},v=f.cellWidth||f.minCellWidth;v&&typeof v=="number"&&(u.minWidth=v,u.wrappedWidth=v)}h&&(h.colSpan>1&&!u.minWidth&&(u.minWidth=h.minWidth),h.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=h.minWidth))}})}function J0(n,e,t){for(var r=e,i=n.reduce(function(y,C){return y+C.wrappedWidth},0),o=0;o<n.length;o++){var l=n[o],c=l.wrappedWidth/i,u=r*c,h=l.width+u,f=t(l),v=h<f?f:h;e-=v-l.width,l.width=v}if(e=Math.round(e*1e10)/1e10,e){var b=n.filter(function(y){return e<0?y.width>t(y):!0});b.length&&(e=J0(b,e,t))}return e}function PP(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var o=r[i],l=0,c=n.columns;l<c.length;l++){var u=c[l],h=e[u.index];if(t>1)t--,delete o.cells[u.index];else if(h)h.cell.height+=o.height,t=h.cell.colSpan,delete o.cells[u.index],h.left--,h.left<=1&&delete e[u.index];else{var f=o.cells[u.index];if(!f)continue;if(f.height=o.height,f.rowSpan>1){var v=r.length-i,b=f.rowSpan>v?v:f.rowSpan;e[u.index]={cell:f,left:b,row:o}}}}}function LP(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,o=0,l=0,c=0;c<n.columns.length;c++){var u=n.columns[c];if(l-=1,l>1&&n.columns[c+1])o+=u.width,delete r.cells[u.index];else if(i){var h=i;delete r.cells[u.index],i=null,h.width=u.width+o}else{var h=r.cells[u.index];if(!h)continue;if(l=h.colSpan,o=0,h.colSpan>1){i=h,o+=u.width;continue}h.width=u.width+o}}}function TP(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var o=i[r],l=0,c=n.columns;l<c.length;l++){var u=c[l],h=o.cells[u.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=Uy(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=Uy(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var v=h.styles.overflow(h.text,f);typeof v=="string"?h.text=[v]:h.text=v}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<b*h.rowSpan?t={height:b,count:h.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>o.height&&(o.height=b)}}t.count--}}function Uy(n,e,t,r,i){return n.map(function(o){return RP(o,e,t,r,i)})}function RP(n,e,t,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Uf(n,t,r))return n;for(;e<Uf(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function Lx(n,e){var t=new Ju(n),r=OP(e,t.scaleFactor()),i=new CP(e,r);return jP(t,i),t.applyStyles(t.userStyles),i}function OP(n,e){var t=n.content,r=DP(t.columns);if(t.head.length===0){var i=$y(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=$y(r,"foot");i&&t.foot.push(i)}var o=n.settings.theme,l=n.styles;return{columns:r,head:a0("head",t.head,r,l,o,e),body:a0("body",t.body,r,l,o,e),foot:a0("foot",t.foot,r,l,o,e)}}function a0(n,e,t,r,i,o){var l={},c=e.map(function(u,h){for(var f=0,v={},b=0,y=0,C=0,S=t;C<S.length;C++){var j=S[C];if(l[j.index]==null||l[j.index].left===0)if(y===0){var k=void 0;Array.isArray(u)?k=u[j.index-b-f]:k=u[j.dataKey];var O={};typeof k=="object"&&!Array.isArray(k)&&(O=k?.styles||{});var P=FP(n,j,h,i,r,o,O),R=new Px(k,P,n);v[j.dataKey]=R,v[j.index]=R,y=R.colSpan-1,l[j.index]={left:R.rowSpan-1,times:y}}else y--,b++;else l[j.index].left--,y=l[j.index].times,f++}return new Ex(u,h,n,v)});return c}function $y(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=IP(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function IP(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function DP(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new AP(i,e,t)})}function FP(n,e,t,r,i,o,l){var c=hP(r),u;n==="head"?u=i.headStyles:n==="body"?u=i.bodyStyles:n==="foot"&&(u=i.footStyles);var h=sl({},c.table,c[n],i.styles,u),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},v=n==="body"?f:{},b=n==="body"&&t%2===0?sl({},c.alternateRow,i.alternateRowStyles):{},y=dP(o),C=sl({},y,h,b,v);return sl(C,l)}function MP(n,e,t){var r;t===void 0&&(t={});var i=kx(n,e),o=new Map,l=[],c=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(b){var y=e.columns.find(function(C){return C.dataKey===b||C.index===b});y&&!o.has(y.index)&&(o.set(y.index,!0),l.push(y.index),c.push(e.columns[y.index]),i-=y.wrappedWidth)});for(var h=!0,f=(r=t?.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(o.has(f)){f++;continue}var v=e.columns[f].wrappedWidth;if(h||i>=v)h=!1,l.push(f),c.push(e.columns[f]),i-=v;else break;f++}return{colIndexes:l,columns:c,lastIndex:f-1}}function BP(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=MP(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function Tx(n,e){var t=e.settings,r=t.startY,i=t.margin,o={x:i.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+i.bottom+l;if(t.pageBreak==="avoid"){var u=e.body,h=u.reduce(function(b,y){return b+y.height},0);c+=h}var f=new Ju(n);(t.pageBreak==="always"||t.startY!=null&&c>f.pageSize().height)&&(Ox(f),o.y=i.top),e.callWillDrawPageHooks(f,o);var v=sl({},o);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?zP(f,e,v,o):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return cl(f,e,b,o,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(b,y){var C=y===e.body.length-1;$f(f,e,b,C,v,o,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return cl(f,e,b,o,e.columns)})),Sx(f,e,v,o),e.callEndPageHooks(f,o),e.finalY=o.y,n.lastAutoTable=e,f.applyStyles(f.userStyles)}function zP(n,e,t,r){var i=BP(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,f){n.applyStyles(n.userStyles),f>0?Kd(n,e,t,r,h.columns,!0):qy(n,e,r,h.columns),UP(n,e,t,r,h.columns),l0(n,e,r,h.columns)});else for(var l=-1,c=i[0],u=function(){var h=l;if(c){n.applyStyles(n.userStyles);var f=c.columns;l>=0?Kd(n,e,t,r,f,!0):qy(n,e,r,f),h=Hy(n,e,l+1,r,f),l0(n,e,r,f)}var v=h-l;i.slice(1).forEach(function(b){n.applyStyles(n.userStyles),Kd(n,e,t,r,b.columns,!0),Hy(n,e,l+1,r,b.columns,v),l0(n,e,r,b.columns)}),l=h};l<e.body.length-1;)u()}function qy(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return cl(n,e,o,t,r)})}function UP(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(o,l){var c=l===e.body.length-1;$f(n,e,o,c,t,r,i)})}function Hy(n,e,t,r,i,o){n.applyStyles(n.userStyles),o=o??e.body.length;var l=Math.min(t+o,e.body.length),c=-1;return e.body.slice(t,l).forEach(function(u,h){var f=t+h===e.body.length-1,v=Rx(n,e,f,r);u.canEntireRowFit(v,i)&&(cl(n,e,u,r,i),c=t+h)}),c}function l0(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return cl(n,e,o,t,r)})}function $P(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function qP(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var o=0,l=0,c=t.columns;l<c.length;l++){var u=c[l],h=n.cells[u.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new Px(h.raw,h.styles,h.section);f=sl(f,h),f.text=[];var v=$P(h,e,r);h.text.length>v&&(f.text=h.text.splice(v,h.text.length));var b=r.scaleFactor(),y=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(b,y),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>n.height&&(n.height=h.contentHeight),f.contentHeight=f.getContentHeight(b,y),f.contentHeight>o&&(o=f.contentHeight),i[u.index]=f}}var C=new Ex(n.raw,-1,n.section,i,!0);C.height=o;for(var S=0,j=t.columns;S<j.length;S++){var u=j[S],f=C.cells[u.index];f&&(f.height=C.height);var h=n.cells[u.index];h&&(h.height=n.height)}return C}function HP(n,e,t,r){var i=n.pageSize().height,o=r.settings.margin,l=o.top+o.bottom,c=i-l;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,n),h=u<t;if(u>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(r.columns),v=e.getMaxCellHeight(r.columns)>c;return v?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function $f(n,e,t,r,i,o,l){var c=Rx(n,e,r,o);if(t.canEntireRowFit(c,l))cl(n,e,t,o,l);else if(HP(n,t,c,e)){var u=qP(t,c,e,n);cl(n,e,t,o,l),Kd(n,e,i,o,l),$f(n,e,u,r,i,o,l)}else Kd(n,e,i,o,l),$f(n,e,t,r,i,o,l)}function cl(n,e,t,r,i){r.x=e.settings.margin.left;for(var o=0,l=i;o<l.length;o++){var c=l[o],u=t.cells[c.index];if(!u){r.x+=c.width;continue}n.applyStyles(u.styles),u.x=r.x,u.y=r.y;var h=e.callCellHooks(n,e.hooks.willDrawCell,u,t,c,r);if(h===!1){r.x+=c.width;continue}WP(n,u,r);var f=u.getTextPos();bx(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,u,t,c,r),r.x+=c.width}r.y+=t.height}function WP(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Nx(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),VP(n,e,t,r.lineWidth))}function VP(n,e,t,r){var i,o,l,c;r.top&&(i=t.x,o=t.y,l=t.x+e.width,c=t.y,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,o,l,c)),r.bottom&&(i=t.x,o=t.y+e.height,l=t.x+e.width,c=t.y+e.height,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,o,l,c)),r.left&&(i=t.x,o=t.y,l=t.x,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),u(r.left,i,o,l,c)),r.right&&(i=t.x+e.width,o=t.y,l=t.x+e.width,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),u(r.right,i,o,l,c));function u(h,f,v,b,y){n.getDocument().setLineWidth(h),n.getDocument().line(f,v,b,y,"S")}}function Rx(n,e,t,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function Kd(n,e,t,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return cl(n,e,c,r,i)}),e.callEndPageHooks(n,r);var l=e.settings.margin;Sx(n,e,t,r),Ox(n),e.pageNumber++,r.x=l.left,r.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return cl(n,e,c,r,i)}),n.applyStyles(n.userStyles))}function Ox(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function GP(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=jx(this,r),o=Lx(this,i);return Tx(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){bx(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Ju.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Ju.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ju(this),o=Ax(i,e,window,t,!1),l=o.head,c=o.body,u=((r=l[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:u,rows:c,data:c}}}var c0;function KP(n,e){var t=jx(n,e),r=Lx(n,t);Tx(n,r)}try{if(typeof window<"u"&&window){var Wy=window,Vy=Wy.jsPDF||((c0=Wy.jspdf)===null||c0===void 0?void 0:c0.jsPDF);Vy&&GP(Vy)}}catch(n){console.error("Could not apply autoTable plugin",n)}const YP=({token:n})=>{const[e,t]=z.useState([]),[r,i]=z.useState([]),[o,l]=z.useState([]),[c,u]=z.useState([]),[h,f]=z.useState(!0),[v,b]=z.useState(!1),[y,C]=z.useState(!1),[S,j]=z.useState(!1),[k,O]=z.useState(""),[P,R]=z.useState([]),[ee,ne]=z.useState([]),[X,W]=z.useState(""),[M,K]=z.useState({deviceId:"",organizationId:"",technicianId:"",notes:"",date:new Date().toISOString().split("T")[0],charges:""}),[L,D]=z.useState({technicianId:"",notes:"",date:new Date().toISOString().split("T")[0]}),[I,q]=z.useState(""),[ce,J]=z.useState(""),[re,V]=z.useState([]),[ge,_e]=z.useState(""),[te,T]=z.useState(""),[$,Y]=z.useState(null),[oe,pe]=z.useState(""),[le,me]=z.useState(null),[ye,Ce]=z.useState(""),[Re,He]=z.useState(1),Ve=10,Ie=z.useRef(null),ue=z.useRef(null),[Rt,lt]=z.useState(!1),[ft,we]=z.useState(!1),[de,Pe]=z.useState(!1),[Ge,Ze]=z.useState(!1),zt=()=>{const he=ue.current;he&&(lt(he.scrollLeft>0),we(he.scrollWidth>he.clientWidth&&he.scrollLeft+he.clientWidth<he.scrollWidth-1))},st=he=>e.some(ze=>ze.device_id===he&&ze.status&&!["Completed","Cancelled"].includes(ze.status)),ht=()=>{const he=Ie.current;he&&(Pe(he.scrollTop>0),Ze(he.scrollTop+he.clientHeight<he.scrollHeight-1))};z.useEffect(()=>{zt();const he=()=>zt();return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[P,Re]),z.useEffect(()=>{ht();const he=()=>ht();return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[P,Re]);const Vt=he=>{const ze=ue.current;ze&&(ze.scrollBy({left:he,behavior:"smooth"}),setTimeout(zt,300))},Nt=he=>{const ze=Ie.current;ze&&(ze.scrollBy({top:he,behavior:"smooth"}),setTimeout(ht,300))},rt=Math.max(1,Math.ceil(P.length/Ve)),gt=P.slice((Re-1)*Ve,Re*Ve),ct=he=>{const ze=Math.max(1,Math.min(rt,he));He(ze),setTimeout(()=>{zt(),ht()},150)},Zt=async()=>{try{const he=await fetch("http://localhost:8000/maintenance",{headers:{Authorization:`Bearer ${n}`}}),ze=await he.json();if(!he.ok){console.error("Error fetching maintenance records:",ze.error),Je.error(ze.error||"Failed to fetch maintenance records");return}t(ze.maintenance||[])}catch(he){console.error("Error fetching maintenance records:",he),Je.error("Failed to fetch maintenance records")}finally{f(!1)}},on=async()=>{try{const he=await fetch("http://localhost:8000/devices",{headers:{Authorization:`Bearer ${n}`}}),ze=await he.json();he.ok&&i(ze.devices||[])}catch(he){console.error("Error fetching devices:",he)}},mt=async()=>{try{const he=await fetch("http://localhost:8000/technicians",{headers:{Authorization:`Bearer ${n}`}}),ze=await he.json();he.ok&&l(ze.technicians||[])}catch(he){console.error("Error fetching technicians:",he)}},Ut=async()=>{try{const he=await fetch("http://localhost:8000/organizations",{headers:{Authorization:`Bearer ${n}`}}),ze=await he.json();he.ok&&u(ze.organizations||[])}catch(he){console.error("Error fetching organizations:",he)}};z.useEffect(()=>{Zt(),on(),mt(),Ut()},[n]),z.useEffect(()=>{He(1)},[P,y]);const fn=async he=>{if(he.preventDefault(),o.length===0){Je.error("Cannot schedule maintenance: No technicians available. Please add a technician first.");return}const ze=r.find(ot=>ot.id===M.deviceId);if(!ze){Je.error("Invalid device selected");return}const Se=e.find(ot=>ot.device_id===ze.id&&ot.status&&!["Completed","Cancelled"].includes(ot.status));if(Se){Je.error(`Cannot schedule: device "${ze.name}" already has an active maintenance (${Se.status}). Close it first.`);return}try{if(M.charges&&M.charges!==""){const qn=getDeviceType(M.deviceId),wr=Number(M.charges);if(qn.toLowerCase().trim()!=="non comprehensive"){Je.error("Charges can only be entered for Non Comprehensive devices");return}if(Number.isNaN(wr)||wr<0){Je.error("Charges must be a non-negative number");return}}const ot=await fetch("http://localhost:8000/maintenance",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({...M,organizationId:M.organizationId||ze.organization_id,charges:M.charges&&M.charges!==""?parseFloat(String(M.charges)):null})}),nn=await ot.json();if(!ot.ok){console.error("Error creating maintenance record:",nn.error),Je.error(nn.error||"Failed to create maintenance record");return}Je.success("Maintenance record created successfully!"),b(!1),K({deviceId:"",organizationId:"",technicianId:"",notes:"",date:new Date().toISOString().split("T")[0],charges:""}),Zt()}catch(ot){console.error("Error creating maintenance record:",ot),Je.error("Failed to create maintenance record")}},Lt=async he=>{if(he.preventDefault(),ee.length===0){Je.error("Please select at least one device");return}if(o.filter(nn=>!nn.is_archived).length===0){Je.error("Cannot schedule maintenance: No active technicians available. Please add a technician first.");return}const Se=ee.filter(nn=>st(nn)),ot=ee.filter(nn=>!st(nn));if(Se.length>0&&ot.length===0){const nn=Se.map(qn=>Nn(qn)).join(", ");Je.error(`Cannot schedule: these devices already have active maintenance and must be closed first: ${nn}`);return}try{if(Se.length>0){const wr=Se.map(Qn=>Nn(Qn)).join(", ");Je.warning(`Skipping devices with active maintenance: ${wr}`)}const nn=await fetch("http://localhost:8000/make-server-60660975/maintenance/bulk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({organizationId:X,deviceIds:ot,technicianId:L.technicianId,notes:L.notes,date:L.date})}),qn=await nn.json();if(!nn.ok){console.error("Error creating bulk maintenance records:",qn.error),Je.error(qn.error||"Failed to create maintenance records");return}Je.success(`${qn.count} maintenance records created successfully!`),j(!1),W(""),ne([]),D({technicianId:"",notes:"",date:new Date().toISOString().split("T")[0]}),Zt()}catch(nn){console.error("Error creating bulk maintenance records:",nn),Je.error("Failed to create maintenance records")}},$t=(he,ze)=>{K({...M,[he]:ze})},Pt=async()=>{if(!k){Je.error("Please select an organization");return}if(I&&ce&&I>ce){Je.error("Start date cannot be after end date");return}try{let he=`http://localhost:8000/make-server-60660975/maintenance/organization/${k}`;if(I||ce){const nn=[];I&&nn.push(`start=${I}`),ce&&nn.push(`end=${ce}`),he+=`?${nn.join("&")}`}const ze=await fetch(he,{headers:{Authorization:`Bearer ${n}`}}),Se=await ze.json();if(!ze.ok){console.error("Error fetching organization report:",Se.error),Je.error(Se.error||"Failed to generate report");return}let ot=Se.maintenance||[];(I||ce)&&(ot=ot.filter(nn=>{const qn=nn.created_at.split("T")[0];return!(I&&qn<I||ce&&qn>ce)}));try{ot.sort((nn,qn)=>{const wr=gn(nn.device_id)||"",Qn=gn(qn.device_id)||"";return wr.localeCompare(Qn,void 0,{numeric:!0,sensitivity:"base"})})}catch{}R(ot),C(!0)}catch(he){console.error("Error generating report:",he),Je.error("Failed to generate report")}},Nn=he=>{const ze=r.find(Se=>Se.id===he);return ze?ze.name:"Unknown"},gn=he=>{const ze=r.find(Se=>Se.id===he);return ze&&ze.serial_number||"-"},tn=he=>{const ze=r.find(Se=>Se.id===he);return ze&&ze.brand_serial_number||"-"},Ot=he=>{const ze=o.find(Se=>Se.id===he);return ze?ze.name:"Unknown"},nt=he=>{const ze=c.find(Se=>Se.id===he);return ze?ze.name:"Unknown"},yn=he=>r.filter(ze=>ze.organization_id===he),an=he=>{st(he)||ne(ze=>ze.includes(he)?ze.filter(Se=>Se!==he):[...ze,he])},$n=he=>{const Se=yn(he).filter(ot=>!st(ot.id));ee.length===Se.length?ne([]):ne(Se.map(ot=>ot.id))},Gn=o.filter(he=>!he.is_archived),it=c.filter(he=>!he.archived),[kn,Dr]=z.useState(""),Cn=e.filter(he=>!kn||he.organization_id===kn),[mn,un]=z.useState(1),dn=10,On=[...Cn].sort((he,ze)=>new Date(ze.created_at).getTime()-new Date(he.created_at).getTime()),li=Math.max(1,Math.ceil(On.length/dn)),js=On.slice((mn-1)*dn,mn*dn);z.useEffect(()=>{mn>li&&un(li)},[li]);function bi(he){if(!he||he.length===0)return null;const ze=he.reduce((ot,nn)=>{const qn=new Date(nn.created_at);return qn>ot?qn:ot},new Date(he[0].created_at)),Se=new Date(ze);return Se.setDate(Se.getDate()+90),Se.toLocaleDateString("en-IN")}const ds=re.length>0?P.filter(he=>re.includes(he.id)).reduce((he,ze)=>he+(Number(ze.charges)||0),0):P.reduce((he,ze)=>he+(Number(ze.charges)||0),0),Ar=async he=>{const ze=he||(re.length>0?P.filter(Se=>re.includes(Se.id)):P);if(!k||ze.length===0){Je.error("No data to generate PDF");return}try{try{ze.sort((Dt,vn)=>{const jr=gn(Dt.device_id)||"",In=gn(vn.device_id)||"";return jr.localeCompare(In,void 0,{numeric:!0,sensitivity:"base"})})}catch{}const Se=new Tt({format:"a4",unit:"mm",orientation:"landscape"}),ot=Se.internal.pageSize.getWidth(),nn=Se.internal.pageSize.getHeight(),qn=nt(k),wr=15,Qn=8,Es=36,rr=36;async function rc(Dt){try{const vn=await fetch(Dt);if(!vn.ok)return null;const jr=await vn.blob();return await new Promise((In,sr)=>{const ei=new FileReader;ei.onloadend=()=>In(ei.result),ei.onerror=sr,ei.readAsDataURL(jr)})}catch{return null}}const ir=[`${window.location.origin}/npa-logo.png`,`${window.location.origin}/npa-logo.svg`,"/npa-logo.png","/npa-logo.svg",`${window.location.origin}/public/npa-logo.png`,`${window.location.origin}/public/npa-logo.svg`,"./npa-logo.png","./npa-logo.svg"];let es=null,xo=null;for(const Dt of ir){const vn=await rc(Dt);if(vn){es=vn,xo=Dt;break}}const Qr=!!es;if(Qr||console.warn("NPA logo not found at standard public paths. Checked:",ir.join(", ")),es)try{Se.addImage(es,"PNG",wr,Qn,Es,rr)}catch{Se.setFillColor(11,116,209),Se.roundedRect(wr,Qn,Es,rr,2,2,"F"),Se.setFontSize(22),Se.setTextColor(255,255,255),Se.setFont("helvetica","bold"),Se.text("NP",wr+Es/2,Qn+rr/2+5,{align:"center",baseline:"middle"})}else Se.setFillColor(11,116,209),Se.roundedRect(wr,Qn,Es,rr,2,2,"F"),Se.setFontSize(22),Se.setTextColor(255,255,255),Se.setFont("helvetica","bold"),Se.text("NP",wr+Es/2,Qn+rr/2+5,{align:"center",baseline:"middle"});const Xr=wr+Es+8,_o=ot-15,Kn=Qr?Xr+(_o-Xr)/2:ot/2,Qs=Qr?20:26;Se.setFontSize(Qs),Se.setFont("helvetica","bold"),Se.setTextColor(204,0,0);const Pa=Qn+rr/2-(Qr?2:4);Se.text("NATIONAL PROCESS AUTOMATION",Kn,Pa,{align:"center"}),Se.setFontSize(11),Se.setFont("helvetica","bold"),Se.setTextColor(35,35,35);const La=["#48, 4th cross, Ganesha Block, Nandini Layout, Bangalore-560096"];let _i=Pa+Qs/3;La.forEach(Dt=>{Se.text(Dt,Kn,_i,{align:"center"}),_i+=6});const Ls="       Ph: 080 23498376, 9900143996  e-mail: tech.npa@gmail.com".split(" e-mail: ");Se.setFontSize(11),Se.setFont("helvetica","bold"),Se.setTextColor(35,35,35),Se.text(Ls[0]+" e-mail: ",ot/2-40,_i,{align:"left"});const pn=ot/2-40+Se.getTextWidth(Ls[0]+" e-mail: ");Se.setTextColor(0,0,0),Se.text(Ls[1],pn,_i,{align:"left"});const Xs=Se.getTextWidth(Ls[1]);_i+=8,Se.setTextColor(35,35,35),Se.setFontSize(12),Se.setFont("helvetica","bold"),Se.text("www.npautomation.in",Kn,_i,{align:"center"});const Zs=_i+4;Se.setDrawColor(200,200,200),Se.setLineWidth(.6),Se.line(15,Zs,ot-15,Zs),Se.setFontSize(15),Se.setFont("Arial","bold"),Se.setTextColor(44,62,80);const Xo=Zs+10;Se.text("MAINTENANCE SERVICE REPORT",ot/2,Xo,{align:"center"}),Se.setFillColor(236,240,241);const Zo=Xo+4;Se.roundedRect(15,Zo,ot-30,10,2,2,"F");const dl=qn?qn.toUpperCase():"",ea=ot-60,Si=Se.splitTextToSize(dl,ea),Li=Si.length===1?16:Si.length===2?12:14;Se.setFontSize(Li),Se.setFont("helvetica","bold"),Se.setTextColor(11,91,209);const ts=Li*.6;let Zr=Zo+6-(Si.length>1?ts*(Si.length-1)/2:0);Si.forEach(Dt=>{Se.text(Dt,ot/2,Zr,{align:"center"}),Zr+=ts});const ci=Zo+14;Se.setFontSize(9),Se.setFont("helvetica","normal"),Se.setTextColor(80,80,80);const It=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"});Se.text(`Report Generated: ${It}`,17,ci);const So=`NPA-MR-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`;Se.text(`Report ID: ${So}`,ot-17,ci,{align:"right"});const Fr=ci+6;Se.setFillColor(241,248,233),Se.roundedRect(15,Fr,ot-30,16,2,2,"F"),Se.setFontSize(10),Se.setFont("helvetica","bold"),Se.setTextColor(44,62,80),Se.text("REPORT SUMMARY",18,Fr+6);const ic=[...new Set(ze.map(Dt=>Dt.deviceId))].length,hl=[...new Set(ze.map(Dt=>Dt.technicianId))].length,Ni=bi(ze);Se.setFontSize(8.5),Se.setFont("helvetica","normal"),Se.setTextColor(60,60,60),Se.text(`Total Records: ${ze.length}`,18,Fr+12),Se.text(`Devices: ${ic}`,60,Fr+12),Se.text(`Techs: ${hl}`,90,Fr+12),Se.text(`Next Maintenance: ${Ni||"-"}`,120,Fr+12);const Ts=ze.reduce((Dt,vn)=>Dt+(Number(vn.charges)||0),0);Se.text(`Total Charges: ${Ts.toFixed(2)}`,170,Fr+12);const fl=ze.map((Dt,vn)=>[String(vn+1),new Date(Dt.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),gn(Dt.device_id),tn(Dt.device_id),Dt.charges!=null?`${Number(Dt.charges).toFixed(2)}`:"-",Ot(Dt.technician_id),Dt.description||"Routine maintenance",Dt.status||"Yet to Start"]),No=15,eo=15,Ta=ot-No-eo,Ti=14,ns=22,Ri=36,ko=30,ta=20,na=24,fs=28,ps=Ta-(Ti+ns+Ri+ko+ta+fs+na),Co=Math.max(18,ps);KP(Se,{startY:Fr+18,head:[["#","Service Date","Serial No","Brand Serial No","Charges","Technician","Service Note","Status"]],body:fl,theme:"striped",headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontSize:9,fontStyle:"bold",halign:"center",cellPadding:3},bodyStyles:{fontSize:8,textColor:[40,40,40],cellPadding:3,valign:"middle"},alternateRowStyles:{fillColor:[249,249,249]},columnStyles:{0:{cellWidth:Ti,halign:"center",fontStyle:"bold"},1:{cellWidth:ns,halign:"center"},2:{cellWidth:Ri,halign:"center"},3:{cellWidth:ko,halign:"center"},4:{cellWidth:ta,halign:"right"},5:{cellWidth:fs,halign:"left"},6:{cellWidth:Co,halign:"left"},7:{cellWidth:na,halign:"center",fontStyle:"bold"}},margin:{left:No,right:eo},styles:{overflow:"linebreak",cellPadding:3,valign:"middle",lineColor:[220,220,220],lineWidth:.1},didDrawCell:Dt=>{if(Dt.column.index===6&&Dt.section==="body"){const vn=Dt.cell.raw;let jr=[249,249,249],In=[100,100,100];vn==="Yet to Start"?(jr=[229,231,235],In=[31,41,55]):vn==="In Progress"?(jr=[254,249,195],In=[133,77,14]):vn==="Completed"?(jr=[220,252,231],In=[22,101,52]):vn==="Cancelled"&&(jr=[254,226,226],In=[153,27,27]),Se.setFillColor(jr[0],jr[1],jr[2]),Se.rect(Dt.cell.x,Dt.cell.y,Dt.cell.width,Dt.cell.height,"F"),Se.setTextColor(In[0],In[1],In[2]),Se.setFontSize(8),Se.setFont("helvetica","bold"),Se.text(vn,Dt.cell.x+Dt.cell.width/2,Dt.cell.y+Dt.cell.height/2,{align:"center",baseline:"middle"})}},didDrawPage:Dt=>{Se.saveGraphicsState();try{Se.setGState(new Se.GState({opacity:.06}))}catch{}Se.setFont("helvetica","bold"),Se.setFontSize(40),Se.setTextColor(41,128,185);try{const sr=ot/2,ei=nn/2;if(typeof es<"u"&&es)try{typeof Se.rotate=="function"?(Se.rotate(25,{origin:[sr,ei]}),Se.addImage(es,"PNG",sr-120/2,ei-120/2,120,120),Se.rotate(0,{origin:[sr,ei]})):Se.addImage(es,"PNG",sr-120/2,ei-120/2,120,120)}catch{Se.setFontSize(40),Se.setTextColor(200,200,200),Se.text("NPA",sr,ei,{align:"center",angle:45,baseline:"middle"})}else Se.setFontSize(40),Se.setTextColor(200,200,200),Se.text("NPA",sr,ei,{align:"center",angle:45,baseline:"middle"})}catch{const In=ot/2,sr=nn/2;Se.setFontSize(40),Se.setTextColor(200,200,200),Se.text("NPA",In,sr,{align:"center",angle:45,baseline:"middle"})}Se.restoreGraphicsState();const vn=nn-15;Se.setDrawColor(200,200,200),Se.setLineWidth(.5),Se.line(15,vn-4,ot-15,vn-4),Se.setFontSize(7.5),Se.setFont("helvetica","normal"),Se.setTextColor(120,120,120),Se.text("National Process Automation | Bengaluru-96",15,vn),Se.text("Contact: tech.npa@gmail.com | www.npautomation.in",15,vn+4),Se.text(`Page ${Se.getCurrentPageInfo().pageNumber} of ${Se.getNumberOfPages()}`,ot-15,vn,{align:"right"}),Se.text(`Generated: ${new Date().toLocaleDateString("en-IN")}`,ot-15,vn+4,{align:"right"})}});const ki=Se.lastAutoTable.finalY+10;ki<nn-50&&(Se.setDrawColor(41,128,185),Se.setLineWidth(.7),Se.roundedRect(15,ki,ot-30,28,2,2,"S"),Se.setFontSize(8.5),Se.setFont("helvetica","bold"),Se.setTextColor(44,62,80),Se.text("CERTIFICATION",18,ki+6),Se.setFontSize(7.5),Se.setFont("helvetica","normal"),Se.setTextColor(80,80,80),Se.text("This report has been automatically generated by NPA Water Dispensers Management System. All maintenance activities have been performed as per standard operating procedures.",18,ki+11,{maxWidth:ot-95}),Se.setDrawColor(120,120,120),Se.setLineWidth(.3),Se.line(ot-70,ki+21,ot-20,ki+21),Se.setFontSize(7),Se.text("Authorized Signature",ot-45,ki+24,{align:"center"}));const Oi=`NPA_Maintenance_Report_${qn.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;Se.save(Oi),Je.success("Professional PDF report generated successfully!")}catch(Se){console.error("Error generating PDF:",Se),Je.error("Failed to generate PDF. Please try again.")}},Pi=he=>{V(ze=>ze.includes(he)?ze.filter(Se=>Se!==he):[...ze,he])},xi=he=>{const ze=he.currentTarget;Pe(ze.scrollTop>0),Ze(ze.scrollTop+ze.clientHeight<ze.scrollHeight-1)},yo=async(he,ze)=>{try{const Se=await fetch(`http://localhost:8000/maintenance/${he}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({status:ze})}),ot=await Se.json();if(!Se.ok){console.error("Error updating maintenance status:",ot.error),Je.error(ot.error||"Failed to update status");return}Je.success("Status updated successfully!"),Zt()}catch(Se){console.error("Error updating maintenance status:",Se),Je.error("Failed to update status")}},Zi=he=>{Y(he.id),pe(he.description||"")},Ys=()=>{Y(null),pe("")},wo=async he=>{try{const ze=await fetch(`http://localhost:8000/maintenance/${he}/notes`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({notes:oe})}),Se=await ze.json();if(!ze.ok){console.error("Error updating notes:",Se.error),Je.error(Se.error||"Failed to update notes");return}Je.success("Notes updated successfully!"),Y(null),pe(""),Zt()}catch(ze){console.error("Error updating notes:",ze),Je.error("Failed to update notes")}},Js=he=>{me(he.id),Ce(he.charges!=null?String(he.charges):"")},bo=()=>{me(null),Ce("")},ul=async he=>{const Se=Number(ye);if(Number.isNaN(Se)||Se<0){Je.error("Charges must be a non-negative number");return}try{const ot=await fetch(`http://localhost:8000/maintenance/${he}/charges`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({charges:Se})}),nn=await ot.json();if(!ot.ok){Je.error(nn.error||"Failed to save charges");return}Je.success("Charges updated"),me(null),Ce(""),Zt(),y&&k&&await Pt()}catch(ot){console.error("Error saving charges:",ot),Je.error("Failed to save charges")}},Pn=he=>{switch(he){case"Yet to Start":return"bg-gray-100 text-gray-800 border-gray-300";case"In Progress":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"Cancelled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{children:"Maintenance Records"}),p.jsx("p",{className:"text-gray-600",children:"Track device maintenance activities"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Ki,{open:S,onOpenChange:j,children:[p.jsx(td,{asChild:!0,children:p.jsxs(St,{variant:"outline",children:[p.jsx(xN,{className:"w-4 h-4 mr-2"}),"Bulk Schedule"]})}),p.jsxs(Yi,{className:"max-w-2xl",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Schedule Organization Maintenance"}),p.jsx(us,{children:"Schedule maintenance for multiple devices at once"})]}),p.jsxs("form",{onSubmit:Lt,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"bulkOrg",children:"Organization *"}),p.jsxs(fo,{value:X,onValueChange:he=>{W(he),ne([])},required:!0,children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select organization"})}),p.jsx(mo,{children:it.map(he=>p.jsx(yi,{value:he.id,children:he.name},he.id))})]})]}),X&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(jt,{children:"Select Devices *"}),p.jsx(St,{type:"button",variant:"ghost",size:"sm",onClick:()=>$n(X),children:ee.length===yn(X).filter(he=>!st(he.id)).length?"Deselect All":"Select All"})]}),p.jsxs("div",{className:"border rounded-md p-4 space-y-2 max-h-48 overflow-y-auto",children:[p.jsx("div",{children:p.jsx("input",{type:"text",value:te,onChange:he=>T(he.target.value),placeholder:"Search devices...",className:"w-full rounded-md border border-input px-3 py-2 text-sm mb-2"})}),yn(X).filter(he=>{const ze=te.toLowerCase(),Se=(he.name||"").toLowerCase().includes(ze),ot=(he.brand_serial_number||"").toLowerCase().includes(ze);return ze===""?!0:Se||ot}).length===0?p.jsx("p",{className:"text-sm text-gray-500",children:"No devices found for this organization"}):yn(X).filter(he=>{const ze=te.toLowerCase(),Se=(he.name||"").toLowerCase().includes(ze),ot=(he.brand_serial_number||"").toLowerCase().includes(ze);return ze===""?!0:Se||ot}).map(he=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(_8,{id:he.id,checked:ee.includes(he.id),onCheckedChange:()=>!st(he.id)&&an(he.id),disabled:st(he.id)}),p.jsxs("label",{htmlFor:he.id,className:st(he.id)?"text-sm text-gray-400 cursor-not-allowed flex-1":"text-sm cursor-pointer flex-1",children:[he.name,st(he.id)&&p.jsx("span",{className:"ml-2 text-xs text-yellow-700 font-medium",children:"(Active)"})]})]},he.id))]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"bulkTechnician",children:"Technician *"}),p.jsxs(fo,{value:L.technicianId,onValueChange:he=>D({...L,technicianId:he}),required:!0,children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select technician"})}),p.jsx(mo,{children:Gn.length===0?p.jsx("div",{className:"p-2 text-sm text-red-500",children:"No active technicians available. Please add a technician first."}):Gn.map(he=>p.jsx(yi,{value:he.id,children:he.name},he.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"bulkDate",children:"Date *"}),p.jsx("input",{id:"bulkDate",type:"date",value:L.date,onChange:he=>D({...L,date:he.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"Bulk Date","aria-label":"Bulk Date",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"bulkNotes",children:"Notes"}),p.jsx(Mg,{id:"bulkNotes",value:L.notes,onChange:he=>D({...L,notes:he.target.value}),placeholder:"Enter maintenance notes...",rows:3})]}),p.jsxs(St,{type:"submit",className:"w-full",disabled:ee.length===0||Gn.length===0,children:["Schedule ",ee.length," Device",ee.length!==1?"s":""]})]})]})]}),p.jsxs(Ki,{open:v,onOpenChange:b,children:[p.jsx(td,{asChild:!0,children:p.jsxs(St,{children:[p.jsx(sh,{className:"w-4 h-4 mr-2"}),"Add Maintenance"]})}),p.jsxs(Yi,{className:"max-w-md",children:[p.jsxs(Ji,{children:[p.jsx(Qi,{children:"Add Maintenance Record"}),p.jsx(us,{children:"Record a maintenance service for a device"})]}),p.jsxs("form",{onSubmit:fn,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"orgSelectSingle",children:"Organization *"}),p.jsxs(fo,{value:M.organizationId,onValueChange:he=>{K({...M,organizationId:he,deviceId:""}),_e("")},children:[p.jsx(go,{id:"orgSelectSingle",children:p.jsx(po,{placeholder:"Select organization"})}),p.jsx(mo,{children:it.map(he=>p.jsx(yi,{value:he.id,children:he.name},he.id))})]})]}),p.jsx(jt,{htmlFor:"device",children:"Device *"}),p.jsxs(fo,{value:M.deviceId,onValueChange:he=>$t("deviceId",he),required:!0,children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select device"})}),p.jsxs(mo,{children:[p.jsx("div",{className:"px-3 py-2",children:p.jsx("input",{type:"text",value:ge,onChange:he=>_e(he.target.value),placeholder:"Search devices... (name or brand serial)",className:"w-full rounded-md border border-input px-3 py-2 text-sm"})}),p.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.filter(he=>{if(M.organizationId&&he.organization_id!==M.organizationId)return!1;const ze=ge.toLowerCase(),Se=(he.name||"").toLowerCase().includes(ze),ot=(he.brand_serial_number||"").toLowerCase().includes(ze);return ze===""?!0:Se||ot}).map(he=>p.jsxs(yi,{value:he.id,disabled:st(he.id),className:st(he.id)?"text-gray-400":"",children:[he.name,st(he.id)?" (Active)":""]},he.id))})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"technician",children:"Technician *"}),p.jsxs(fo,{value:M.technicianId,onValueChange:he=>$t("technicianId",he),required:!0,children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select technician"})}),p.jsx(mo,{children:Gn.length===0?p.jsx("div",{className:"p-2 text-sm text-red-500",children:"No active technicians available. Please add a technician first."}):Gn.map(he=>p.jsx(yi,{value:he.id,children:he.name},he.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"date",children:"Date *"}),p.jsx("input",{id:"date",type:"date",value:M.date,onChange:he=>$t("date",he.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"Date","aria-label":"Date",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"notes",children:"Notes"}),p.jsx(Mg,{id:"notes",value:M.notes,onChange:he=>$t("notes",he.target.value),placeholder:"Enter maintenance notes...",rows:4})]}),M.deviceId&&getDeviceType(M.deviceId)==="Non Comprehensive"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"charges",children:"Charges ()"}),p.jsx("input",{id:"charges",type:"number",min:"0",step:"0.01",value:String(M.charges),onChange:he=>$t("charges",he.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter service charge"})]}),p.jsx(St,{type:"submit",className:"w-full",disabled:Gn.length===0||st(M.deviceId)||!M.organizationId,children:"Create Record"})]})]})]})]})]}),Gn.length===0&&p.jsx(Ws,{className:"border-orange-200 bg-orange-50",children:p.jsx(Vs,{className:"pt-6",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"text-orange-600 text-xl",children:""}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-orange-900",children:"No Active Technicians"}),p.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"You need to add at least one technician before you can schedule maintenance. Please go to the Technicians tab to add a technician."})]})]})})}),p.jsxs(Ws,{children:[p.jsx(Wo,{children:p.jsxs(ka,{className:"flex items-center gap-2",children:[p.jsx(C0,{className:"w-5 h-5"}),"Generate Organization Report"]})}),p.jsxs(Vs,{className:"space-y-4",children:[p.jsxs("div",{className:"flex gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsx(jt,{htmlFor:"orgSelect",children:"Select Organization"}),p.jsxs(fo,{value:k,onValueChange:O,children:[p.jsx(go,{children:p.jsx(po,{placeholder:"Select organization"})}),p.jsx(mo,{children:c.map(he=>p.jsx(yi,{value:he.id,children:he.name},he.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"reportStartDate",children:"Start Date"}),p.jsx("input",{id:"reportStartDate",type:"date",value:I,onChange:he=>q(he.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"Start Date","aria-label":"Start Date"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jt,{htmlFor:"reportEndDate",children:"End Date"}),p.jsx("input",{id:"reportEndDate",type:"date",value:ce,onChange:he=>J(he.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"End Date","aria-label":"End Date"})]}),p.jsx(St,{onClick:Pt,disabled:!k,children:"Generate Report"})]}),k&&P.length>0&&p.jsx("div",{className:"mt-2",children:p.jsxs("p",{className:"text-sm text-gray-600 font-bold",children:["Next Maintenance Date: ",p.jsx("span",{className:"text-blue-700",children:bi(P)||"-"})]})})]})]}),p.jsxs(Ws,{children:[p.jsx(Wo,{children:p.jsxs(ka,{className:"flex items-center gap-2",children:[p.jsx(ed,{className:"w-5 h-5"}),"All Maintenance Records"]})}),p.jsxs(Vs,{children:[h&&p.jsx("p",{className:"text-center py-4 text-gray-500",children:"Loading maintenance records..."}),!h&&e.length===0&&p.jsx("p",{className:"text-center py-4 text-gray-500",children:"No maintenance records found. Add your first record!"}),!h&&e.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsxs("div",{className:"w-64",children:[p.jsx(jt,{htmlFor:"maintenanceOrgFilter",className:"text-sm",children:"Filter by organization"}),p.jsxs(fo,{value:kn,onValueChange:he=>{Dr(he==="ALL"?"":he),un(1)},children:[p.jsx(go,{id:"maintenanceOrgFilter",children:p.jsx(po,{placeholder:"All organizations"})}),p.jsxs(mo,{children:[p.jsx(yi,{value:"ALL",children:"All Organizations"}),it.map(he=>p.jsx(yi,{value:he.id,children:he.name},he.id))]})]})]})}),p.jsx(St,{variant:"ghost",size:"sm",onClick:()=>Dr(""),children:"Clear"})]}),js.length===0?p.jsx("p",{className:"text-center py-4 text-gray-500",children:"No maintenance records found for the selected organization."}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Ef,{children:[p.jsx(Pf,{children:p.jsxs(Vl,{children:[p.jsx(vr,{children:"Date"}),p.jsx(vr,{children:"Device"}),p.jsx(vr,{children:"Technician"}),p.jsx(vr,{children:"Organization"}),p.jsx(vr,{children:"Notes"}),p.jsx(vr,{children:"Charges"}),p.jsx(vr,{children:"Status"})]})}),p.jsx(Lf,{children:js.map(he=>p.jsxs(Vl,{className:"py-2",children:[p.jsx(yr,{className:"py-2 text-sm",children:new Date(he.created_at).toLocaleDateString()}),p.jsx(yr,{children:Nn(he.device_id)}),p.jsx(yr,{children:Ot(he.technician_id)}),p.jsx(yr,{children:nt(he.organization_id)}),p.jsx(yr,{className:"max-w-[360px]",children:$===he.id?p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mg,{value:oe,onChange:ze=>pe(ze.target.value),rows:3}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(St,{size:"sm",onClick:()=>wo(he.id),children:"Save"}),p.jsx(St,{size:"sm",variant:"outline",onClick:Ys,children:"Cancel"})]})]}):p.jsxs("div",{className:"flex items-start justify-between gap-3",children:[p.jsx("div",{className:"whitespace-pre-wrap break-words flex-1",children:he.description||"-"}),p.jsx(St,{size:"sm",variant:"ghost",onClick:()=>Zi(he),children:"Edit"})]})}),p.jsx(yr,{className:"text-right",children:le===he.id?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"number",min:"0",step:"0.01",value:ye,onChange:ze=>Ce(ze.target.value),"aria-label":"Edit charges",className:"w-28 rounded-md border px-2 py-1 text-sm"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(St,{size:"sm",onClick:()=>ul(he.id),children:"Save"}),p.jsx(St,{size:"sm",variant:"outline",onClick:bo,children:"Cancel"})]})]}):p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("div",{className:"font-medium",children:he.charges!=null?`${Number(he.charges).toFixed(2)}`:"-"}),getDeviceType(he.device_id).toLowerCase().trim()==="non comprehensive"&&p.jsx(St,{size:"sm",variant:"ghost",onClick:()=>Js(he),children:"Edit"})]})}),p.jsx(yr,{children:p.jsxs(fo,{value:he.status,onValueChange:ze=>yo(he.id,ze),children:[p.jsx(go,{className:`w-[140px] ${Pn(he.status)}`,children:p.jsx(po,{})}),p.jsxs(mo,{children:[p.jsx(yi,{value:"Yet to Start",className:"bg-gray-100 text-gray-800",children:"Yet to Start"}),p.jsx(yi,{value:"In Progress",className:"bg-yellow-100 text-yellow-800",children:"In Progress"}),p.jsx(yi,{value:"Completed",className:"bg-green-100 text-green-800",children:"Completed"}),p.jsx(yi,{value:"Cancelled",className:"bg-red-100 text-red-800",children:"Cancelled"})]})]})})]},he.id))})]})}),p.jsxs("div",{className:"flex items-center justify-between mt-4",children:[p.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Math.min((mn-1)*dn+1,On.length)," to ",Math.min(mn*dn,On.length)," of ",On.length]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(St,{size:"sm",variant:"ghost",onClick:()=>un(he=>Math.max(1,he-1)),disabled:mn===1,children:"Prev"}),p.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:li}).map((he,ze)=>p.jsx("button",{onClick:()=>un(ze+1),className:`px-2 py-1 rounded ${mn===ze+1?"bg-gray-200":"hover:bg-gray-100"}`,children:ze+1},ze))}),p.jsx(St,{size:"sm",variant:"ghost",onClick:()=>un(he=>Math.min(li,he+1)),disabled:mn===li,children:"Next"})]})]})]})]})]})]}),p.jsx(Ki,{open:y,onOpenChange:C,children:p.jsx(Yi,{style:{width:"calc(95vw * 1.2)",maxWidth:"70vw"},className:"max-w-[1800px] max-h-[90vh] overflow-hidden rounded-lg",children:p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx(Ji,{className:"sticky top-0 bg-white z-20 px-6 pt-6",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs(Qi,{children:["Organization Report: ",p.jsx("span",{className:"text-red-900 org-clamp",title:nt(k),children:nt(k)})]}),p.jsx(us,{children:"View all maintenance records for this organization"})]}),P.length>0&&p.jsxs(St,{variant:"outline",size:"sm",onClick:()=>Ar(P),className:"ml-4",children:[p.jsx(Av,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})}),p.jsxs("div",{children:[p.jsx("style",{children:`
                /* Small visible scrollbar for the report dialog */
                .report-scroll { scrollbar-width: thin; scrollbar-color: rgba(0,0,0,0.28) transparent; scrollbar-gutter: stable; }
                .report-scroll::-webkit-scrollbar { width: 8px; }
                .report-scroll::-webkit-scrollbar-track { background: transparent; }
                .report-scroll::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.25); border-radius: 8px; }
                .report-scroll::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.36); }
                /* Clamp long organization name in the dialog header to two lines */
                .org-clamp { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
              `}),p.jsx("div",{ref:Ie,onScroll:xi,className:"flex-1 report-scroll overflow-auto px-6 pb-6 relative",children:p.jsx("div",{className:"space-y-4",children:P.length===0?p.jsx("p",{className:"text-center py-8 text-gray-500",children:"No maintenance records found for this organization."}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsxs("p",{className:"text-sm text-gray-600",children:["Total Maintenance Records: ",p.jsx("span",{className:"font-semibold",children:P.length})]}),p.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Next Maintenance Date: ",p.jsx("span",{className:"font-bold",children:bi(P)||"-"})]}),p.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Total Charges: ",p.jsx("span",{className:"font-semibold",children:`${ds.toFixed(2)}`})]})]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",p.jsx("span",{className:"font-semibold",children:P.length===0?0:Math.min(Re*Ve,P.length)-(Ve-1)>P.length?P.length:(Re-1)*Ve+1})," to ",p.jsx("span",{className:"font-semibold",children:Math.min(Re*Ve,P.length)})," of ",p.jsx("span",{className:"font-semibold",children:P.length})," records. ",p.jsxs("span",{className:"ml-2",children:["Page ",p.jsx("span",{className:"font-semibold",children:Re})," of ",p.jsx("span",{className:"font-semibold",children:rt})]})]}),p.jsxs("div",{className:"overflow-x-auto w-full relative",children:[p.jsx("div",{ref:ue,className:"overflow-x-auto",children:p.jsxs(Ef,{className:"min-w-full",children:[p.jsx(Pf,{children:p.jsxs(Vl,{children:[p.jsx(vr,{}),p.jsx(vr,{children:"Date"}),p.jsx(vr,{children:"Serial No"}),p.jsx(vr,{children:"Brand Serial No"}),p.jsx(vr,{children:"Charges"}),p.jsx(vr,{children:"Device"}),p.jsx(vr,{children:"Technician"}),p.jsx(vr,{children:"Notes"}),p.jsx(vr,{children:"Status"})]})}),p.jsx(Lf,{children:gt.map(he=>p.jsxs(Vl,{children:[p.jsx(yr,{children:p.jsx("input",{type:"checkbox",title:"Select record","aria-label":"Select maintenance record",checked:re.includes(he.id),onChange:()=>Pi(he.id)})}),p.jsx(yr,{children:new Date(he.created_at).toLocaleDateString("en-IN")}),p.jsx(yr,{children:gn(he.device_id)}),p.jsx(yr,{children:tn(he.device_id)}),p.jsx(yr,{className:"text-right",children:le===he.id?p.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[p.jsx("input",{type:"number",min:"0",step:"0.01",value:ye,onChange:ze=>Ce(ze.target.value),"aria-label":"Edit charges",className:"w-28 rounded-md border px-2 py-1 text-sm"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(St,{size:"sm",onClick:()=>ul(he.id),children:"Save"}),p.jsx(St,{size:"sm",variant:"outline",onClick:bo,children:"Cancel"})]})]}):p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("div",{className:"font-medium",children:he.charges!=null?`${Number(he.charges).toFixed(2)}`:"-"}),getDeviceType(he.device_id).toLowerCase().trim()==="non comprehensive"&&p.jsx(St,{size:"sm",variant:"ghost",onClick:()=>Js(he),children:"Edit"})]})}),p.jsx(yr,{children:Nn(he.device_id)}),p.jsx(yr,{children:Ot(he.technician_id)}),p.jsx(yr,{className:"max-w-[360px] whitespace-pre-wrap break-words",children:he.description||"-"}),p.jsx(yr,{children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Pn(he.status)}`,children:he.status})})]},he.id))})]})}),Rt&&p.jsx("button",{"aria-label":"Scroll table left",onClick:()=>Vt(-300),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:p.jsx(kv,{className:"w-4 h-4"})}),ft&&p.jsx("button",{"aria-label":"Scroll table right",onClick:()=>Vt(300),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:p.jsx(Cv,{className:"w-4 h-4"})})]}),de&&p.jsx("button",{"aria-label":"Scroll up",onClick:()=>Nt(-300),className:"absolute right-4 top-20 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:p.jsx(kv,{className:"w-4 h-4 transform -rotate-90"})}),Ge&&p.jsx("button",{"aria-label":"Scroll down",onClick:()=>Nt(300),className:"absolute right-4 bottom-6 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:p.jsx(Cv,{className:"w-4 h-4 transform rotate-90"})}),rt>1&&p.jsxs("div",{className:"flex items-center justify-between mt-2",children:[p.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",p.jsx("span",{className:"font-semibold",children:Re})," of ",p.jsx("span",{className:"font-semibold",children:rt})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(St,{size:"sm",variant:"ghost",onClick:()=>ct(Re-1),disabled:Re===1,children:"Prev"}),p.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:rt}).map((he,ze)=>p.jsx("button",{onClick:()=>ct(ze+1),className:`px-2 py-1 rounded ${Re===ze+1?"bg-gray-200":"hover:bg-gray-100"}`,children:ze+1},ze))}),p.jsx(St,{size:"sm",variant:"ghost",onClick:()=>ct(Re+1),disabled:Re===rt,children:"Next"})]})]}),p.jsx("div",{className:"flex justify-end mt-2",children:p.jsxs(St,{variant:"outline",size:"sm",onClick:()=>Ar(P.filter(he=>re.includes(he.id))),disabled:re.length===0,children:[p.jsx(Av,{className:"w-4 h-4 mr-2"}),"Download Selected PDF"]})})]})})})]})]})})})]})},JP=async(n,e=1e3)=>new Promise((t,r)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{try{const o=document.createElement("canvas");o.width=e,o.height=e;const l=o.getContext("2d");if(!l)return r(new Error("Failed to get canvas context"));l.fillStyle="#ffffff",l.fillRect(0,0,e,e);const c=Math.min(e/i.width,e/i.height),u=i.width*c,h=i.height*c,f=(e-u)/2,v=(e-h)/2;l.drawImage(i,f,v,u,h),t(o.toDataURL("image/png",1))}catch(o){r(o)}},i.onerror=o=>r(o),i.src=n}),QP=({token:n})=>{const[e,t]=z.useState([]),[r,i]=z.useState([]),[o,l]=z.useState(null),[c,u]=z.useState({}),[h,f]=z.useState(!1),[v,b]=z.useState({}),[y,C]=z.useState(!0);z.useEffect(()=>{S(),j()},[n]),z.useEffect(()=>{if(!o){b({}),C(!1);return}const K=r.filter(D=>D.organization_id===o),L={};K.forEach(D=>{L[D.id]=!0}),b(L),C(K.length>0)},[o,r]);const S=async()=>{try{const L=await(await fetch("http://localhost:8000/organizations",{headers:{Authorization:`Bearer ${n}`}})).json();t(L.organizations||[])}catch(K){console.error(K)}},j=async()=>{try{const L=await(await fetch("http://localhost:8000/devices",{headers:{Authorization:`Bearer ${n}`}})).json();i(L.devices||[])}catch(K){console.error(K)}},k=async()=>{if(o){f(!0);try{const K=r.filter(D=>D.organization_id===o&&(v[D.id]??!0)),L={};return await Promise.all(K.map(async D=>{const I=`${D.serial_number||D.code||D.id}`;try{const q=await Hu.toDataURL(I,{width:200,margin:2});L[D.id]=q}catch(q){console.error("QR error",q)}})),u(D=>({...D,...L})),L}finally{f(!1)}}},O=async(K,L=800)=>{const D={};return await Promise.all(K.map(async I=>{const q=`${I.serial_number||I.code||I.id}`;try{const ce=await Hu.toDataURL(q,{width:L,margin:2});try{const J=await JP(ce,L);D[I.id]=J}catch(J){console.warn("QR normalization failed, using raw data URL",J),D[I.id]=ce}}catch(ce){console.error("QR print error",ce)}})),D};z.useEffect(()=>{let K=!1;return(async()=>{if(!o){u({});return}f(!0);const D=r.filter(q=>q.organization_id===o),I={};await Promise.all(D.map(async q=>{const ce=`${q.serial_number||q.code||q.id}`;try{const J=await Hu.toDataURL(ce,{width:200,margin:2});I[q.id]=J}catch(J){console.error("QR error",J)}})),K||u(I),f(!1)})(),()=>{K=!0}},[o,r]);const P=r.filter(K=>K.organization_id===o),ee=[...P.filter(K=>v[K.id]??!0)].sort((K,L)=>{const D=(K.serial_number||K.code||K.id||"").toString(),I=(L.serial_number||L.code||L.id||"").toString();return D.localeCompare(I,void 0,{numeric:!0})}),ne=[...P].sort((K,L)=>{const D=(K.serial_number||K.code||K.id||"").toString(),I=(L.serial_number||L.code||L.id||"").toString();return D.localeCompare(I,void 0,{numeric:!0})}),W=((K,L)=>{const D=[];for(let I=0;I<K.length;I+=L)D.push(K.slice(I,I+L));return D})(ee,12),M=async()=>{if(!o)return;let K=c;const L=ee;if(L.length>0)try{K=await O(L,1e3)}catch(J){if(console.error("Failed to generate high-res QR images for print",J),Object.keys(c).length===0){const re=await k();re&&(K=re)}else K=c}const D=e.find(J=>J.id===o),I=W.map(J=>{const re=J.map(ge=>{const _e=K[ge.id]||"",te=(ge.serial_number||ge.code||ge.id||"").toString();return`
          <div class="qr-item">
            <div class="qr-img"><img src="${_e}" alt="${te}"/></div>
            <div class="qr-label">${te}</div>
          </div>
        `}).join(`
`);return`<div class="page">${`<div class="org-header">${D?.name||""}</div>`}${re}</div>`}).join(`
`),q=`
      <html>
        <head>
          <title>QR Codes - ${D?.name||""}</title>
            <style>
            /* Set default printed page to A4 landscape */
            @page { size: A4 landscape; margin: 8mm; }
            @media print { html, body { width: 297mm; height: 210mm; } body { margin:0; padding:0; } .page { page-break-after: auto; } .page:not(:last-child) { page-break-after: always; } }
            body { font-family: system-ui, -apple-system,   'Segoe UI', Roboto, 'Helvetica Neue', Arial; padding: 0; margin: 0; }
            /* page grid: header spans full width then items in 4 columns for 12 per page */
            .page { width: 100%; display: grid; grid-template-columns: repeat(4, 1fr); gap: 18px; grid-auto-rows: min-content; justify-items: center; box-sizing: border-box; height: calc(210mm - 24mm); padding: 12mm 16mm 10mm 16mm; break-inside: avoid; page-break-inside: avoid; -webkit-column-break-inside: avoid; }
            .org-header { grid-column: 1 / -1; text-align: center; font-size: 16px; font-weight: 700; margin: 6px 0 12px 0; color: #1e90ff; text-transform: uppercase; letter-spacing: 1px; justify-self: center; width: 100%; }
            .qr-item { display:flex; flex-direction:column; align-items:center; justify-content:flex-start; padding-top: 2px; }
            /* slightly smaller print QR and cleaner label spacing to match sample */
            .qr-img img { width: 160px; height:160px; object-fit:contain; background: transparent; padding:0; display:block; }
            .qr-label { margin-top: 6px; font-size: 10px; text-align:center; font-family: 'Segoe UI', Roboto, Arial, sans-serif; color: #333; }
            @media print { body { margin:0; } .no-print { display:none; } }
          </style>
        </head>
        <body>
          ${I}
        </body>
      </html>
    `,ce=window.open("","_blank");ce&&(ce.document.write(q),ce.document.close(),setTimeout(()=>{try{ce.focus()}catch{}try{ce.print()}catch{}},500))};return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl",children:"Generate & Print QR Codes"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Select an organization and generate printable QR sheets (12 per page, 4 columns  3 rows)."})]}),p.jsx("div",{className:"flex items-center gap-2 no-print",children:p.jsx(St,{onClick:M,variant:"outline",children:"Print"})})]}),p.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[p.jsx("label",{htmlFor:"org-select",className:"text-sm",children:"Organization:"}),p.jsxs("select",{id:"org-select","aria-label":"Organization",className:"border rounded px-3 py-2",value:o||"",onChange:K=>l(K.target.value||null),children:[p.jsx("option",{value:"",children:"-- Select organization --"}),e.map(K=>p.jsx("option",{value:K.id,children:K.name||K.id},K.id))]}),p.jsx("div",{className:"flex items-center",children:h?p.jsx("div",{className:"text-sm text-gray-600",children:"Generating QR images"}):null}),p.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[p.jsx("input",{id:"select-all",type:"checkbox",checked:y,onChange:K=>{const L=K.target.checked;if(C(L),!o)return;const D=r.filter(q=>q.organization_id===o),I={...v};D.forEach(q=>{I[q.id]=L}),b(I)}}),p.jsx("label",{htmlFor:"select-all",className:"text-sm",children:"Select all"})]})]}),p.jsx("style",{children:"@media print { .no-print { display: none; } html, body { width: 297mm; height: 210mm; } body { margin:0; padding:0; background: #fff } .page { page-break-after: auto; break-inside: avoid; page-break-inside: avoid; -webkit-column-break-inside: avoid; box-sizing: border-box; height: calc(210mm - 24mm); padding: 12mm 16mm 10mm 16mm; } .page:not(:last-child) { page-break-after: always; } .org-header { text-transform: uppercase; letter-spacing: 1px; color:#1e90ff; font-weight:700; justify-self: center; width:100%; text-align:center; } .qr-img img { width:160px; height:160px } .qr-label { font-size:10px } }"}),p.jsxs("div",{children:[ne.length===0&&p.jsx("div",{className:"text-sm text-gray-500",children:"No devices for selected organization."}),ne.length>0&&p.jsxs("div",{className:"bg-white p-4 mb-4 shadow-sm rounded w-full",children:[p.jsx("div",{className:"org-header w-full text-center font-semibold mb-2 text-blue-600 text-xl",children:e.find(K=>K.id===o)?.name||""}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start justify-items-center",children:ne.map(K=>p.jsxs("div",{className:`relative bg-white border rounded p-2 flex flex-col items-center shadow-sm w-full ${v[K.id]?"":"opacity-60 grayscale"}`,children:[p.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-white p-0.5 rounded",children:p.jsx("input",{type:"checkbox","aria-label":`Select device ${K.serial_number||K.code||K.id}`,title:`Select device ${K.serial_number||K.code||K.id}`,checked:!!v[K.id],onChange:L=>{const D={...v,[K.id]:L.target.checked};b(D);const q=r.filter(ce=>ce.organization_id===o).every(ce=>D[ce.id]);C(q)}})}),p.jsx("div",{className:"flex items-center justify-center py-2",children:c[K.id]?p.jsx("img",{src:c[K.id],alt:K.serial_number||K.code||K.name,className:"w-28 h-28"}):p.jsx("div",{className:"text-xs text-gray-400",children:"No QR generated"})}),p.jsx("div",{className:"mt-2 text-sm font-semibold text-center",children:K.serial_number}),!v[K.id]&&p.jsx("div",{className:"mt-1 text-xs text-red-600",children:"Not Selected"})]},K.id))})]})]})]})},XP=({token:n,user:e,onLogout:t})=>{const[r,i]=z.useState("overview"),[o,l]=z.useState(null),c=[{id:"overview",label:"Overview",icon:ON},{id:"organizations",label:"Organizations",icon:Kl},{id:"devices",label:"Devices",icon:Yl},{id:"technicians",label:"Technicians",icon:Wd},{id:"maintenance",label:"Maintenance",icon:ed},{id:"generate-qrs",label:"Generate QR",icon:ed}],u=f=>{l(f)},h=()=>{l(null)};return p.jsxs("div",{className:"min-h-screen bg-slate-50",children:[p.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Iw,{src:"/npa-logo.png",alt:"Brand Logo",className:"w-10 h-10 rounded-md object-contain border border-gray-200 bg-white"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-slate-900",children:"NPA Water Dispensers"}),p.jsx("p",{className:"text-xs text-slate-500",children:"ADMIN PANEL"})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"text-right hidden sm:block",children:[p.jsx("div",{className:"text-sm text-slate-900",children:e?.user_metadata?.name||"Admin"}),p.jsx("div",{className:"text-xs text-slate-500",children:e?.email})]}),p.jsxs(St,{variant:"destructive-outline",size:"sm",onClick:t,children:[p.jsx(DN,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),p.jsx("div",{className:"bg-white border-b border-gray-200",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsx("nav",{className:"flex space-x-1 overflow-x-auto",children:c.map(f=>{const v=f.icon;return p.jsxs("button",{onClick:()=>{i(f.id),l(null)},className:`
                    flex items-center gap-2 py-3 px-5 border-b-2 transition-all whitespace-nowrap text-sm
                    ${r===f.id?"border-slate-900 text-slate-900 bg-slate-50":"border-transparent text-slate-500 hover:text-slate-900 hover:bg-slate-50"}
                  `,children:[p.jsx(v,{className:"w-4 h-4"}),p.jsx("span",{children:f.label})]},f.id)})})})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="overview"&&p.jsx(ZN,{token:n,onNavigate:i,user:e}),r==="organizations"&&(o?p.jsx(sC,{token:n,organizationId:o,onBack:h}):p.jsx(Ik,{token:n,onOrganizationClick:u})),r==="devices"&&p.jsx(m8,{token:n}),r==="technicians"&&p.jsx(v8,{token:n}),r==="maintenance"&&p.jsx(YP,{token:n}),r==="generate-qrs"&&p.jsx(QP,{token:n})]})]})},ZP=({...n})=>p.jsx(US,{className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n});function eL(){const[n,e]=z.useState(!1),[t,r]=z.useState(""),[i,o]=z.useState(null),[l,c]=z.useState(!0);z.useEffect(()=>{u()},[]);const u=async()=>{try{const v=k0(),{data:{session:b},error:y}=await v.auth.getSession();b&&b.access_token&&(r(b.access_token),o(b.user),e(!0))}catch(v){console.error("Error checking session:",v)}finally{c(!1)}},h=(v,b)=>{r(v),o(b),e(!0)},f=async()=>{try{await k0().auth.signOut(),r(""),o(null),e(!1)}catch(v){console.error("Error signing out:",v)}};return l?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):p.jsxs(p.Fragment,{children:[n?p.jsx(XP,{token:t,user:i,onLogout:f}):p.jsx(dN,{onLoginSuccess:h}),p.jsx(ZP,{})]})}__.createRoot(document.getElementById("root")).render(p.jsx(eL,{}));export{zn as _,tL as c,qf as g};
