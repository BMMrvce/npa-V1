function xS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var kL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function bS(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Kp={exports:{}},Bd={},Yp={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function SS(){if(F1)return hn;F1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function k(Y,R,z){this.props=Y,this.context=R,this.refs=_,this.updater=z||y}k.prototype.isReactComponent={},k.prototype.setState=function(Y,R){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,R,"setState")},k.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function j(){}j.prototype=k.prototype;function T(Y,R,z){this.props=Y,this.context=R,this.refs=_,this.updater=z||y}var L=T.prototype=new j;L.constructor=T,N(L,k.prototype),L.isPureReactComponent=!0;var O=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function $(Y,R,z){var K,te={},me=null,re=null;if(R!=null)for(K in R.ref!==void 0&&(re=R.ref),R.key!==void 0&&(me=""+R.key),R)X.call(R,K)&&!ee.hasOwnProperty(K)&&(te[K]=R[K]);var J=arguments.length-2;if(J===1)te.children=z;else if(1<J){for(var fe=Array(J),we=0;we<J;we++)fe[we]=arguments[we+2];te.children=fe}if(Y&&Y.defaultProps)for(K in J=Y.defaultProps,J)te[K]===void 0&&(te[K]=J[K]);return{$$typeof:n,type:Y,key:me,ref:re,props:te,_owner:ne.current}}function F(Y,R){return{$$typeof:n,type:Y.type,key:R,ref:Y.ref,props:Y.props,_owner:Y._owner}}function ae(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function P(Y){var R={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(z){return R[z]})}var D=/\/+/g;function q(Y,R){return typeof Y=="object"&&Y!==null&&Y.key!=null?P(""+Y.key):R.toString(36)}function V(Y,R,z,K,te){var me=typeof Y;(me==="undefined"||me==="boolean")&&(Y=null);var re=!1;if(Y===null)re=!0;else switch(me){case"string":case"number":re=!0;break;case"object":switch(Y.$$typeof){case n:case e:re=!0}}if(re)return re=Y,te=te(re),Y=K===""?"."+q(re,0):K,O(te)?(z="",Y!=null&&(z=Y.replace(D,"$&/")+"/"),V(te,R,z,"",function(we){return we})):te!=null&&(ae(te)&&(te=F(te,z+(!te.key||re&&re.key===te.key?"":(""+te.key).replace(D,"$&/")+"/")+Y)),R.push(te)),1;if(re=0,K=K===""?".":K+":",O(Y))for(var J=0;J<Y.length;J++){me=Y[J];var fe=K+q(me,J);re+=V(me,R,z,fe,te)}else if(fe=x(Y),typeof fe=="function")for(Y=fe.call(Y),J=0;!(me=Y.next()).done;)me=me.value,fe=K+q(me,J++),re+=V(me,R,z,fe,te);else if(me==="object")throw R=String(Y),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return re}function ue(Y,R,z){if(Y==null)return Y;var K=[],te=0;return V(Y,K,"","",function(me){return R.call(z,me,te++)}),K}function de(Y){if(Y._status===-1){var R=Y._result;R=R(),R.then(function(z){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=z)},function(z){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=z)}),Y._status===-1&&(Y._status=0,Y._result=R)}if(Y._status===1)return Y._result.default;throw Y._result}var he={current:null},W={transition:null},ye={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:W,ReactCurrentOwner:ne};function Se(){throw Error("act(...) is not supported in production builds of React.")}return hn.Children={map:ue,forEach:function(Y,R,z){ue(Y,function(){R.apply(this,arguments)},z)},count:function(Y){var R=0;return ue(Y,function(){R++}),R},toArray:function(Y){return ue(Y,function(R){return R})||[]},only:function(Y){if(!ae(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},hn.Component=k,hn.Fragment=t,hn.Profiler=i,hn.PureComponent=T,hn.StrictMode=r,hn.Suspense=d,hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,hn.act=Se,hn.cloneElement=function(Y,R,z){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var K=N({},Y.props),te=Y.key,me=Y.ref,re=Y._owner;if(R!=null){if(R.ref!==void 0&&(me=R.ref,re=ne.current),R.key!==void 0&&(te=""+R.key),Y.type&&Y.type.defaultProps)var J=Y.type.defaultProps;for(fe in R)X.call(R,fe)&&!ee.hasOwnProperty(fe)&&(K[fe]=R[fe]===void 0&&J!==void 0?J[fe]:R[fe])}var fe=arguments.length-2;if(fe===1)K.children=z;else if(1<fe){J=Array(fe);for(var we=0;we<fe;we++)J[we]=arguments[we+2];K.children=J}return{$$typeof:n,type:Y.type,key:te,ref:me,props:K,_owner:re}},hn.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:a,_context:Y},Y.Consumer=Y},hn.createElement=$,hn.createFactory=function(Y){var R=$.bind(null,Y);return R.type=Y,R},hn.createRef=function(){return{current:null}},hn.forwardRef=function(Y){return{$$typeof:c,render:Y}},hn.isValidElement=ae,hn.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:de}},hn.memo=function(Y,R){return{$$typeof:f,type:Y,compare:R===void 0?null:R}},hn.startTransition=function(Y){var R=W.transition;W.transition={};try{Y()}finally{W.transition=R}},hn.unstable_act=Se,hn.useCallback=function(Y,R){return he.current.useCallback(Y,R)},hn.useContext=function(Y){return he.current.useContext(Y)},hn.useDebugValue=function(){},hn.useDeferredValue=function(Y){return he.current.useDeferredValue(Y)},hn.useEffect=function(Y,R){return he.current.useEffect(Y,R)},hn.useId=function(){return he.current.useId()},hn.useImperativeHandle=function(Y,R,z){return he.current.useImperativeHandle(Y,R,z)},hn.useInsertionEffect=function(Y,R){return he.current.useInsertionEffect(Y,R)},hn.useLayoutEffect=function(Y,R){return he.current.useLayoutEffect(Y,R)},hn.useMemo=function(Y,R){return he.current.useMemo(Y,R)},hn.useReducer=function(Y,R,z){return he.current.useReducer(Y,R,z)},hn.useRef=function(Y){return he.current.useRef(Y)},hn.useState=function(Y){return he.current.useState(Y)},hn.useSyncExternalStore=function(Y,R,z){return he.current.useSyncExternalStore(Y,R,z)},hn.useTransition=function(){return he.current.useTransition()},hn.version="18.3.1",hn}var M1;function Z0(){return M1||(M1=1,Yp.exports=SS()),Yp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function _S(){if(B1)return Bd;B1=1;var n=Z0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var p,v={},x=null,y=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(y=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(v[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)v[p]===void 0&&(v[p]=d[p]);return{$$typeof:e,type:c,key:x,ref:y,props:v,_owner:i.current}}return Bd.Fragment=t,Bd.jsx=l,Bd.jsxs=l,Bd}var z1;function NS(){return z1||(z1=1,Kp.exports=_S()),Kp.exports}var u=NS(),Kh={},Jp={exports:{}},Cs={},Qp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function kS(){return U1||(U1=1,(function(n){function e(W,ye){var Se=W.length;W.push(ye);e:for(;0<Se;){var Y=Se-1>>>1,R=W[Y];if(0<i(R,ye))W[Y]=ye,W[Se]=R,Se=Y;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ye=W[0],Se=W.pop();if(Se!==ye){W[0]=Se;e:for(var Y=0,R=W.length,z=R>>>1;Y<z;){var K=2*(Y+1)-1,te=W[K],me=K+1,re=W[me];if(0>i(te,Se))me<R&&0>i(re,te)?(W[Y]=re,W[me]=Se,Y=me):(W[Y]=te,W[K]=Se,Y=K);else if(me<R&&0>i(re,Se))W[Y]=re,W[me]=Se,Y=me;else break e}}return ye}function i(W,ye){var Se=W.sortIndex-ye.sortIndex;return Se!==0?Se:W.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,v=null,x=3,y=!1,N=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(W){for(var ye=t(f);ye!==null;){if(ye.callback===null)r(f);else if(ye.startTime<=W)r(f),ye.sortIndex=ye.expirationTime,e(d,ye);else break;ye=t(f)}}function O(W){if(_=!1,L(W),!N)if(t(d)!==null)N=!0,de(X);else{var ye=t(f);ye!==null&&he(O,ye.startTime-W)}}function X(W,ye){N=!1,_&&(_=!1,j($),$=-1),y=!0;var Se=x;try{for(L(ye),v=t(d);v!==null&&(!(v.expirationTime>ye)||W&&!P());){var Y=v.callback;if(typeof Y=="function"){v.callback=null,x=v.priorityLevel;var R=Y(v.expirationTime<=ye);ye=n.unstable_now(),typeof R=="function"?v.callback=R:v===t(d)&&r(d),L(ye)}else r(d);v=t(d)}if(v!==null)var z=!0;else{var K=t(f);K!==null&&he(O,K.startTime-ye),z=!1}return z}finally{v=null,x=Se,y=!1}}var ne=!1,ee=null,$=-1,F=5,ae=-1;function P(){return!(n.unstable_now()-ae<F)}function D(){if(ee!==null){var W=n.unstable_now();ae=W;var ye=!0;try{ye=ee(!0,W)}finally{ye?q():(ne=!1,ee=null)}}else ne=!1}var q;if(typeof T=="function")q=function(){T(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ue=V.port2;V.port1.onmessage=D,q=function(){ue.postMessage(null)}}else q=function(){k(D,0)};function de(W){ee=W,ne||(ne=!0,q())}function he(W,ye){$=k(function(){W(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){N||y||(N=!0,de(X))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(W){switch(x){case 1:case 2:case 3:var ye=3;break;default:ye=x}var Se=x;x=ye;try{return W()}finally{x=Se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ye){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Se=x;x=W;try{return ye()}finally{x=Se}},n.unstable_scheduleCallback=function(W,ye,Se){var Y=n.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Y+Se:Y):Se=Y,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Se+R,W={id:p++,callback:ye,priorityLevel:W,startTime:Se,expirationTime:R,sortIndex:-1},Se>Y?(W.sortIndex=Se,e(f,W),t(d)===null&&W===t(f)&&(_?(j($),$=-1):_=!0,he(O,Se-Y))):(W.sortIndex=R,e(d,W),N||y||(N=!0,de(X))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var ye=x;return function(){var Se=x;x=ye;try{return W.apply(this,arguments)}finally{x=Se}}}})(Xp)),Xp}var $1;function jS(){return $1||($1=1,Qp.exports=kS()),Qp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function CS(){if(q1)return Cs;q1=1;var n=Z0(),e=jS();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function x(s){return d.call(v,s)?!0:d.call(p,s)?!1:f.test(s)?v[s]=!0:(p[s]=!0,!1)}function y(s,o,h,m){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,o,h,m){if(o===null||typeof o>"u"||y(s,o,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(s,o,h,m,S,A,U){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=s,this.type=o,this.sanitizeURL=A,this.removeEmptyString=U}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new _(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(j,T);k[o]=new _(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(j,T);k[o]=new _(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(j,T);k[o]=new _(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,o,h,m){var S=k.hasOwnProperty(o)?k[o]:null;(S!==null?S.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,h,S,m)&&(h=null),m||S===null?x(o)&&(h===null?s.removeAttribute(o):s.setAttribute(o,""+h)):S.mustUseProperty?s[S.propertyName]=h===null?S.type===3?!1:"":h:(o=S.attributeName,m=S.attributeNamespace,h===null?s.removeAttribute(o):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,m?s.setAttributeNS(m,o,h):s.setAttribute(o,h))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),W=Symbol.iterator;function ye(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var Se=Object.assign,Y;function R(s){if(Y===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Y=o&&o[1]||""}return`
`+Y+s}var z=!1;function K(s,o){if(!s||z)return"";z=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Me){var m=Me}Reflect.construct(s,[],o)}else{try{o.call()}catch(Me){m=Me}s.call(o.prototype)}else{try{throw Error()}catch(Me){m=Me}s()}}catch(Me){if(Me&&m&&typeof Me.stack=="string"){for(var S=Me.stack.split(`
`),A=m.stack.split(`
`),U=S.length-1,ve=A.length-1;1<=U&&0<=ve&&S[U]!==A[ve];)ve--;for(;1<=U&&0<=ve;U--,ve--)if(S[U]!==A[ve]){if(U!==1||ve!==1)do if(U--,ve--,0>ve||S[U]!==A[ve]){var ke=`
`+S[U].replace(" at new "," at ");return s.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",s.displayName)),ke}while(1<=U&&0<=ve);break}}}finally{z=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?R(s):""}function te(s){switch(s.tag){case 5:return R(s.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return s=K(s.type,!1),s;case 11:return s=K(s.type.render,!1),s;case 1:return s=K(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ee:return"Fragment";case ne:return"Portal";case F:return"Profiler";case $:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case P:return(s.displayName||"Context")+".Consumer";case ae:return(s._context.displayName||"Context")+".Provider";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ue:return o=s.displayName||null,o!==null?o:me(s.type)||"Memo";case de:o=s._payload,s=s._init;try{return me(s(o))}catch{}}return null}function re(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function J(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function we(s){var o=fe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,A=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return S.call(this)},set:function(U){m=""+U,A.call(this,U)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ce(s){s._valueTracker||(s._valueTracker=we(s))}function Le(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var h=o.getValue(),m="";return s&&(m=fe(s)?s.checked?"true":"false":s.value),s=m,s!==h?(o.setValue(s),!0):!1}function qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Te(s,o){var h=o.checked;return Se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function oe(s,o){var h=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;h=J(o.value!=null?o.value:h),s._wrapperState={initialChecked:m,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Lt(s,o){o=o.checked,o!=null&&L(s,"checked",o,!1)}function lt(s,o){Lt(s,o);var h=J(o.value),m=o.type;if(h!=null)m==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?be(s,o.type,h):o.hasOwnProperty("defaultValue")&&be(s,o.type,J(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ft(s,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,h||o===s.value||(s.value=o),s.defaultValue=o}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function be(s,o,h){(o!=="number"||qe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var pe=Array.isArray;function Re(s,o,h,m){if(s=s.options,o){o={};for(var S=0;S<h.length;S++)o["$"+h[S]]=!0;for(h=0;h<s.length;h++)S=o.hasOwnProperty("$"+s[h].value),s[h].selected!==S&&(s[h].selected=S),S&&m&&(s[h].defaultSelected=!0)}else{for(h=""+J(h),o=null,S=0;S<s.length;S++){if(s[S].value===h){s[S].selected=!0,m&&(s[S].defaultSelected=!0);return}o!==null||s[S].disabled||(o=s[S])}o!==null&&(o.selected=!0)}}function Ke(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ze(s,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(t(92));if(pe(h)){if(1<h.length)throw Error(t(93));h=h[0]}o=h}o==null&&(o=""),h=o}s._wrapperState={initialValue:J(h)}}function Mt(s,o){var h=J(o.value),m=J(o.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),o.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),m!=null&&(s.defaultValue=""+m)}function ct(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function ht(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?ht(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xt,at=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,m,S){MSApp.execUnsafeLocalFunction(function(){return s(o,h,m,S)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(xt=xt||document.createElement("div"),xt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=xt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function yt(s,o){if(o){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=o;return}}s.textContent=o}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(s){en.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),pt[o]=pt[s]})});function un(s,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||pt.hasOwnProperty(s)&&pt[s]?(""+o).trim():o+"px"}function bt(s,o){s=s.style;for(var h in o)if(o.hasOwnProperty(h)){var m=h.indexOf("--")===0,S=un(h,o[h],m);h==="float"&&(h="cssFloat"),m?s.setProperty(h,S):s[h]=S}}var qt=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gn(s,o){if(o){if(qt[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function It(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ht=null;function Tt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Nn=null,mn=null,sn=null;function Dt(s){if(s=El(s)){if(typeof Nn!="function")throw Error(t(280));var o=s.stateNode;o&&(o=vc(o),Nn(s.stateNode,s.type,o))}}function it(s){mn?sn?sn.push(s):sn=[s]:mn=s}function vn(){if(mn){var s=mn,o=sn;if(sn=mn=null,Dt(s),o)for(s=0;s<o.length;s++)Dt(o[s])}}function rn(s,o){return s(o)}function $n(){}var Pr=!1;function st(s,o,h){if(Pr)return s(o,h);Pr=!0;try{return rn(s,o,h)}finally{Pr=!1,(mn!==null||sn!==null)&&($n(),vn())}}function kn(s,o){var h=s.stateNode;if(h===null)return null;var m=vc(h);if(m===null)return null;h=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(t(231,o,typeof h));return h}var Sr=!1;if(c)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{Sr=!1}function qn(s,o,h,m,S,A,U,ve,ke){var Me=Array.prototype.slice.call(arguments,3);try{o.apply(h,Me)}catch(Je){this.onError(Je)}}var an=!1,fn=null,In=!1,xi=null,bi={onError:function(s){an=!0,fn=s}};function Di(s,o,h,m,S,A,U,ve,ke){an=!1,fn=null,qn.apply(bi,arguments)}function Fi(s,o,h,m,S,A,U,ve,ke){if(Di.apply(this,arguments),an){if(an){var Me=fn;an=!1,fn=null}else throw Error(t(198));In||(In=!0,xi=Me)}}function Lr(s){var o=s,h=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(h=o.return),s=o.return;while(s)}return o.tag===3?h:null}function Si(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function _i(s){if(Lr(s)!==s)throw Error(t(188))}function ma(s){var o=s.alternate;if(!o){if(o=Lr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var h=s,m=o;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(m=S.return,m!==null){h=m;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return _i(S),s;if(A===m)return _i(S),o;A=A.sibling}throw Error(t(188))}if(h.return!==m.return)h=S,m=A;else{for(var U=!1,ve=S.child;ve;){if(ve===h){U=!0,h=S,m=A;break}if(ve===m){U=!0,m=S,h=A;break}ve=ve.sibling}if(!U){for(ve=A.child;ve;){if(ve===h){U=!0,h=A,m=S;break}if(ve===m){U=!0,m=A,h=S;break}ve=ve.sibling}if(!U)throw Error(t(189))}}if(h.alternate!==m)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?s:o}function os(s){return s=ma(s),s!==null?Xs(s):null}function Xs(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Xs(s);if(o!==null)return o;s=s.sibling}return null}var va=e.unstable_scheduleCallback,ya=e.unstable_cancelCallback,wa=e.unstable_shouldYield,yl=e.unstable_requestPaint,Pn=e.unstable_now,Po=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,_e=e.unstable_NormalPriority,ot=e.unstable_LowPriority,Vt=e.unstable_IdlePriority,Ln=null,An=null;function Ni(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ln,s,void 0,(s.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:Lo,Zs=Math.log,ar=Math.LN2;function Lo(s){return s>>>=0,s===0?32:31-(Zs(s)/ar|0)|0}var oi=64,Mi=4194304;function li(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ki(s,o){var h=s.pendingLanes;if(h===0)return 0;var m=0,S=s.suspendedLanes,A=s.pingedLanes,U=h&268435455;if(U!==0){var ve=U&~S;ve!==0?m=li(ve):(A&=U,A!==0&&(m=li(A)))}else U=h&~S,U!==0?m=li(U):A!==0&&(m=li(A));if(m===0)return 0;if(o!==0&&o!==m&&(o&S)===0&&(S=m&-m,A=o&-o,S>=A||S===16&&(A&4194240)!==0))return o;if((m&4)!==0&&(m|=h&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)h=31-er(o),S=1<<h,m|=s[h],o&=~S;return m}function ea(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(s,o){for(var h=s.suspendedLanes,m=s.pingedLanes,S=s.expirationTimes,A=s.pendingLanes;0<A;){var U=31-er(A),ve=1<<U,ke=S[U];ke===-1?((ve&h)===0||(ve&m)!==0)&&(S[U]=ea(ve,o)):ke<=o&&(s.expiredLanes|=ve),A&=~ve}}function Ts(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function To(){var s=oi;return oi<<=1,(oi&4194240)===0&&(oi=64),s}function Ja(s){for(var o=[],h=0;31>h;h++)o.push(s);return o}function xa(s,o,h){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-er(o),s[o]=h}function zr(s,o){var h=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<h;){var S=31-er(h),A=1<<S;o[S]=0,m[S]=-1,s[S]=-1,h&=~A}}function Ro(s,o){var h=s.entangledLanes|=o;for(s=s.entanglements;h;){var m=31-er(h),S=1<<m;S&o|s[m]&o&&(s[m]|=o),h&=~S}}var on=0;function Rs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Oo,ba,Io,Qa,Xa,Os=!1,Gr=[],ls=null,Kr=null,ji=null,Ft=new Map,Sa=new Map,ms=[],vs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(s,o){switch(s){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Ft.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(o.pointerId)}}function Bi(s,o,h,m,S,A){return s===null||s.nativeEvent!==A?(s={blockedOn:o,domEventName:h,eventSystemFlags:m,nativeEvent:A,targetContainers:[S]},o!==null&&(o=El(o),o!==null&&ba(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),s)}function Is(s,o,h,m,S){switch(o){case"focusin":return ls=Bi(ls,s,o,h,m,S),!0;case"dragenter":return Kr=Bi(Kr,s,o,h,m,S),!0;case"mouseover":return ji=Bi(ji,s,o,h,m,S),!0;case"pointerover":var A=S.pointerId;return Ft.set(A,Bi(Ft.get(A)||null,s,o,h,m,S)),!0;case"gotpointercapture":return A=S.pointerId,Sa.set(A,Bi(Sa.get(A)||null,s,o,h,m,S)),!0}return!1}function Do(s){var o=fo(s.target);if(o!==null){var h=Lr(o);if(h!==null){if(o=h.tag,o===13){if(o=Si(h),o!==null){s.blockedOn=o,Xa(s.priority,function(){Io(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _a(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var h=Na(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var m=new h.constructor(h.type,h);Ht=m,h.target.dispatchEvent(m),Ht=null}else return o=El(h),o!==null&&ba(o),s.blockedOn=h,!1;o.shift()}return!0}function ta(s,o,h){_a(s)&&h.delete(o)}function Fo(){Os=!1,ls!==null&&_a(ls)&&(ls=null),Kr!==null&&_a(Kr)&&(Kr=null),ji!==null&&_a(ji)&&(ji=null),Ft.forEach(ta),Sa.forEach(ta)}function ci(s,o){s.blockedOn===o&&(s.blockedOn=null,Os||(Os=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fo)))}function zi(s){function o(S){return ci(S,s)}if(0<Gr.length){ci(Gr[0],s);for(var h=1;h<Gr.length;h++){var m=Gr[h];m.blockedOn===s&&(m.blockedOn=null)}}for(ls!==null&&ci(ls,s),Kr!==null&&ci(Kr,s),ji!==null&&ci(ji,s),Ft.forEach(o),Sa.forEach(o),h=0;h<ms.length;h++)m=ms[h],m.blockedOn===s&&(m.blockedOn=null);for(;0<ms.length&&(h=ms[0],h.blockedOn===null);)Do(h),h.blockedOn===null&&ms.shift()}var Ui=O.ReactCurrentBatchConfig,Mo=!0;function Bo(s,o,h,m){var S=on,A=Ui.transition;Ui.transition=null;try{on=1,Ds(s,o,h,m)}finally{on=S,Ui.transition=A}}function Za(s,o,h,m){var S=on,A=Ui.transition;Ui.transition=null;try{on=4,Ds(s,o,h,m)}finally{on=S,Ui.transition=A}}function Ds(s,o,h,m){if(Mo){var S=Na(s,o,h,m);if(S===null)pc(s,o,m,ys,h),sc(s,m);else if(Is(S,s,o,h,m))m.stopPropagation();else if(sc(s,m),o&4&&-1<vs.indexOf(s)){for(;S!==null;){var A=El(S);if(A!==null&&Oo(A),A=Na(s,o,h,m),A===null&&pc(s,o,m,ys,h),A===S)break;S=A}S!==null&&m.stopPropagation()}else pc(s,o,m,null,h)}}var ys=null;function Na(s,o,h,m){if(ys=null,s=Tt(m),s=fo(s),s!==null)if(o=Lr(s),o===null)s=null;else if(h=o.tag,h===13){if(s=Si(o),s!==null)return s;s=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ys=s,null}function na(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Po()){case ge:return 1;case Be:return 4;case _e:case ot:return 16;case Vt:return 536870912;default:return 16}default:return 16}}var Ci=null,Fs=null,ra=null;function eo(){if(ra)return ra;var s,o=Fs,h=o.length,m,S="value"in Ci?Ci.value:Ci.textContent,A=S.length;for(s=0;s<h&&o[s]===S[s];s++);var U=h-s;for(m=1;m<=U&&o[h-m]===S[A-m];m++);return ra=S.slice(s,1<m?1-m:void 0)}function Ai(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function to(){return!1}function Tr(s){function o(h,m,S,A,U){this._reactName=h,this._targetInst=S,this.type=m,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var ve in s)s.hasOwnProperty(ve)&&(h=s[ve],this[ve]=h?h(A):A[ve]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ei:to,this.isPropagationStopped=to,this}return Se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),o}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=Tr(Pi),b=Se({},Pi,{view:0,detail:0}),M=Tr(b),le,xe,Ae,Ee=Se({},b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ae&&(Ae&&s.type==="mousemove"?(le=s.screenX-Ae.screenX,xe=s.screenY-Ae.screenY):xe=le=0,Ae=s),le)},movementY:function(s){return"movementY"in s?s.movementY:xe}}),Ue=Tr(Ee),rt=Se({},Ee,{dataTransfer:0}),ut=Tr(rt),Rt=Se({},b,{relatedTarget:0}),Et=Tr(Rt),yn=Se({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=Tr(yn),_r=Se({},Pi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hn=Tr(_r),Rr=Se({},Pi,{data:0}),gr=Tr(Rr),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=$i[s])?!!o[s]:!1}function ro(){return Zc}var zo=Se({},b,{key:function(s){if(s.key){var o=Yr[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ai(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ws[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(s){return s.type==="keypress"?Ai(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ai(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),io=Tr(zo),Uo=Se({},Ee,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=Tr(Uo),$o=Se({},b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),ui=Tr($o),qo=Se({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ho=Tr(qo),ac=Se({},Ee,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oc=Tr(ac),or=[9,13,27,32],Ms=c&&"CompositionEvent"in window,ia=null;c&&"documentMode"in document&&(ia=document.documentMode);var eu=c&&"TextEvent"in window&&!ia,cs=c&&(!Ms||ia&&8<ia&&11>=ia),ao=" ",wl=!1;function xl(s,o){switch(s){case"keyup":return or.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xs=!1;function us(s,o){switch(s){case"compositionend":return ka(o);case"keypress":return o.which!==32?null:(wl=!0,ao);case"textInput":return s=o.data,s===ao&&wl?null:s;default:return null}}function ds(s,o){if(xs)return s==="compositionend"||!Ms&&xl(s,o)?(s=eo(),ra=Fs=Ci=null,xs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return cs&&o.locale!=="ko"?null:o.data;default:return null}}var oo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sa(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!oo[s.type]:o==="textarea"}function ja(s,o,h,m){it(m),o=su(o,"onChange"),0<o.length&&(h=new no("onChange","change",null,h,m),s.push({event:h,listeners:o}))}var Ca=null,aa=null;function mr(s){hc(s,0)}function Wo(s){var o=tl(s);if(Le(o))return s}function oa(s,o){if(s==="change")return o}var Bs=!1;if(c){var Vo;if(c){var Go="oninput"in document;if(!Go){var bl=document.createElement("div");bl.setAttribute("oninput","return;"),Go=typeof bl.oninput=="function"}Vo=Go}else Vo=!1;Bs=Vo&&(!document.documentMode||9<document.documentMode)}function Sl(){Ca&&(Ca.detachEvent("onpropertychange",Aa),aa=Ca=null)}function Aa(s){if(s.propertyName==="value"&&Wo(aa)){var o=[];ja(o,aa,s,Tt(s)),st(mr,o)}}function lo(s,o,h){s==="focusin"?(Sl(),Ca=o,aa=h,Ca.attachEvent("onpropertychange",Aa)):s==="focusout"&&Sl()}function co(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wo(aa)}function Ko(s,o){if(s==="click")return Wo(o)}function uo(s,o){if(s==="input"||s==="change")return Wo(o)}function Yo(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var lr=typeof Object.is=="function"?Object.is:Yo;function qi(s,o){if(lr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var h=Object.keys(s),m=Object.keys(o);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var S=h[m];if(!d.call(o,S)||!lr(s[S],o[S]))return!1}return!0}function xn(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Tn(s,o){var h=xn(s);s=0;for(var m;h;){if(h.nodeType===3){if(m=s+h.textContent.length,s<=o&&m>=o)return{node:h,offset:o-s};s=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=xn(h)}}function cr(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?cr(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Nr(){for(var s=window,o=qe();o instanceof s.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)s=o.contentWindow;else break;o=qe(s.document)}return o}function zs(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function lc(s){var o=Nr(),h=s.focusedElem,m=s.selectionRange;if(o!==h&&h&&h.ownerDocument&&cr(h.ownerDocument.documentElement,h)){if(m!==null&&zs(h)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(s,h.value.length);else if(s=(o=h.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var S=h.textContent.length,A=Math.min(m.start,S);m=m.end===void 0?A:Math.min(m.end,S),!s.extend&&A>m&&(S=m,m=A,A=S),S=Tn(h,A);var U=Tn(h,m);S&&U&&(s.rangeCount!==1||s.anchorNode!==S.node||s.anchorOffset!==S.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(o=o.createRange(),o.setStart(S.node,S.offset),s.removeAllRanges(),A>m?(s.addRange(o),s.extend(U.node,U.offset)):(o.setEnd(U.node,U.offset),s.addRange(o)))}}for(o=[],s=h;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)s=o[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _l=c&&"documentMode"in document&&11>=document.documentMode,Ea=null,tu=null,Nl=null,nu=!1;function gd(s,o,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;nu||Ea==null||Ea!==qe(m)||(m=Ea,"selectionStart"in m&&zs(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Nl&&qi(Nl,m)||(Nl=m,m=su(tu,"onSelect"),0<m.length&&(o=new no("onSelect","select",null,o,h),s.push({event:o,listeners:m}),o.target=Ea)))}function cc(s,o){var h={};return h[s.toLowerCase()]=o.toLowerCase(),h["Webkit"+s]="webkit"+o,h["Moz"+s]="moz"+o,h}var Jo={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Qo={},md={};c&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function uc(s){if(Qo[s])return Qo[s];if(!Jo[s])return s;var o=Jo[s],h;for(h in o)if(o.hasOwnProperty(h)&&h in md)return Qo[s]=o[h];return s}var vd=uc("animationend"),yd=uc("animationiteration"),wd=uc("animationstart"),xd=uc("transitionend"),bd=new Map,Sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(s,o){bd.set(s,o),a(o,[s])}for(var kl=0;kl<Sd.length;kl++){var Li=Sd[kl],bs=Li.toLowerCase(),ru=Li[0].toUpperCase()+Li.slice(1);la(bs,"on"+ru)}la(vd,"onAnimationEnd"),la(yd,"onAnimationIteration"),la(wd,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(xd,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ph=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function dc(s,o,h){var m=s.type||"unknown-event";s.currentTarget=h,Fi(m,o,void 0,s),s.currentTarget=null}function hc(s,o){o=(o&4)!==0;for(var h=0;h<s.length;h++){var m=s[h],S=m.event;m=m.listeners;e:{var A=void 0;if(o)for(var U=m.length-1;0<=U;U--){var ve=m[U],ke=ve.instance,Me=ve.currentTarget;if(ve=ve.listener,ke!==A&&S.isPropagationStopped())break e;dc(S,ve,Me),A=ke}else for(U=0;U<m.length;U++){if(ve=m[U],ke=ve.instance,Me=ve.currentTarget,ve=ve.listener,ke!==A&&S.isPropagationStopped())break e;dc(S,ve,Me),A=ke}}}if(In)throw s=xi,In=!1,xi=null,s}function Dn(s,o){var h=o[Wi];h===void 0&&(h=o[Wi]=new Set);var m=s+"__bubble";h.has(m)||(fc(o,s,2,!1),h.add(m))}function iu(s,o,h){var m=0;o&&(m|=4),fc(h,s,m,o)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Xo(s){if(!s[jl]){s[jl]=!0,r.forEach(function(h){h!=="selectionchange"&&(ph.has(h)||iu(h,!1,s),iu(h,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[jl]||(o[jl]=!0,iu("selectionchange",!1,o))}}function fc(s,o,h,m){switch(na(o)){case 1:var S=Bo;break;case 4:S=Za;break;default:S=Ds}h=S.bind(null,o,h,s),S=void 0,!Sr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),m?S!==void 0?s.addEventListener(o,h,{capture:!0,passive:S}):s.addEventListener(o,h,!0):S!==void 0?s.addEventListener(o,h,{passive:S}):s.addEventListener(o,h,!1)}function pc(s,o,h,m,S){var A=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var ve=m.stateNode.containerInfo;if(ve===S||ve.nodeType===8&&ve.parentNode===S)break;if(U===4)for(U=m.return;U!==null;){var ke=U.tag;if((ke===3||ke===4)&&(ke=U.stateNode.containerInfo,ke===S||ke.nodeType===8&&ke.parentNode===S))return;U=U.return}for(;ve!==null;){if(U=fo(ve),U===null)return;if(ke=U.tag,ke===5||ke===6){m=A=U;continue e}ve=ve.parentNode}}m=m.return}st(function(){var Me=A,Je=Tt(h),Qe=[];e:{var Ye=bd.get(s);if(Ye!==void 0){var dt=no,_t=s;switch(s){case"keypress":if(Ai(h)===0)break e;case"keydown":case"keyup":dt=io;break;case"focusin":_t="focus",dt=Et;break;case"focusout":_t="blur",dt=Et;break;case"beforeblur":case"afterblur":dt=Et;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Ue;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=ut;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=ui;break;case vd:case yd:case wd:dt=nr;break;case xd:dt=Ho;break;case"scroll":dt=M;break;case"wheel":dt=oc;break;case"copy":case"cut":case"paste":dt=Hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=so}var Ct=(o&4)!==0,Dr=!Ct&&s==="scroll",Ie=Ct?Ye!==null?Ye+"Capture":null:Ye;Ct=[];for(var Ce=Me,Fe;Ce!==null;){Fe=Ce;var et=Fe.stateNode;if(Fe.tag===5&&et!==null&&(Fe=et,Ie!==null&&(et=kn(Ce,Ie),et!=null&&Ct.push(gc(Ce,et,Fe)))),Dr)break;Ce=Ce.return}0<Ct.length&&(Ye=new dt(Ye,_t,null,h,Je),Qe.push({event:Ye,listeners:Ct}))}}if((o&7)===0){e:{if(Ye=s==="mouseover"||s==="pointerover",dt=s==="mouseout"||s==="pointerout",Ye&&h!==Ht&&(_t=h.relatedTarget||h.fromElement)&&(fo(_t)||_t[di]))break e;if((dt||Ye)&&(Ye=Je.window===Je?Je:(Ye=Je.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,dt?(_t=h.relatedTarget||h.toElement,dt=Me,_t=_t?fo(_t):null,_t!==null&&(Dr=Lr(_t),_t!==Dr||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(dt=null,_t=Me),dt!==_t)){if(Ct=Ue,et="onMouseLeave",Ie="onMouseEnter",Ce="mouse",(s==="pointerout"||s==="pointerover")&&(Ct=so,et="onPointerLeave",Ie="onPointerEnter",Ce="pointer"),Dr=dt==null?Ye:tl(dt),Fe=_t==null?Ye:tl(_t),Ye=new Ct(et,Ce+"leave",dt,h,Je),Ye.target=Dr,Ye.relatedTarget=Fe,et=null,fo(Je)===Me&&(Ct=new Ct(Ie,Ce+"enter",_t,h,Je),Ct.target=Fe,Ct.relatedTarget=Dr,et=Ct),Dr=et,dt&&_t)t:{for(Ct=dt,Ie=_t,Ce=0,Fe=Ct;Fe;Fe=Zo(Fe))Ce++;for(Fe=0,et=Ie;et;et=Zo(et))Fe++;for(;0<Ce-Fe;)Ct=Zo(Ct),Ce--;for(;0<Fe-Ce;)Ie=Zo(Ie),Fe--;for(;Ce--;){if(Ct===Ie||Ie!==null&&Ct===Ie.alternate)break t;Ct=Zo(Ct),Ie=Zo(Ie)}Ct=null}else Ct=null;dt!==null&&gh(Qe,Ye,dt,Ct,!1),_t!==null&&Dr!==null&&gh(Qe,Dr,_t,Ct,!0)}}e:{if(Ye=Me?tl(Me):window,dt=Ye.nodeName&&Ye.nodeName.toLowerCase(),dt==="select"||dt==="input"&&Ye.type==="file")var Pt=oa;else if(sa(Ye))if(Bs)Pt=uo;else{Pt=co;var zt=lo}else(dt=Ye.nodeName)&&dt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(Pt=Ko);if(Pt&&(Pt=Pt(s,Me))){ja(Qe,Pt,h,Je);break e}zt&&zt(s,Ye,Me),s==="focusout"&&(zt=Ye._wrapperState)&&zt.controlled&&Ye.type==="number"&&be(Ye,"number",Ye.value)}switch(zt=Me?tl(Me):window,s){case"focusin":(sa(zt)||zt.contentEditable==="true")&&(Ea=zt,tu=Me,Nl=null);break;case"focusout":Nl=tu=Ea=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,gd(Qe,h,Je);break;case"selectionchange":if(_l)break;case"keydown":case"keyup":gd(Qe,h,Je)}var Ut;if(Ms)e:{switch(s){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else xs?xl(s,h)&&(Gt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Gt="onCompositionStart");Gt&&(cs&&h.locale!=="ko"&&(xs||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&xs&&(Ut=eo()):(Ci=Je,Fs="value"in Ci?Ci.value:Ci.textContent,xs=!0)),zt=su(Me,Gt),0<zt.length&&(Gt=new gr(Gt,s,null,h,Je),Qe.push({event:Gt,listeners:zt}),Ut?Gt.data=Ut:(Ut=ka(h),Ut!==null&&(Gt.data=Ut)))),(Ut=eu?us(s,h):ds(s,h))&&(Me=su(Me,"onBeforeInput"),0<Me.length&&(Je=new gr("onBeforeInput","beforeinput",null,h,Je),Qe.push({event:Je,listeners:Me}),Je.data=Ut))}hc(Qe,o)})}function gc(s,o,h){return{instance:s,listener:o,currentTarget:h}}function su(s,o){for(var h=o+"Capture",m=[];s!==null;){var S=s,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=kn(s,h),A!=null&&m.unshift(gc(s,A,S)),A=kn(s,o),A!=null&&m.push(gc(s,A,S))),s=s.return}return m}function Zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function gh(s,o,h,m,S){for(var A=o._reactName,U=[];h!==null&&h!==m;){var ve=h,ke=ve.alternate,Me=ve.stateNode;if(ke!==null&&ke===m)break;ve.tag===5&&Me!==null&&(ve=Me,S?(ke=kn(h,A),ke!=null&&U.unshift(gc(h,ke,ve))):S||(ke=kn(h,A),ke!=null&&U.push(gc(h,ke,ve)))),h=h.return}U.length!==0&&s.push({event:o,listeners:U})}var lp=/\r\n?/g,cp=/\u0000|\uFFFD/g;function mh(s){return(typeof s=="string"?s:""+s).replace(lp,`
`).replace(cp,"")}function au(s,o,h){if(o=mh(o),mh(s)!==o&&h)throw Error(t(425))}function Cl(){}var mc=null,el=null;function _d(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,vh=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,up=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(s){return yh.resolve(null).then(s).catch(dp)}:Nd;function dp(s){setTimeout(function(){throw s})}function kd(s,o){var h=o,m=0;do{var S=h.nextSibling;if(s.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(m===0){s.removeChild(S),zi(o);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=S}while(h);zi(o)}function Ti(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ss(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return s;o--}else h==="/$"&&o++}s=s.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),ca="__reactFiber$"+Hi,Al="__reactProps$"+Hi,di="__reactContainer$"+Hi,Wi="__reactEvents$"+Hi,hp="__reactListeners$"+Hi,fp="__reactHandles$"+Hi;function fo(s){var o=s[ca];if(o)return o;for(var h=s.parentNode;h;){if(o=h[di]||h[ca]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(s=Ss(s);s!==null;){if(h=s[ca])return h;s=Ss(s)}return o}s=h,h=s.parentNode}return null}function El(s){return s=s[ca]||s[di],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function tl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function vc(s){return s[Al]||null}var jd=[],Pa=-1;function Us(s){return{current:s}}function En(s){0>Pa||(s.current=jd[Pa],jd[Pa]=null,Pa--)}function Rn(s,o){Pa++,jd[Pa]=s.current,s.current=o}var po={},Jr=Us(po),Vi=Us(!1),nl=po;function Pl(s,o){var h=s.type.contextTypes;if(!h)return po;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in h)S[A]=o[A];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=S),S}function Gi(s){return s=s.childContextTypes,s!=null}function ou(){En(Vi),En(Jr)}function wh(s,o,h){if(Jr.current!==po)throw Error(t(168));Rn(Jr,o),Rn(Vi,h)}function Cd(s,o,h){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var S in m)if(!(S in o))throw Error(t(108,re(s)||"Unknown",S));return Se({},h,m)}function rl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||po,nl=Jr.current,Rn(Jr,s),Rn(Vi,Vi.current),!0}function xh(s,o,h){var m=s.stateNode;if(!m)throw Error(t(169));h?(s=Cd(s,o,nl),m.__reactInternalMemoizedMergedChildContext=s,En(Vi),En(Jr),Rn(Jr,s)):En(Vi),Rn(Vi,h)}var La=null,yc=!1,g=!1;function w(s){La===null?La=[s]:La.push(s)}function C(s){yc=!0,w(s)}function E(){if(!g&&La!==null){g=!0;var s=0,o=on;try{var h=La;for(on=1;s<h.length;s++){var m=h[s];do m=m(!0);while(m!==null)}La=null,yc=!1}catch(S){throw La!==null&&(La=La.slice(s+1)),va(ge,E),S}finally{on=o,g=!1}}return null}var B=[],H=0,G=null,Q=0,Z=[],ie=0,Ne=null,Oe=1,se="";function je(s,o){B[H++]=Q,B[H++]=G,G=s,Q=o}function Pe(s,o,h){Z[ie++]=Oe,Z[ie++]=se,Z[ie++]=Ne,Ne=s;var m=Oe;s=se;var S=32-er(m)-1;m&=~(1<<S),h+=1;var A=32-er(o)+S;if(30<A){var U=S-S%5;A=(m&(1<<U)-1).toString(32),m>>=U,S-=U,Oe=1<<32-er(o)+S|h<<S|m,se=A+s}else Oe=1<<A|h<<S|m,se=s}function He(s){s.return!==null&&(je(s,1),Pe(s,1,0))}function De(s){for(;s===G;)G=B[--H],B[H]=null,Q=B[--H],B[H]=null;for(;s===Ne;)Ne=Z[--ie],Z[ie]=null,se=Z[--ie],Z[ie]=null,Oe=Z[--ie],Z[ie]=null}var ze=null,$e=null,Ve=!1,Ge=null;function At(s,o){var h=pa(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=s,o=s.deletions,o===null?(s.deletions=[h],s.flags|=16):o.push(h)}function gt(s,o){switch(s.tag){case 5:var h=s.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,ze=s,$e=Ti(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,ze=s,$e=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=Ne!==null?{id:Oe,overflow:se}:null,s.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=pa(18,null,null,0),h.stateNode=o,h.return=s,s.child=h,ze=s,$e=null,!0):!1;default:return!1}}function Yt(s){return(s.mode&1)!==0&&(s.flags&128)===0}function St(s){if(Ve){var o=$e;if(o){var h=o;if(!gt(s,o)){if(Yt(s))throw Error(t(418));o=Ti(h.nextSibling);var m=ze;o&&gt(s,o)?At(m,h):(s.flags=s.flags&-4097|2,Ve=!1,ze=s)}}else{if(Yt(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ve=!1,ze=s}}}function dn(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ze=s}function ur(s){if(s!==ze)return!1;if(!Ve)return dn(s),Ve=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!_d(s.type,s.memoizedProps)),o&&(o=$e)){if(Yt(s))throw Jt(),Error(t(418));for(;o;)At(s,o),o=Ti(o.nextSibling)}if(dn(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(o===0){$e=Ti(s.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}s=s.nextSibling}$e=null}}else $e=ze?Ti(s.stateNode.nextSibling):null;return!0}function Jt(){for(var s=$e;s;)s=Ti(s.nextSibling)}function mt(){$e=ze=null,Ve=!1}function tt(s){Ge===null?Ge=[s]:Ge.push(s)}var vr=O.ReactCurrentBatchConfig;function Wt(s,o,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var m=h.stateNode}if(!m)throw Error(t(147,s));var S=m,A=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===A?o.ref:(o=function(U){var ve=S.refs;U===null?delete ve[A]:ve[A]=U},o._stringRef=A,o)}if(typeof s!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,s))}return s}function ln(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Wn(s){var o=s._init;return o(s._payload)}function Ur(s){function o(Ie,Ce){if(s){var Fe=Ie.deletions;Fe===null?(Ie.deletions=[Ce],Ie.flags|=16):Fe.push(Ce)}}function h(Ie,Ce){if(!s)return null;for(;Ce!==null;)o(Ie,Ce),Ce=Ce.sibling;return null}function m(Ie,Ce){for(Ie=new Map;Ce!==null;)Ce.key!==null?Ie.set(Ce.key,Ce):Ie.set(Ce.index,Ce),Ce=Ce.sibling;return Ie}function S(Ie,Ce){return Ie=zl(Ie,Ce),Ie.index=0,Ie.sibling=null,Ie}function A(Ie,Ce,Fe){return Ie.index=Fe,s?(Fe=Ie.alternate,Fe!==null?(Fe=Fe.index,Fe<Ce?(Ie.flags|=2,Ce):Fe):(Ie.flags|=2,Ce)):(Ie.flags|=1048576,Ce)}function U(Ie){return s&&Ie.alternate===null&&(Ie.flags|=2),Ie}function ve(Ie,Ce,Fe,et){return Ce===null||Ce.tag!==6?(Ce=$p(Fe,Ie.mode,et),Ce.return=Ie,Ce):(Ce=S(Ce,Fe),Ce.return=Ie,Ce)}function ke(Ie,Ce,Fe,et){var Pt=Fe.type;return Pt===ee?Je(Ie,Ce,Fe.props.children,et,Fe.key):Ce!==null&&(Ce.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===de&&Wn(Pt)===Ce.type)?(et=S(Ce,Fe.props),et.ref=Wt(Ie,Ce,Fe),et.return=Ie,et):(et=zh(Fe.type,Fe.key,Fe.props,null,Ie.mode,et),et.ref=Wt(Ie,Ce,Fe),et.return=Ie,et)}function Me(Ie,Ce,Fe,et){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Fe.containerInfo||Ce.stateNode.implementation!==Fe.implementation?(Ce=qp(Fe,Ie.mode,et),Ce.return=Ie,Ce):(Ce=S(Ce,Fe.children||[]),Ce.return=Ie,Ce)}function Je(Ie,Ce,Fe,et,Pt){return Ce===null||Ce.tag!==7?(Ce=jc(Fe,Ie.mode,et,Pt),Ce.return=Ie,Ce):(Ce=S(Ce,Fe),Ce.return=Ie,Ce)}function Qe(Ie,Ce,Fe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=$p(""+Ce,Ie.mode,Fe),Ce.return=Ie,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case X:return Fe=zh(Ce.type,Ce.key,Ce.props,null,Ie.mode,Fe),Fe.ref=Wt(Ie,null,Ce),Fe.return=Ie,Fe;case ne:return Ce=qp(Ce,Ie.mode,Fe),Ce.return=Ie,Ce;case de:var et=Ce._init;return Qe(Ie,et(Ce._payload),Fe)}if(pe(Ce)||ye(Ce))return Ce=jc(Ce,Ie.mode,Fe,null),Ce.return=Ie,Ce;ln(Ie,Ce)}return null}function Ye(Ie,Ce,Fe,et){var Pt=Ce!==null?Ce.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Pt!==null?null:ve(Ie,Ce,""+Fe,et);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case X:return Fe.key===Pt?ke(Ie,Ce,Fe,et):null;case ne:return Fe.key===Pt?Me(Ie,Ce,Fe,et):null;case de:return Pt=Fe._init,Ye(Ie,Ce,Pt(Fe._payload),et)}if(pe(Fe)||ye(Fe))return Pt!==null?null:Je(Ie,Ce,Fe,et,null);ln(Ie,Fe)}return null}function dt(Ie,Ce,Fe,et,Pt){if(typeof et=="string"&&et!==""||typeof et=="number")return Ie=Ie.get(Fe)||null,ve(Ce,Ie,""+et,Pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case X:return Ie=Ie.get(et.key===null?Fe:et.key)||null,ke(Ce,Ie,et,Pt);case ne:return Ie=Ie.get(et.key===null?Fe:et.key)||null,Me(Ce,Ie,et,Pt);case de:var zt=et._init;return dt(Ie,Ce,Fe,zt(et._payload),Pt)}if(pe(et)||ye(et))return Ie=Ie.get(Fe)||null,Je(Ce,Ie,et,Pt,null);ln(Ce,et)}return null}function _t(Ie,Ce,Fe,et){for(var Pt=null,zt=null,Ut=Ce,Gt=Ce=0,mi=null;Ut!==null&&Gt<Fe.length;Gt++){Ut.index>Gt?(mi=Ut,Ut=null):mi=Ut.sibling;var jn=Ye(Ie,Ut,Fe[Gt],et);if(jn===null){Ut===null&&(Ut=mi);break}s&&Ut&&jn.alternate===null&&o(Ie,Ut),Ce=A(jn,Ce,Gt),zt===null?Pt=jn:zt.sibling=jn,zt=jn,Ut=mi}if(Gt===Fe.length)return h(Ie,Ut),Ve&&je(Ie,Gt),Pt;if(Ut===null){for(;Gt<Fe.length;Gt++)Ut=Qe(Ie,Fe[Gt],et),Ut!==null&&(Ce=A(Ut,Ce,Gt),zt===null?Pt=Ut:zt.sibling=Ut,zt=Ut);return Ve&&je(Ie,Gt),Pt}for(Ut=m(Ie,Ut);Gt<Fe.length;Gt++)mi=dt(Ut,Ie,Gt,Fe[Gt],et),mi!==null&&(s&&mi.alternate!==null&&Ut.delete(mi.key===null?Gt:mi.key),Ce=A(mi,Ce,Gt),zt===null?Pt=mi:zt.sibling=mi,zt=mi);return s&&Ut.forEach(function(Ul){return o(Ie,Ul)}),Ve&&je(Ie,Gt),Pt}function Ct(Ie,Ce,Fe,et){var Pt=ye(Fe);if(typeof Pt!="function")throw Error(t(150));if(Fe=Pt.call(Fe),Fe==null)throw Error(t(151));for(var zt=Pt=null,Ut=Ce,Gt=Ce=0,mi=null,jn=Fe.next();Ut!==null&&!jn.done;Gt++,jn=Fe.next()){Ut.index>Gt?(mi=Ut,Ut=null):mi=Ut.sibling;var Ul=Ye(Ie,Ut,jn.value,et);if(Ul===null){Ut===null&&(Ut=mi);break}s&&Ut&&Ul.alternate===null&&o(Ie,Ut),Ce=A(Ul,Ce,Gt),zt===null?Pt=Ul:zt.sibling=Ul,zt=Ul,Ut=mi}if(jn.done)return h(Ie,Ut),Ve&&je(Ie,Gt),Pt;if(Ut===null){for(;!jn.done;Gt++,jn=Fe.next())jn=Qe(Ie,jn.value,et),jn!==null&&(Ce=A(jn,Ce,Gt),zt===null?Pt=jn:zt.sibling=jn,zt=jn);return Ve&&je(Ie,Gt),Pt}for(Ut=m(Ie,Ut);!jn.done;Gt++,jn=Fe.next())jn=dt(Ut,Ie,Gt,jn.value,et),jn!==null&&(s&&jn.alternate!==null&&Ut.delete(jn.key===null?Gt:jn.key),Ce=A(jn,Ce,Gt),zt===null?Pt=jn:zt.sibling=jn,zt=jn);return s&&Ut.forEach(function(wS){return o(Ie,wS)}),Ve&&je(Ie,Gt),Pt}function Dr(Ie,Ce,Fe,et){if(typeof Fe=="object"&&Fe!==null&&Fe.type===ee&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case X:e:{for(var Pt=Fe.key,zt=Ce;zt!==null;){if(zt.key===Pt){if(Pt=Fe.type,Pt===ee){if(zt.tag===7){h(Ie,zt.sibling),Ce=S(zt,Fe.props.children),Ce.return=Ie,Ie=Ce;break e}}else if(zt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===de&&Wn(Pt)===zt.type){h(Ie,zt.sibling),Ce=S(zt,Fe.props),Ce.ref=Wt(Ie,zt,Fe),Ce.return=Ie,Ie=Ce;break e}h(Ie,zt);break}else o(Ie,zt);zt=zt.sibling}Fe.type===ee?(Ce=jc(Fe.props.children,Ie.mode,et,Fe.key),Ce.return=Ie,Ie=Ce):(et=zh(Fe.type,Fe.key,Fe.props,null,Ie.mode,et),et.ref=Wt(Ie,Ce,Fe),et.return=Ie,Ie=et)}return U(Ie);case ne:e:{for(zt=Fe.key;Ce!==null;){if(Ce.key===zt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Fe.containerInfo&&Ce.stateNode.implementation===Fe.implementation){h(Ie,Ce.sibling),Ce=S(Ce,Fe.children||[]),Ce.return=Ie,Ie=Ce;break e}else{h(Ie,Ce);break}else o(Ie,Ce);Ce=Ce.sibling}Ce=qp(Fe,Ie.mode,et),Ce.return=Ie,Ie=Ce}return U(Ie);case de:return zt=Fe._init,Dr(Ie,Ce,zt(Fe._payload),et)}if(pe(Fe))return _t(Ie,Ce,Fe,et);if(ye(Fe))return Ct(Ie,Ce,Fe,et);ln(Ie,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Ce!==null&&Ce.tag===6?(h(Ie,Ce.sibling),Ce=S(Ce,Fe),Ce.return=Ie,Ie=Ce):(h(Ie,Ce),Ce=$p(Fe,Ie.mode,et),Ce.return=Ie,Ie=Ce),U(Ie)):h(Ie,Ce)}return Dr}var kr=Ur(!0),rr=Ur(!1),Or=Us(null),$r=null,Jn=null,pn=null;function bn(){pn=Jn=$r=null}function Qn(s){var o=Or.current;En(Or),s._currentValue=o}function Sn(s,o,h){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===h)break;s=s.return}}function dr(s,o){$r=s,pn=Jn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Ns=!0),s.firstContext=null)}function hr(s){var o=s._currentValue;if(pn!==s)if(s={context:s,memoizedValue:o,next:null},Jn===null){if($r===null)throw Error(t(308));Jn=s,$r.dependencies={lanes:0,firstContext:s}}else Jn=Jn.next=s;return o}var Fn=null;function hi(s){Fn===null?Fn=[s]:Fn.push(s)}function On(s,o,h,m){var S=o.interleaved;return S===null?(h.next=h,hi(o)):(h.next=S.next,S.next=h),o.interleaved=h,Mn(s,m)}function Mn(s,o){s.lanes|=o;var h=s.alternate;for(h!==null&&(h.lanes|=o),h=s,s=s.return;s!==null;)s.childLanes|=o,h=s.alternate,h!==null&&(h.childLanes|=o),h=s,s=s.return;return h.tag===3?h.stateNode:null}var jr=!1;function Qr(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ki(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function yr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function wr(s,o,h){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(_n&2)!==0){var S=m.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),m.pending=o,Mn(s,h)}return S=m.interleaved,S===null?(o.next=o,hi(m)):(o.next=S.next,S.next=o),m.interleaved=o,Mn(s,h)}function fi(s,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,Ro(s,h)}}function Bn(s,o){var h=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var U={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?S=A=U:A=A.next=U,h=h.next}while(h!==null);A===null?S=A=o:A=A.next=o}else S=A=o;h={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:m.shared,effects:m.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=o:s.next=o,h.lastBaseUpdate=o}function pi(s,o,h,m){var S=s.updateQueue;jr=!1;var A=S.firstBaseUpdate,U=S.lastBaseUpdate,ve=S.shared.pending;if(ve!==null){S.shared.pending=null;var ke=ve,Me=ke.next;ke.next=null,U===null?A=Me:U.next=Me,U=ke;var Je=s.alternate;Je!==null&&(Je=Je.updateQueue,ve=Je.lastBaseUpdate,ve!==U&&(ve===null?Je.firstBaseUpdate=Me:ve.next=Me,Je.lastBaseUpdate=ke))}if(A!==null){var Qe=S.baseState;U=0,Je=Me=ke=null,ve=A;do{var Ye=ve.lane,dt=ve.eventTime;if((m&Ye)===Ye){Je!==null&&(Je=Je.next={eventTime:dt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var _t=s,Ct=ve;switch(Ye=o,dt=h,Ct.tag){case 1:if(_t=Ct.payload,typeof _t=="function"){Qe=_t.call(dt,Qe,Ye);break e}Qe=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Ct.payload,Ye=typeof _t=="function"?_t.call(dt,Qe,Ye):_t,Ye==null)break e;Qe=Se({},Qe,Ye);break e;case 2:jr=!0}}ve.callback!==null&&ve.lane!==0&&(s.flags|=64,Ye=S.effects,Ye===null?S.effects=[ve]:Ye.push(ve))}else dt={eventTime:dt,lane:Ye,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Je===null?(Me=Je=dt,ke=Qe):Je=Je.next=dt,U|=Ye;if(ve=ve.next,ve===null){if(ve=S.shared.pending,ve===null)break;Ye=ve,ve=Ye.next,Ye.next=null,S.lastBaseUpdate=Ye,S.shared.pending=null}}while(!0);if(Je===null&&(ke=Qe),S.baseState=ke,S.firstBaseUpdate=Me,S.lastBaseUpdate=Je,o=S.shared.interleaved,o!==null){S=o;do U|=S.lane,S=S.next;while(S!==o)}else A===null&&(S.shared.lanes=0);Sc|=U,s.lanes=U,s.memoizedState=Qe}}function _s(s,o,h){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],S=m.callback;if(S!==null){if(m.callback=null,m=h,typeof S!="function")throw Error(t(191,S));S.call(m)}}}var $s={},qr=Us($s),xr=Us($s),go=Us($s);function Ta(s){if(s===$s)throw Error(t(174));return s}function Ll(s,o){switch(Rn(go,o),Rn(xr,s),Rn(qr,$s),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Bt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Bt(o,s)}En(qr),Rn(qr,o)}function ua(){En(qr),En(xr),En(go)}function bh(s){Ta(go.current);var o=Ta(qr.current),h=Bt(o,s.type);o!==h&&(Rn(xr,s),Rn(qr,h))}function Ad(s){xr.current===s&&(En(qr),En(xr))}var Gn=Us(0);function qs(s){for(var o=s;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ed=[];function Pd(){for(var s=0;s<Ed.length;s++)Ed[s]._workInProgressVersionPrimary=null;Ed.length=0}var lu=O.ReactCurrentDispatcher,cu=O.ReactCurrentBatchConfig,da=0,Xn=null,Cr=null,br=null,Tl=!1,Ra=!1,Rl=0,pp=0;function Ir(){throw Error(t(321))}function uu(s,o){if(o===null)return!1;for(var h=0;h<o.length&&h<s.length;h++)if(!lr(s[h],o[h]))return!1;return!0}function wc(s,o,h,m,S,A){if(da=A,Xn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,lu.current=s===null||s.memoizedState===null?Wb:Vb,s=h(m,S),Ra){A=0;do{if(Ra=!1,Rl=0,25<=A)throw Error(t(301));A+=1,br=Cr=null,o.updateQueue=null,lu.current=Gb,s=h(m,S)}while(Ra)}if(lu.current=jh,o=Cr!==null&&Cr.next!==null,da=0,br=Cr=Xn=null,Tl=!1,o)throw Error(t(300));return s}function ha(){var s=Rl!==0;return Rl=0,s}function Hs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Xn.memoizedState=br=s:br=br.next=s,br}function hs(){if(Cr===null){var s=Xn.alternate;s=s!==null?s.memoizedState:null}else s=Cr.next;var o=br===null?Xn.memoizedState:br.next;if(o!==null)br=o,Cr=s;else{if(s===null)throw Error(t(310));Cr=s,s={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},br===null?Xn.memoizedState=br=s:br=br.next=s}return br}function xc(s,o){return typeof o=="function"?o(s):o}function du(s){var o=hs(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var m=Cr,S=m.baseQueue,A=h.pending;if(A!==null){if(S!==null){var U=S.next;S.next=A.next,A.next=U}m.baseQueue=S=A,h.pending=null}if(S!==null){A=S.next,m=m.baseState;var ve=U=null,ke=null,Me=A;do{var Je=Me.lane;if((da&Je)===Je)ke!==null&&(ke=ke.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),m=Me.hasEagerState?Me.eagerState:s(m,Me.action);else{var Qe={lane:Je,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};ke===null?(ve=ke=Qe,U=m):ke=ke.next=Qe,Xn.lanes|=Je,Sc|=Je}Me=Me.next}while(Me!==null&&Me!==A);ke===null?U=m:ke.next=ve,lr(m,o.memoizedState)||(Ns=!0),o.memoizedState=m,o.baseState=U,o.baseQueue=ke,h.lastRenderedState=m}if(s=h.interleaved,s!==null){S=s;do A=S.lane,Xn.lanes|=A,Sc|=A,S=S.next;while(S!==s)}else S===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function mo(s){var o=hs(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var m=h.dispatch,S=h.pending,A=o.memoizedState;if(S!==null){h.pending=null;var U=S=S.next;do A=s(A,U.action),U=U.next;while(U!==S);lr(A,o.memoizedState)||(Ns=!0),o.memoizedState=A,o.baseQueue===null&&(o.baseState=A),h.lastRenderedState=A}return[A,m]}function Sh(){}function Ld(s,o){var h=Xn,m=hs(),S=o(),A=!lr(m.memoizedState,S);if(A&&(m.memoizedState=S,Ns=!0),m=m.queue,pu(Nh.bind(null,h,m,s),[s]),m.getSnapshot!==o||A||br!==null&&br.memoizedState.tag&1){if(h.flags|=2048,fs(9,Td.bind(null,h,m,S,o),void 0,null),gi===null)throw Error(t(349));(da&30)!==0||_h(h,o,S)}return S}function _h(s,o,h){s.flags|=16384,s={getSnapshot:o,value:h},o=Xn.updateQueue,o===null?(o={lastEffect:null,stores:null},Xn.updateQueue=o,o.stores=[s]):(h=o.stores,h===null?o.stores=[s]:h.push(s))}function Td(s,o,h,m){o.value=h,o.getSnapshot=m,Ol(o)&&hu(s)}function Nh(s,o,h){return h(function(){Ol(o)&&hu(s)})}function Ol(s){var o=s.getSnapshot;s=s.value;try{var h=o();return!lr(s,h)}catch{return!0}}function hu(s){var o=Mn(s,1);o!==null&&Ma(o,s,1,-1)}function bc(s){var o=Hs();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:s},o.queue=s,s=s.dispatch=Hb.bind(null,Xn,s),[o.memoizedState,s]}function fs(s,o,h,m){return s={tag:s,create:o,destroy:h,deps:m,next:null},o=Xn.updateQueue,o===null?(o={lastEffect:null,stores:null},Xn.updateQueue=o,o.lastEffect=s.next=s):(h=o.lastEffect,h===null?o.lastEffect=s.next=s:(m=h.next,h.next=s,s.next=m,o.lastEffect=s)),s}function Oa(){return hs().memoizedState}function Ws(s,o,h,m){var S=Hs();Xn.flags|=s,S.memoizedState=fs(1|o,h,void 0,m===void 0?null:m)}function il(s,o,h,m){var S=hs();m=m===void 0?null:m;var A=void 0;if(Cr!==null){var U=Cr.memoizedState;if(A=U.destroy,m!==null&&uu(m,U.deps)){S.memoizedState=fs(o,h,A,m);return}}Xn.flags|=s,S.memoizedState=fs(1|o,h,A,m)}function fu(s,o){return Ws(8390656,8,s,o)}function pu(s,o){return il(2048,8,s,o)}function kh(s,o){return il(4,2,s,o)}function gu(s,o){return il(4,4,s,o)}function mu(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Im(s,o,h){return h=h!=null?h.concat([s]):null,il(4,4,mu.bind(null,o,s),h)}function gp(){}function Dm(s,o){var h=hs();o=o===void 0?null:o;var m=h.memoizedState;return m!==null&&o!==null&&uu(o,m[1])?m[0]:(h.memoizedState=[s,o],s)}function Fm(s,o){var h=hs();o=o===void 0?null:o;var m=h.memoizedState;return m!==null&&o!==null&&uu(o,m[1])?m[0]:(s=s(),h.memoizedState=[s,o],s)}function Mm(s,o,h){return(da&21)===0?(s.baseState&&(s.baseState=!1,Ns=!0),s.memoizedState=h):(lr(h,o)||(h=To(),Xn.lanes|=h,Sc|=h,s.baseState=!0),o)}function $b(s,o){var h=on;on=h!==0&&4>h?h:4,s(!0);var m=cu.transition;cu.transition={};try{s(!1),o()}finally{on=h,cu.transition=m}}function Bm(){return hs().memoizedState}function qb(s,o,h){var m=Ml(s);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},zm(s))Um(o,h);else if(h=On(s,o,h,m),h!==null){var S=gs();Ma(h,s,m,S),$m(h,o,m)}}function Hb(s,o,h){var m=Ml(s),S={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(zm(s))Um(o,S);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=o.lastRenderedReducer,A!==null))try{var U=o.lastRenderedState,ve=A(U,h);if(S.hasEagerState=!0,S.eagerState=ve,lr(ve,U)){var ke=o.interleaved;ke===null?(S.next=S,hi(o)):(S.next=ke.next,ke.next=S),o.interleaved=S;return}}catch{}finally{}h=On(s,o,S,m),h!==null&&(S=gs(),Ma(h,s,m,S),$m(h,o,m))}}function zm(s){var o=s.alternate;return s===Xn||o!==null&&o===Xn}function Um(s,o){Ra=Tl=!0;var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}function $m(s,o,h){if((h&4194240)!==0){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,Ro(s,h)}}var jh={readContext:hr,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},Wb={readContext:hr,useCallback:function(s,o){return Hs().memoizedState=[s,o===void 0?null:o],s},useContext:hr,useEffect:fu,useImperativeHandle:function(s,o,h){return h=h!=null?h.concat([s]):null,Ws(4194308,4,mu.bind(null,o,s),h)},useLayoutEffect:function(s,o){return Ws(4194308,4,s,o)},useInsertionEffect:function(s,o){return Ws(4,2,s,o)},useMemo:function(s,o){var h=Hs();return o=o===void 0?null:o,s=s(),h.memoizedState=[s,o],s},useReducer:function(s,o,h){var m=Hs();return o=h!==void 0?h(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=qb.bind(null,Xn,s),[m.memoizedState,s]},useRef:function(s){var o=Hs();return s={current:s},o.memoizedState=s},useState:bc,useDebugValue:gp,useDeferredValue:function(s){return Hs().memoizedState=s},useTransition:function(){var s=bc(!1),o=s[0];return s=$b.bind(null,s[1]),Hs().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,h){var m=Xn,S=Hs();if(Ve){if(h===void 0)throw Error(t(407));h=h()}else{if(h=o(),gi===null)throw Error(t(349));(da&30)!==0||_h(m,o,h)}S.memoizedState=h;var A={value:h,getSnapshot:o};return S.queue=A,fu(Nh.bind(null,m,A,s),[s]),m.flags|=2048,fs(9,Td.bind(null,m,A,h,o),void 0,null),h},useId:function(){var s=Hs(),o=gi.identifierPrefix;if(Ve){var h=se,m=Oe;h=(m&~(1<<32-er(m)-1)).toString(32)+h,o=":"+o+"R"+h,h=Rl++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=pp++,o=":"+o+"r"+h.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Vb={readContext:hr,useCallback:Dm,useContext:hr,useEffect:pu,useImperativeHandle:Im,useInsertionEffect:kh,useLayoutEffect:gu,useMemo:Fm,useReducer:du,useRef:Oa,useState:function(){return du(xc)},useDebugValue:gp,useDeferredValue:function(s){var o=hs();return Mm(o,Cr.memoizedState,s)},useTransition:function(){var s=du(xc)[0],o=hs().memoizedState;return[s,o]},useMutableSource:Sh,useSyncExternalStore:Ld,useId:Bm,unstable_isNewReconciler:!1},Gb={readContext:hr,useCallback:Dm,useContext:hr,useEffect:pu,useImperativeHandle:Im,useInsertionEffect:kh,useLayoutEffect:gu,useMemo:Fm,useReducer:mo,useRef:Oa,useState:function(){return mo(xc)},useDebugValue:gp,useDeferredValue:function(s){var o=hs();return Cr===null?o.memoizedState=s:Mm(o,Cr.memoizedState,s)},useTransition:function(){var s=mo(xc)[0],o=hs().memoizedState;return[s,o]},useMutableSource:Sh,useSyncExternalStore:Ld,useId:Bm,unstable_isNewReconciler:!1};function Ia(s,o){if(s&&s.defaultProps){o=Se({},o),s=s.defaultProps;for(var h in s)o[h]===void 0&&(o[h]=s[h]);return o}return o}function mp(s,o,h,m){o=s.memoizedState,h=h(m,o),h=h==null?o:Se({},o,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Ch={isMounted:function(s){return(s=s._reactInternals)?Lr(s)===s:!1},enqueueSetState:function(s,o,h){s=s._reactInternals;var m=gs(),S=Ml(s),A=yr(m,S);A.payload=o,h!=null&&(A.callback=h),o=wr(s,A,S),o!==null&&(Ma(o,s,S,m),fi(o,s,S))},enqueueReplaceState:function(s,o,h){s=s._reactInternals;var m=gs(),S=Ml(s),A=yr(m,S);A.tag=1,A.payload=o,h!=null&&(A.callback=h),o=wr(s,A,S),o!==null&&(Ma(o,s,S,m),fi(o,s,S))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var h=gs(),m=Ml(s),S=yr(h,m);S.tag=2,o!=null&&(S.callback=o),o=wr(s,S,m),o!==null&&(Ma(o,s,m,h),fi(o,s,m))}};function qm(s,o,h,m,S,A,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,A,U):o.prototype&&o.prototype.isPureReactComponent?!qi(h,m)||!qi(S,A):!0}function Hm(s,o,h){var m=!1,S=po,A=o.contextType;return typeof A=="object"&&A!==null?A=hr(A):(S=Gi(o)?nl:Jr.current,m=o.contextTypes,A=(m=m!=null)?Pl(s,S):po),o=new o(h,A),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ch,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=S,s.__reactInternalMemoizedMaskedChildContext=A),o}function Wm(s,o,h,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,m),o.state!==s&&Ch.enqueueReplaceState(o,o.state,null)}function vp(s,o,h,m){var S=s.stateNode;S.props=h,S.state=s.memoizedState,S.refs={},Qr(s);var A=o.contextType;typeof A=="object"&&A!==null?S.context=hr(A):(A=Gi(o)?nl:Jr.current,S.context=Pl(s,A)),S.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(mp(s,o,A,h),S.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(o=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),o!==S.state&&Ch.enqueueReplaceState(S,S.state,null),pi(s,h,S,m),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308)}function vu(s,o){try{var h="",m=o;do h+=te(m),m=m.return;while(m);var S=h}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:o,stack:S,digest:null}}function yp(s,o,h){return{value:s,source:null,stack:h??null,digest:o??null}}function wp(s,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var Kb=typeof WeakMap=="function"?WeakMap:Map;function Vm(s,o,h){h=yr(-1,h),h.tag=3,h.payload={element:null};var m=o.value;return h.callback=function(){Oh||(Oh=!0,Op=m),wp(s,o)},h}function Gm(s,o,h){h=yr(-1,h),h.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var S=o.value;h.payload=function(){return m(S)},h.callback=function(){wp(s,o)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){wp(s,o),typeof m!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var U=o.stack;this.componentDidCatch(o.value,{componentStack:U!==null?U:""})}),h}function Km(s,o,h){var m=s.pingCache;if(m===null){m=s.pingCache=new Kb;var S=new Set;m.set(o,S)}else S=m.get(o),S===void 0&&(S=new Set,m.set(o,S));S.has(h)||(S.add(h),s=lS.bind(null,s,o,h),o.then(s,s))}function Ym(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Jm(s,o,h,m,S){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=yr(-1,1),o.tag=2,wr(h,o,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=S,s)}var Yb=O.ReactCurrentOwner,Ns=!1;function ps(s,o,h,m){o.child=s===null?rr(o,null,h,m):kr(o,s.child,h,m)}function Qm(s,o,h,m,S){h=h.render;var A=o.ref;return dr(o,S),m=wc(s,o,h,m,A,S),h=ha(),s!==null&&!Ns?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~S,sl(s,o,S)):(Ve&&h&&He(o),o.flags|=1,ps(s,o,m,S),o.child)}function Xm(s,o,h,m,S){if(s===null){var A=h.type;return typeof A=="function"&&!Up(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=A,Zm(s,o,A,m,S)):(s=zh(h.type,null,m,o,o.mode,S),s.ref=o.ref,s.return=o,o.child=s)}if(A=s.child,(s.lanes&S)===0){var U=A.memoizedProps;if(h=h.compare,h=h!==null?h:qi,h(U,m)&&s.ref===o.ref)return sl(s,o,S)}return o.flags|=1,s=zl(A,m),s.ref=o.ref,s.return=o,o.child=s}function Zm(s,o,h,m,S){if(s!==null){var A=s.memoizedProps;if(qi(A,m)&&s.ref===o.ref)if(Ns=!1,o.pendingProps=m=A,(s.lanes&S)!==0)(s.flags&131072)!==0&&(Ns=!0);else return o.lanes=s.lanes,sl(s,o,S)}return xp(s,o,h,m,S)}function e1(s,o,h){var m=o.pendingProps,S=m.children,A=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(wu,Vs),Vs|=h;else{if((h&1073741824)===0)return s=A!==null?A.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Rn(wu,Vs),Vs|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=A!==null?A.baseLanes:h,Rn(wu,Vs),Vs|=m}else A!==null?(m=A.baseLanes|h,o.memoizedState=null):m=h,Rn(wu,Vs),Vs|=m;return ps(s,o,S,h),o.child}function t1(s,o){var h=o.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function xp(s,o,h,m,S){var A=Gi(h)?nl:Jr.current;return A=Pl(o,A),dr(o,S),h=wc(s,o,h,m,A,S),m=ha(),s!==null&&!Ns?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~S,sl(s,o,S)):(Ve&&m&&He(o),o.flags|=1,ps(s,o,h,S),o.child)}function n1(s,o,h,m,S){if(Gi(h)){var A=!0;rl(o)}else A=!1;if(dr(o,S),o.stateNode===null)Eh(s,o),Hm(o,h,m),vp(o,h,m,S),m=!0;else if(s===null){var U=o.stateNode,ve=o.memoizedProps;U.props=ve;var ke=U.context,Me=h.contextType;typeof Me=="object"&&Me!==null?Me=hr(Me):(Me=Gi(h)?nl:Jr.current,Me=Pl(o,Me));var Je=h.getDerivedStateFromProps,Qe=typeof Je=="function"||typeof U.getSnapshotBeforeUpdate=="function";Qe||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ve!==m||ke!==Me)&&Wm(o,U,m,Me),jr=!1;var Ye=o.memoizedState;U.state=Ye,pi(o,m,U,S),ke=o.memoizedState,ve!==m||Ye!==ke||Vi.current||jr?(typeof Je=="function"&&(mp(o,h,Je,m),ke=o.memoizedState),(ve=jr||qm(o,h,ve,m,Ye,ke,Me))?(Qe||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(o.flags|=4194308)):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ke),U.props=m,U.state=ke,U.context=Me,m=ve):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{U=o.stateNode,Ki(s,o),ve=o.memoizedProps,Me=o.type===o.elementType?ve:Ia(o.type,ve),U.props=Me,Qe=o.pendingProps,Ye=U.context,ke=h.contextType,typeof ke=="object"&&ke!==null?ke=hr(ke):(ke=Gi(h)?nl:Jr.current,ke=Pl(o,ke));var dt=h.getDerivedStateFromProps;(Je=typeof dt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ve!==Qe||Ye!==ke)&&Wm(o,U,m,ke),jr=!1,Ye=o.memoizedState,U.state=Ye,pi(o,m,U,S);var _t=o.memoizedState;ve!==Qe||Ye!==_t||Vi.current||jr?(typeof dt=="function"&&(mp(o,h,dt,m),_t=o.memoizedState),(Me=jr||qm(o,h,Me,m,Ye,_t,ke)||!1)?(Je||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(m,_t,ke),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(m,_t,ke)),typeof U.componentDidUpdate=="function"&&(o.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof U.componentDidUpdate!="function"||ve===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ve===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=_t),U.props=m,U.state=_t,U.context=ke,m=Me):(typeof U.componentDidUpdate!="function"||ve===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ve===s.memoizedProps&&Ye===s.memoizedState||(o.flags|=1024),m=!1)}return bp(s,o,h,m,A,S)}function bp(s,o,h,m,S,A){t1(s,o);var U=(o.flags&128)!==0;if(!m&&!U)return S&&xh(o,h,!1),sl(s,o,A);m=o.stateNode,Yb.current=o;var ve=U&&typeof h.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&U?(o.child=kr(o,s.child,null,A),o.child=kr(o,null,ve,A)):ps(s,o,ve,A),o.memoizedState=m.state,S&&xh(o,h,!0),o.child}function r1(s){var o=s.stateNode;o.pendingContext?wh(s,o.pendingContext,o.pendingContext!==o.context):o.context&&wh(s,o.context,!1),Ll(s,o.containerInfo)}function i1(s,o,h,m,S){return mt(),tt(S),o.flags|=256,ps(s,o,h,m),o.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function _p(s){return{baseLanes:s,cachePool:null,transitions:null}}function s1(s,o,h){var m=o.pendingProps,S=Gn.current,A=!1,U=(o.flags&128)!==0,ve;if((ve=U)||(ve=s!==null&&s.memoizedState===null?!1:(S&2)!==0),ve?(A=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(S|=1),Rn(Gn,S&1),s===null)return St(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(U=m.children,s=m.fallback,A?(m=o.mode,A=o.child,U={mode:"hidden",children:U},(m&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=U):A=Uh(U,m,0,null),s=jc(s,m,h,null),A.return=o,s.return=o,A.sibling=s,o.child=A,o.child.memoizedState=_p(h),o.memoizedState=Sp,s):Np(o,U));if(S=s.memoizedState,S!==null&&(ve=S.dehydrated,ve!==null))return Jb(s,o,U,m,ve,S,h);if(A){A=m.fallback,U=o.mode,S=s.child,ve=S.sibling;var ke={mode:"hidden",children:m.children};return(U&1)===0&&o.child!==S?(m=o.child,m.childLanes=0,m.pendingProps=ke,o.deletions=null):(m=zl(S,ke),m.subtreeFlags=S.subtreeFlags&14680064),ve!==null?A=zl(ve,A):(A=jc(A,U,h,null),A.flags|=2),A.return=o,m.return=o,m.sibling=A,o.child=m,m=A,A=o.child,U=s.child.memoizedState,U=U===null?_p(h):{baseLanes:U.baseLanes|h,cachePool:null,transitions:U.transitions},A.memoizedState=U,A.childLanes=s.childLanes&~h,o.memoizedState=Sp,m}return A=s.child,s=A.sibling,m=zl(A,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=h),m.return=o,m.sibling=null,s!==null&&(h=o.deletions,h===null?(o.deletions=[s],o.flags|=16):h.push(s)),o.child=m,o.memoizedState=null,m}function Np(s,o){return o=Uh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ah(s,o,h,m){return m!==null&&tt(m),kr(o,s.child,null,h),s=Np(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Jb(s,o,h,m,S,A,U){if(h)return o.flags&256?(o.flags&=-257,m=yp(Error(t(422))),Ah(s,o,U,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(A=m.fallback,S=o.mode,m=Uh({mode:"visible",children:m.children},S,0,null),A=jc(A,S,U,null),A.flags|=2,m.return=o,A.return=o,m.sibling=A,o.child=m,(o.mode&1)!==0&&kr(o,s.child,null,U),o.child.memoizedState=_p(U),o.memoizedState=Sp,A);if((o.mode&1)===0)return Ah(s,o,U,null);if(S.data==="$!"){if(m=S.nextSibling&&S.nextSibling.dataset,m)var ve=m.dgst;return m=ve,A=Error(t(419)),m=yp(A,m,void 0),Ah(s,o,U,m)}if(ve=(U&s.childLanes)!==0,Ns||ve){if(m=gi,m!==null){switch(U&-U){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(m.suspendedLanes|U))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,Mn(s,S),Ma(m,s,S,-1))}return zp(),m=yp(Error(t(421))),Ah(s,o,U,m)}return S.data==="$?"?(o.flags|=128,o.child=s.child,o=cS.bind(null,s),S._reactRetry=o,null):(s=A.treeContext,$e=Ti(S.nextSibling),ze=o,Ve=!0,Ge=null,s!==null&&(Z[ie++]=Oe,Z[ie++]=se,Z[ie++]=Ne,Oe=s.id,se=s.overflow,Ne=o),o=Np(o,m.children),o.flags|=4096,o)}function a1(s,o,h){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),Sn(s.return,o,h)}function kp(s,o,h,m,S){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:S}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=h,A.tailMode=S)}function o1(s,o,h){var m=o.pendingProps,S=m.revealOrder,A=m.tail;if(ps(s,o,m.children,h),m=Gn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&a1(s,h,o);else if(s.tag===19)a1(s,h,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Rn(Gn,m),(o.mode&1)===0)o.memoizedState=null;else switch(S){case"forwards":for(h=o.child,S=null;h!==null;)s=h.alternate,s!==null&&qs(s)===null&&(S=h),h=h.sibling;h=S,h===null?(S=o.child,o.child=null):(S=h.sibling,h.sibling=null),kp(o,!1,S,h,A);break;case"backwards":for(h=null,S=o.child,o.child=null;S!==null;){if(s=S.alternate,s!==null&&qs(s)===null){o.child=S;break}s=S.sibling,S.sibling=h,h=S,S=s}kp(o,!0,h,null,A);break;case"together":kp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Eh(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function sl(s,o,h){if(s!==null&&(o.dependencies=s.dependencies),Sc|=o.lanes,(h&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,h=zl(s,s.pendingProps),o.child=h,h.return=o;s.sibling!==null;)s=s.sibling,h=h.sibling=zl(s,s.pendingProps),h.return=o;h.sibling=null}return o.child}function Qb(s,o,h){switch(o.tag){case 3:r1(o),mt();break;case 5:bh(o);break;case 1:Gi(o.type)&&rl(o);break;case 4:Ll(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,S=o.memoizedProps.value;Rn(Or,m._currentValue),m._currentValue=S;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Rn(Gn,Gn.current&1),o.flags|=128,null):(h&o.child.childLanes)!==0?s1(s,o,h):(Rn(Gn,Gn.current&1),s=sl(s,o,h),s!==null?s.sibling:null);Rn(Gn,Gn.current&1);break;case 19:if(m=(h&o.childLanes)!==0,(s.flags&128)!==0){if(m)return o1(s,o,h);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Rn(Gn,Gn.current),m)break;return null;case 22:case 23:return o.lanes=0,e1(s,o,h)}return sl(s,o,h)}var l1,jp,c1,u1;l1=function(s,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},jp=function(){},c1=function(s,o,h,m){var S=s.memoizedProps;if(S!==m){s=o.stateNode,Ta(qr.current);var A=null;switch(h){case"input":S=Te(s,S),m=Te(s,m),A=[];break;case"select":S=Se({},S,{value:void 0}),m=Se({},m,{value:void 0}),A=[];break;case"textarea":S=Ke(s,S),m=Ke(s,m),A=[];break;default:typeof S.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Cl)}gn(h,m);var U;h=null;for(Me in S)if(!m.hasOwnProperty(Me)&&S.hasOwnProperty(Me)&&S[Me]!=null)if(Me==="style"){var ve=S[Me];for(U in ve)ve.hasOwnProperty(U)&&(h||(h={}),h[U]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(i.hasOwnProperty(Me)?A||(A=[]):(A=A||[]).push(Me,null));for(Me in m){var ke=m[Me];if(ve=S?.[Me],m.hasOwnProperty(Me)&&ke!==ve&&(ke!=null||ve!=null))if(Me==="style")if(ve){for(U in ve)!ve.hasOwnProperty(U)||ke&&ke.hasOwnProperty(U)||(h||(h={}),h[U]="");for(U in ke)ke.hasOwnProperty(U)&&ve[U]!==ke[U]&&(h||(h={}),h[U]=ke[U])}else h||(A||(A=[]),A.push(Me,h)),h=ke;else Me==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ve=ve?ve.__html:void 0,ke!=null&&ve!==ke&&(A=A||[]).push(Me,ke)):Me==="children"?typeof ke!="string"&&typeof ke!="number"||(A=A||[]).push(Me,""+ke):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(i.hasOwnProperty(Me)?(ke!=null&&Me==="onScroll"&&Dn("scroll",s),A||ve===ke||(A=[])):(A=A||[]).push(Me,ke))}h&&(A=A||[]).push("style",h);var Me=A;(o.updateQueue=Me)&&(o.flags|=4)}},u1=function(s,o,h,m){h!==m&&(o.flags|=4)};function Rd(s,o){if(!Ve)switch(s.tailMode){case"hidden":o=s.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Yi(s){var o=s.alternate!==null&&s.alternate.child===s.child,h=0,m=0;if(o)for(var S=s.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags&14680064,m|=S.flags&14680064,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=m,s.childLanes=h,o}function Xb(s,o,h){var m=o.pendingProps;switch(De(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(o),null;case 1:return Gi(o.type)&&ou(),Yi(o),null;case 3:return m=o.stateNode,ua(),En(Vi),En(Jr),Pd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(ur(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ge!==null&&(Fp(Ge),Ge=null))),jp(s,o),Yi(o),null;case 5:Ad(o);var S=Ta(go.current);if(h=o.type,s!==null&&o.stateNode!=null)c1(s,o,h,m,S),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return Yi(o),null}if(s=Ta(qr.current),ur(o)){m=o.stateNode,h=o.type;var A=o.memoizedProps;switch(m[ca]=o,m[Al]=A,s=(o.mode&1)!==0,h){case"dialog":Dn("cancel",m),Dn("close",m);break;case"iframe":case"object":case"embed":Dn("load",m);break;case"video":case"audio":for(S=0;S<ho.length;S++)Dn(ho[S],m);break;case"source":Dn("error",m);break;case"img":case"image":case"link":Dn("error",m),Dn("load",m);break;case"details":Dn("toggle",m);break;case"input":oe(m,A),Dn("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!A.multiple},Dn("invalid",m);break;case"textarea":Ze(m,A),Dn("invalid",m)}gn(h,A),S=null;for(var U in A)if(A.hasOwnProperty(U)){var ve=A[U];U==="children"?typeof ve=="string"?m.textContent!==ve&&(A.suppressHydrationWarning!==!0&&au(m.textContent,ve,s),S=["children",ve]):typeof ve=="number"&&m.textContent!==""+ve&&(A.suppressHydrationWarning!==!0&&au(m.textContent,ve,s),S=["children",""+ve]):i.hasOwnProperty(U)&&ve!=null&&U==="onScroll"&&Dn("scroll",m)}switch(h){case"input":ce(m),ft(m,A,!0);break;case"textarea":ce(m),ct(m);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(m.onclick=Cl)}m=S,o.updateQueue=m,m!==null&&(o.flags|=4)}else{U=S.nodeType===9?S:S.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ht(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=U.createElement(h,{is:m.is}):(s=U.createElement(h),h==="select"&&(U=s,m.multiple?U.multiple=!0:m.size&&(U.size=m.size))):s=U.createElementNS(s,h),s[ca]=o,s[Al]=m,l1(s,o,!1,!1),o.stateNode=s;e:{switch(U=It(h,m),h){case"dialog":Dn("cancel",s),Dn("close",s),S=m;break;case"iframe":case"object":case"embed":Dn("load",s),S=m;break;case"video":case"audio":for(S=0;S<ho.length;S++)Dn(ho[S],s);S=m;break;case"source":Dn("error",s),S=m;break;case"img":case"image":case"link":Dn("error",s),Dn("load",s),S=m;break;case"details":Dn("toggle",s),S=m;break;case"input":oe(s,m),S=Te(s,m),Dn("invalid",s);break;case"option":S=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},S=Se({},m,{value:void 0}),Dn("invalid",s);break;case"textarea":Ze(s,m),S=Ke(s,m),Dn("invalid",s);break;default:S=m}gn(h,S),ve=S;for(A in ve)if(ve.hasOwnProperty(A)){var ke=ve[A];A==="style"?bt(s,ke):A==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ke!=null&&at(s,ke)):A==="children"?typeof ke=="string"?(h!=="textarea"||ke!=="")&&yt(s,ke):typeof ke=="number"&&yt(s,""+ke):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?ke!=null&&A==="onScroll"&&Dn("scroll",s):ke!=null&&L(s,A,ke,U))}switch(h){case"input":ce(s),ft(s,m,!1);break;case"textarea":ce(s),ct(s);break;case"option":m.value!=null&&s.setAttribute("value",""+J(m.value));break;case"select":s.multiple=!!m.multiple,A=m.value,A!=null?Re(s,!!m.multiple,A,!1):m.defaultValue!=null&&Re(s,!!m.multiple,m.defaultValue,!0);break;default:typeof S.onClick=="function"&&(s.onclick=Cl)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Yi(o),null;case 6:if(s&&o.stateNode!=null)u1(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(h=Ta(go.current),Ta(qr.current),ur(o)){if(m=o.stateNode,h=o.memoizedProps,m[ca]=o,(A=m.nodeValue!==h)&&(s=ze,s!==null))switch(s.tag){case 3:au(m.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&au(m.nodeValue,h,(s.mode&1)!==0)}A&&(o.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[ca]=o,o.stateNode=m}return Yi(o),null;case 13:if(En(Gn),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ve&&$e!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Jt(),mt(),o.flags|=98560,A=!1;else if(A=ur(o),m!==null&&m.dehydrated!==null){if(s===null){if(!A)throw Error(t(318));if(A=o.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[ca]=o}else mt(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yi(o),A=!1}else Ge!==null&&(Fp(Ge),Ge=null),A=!0;if(!A)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=h,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Gn.current&1)!==0?Xr===0&&(Xr=3):zp())),o.updateQueue!==null&&(o.flags|=4),Yi(o),null);case 4:return ua(),jp(s,o),s===null&&Xo(o.stateNode.containerInfo),Yi(o),null;case 10:return Qn(o.type._context),Yi(o),null;case 17:return Gi(o.type)&&ou(),Yi(o),null;case 19:if(En(Gn),A=o.memoizedState,A===null)return Yi(o),null;if(m=(o.flags&128)!==0,U=A.rendering,U===null)if(m)Rd(A,!1);else{if(Xr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(U=qs(s),U!==null){for(o.flags|=128,Rd(A,!1),m=U.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=h,h=o.child;h!==null;)A=h,s=m,A.flags&=14680066,U=A.alternate,U===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=U.childLanes,A.lanes=U.lanes,A.child=U.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=U.memoizedProps,A.memoizedState=U.memoizedState,A.updateQueue=U.updateQueue,A.type=U.type,s=U.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Rn(Gn,Gn.current&1|2),o.child}s=s.sibling}A.tail!==null&&Pn()>xu&&(o.flags|=128,m=!0,Rd(A,!1),o.lanes=4194304)}else{if(!m)if(s=qs(U),s!==null){if(o.flags|=128,m=!0,h=s.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),Rd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!U.alternate&&!Ve)return Yi(o),null}else 2*Pn()-A.renderingStartTime>xu&&h!==1073741824&&(o.flags|=128,m=!0,Rd(A,!1),o.lanes=4194304);A.isBackwards?(U.sibling=o.child,o.child=U):(h=A.last,h!==null?h.sibling=U:o.child=U,A.last=U)}return A.tail!==null?(o=A.tail,A.rendering=o,A.tail=o.sibling,A.renderingStartTime=Pn(),o.sibling=null,h=Gn.current,Rn(Gn,m?h&1|2:h&1),o):(Yi(o),null);case 22:case 23:return Bp(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(Vs&1073741824)!==0&&(Yi(o),o.subtreeFlags&6&&(o.flags|=8192)):Yi(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Zb(s,o){switch(De(o),o.tag){case 1:return Gi(o.type)&&ou(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ua(),En(Vi),En(Jr),Pd(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Ad(o),null;case 13:if(En(Gn),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));mt()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return En(Gn),null;case 4:return ua(),null;case 10:return Qn(o.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var Ph=!1,Ji=!1,eS=typeof WeakSet=="function"?WeakSet:Set,wt=null;function yu(s,o){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Ar(s,o,m)}else h.current=null}function Cp(s,o,h){try{h()}catch(m){Ar(s,o,m)}}var d1=!1;function tS(s,o){if(mc=Mo,s=Nr(),zs(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var S=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var U=0,ve=-1,ke=-1,Me=0,Je=0,Qe=s,Ye=null;t:for(;;){for(var dt;Qe!==h||S!==0&&Qe.nodeType!==3||(ve=U+S),Qe!==A||m!==0&&Qe.nodeType!==3||(ke=U+m),Qe.nodeType===3&&(U+=Qe.nodeValue.length),(dt=Qe.firstChild)!==null;)Ye=Qe,Qe=dt;for(;;){if(Qe===s)break t;if(Ye===h&&++Me===S&&(ve=U),Ye===A&&++Je===m&&(ke=U),(dt=Qe.nextSibling)!==null)break;Qe=Ye,Ye=Qe.parentNode}Qe=dt}h=ve===-1||ke===-1?null:{start:ve,end:ke}}else h=null}h=h||{start:0,end:0}}else h=null;for(el={focusedElem:s,selectionRange:h},Mo=!1,wt=o;wt!==null;)if(o=wt,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,wt=s;else for(;wt!==null;){o=wt;try{var _t=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var Ct=_t.memoizedProps,Dr=_t.memoizedState,Ie=o.stateNode,Ce=Ie.getSnapshotBeforeUpdate(o.elementType===o.type?Ct:Ia(o.type,Ct),Dr);Ie.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Fe=o.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(et){Ar(o,o.return,et)}if(s=o.sibling,s!==null){s.return=o.return,wt=s;break}wt=o.return}return _t=d1,d1=!1,_t}function Od(s,o,h){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&s)===s){var A=S.destroy;S.destroy=void 0,A!==void 0&&Cp(o,h,A)}S=S.next}while(S!==m)}}function Lh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&s)===s){var m=h.create;h.destroy=m()}h=h.next}while(h!==o)}}function Ap(s){var o=s.ref;if(o!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof o=="function"?o(s):o.current=s}}function h1(s){var o=s.alternate;o!==null&&(s.alternate=null,h1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[ca],delete o[Al],delete o[Wi],delete o[hp],delete o[fp])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function f1(s){return s.tag===5||s.tag===3||s.tag===4}function p1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||f1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ep(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(s,o):h.insertBefore(s,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(s,h)):(o=h,o.appendChild(s)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Cl));else if(m!==4&&(s=s.child,s!==null))for(Ep(s,o,h),s=s.sibling;s!==null;)Ep(s,o,h),s=s.sibling}function Pp(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?h.insertBefore(s,o):h.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Pp(s,o,h),s=s.sibling;s!==null;)Pp(s,o,h),s=s.sibling}var Ri=null,Da=!1;function Il(s,o,h){for(h=h.child;h!==null;)g1(s,o,h),h=h.sibling}function g1(s,o,h){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ln,h)}catch{}switch(h.tag){case 5:Ji||yu(h,o);case 6:var m=Ri,S=Da;Ri=null,Il(s,o,h),Ri=m,Da=S,Ri!==null&&(Da?(s=Ri,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Ri.removeChild(h.stateNode));break;case 18:Ri!==null&&(Da?(s=Ri,h=h.stateNode,s.nodeType===8?kd(s.parentNode,h):s.nodeType===1&&kd(s,h),zi(s)):kd(Ri,h.stateNode));break;case 4:m=Ri,S=Da,Ri=h.stateNode.containerInfo,Da=!0,Il(s,o,h),Ri=m,Da=S;break;case 0:case 11:case 14:case 15:if(!Ji&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){S=m=m.next;do{var A=S,U=A.destroy;A=A.tag,U!==void 0&&((A&2)!==0||(A&4)!==0)&&Cp(h,o,U),S=S.next}while(S!==m)}Il(s,o,h);break;case 1:if(!Ji&&(yu(h,o),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(ve){Ar(h,o,ve)}Il(s,o,h);break;case 21:Il(s,o,h);break;case 22:h.mode&1?(Ji=(m=Ji)||h.memoizedState!==null,Il(s,o,h),Ji=m):Il(s,o,h);break;default:Il(s,o,h)}}function m1(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new eS),o.forEach(function(m){var S=uS.bind(null,s,m);h.has(m)||(h.add(m),m.then(S,S))})}}function Fa(s,o){var h=o.deletions;if(h!==null)for(var m=0;m<h.length;m++){var S=h[m];try{var A=s,U=o,ve=U;e:for(;ve!==null;){switch(ve.tag){case 5:Ri=ve.stateNode,Da=!1;break e;case 3:Ri=ve.stateNode.containerInfo,Da=!0;break e;case 4:Ri=ve.stateNode.containerInfo,Da=!0;break e}ve=ve.return}if(Ri===null)throw Error(t(160));g1(A,U,S),Ri=null,Da=!1;var ke=S.alternate;ke!==null&&(ke.return=null),S.return=null}catch(Me){Ar(S,o,Me)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)v1(o,s),o=o.sibling}function v1(s,o){var h=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Fa(o,s),vo(s),m&4){try{Od(3,s,s.return),Lh(3,s)}catch(Ct){Ar(s,s.return,Ct)}try{Od(5,s,s.return)}catch(Ct){Ar(s,s.return,Ct)}}break;case 1:Fa(o,s),vo(s),m&512&&h!==null&&yu(h,h.return);break;case 5:if(Fa(o,s),vo(s),m&512&&h!==null&&yu(h,h.return),s.flags&32){var S=s.stateNode;try{yt(S,"")}catch(Ct){Ar(s,s.return,Ct)}}if(m&4&&(S=s.stateNode,S!=null)){var A=s.memoizedProps,U=h!==null?h.memoizedProps:A,ve=s.type,ke=s.updateQueue;if(s.updateQueue=null,ke!==null)try{ve==="input"&&A.type==="radio"&&A.name!=null&&Lt(S,A),It(ve,U);var Me=It(ve,A);for(U=0;U<ke.length;U+=2){var Je=ke[U],Qe=ke[U+1];Je==="style"?bt(S,Qe):Je==="dangerouslySetInnerHTML"?at(S,Qe):Je==="children"?yt(S,Qe):L(S,Je,Qe,Me)}switch(ve){case"input":lt(S,A);break;case"textarea":Mt(S,A);break;case"select":var Ye=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var dt=A.value;dt!=null?Re(S,!!A.multiple,dt,!1):Ye!==!!A.multiple&&(A.defaultValue!=null?Re(S,!!A.multiple,A.defaultValue,!0):Re(S,!!A.multiple,A.multiple?[]:"",!1))}S[Al]=A}catch(Ct){Ar(s,s.return,Ct)}}break;case 6:if(Fa(o,s),vo(s),m&4){if(s.stateNode===null)throw Error(t(162));S=s.stateNode,A=s.memoizedProps;try{S.nodeValue=A}catch(Ct){Ar(s,s.return,Ct)}}break;case 3:if(Fa(o,s),vo(s),m&4&&h!==null&&h.memoizedState.isDehydrated)try{zi(o.containerInfo)}catch(Ct){Ar(s,s.return,Ct)}break;case 4:Fa(o,s),vo(s);break;case 13:Fa(o,s),vo(s),S=s.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(Rp=Pn())),m&4&&m1(s);break;case 22:if(Je=h!==null&&h.memoizedState!==null,s.mode&1?(Ji=(Me=Ji)||Je,Fa(o,s),Ji=Me):Fa(o,s),vo(s),m&8192){if(Me=s.memoizedState!==null,(s.stateNode.isHidden=Me)&&!Je&&(s.mode&1)!==0)for(wt=s,Je=s.child;Je!==null;){for(Qe=wt=Je;wt!==null;){switch(Ye=wt,dt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:Od(4,Ye,Ye.return);break;case 1:yu(Ye,Ye.return);var _t=Ye.stateNode;if(typeof _t.componentWillUnmount=="function"){m=Ye,h=Ye.return;try{o=m,_t.props=o.memoizedProps,_t.state=o.memoizedState,_t.componentWillUnmount()}catch(Ct){Ar(m,h,Ct)}}break;case 5:yu(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){x1(Qe);continue}}dt!==null?(dt.return=Ye,wt=dt):x1(Qe)}Je=Je.sibling}e:for(Je=null,Qe=s;;){if(Qe.tag===5){if(Je===null){Je=Qe;try{S=Qe.stateNode,Me?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ve=Qe.stateNode,ke=Qe.memoizedProps.style,U=ke!=null&&ke.hasOwnProperty("display")?ke.display:null,ve.style.display=un("display",U))}catch(Ct){Ar(s,s.return,Ct)}}}else if(Qe.tag===6){if(Je===null)try{Qe.stateNode.nodeValue=Me?"":Qe.memoizedProps}catch(Ct){Ar(s,s.return,Ct)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===s)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===s)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===s)break e;Je===Qe&&(Je=null),Qe=Qe.return}Je===Qe&&(Je=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:Fa(o,s),vo(s),m&4&&m1(s);break;case 21:break;default:Fa(o,s),vo(s)}}function vo(s){var o=s.flags;if(o&2){try{e:{for(var h=s.return;h!==null;){if(f1(h)){var m=h;break e}h=h.return}throw Error(t(160))}switch(m.tag){case 5:var S=m.stateNode;m.flags&32&&(yt(S,""),m.flags&=-33);var A=p1(s);Pp(s,A,S);break;case 3:case 4:var U=m.stateNode.containerInfo,ve=p1(s);Ep(s,ve,U);break;default:throw Error(t(161))}}catch(ke){Ar(s,s.return,ke)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function nS(s,o,h){wt=s,y1(s)}function y1(s,o,h){for(var m=(s.mode&1)!==0;wt!==null;){var S=wt,A=S.child;if(S.tag===22&&m){var U=S.memoizedState!==null||Ph;if(!U){var ve=S.alternate,ke=ve!==null&&ve.memoizedState!==null||Ji;ve=Ph;var Me=Ji;if(Ph=U,(Ji=ke)&&!Me)for(wt=S;wt!==null;)U=wt,ke=U.child,U.tag===22&&U.memoizedState!==null?b1(S):ke!==null?(ke.return=U,wt=ke):b1(S);for(;A!==null;)wt=A,y1(A),A=A.sibling;wt=S,Ph=ve,Ji=Me}w1(s)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,wt=A):w1(s)}}function w1(s){for(;wt!==null;){var o=wt;if((o.flags&8772)!==0){var h=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ji||Lh(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Ji)if(h===null)m.componentDidMount();else{var S=o.elementType===o.type?h.memoizedProps:Ia(o.type,h.memoizedProps);m.componentDidUpdate(S,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var A=o.updateQueue;A!==null&&_s(o,A,m);break;case 3:var U=o.updateQueue;if(U!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}_s(o,U,h)}break;case 5:var ve=o.stateNode;if(h===null&&o.flags&4){h=ve;var ke=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":ke.autoFocus&&h.focus();break;case"img":ke.src&&(h.src=ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Me=o.alternate;if(Me!==null){var Je=Me.memoizedState;if(Je!==null){var Qe=Je.dehydrated;Qe!==null&&zi(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ji||o.flags&512&&Ap(o)}catch(Ye){Ar(o,o.return,Ye)}}if(o===s){wt=null;break}if(h=o.sibling,h!==null){h.return=o.return,wt=h;break}wt=o.return}}function x1(s){for(;wt!==null;){var o=wt;if(o===s){wt=null;break}var h=o.sibling;if(h!==null){h.return=o.return,wt=h;break}wt=o.return}}function b1(s){for(;wt!==null;){var o=wt;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{Lh(4,o)}catch(ke){Ar(o,h,ke)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var S=o.return;try{m.componentDidMount()}catch(ke){Ar(o,S,ke)}}var A=o.return;try{Ap(o)}catch(ke){Ar(o,A,ke)}break;case 5:var U=o.return;try{Ap(o)}catch(ke){Ar(o,U,ke)}}}catch(ke){Ar(o,o.return,ke)}if(o===s){wt=null;break}var ve=o.sibling;if(ve!==null){ve.return=o.return,wt=ve;break}wt=o.return}}var rS=Math.ceil,Th=O.ReactCurrentDispatcher,Lp=O.ReactCurrentOwner,fa=O.ReactCurrentBatchConfig,_n=0,gi=null,Hr=null,Oi=0,Vs=0,wu=Us(0),Xr=0,Id=null,Sc=0,Rh=0,Tp=0,Dd=null,ks=null,Rp=0,xu=1/0,al=null,Oh=!1,Op=null,Dl=null,Ih=!1,Fl=null,Dh=0,Fd=0,Ip=null,Fh=-1,Mh=0;function gs(){return(_n&6)!==0?Pn():Fh!==-1?Fh:Fh=Pn()}function Ml(s){return(s.mode&1)===0?1:(_n&2)!==0&&Oi!==0?Oi&-Oi:vr.transition!==null?(Mh===0&&(Mh=To()),Mh):(s=on,s!==0||(s=window.event,s=s===void 0?16:na(s.type)),s)}function Ma(s,o,h,m){if(50<Fd)throw Fd=0,Ip=null,Error(t(185));xa(s,h,m),((_n&2)===0||s!==gi)&&(s===gi&&((_n&2)===0&&(Rh|=h),Xr===4&&Bl(s,Oi)),js(s,m),h===1&&_n===0&&(o.mode&1)===0&&(xu=Pn()+500,yc&&E()))}function js(s,o){var h=s.callbackNode;tr(s,o);var m=ki(s,s===gi?Oi:0);if(m===0)h!==null&&ya(h),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(h!=null&&ya(h),o===1)s.tag===0?C(_1.bind(null,s)):w(_1.bind(null,s)),up(function(){(_n&6)===0&&E()}),h=null;else{switch(Rs(m)){case 1:h=ge;break;case 4:h=Be;break;case 16:h=_e;break;case 536870912:h=Vt;break;default:h=_e}h=L1(h,S1.bind(null,s))}s.callbackPriority=o,s.callbackNode=h}}function S1(s,o){if(Fh=-1,Mh=0,(_n&6)!==0)throw Error(t(327));var h=s.callbackNode;if(bu()&&s.callbackNode!==h)return null;var m=ki(s,s===gi?Oi:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||o)o=Bh(s,m);else{o=m;var S=_n;_n|=2;var A=k1();(gi!==s||Oi!==o)&&(al=null,xu=Pn()+500,Nc(s,o));do try{aS();break}catch(ve){N1(s,ve)}while(!0);bn(),Th.current=A,_n=S,Hr!==null?o=0:(gi=null,Oi=0,o=Xr)}if(o!==0){if(o===2&&(S=Ts(s),S!==0&&(m=S,o=Dp(s,S))),o===1)throw h=Id,Nc(s,0),Bl(s,m),js(s,Pn()),h;if(o===6)Bl(s,m);else{if(S=s.current.alternate,(m&30)===0&&!iS(S)&&(o=Bh(s,m),o===2&&(A=Ts(s),A!==0&&(m=A,o=Dp(s,A))),o===1))throw h=Id,Nc(s,0),Bl(s,m),js(s,Pn()),h;switch(s.finishedWork=S,s.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:kc(s,ks,al);break;case 3:if(Bl(s,m),(m&130023424)===m&&(o=Rp+500-Pn(),10<o)){if(ki(s,0)!==0)break;if(S=s.suspendedLanes,(S&m)!==m){gs(),s.pingedLanes|=s.suspendedLanes&S;break}s.timeoutHandle=Nd(kc.bind(null,s,ks,al),o);break}kc(s,ks,al);break;case 4:if(Bl(s,m),(m&4194240)===m)break;for(o=s.eventTimes,S=-1;0<m;){var U=31-er(m);A=1<<U,U=o[U],U>S&&(S=U),m&=~A}if(m=S,m=Pn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*rS(m/1960))-m,10<m){s.timeoutHandle=Nd(kc.bind(null,s,ks,al),m);break}kc(s,ks,al);break;case 5:kc(s,ks,al);break;default:throw Error(t(329))}}}return js(s,Pn()),s.callbackNode===h?S1.bind(null,s):null}function Dp(s,o){var h=Dd;return s.current.memoizedState.isDehydrated&&(Nc(s,o).flags|=256),s=Bh(s,o),s!==2&&(o=ks,ks=h,o!==null&&Fp(o)),s}function Fp(s){ks===null?ks=s:ks.push.apply(ks,s)}function iS(s){for(var o=s;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var S=h[m],A=S.getSnapshot;S=S.value;try{if(!lr(A(),S))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bl(s,o){for(o&=~Tp,o&=~Rh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var h=31-er(o),m=1<<h;s[h]=-1,o&=~m}}function _1(s){if((_n&6)!==0)throw Error(t(327));bu();var o=ki(s,0);if((o&1)===0)return js(s,Pn()),null;var h=Bh(s,o);if(s.tag!==0&&h===2){var m=Ts(s);m!==0&&(o=m,h=Dp(s,m))}if(h===1)throw h=Id,Nc(s,0),Bl(s,o),js(s,Pn()),h;if(h===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,kc(s,ks,al),js(s,Pn()),null}function Mp(s,o){var h=_n;_n|=1;try{return s(o)}finally{_n=h,_n===0&&(xu=Pn()+500,yc&&E())}}function _c(s){Fl!==null&&Fl.tag===0&&(_n&6)===0&&bu();var o=_n;_n|=1;var h=fa.transition,m=on;try{if(fa.transition=null,on=1,s)return s()}finally{on=m,fa.transition=h,_n=o,(_n&6)===0&&E()}}function Bp(){Vs=wu.current,En(wu)}function Nc(s,o){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,vh(h)),Hr!==null)for(h=Hr.return;h!==null;){var m=h;switch(De(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&ou();break;case 3:ua(),En(Vi),En(Jr),Pd();break;case 5:Ad(m);break;case 4:ua();break;case 13:En(Gn);break;case 19:En(Gn);break;case 10:Qn(m.type._context);break;case 22:case 23:Bp()}h=h.return}if(gi=s,Hr=s=zl(s.current,null),Oi=Vs=o,Xr=0,Id=null,Tp=Rh=Sc=0,ks=Dd=null,Fn!==null){for(o=0;o<Fn.length;o++)if(h=Fn[o],m=h.interleaved,m!==null){h.interleaved=null;var S=m.next,A=h.pending;if(A!==null){var U=A.next;A.next=S,m.next=U}h.pending=m}Fn=null}return s}function N1(s,o){do{var h=Hr;try{if(bn(),lu.current=jh,Tl){for(var m=Xn.memoizedState;m!==null;){var S=m.queue;S!==null&&(S.pending=null),m=m.next}Tl=!1}if(da=0,br=Cr=Xn=null,Ra=!1,Rl=0,Lp.current=null,h===null||h.return===null){Xr=1,Id=o,Hr=null;break}e:{var A=s,U=h.return,ve=h,ke=o;if(o=Oi,ve.flags|=32768,ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var Me=ke,Je=ve,Qe=Je.tag;if((Je.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Ye=Je.alternate;Ye?(Je.updateQueue=Ye.updateQueue,Je.memoizedState=Ye.memoizedState,Je.lanes=Ye.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var dt=Ym(U);if(dt!==null){dt.flags&=-257,Jm(dt,U,ve,A,o),dt.mode&1&&Km(A,Me,o),o=dt,ke=Me;var _t=o.updateQueue;if(_t===null){var Ct=new Set;Ct.add(ke),o.updateQueue=Ct}else _t.add(ke);break e}else{if((o&1)===0){Km(A,Me,o),zp();break e}ke=Error(t(426))}}else if(Ve&&ve.mode&1){var Dr=Ym(U);if(Dr!==null){(Dr.flags&65536)===0&&(Dr.flags|=256),Jm(Dr,U,ve,A,o),tt(vu(ke,ve));break e}}A=ke=vu(ke,ve),Xr!==4&&(Xr=2),Dd===null?Dd=[A]:Dd.push(A),A=U;do{switch(A.tag){case 3:A.flags|=65536,o&=-o,A.lanes|=o;var Ie=Vm(A,ke,o);Bn(A,Ie);break e;case 1:ve=ke;var Ce=A.type,Fe=A.stateNode;if((A.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(Dl===null||!Dl.has(Fe)))){A.flags|=65536,o&=-o,A.lanes|=o;var et=Gm(A,ve,o);Bn(A,et);break e}}A=A.return}while(A!==null)}C1(h)}catch(Pt){o=Pt,Hr===h&&h!==null&&(Hr=h=h.return);continue}break}while(!0)}function k1(){var s=Th.current;return Th.current=jh,s===null?jh:s}function zp(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),gi===null||(Sc&268435455)===0&&(Rh&268435455)===0||Bl(gi,Oi)}function Bh(s,o){var h=_n;_n|=2;var m=k1();(gi!==s||Oi!==o)&&(al=null,Nc(s,o));do try{sS();break}catch(S){N1(s,S)}while(!0);if(bn(),_n=h,Th.current=m,Hr!==null)throw Error(t(261));return gi=null,Oi=0,Xr}function sS(){for(;Hr!==null;)j1(Hr)}function aS(){for(;Hr!==null&&!wa();)j1(Hr)}function j1(s){var o=P1(s.alternate,s,Vs);s.memoizedProps=s.pendingProps,o===null?C1(s):Hr=o,Lp.current=null}function C1(s){var o=s;do{var h=o.alternate;if(s=o.return,(o.flags&32768)===0){if(h=Xb(h,o,Vs),h!==null){Hr=h;return}}else{if(h=Zb(h,o),h!==null){h.flags&=32767,Hr=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Xr=6,Hr=null;return}}if(o=o.sibling,o!==null){Hr=o;return}Hr=o=s}while(o!==null);Xr===0&&(Xr=5)}function kc(s,o,h){var m=on,S=fa.transition;try{fa.transition=null,on=1,oS(s,o,h,m)}finally{fa.transition=S,on=m}return null}function oS(s,o,h,m){do bu();while(Fl!==null);if((_n&6)!==0)throw Error(t(327));h=s.finishedWork;var S=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var A=h.lanes|h.childLanes;if(zr(s,A),s===gi&&(Hr=gi=null,Oi=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ih||(Ih=!0,L1(_e,function(){return bu(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=fa.transition,fa.transition=null;var U=on;on=1;var ve=_n;_n|=4,Lp.current=null,tS(s,h),v1(h,s),lc(el),Mo=!!mc,el=mc=null,s.current=h,nS(h),yl(),_n=ve,on=U,fa.transition=A}else s.current=h;if(Ih&&(Ih=!1,Fl=s,Dh=S),A=s.pendingLanes,A===0&&(Dl=null),Ni(h.stateNode),js(s,Pn()),o!==null)for(m=s.onRecoverableError,h=0;h<o.length;h++)S=o[h],m(S.value,{componentStack:S.stack,digest:S.digest});if(Oh)throw Oh=!1,s=Op,Op=null,s;return(Dh&1)!==0&&s.tag!==0&&bu(),A=s.pendingLanes,(A&1)!==0?s===Ip?Fd++:(Fd=0,Ip=s):Fd=0,E(),null}function bu(){if(Fl!==null){var s=Rs(Dh),o=fa.transition,h=on;try{if(fa.transition=null,on=16>s?16:s,Fl===null)var m=!1;else{if(s=Fl,Fl=null,Dh=0,(_n&6)!==0)throw Error(t(331));var S=_n;for(_n|=4,wt=s.current;wt!==null;){var A=wt,U=A.child;if((wt.flags&16)!==0){var ve=A.deletions;if(ve!==null){for(var ke=0;ke<ve.length;ke++){var Me=ve[ke];for(wt=Me;wt!==null;){var Je=wt;switch(Je.tag){case 0:case 11:case 15:Od(8,Je,A)}var Qe=Je.child;if(Qe!==null)Qe.return=Je,wt=Qe;else for(;wt!==null;){Je=wt;var Ye=Je.sibling,dt=Je.return;if(h1(Je),Je===Me){wt=null;break}if(Ye!==null){Ye.return=dt,wt=Ye;break}wt=dt}}}var _t=A.alternate;if(_t!==null){var Ct=_t.child;if(Ct!==null){_t.child=null;do{var Dr=Ct.sibling;Ct.sibling=null,Ct=Dr}while(Ct!==null)}}wt=A}}if((A.subtreeFlags&2064)!==0&&U!==null)U.return=A,wt=U;else e:for(;wt!==null;){if(A=wt,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Od(9,A,A.return)}var Ie=A.sibling;if(Ie!==null){Ie.return=A.return,wt=Ie;break e}wt=A.return}}var Ce=s.current;for(wt=Ce;wt!==null;){U=wt;var Fe=U.child;if((U.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=U,wt=Fe;else e:for(U=Ce;wt!==null;){if(ve=wt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:Lh(9,ve)}}catch(Pt){Ar(ve,ve.return,Pt)}if(ve===U){wt=null;break e}var et=ve.sibling;if(et!==null){et.return=ve.return,wt=et;break e}wt=ve.return}}if(_n=S,E(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ln,s)}catch{}m=!0}return m}finally{on=h,fa.transition=o}}return!1}function A1(s,o,h){o=vu(h,o),o=Vm(s,o,1),s=wr(s,o,1),o=gs(),s!==null&&(xa(s,1,o),js(s,o))}function Ar(s,o,h){if(s.tag===3)A1(s,s,h);else for(;o!==null;){if(o.tag===3){A1(o,s,h);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Dl===null||!Dl.has(m))){s=vu(h,s),s=Gm(o,s,1),o=wr(o,s,1),s=gs(),o!==null&&(xa(o,1,s),js(o,s));break}}o=o.return}}function lS(s,o,h){var m=s.pingCache;m!==null&&m.delete(o),o=gs(),s.pingedLanes|=s.suspendedLanes&h,gi===s&&(Oi&h)===h&&(Xr===4||Xr===3&&(Oi&130023424)===Oi&&500>Pn()-Rp?Nc(s,0):Tp|=h),js(s,o)}function E1(s,o){o===0&&((s.mode&1)===0?o=1:(o=Mi,Mi<<=1,(Mi&130023424)===0&&(Mi=4194304)));var h=gs();s=Mn(s,o),s!==null&&(xa(s,o,h),js(s,h))}function cS(s){var o=s.memoizedState,h=0;o!==null&&(h=o.retryLane),E1(s,h)}function uS(s,o){var h=0;switch(s.tag){case 13:var m=s.stateNode,S=s.memoizedState;S!==null&&(h=S.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),E1(s,h)}var P1;P1=function(s,o,h){if(s!==null)if(s.memoizedProps!==o.pendingProps||Vi.current)Ns=!0;else{if((s.lanes&h)===0&&(o.flags&128)===0)return Ns=!1,Qb(s,o,h);Ns=(s.flags&131072)!==0}else Ns=!1,Ve&&(o.flags&1048576)!==0&&Pe(o,Q,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Eh(s,o),s=o.pendingProps;var S=Pl(o,Jr.current);dr(o,h),S=wc(null,o,m,s,S,h);var A=ha();return o.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Gi(m)?(A=!0,rl(o)):A=!1,o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Qr(o),S.updater=Ch,o.stateNode=S,S._reactInternals=o,vp(o,m,s,h),o=bp(null,o,m,!0,A,h)):(o.tag=0,Ve&&A&&He(o),ps(null,o,S,h),o=o.child),o;case 16:m=o.elementType;e:{switch(Eh(s,o),s=o.pendingProps,S=m._init,m=S(m._payload),o.type=m,S=o.tag=hS(m),s=Ia(m,s),S){case 0:o=xp(null,o,m,s,h);break e;case 1:o=n1(null,o,m,s,h);break e;case 11:o=Qm(null,o,m,s,h);break e;case 14:o=Xm(null,o,m,Ia(m.type,s),h);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:Ia(m,S),xp(s,o,m,S,h);case 1:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:Ia(m,S),n1(s,o,m,S,h);case 3:e:{if(r1(o),s===null)throw Error(t(387));m=o.pendingProps,A=o.memoizedState,S=A.element,Ki(s,o),pi(o,m,null,h);var U=o.memoizedState;if(m=U.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},o.updateQueue.baseState=A,o.memoizedState=A,o.flags&256){S=vu(Error(t(423)),o),o=i1(s,o,m,h,S);break e}else if(m!==S){S=vu(Error(t(424)),o),o=i1(s,o,m,h,S);break e}else for($e=Ti(o.stateNode.containerInfo.firstChild),ze=o,Ve=!0,Ge=null,h=rr(o,null,m,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(mt(),m===S){o=sl(s,o,h);break e}ps(s,o,m,h)}o=o.child}return o;case 5:return bh(o),s===null&&St(o),m=o.type,S=o.pendingProps,A=s!==null?s.memoizedProps:null,U=S.children,_d(m,S)?U=null:A!==null&&_d(m,A)&&(o.flags|=32),t1(s,o),ps(s,o,U,h),o.child;case 6:return s===null&&St(o),null;case 13:return s1(s,o,h);case 4:return Ll(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=kr(o,null,m,h):ps(s,o,m,h),o.child;case 11:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:Ia(m,S),Qm(s,o,m,S,h);case 7:return ps(s,o,o.pendingProps,h),o.child;case 8:return ps(s,o,o.pendingProps.children,h),o.child;case 12:return ps(s,o,o.pendingProps.children,h),o.child;case 10:e:{if(m=o.type._context,S=o.pendingProps,A=o.memoizedProps,U=S.value,Rn(Or,m._currentValue),m._currentValue=U,A!==null)if(lr(A.value,U)){if(A.children===S.children&&!Vi.current){o=sl(s,o,h);break e}}else for(A=o.child,A!==null&&(A.return=o);A!==null;){var ve=A.dependencies;if(ve!==null){U=A.child;for(var ke=ve.firstContext;ke!==null;){if(ke.context===m){if(A.tag===1){ke=yr(-1,h&-h),ke.tag=2;var Me=A.updateQueue;if(Me!==null){Me=Me.shared;var Je=Me.pending;Je===null?ke.next=ke:(ke.next=Je.next,Je.next=ke),Me.pending=ke}}A.lanes|=h,ke=A.alternate,ke!==null&&(ke.lanes|=h),Sn(A.return,h,o),ve.lanes|=h;break}ke=ke.next}}else if(A.tag===10)U=A.type===o.type?null:A.child;else if(A.tag===18){if(U=A.return,U===null)throw Error(t(341));U.lanes|=h,ve=U.alternate,ve!==null&&(ve.lanes|=h),Sn(U,h,o),U=A.sibling}else U=A.child;if(U!==null)U.return=A;else for(U=A;U!==null;){if(U===o){U=null;break}if(A=U.sibling,A!==null){A.return=U.return,U=A;break}U=U.return}A=U}ps(s,o,S.children,h),o=o.child}return o;case 9:return S=o.type,m=o.pendingProps.children,dr(o,h),S=hr(S),m=m(S),o.flags|=1,ps(s,o,m,h),o.child;case 14:return m=o.type,S=Ia(m,o.pendingProps),S=Ia(m.type,S),Xm(s,o,m,S,h);case 15:return Zm(s,o,o.type,o.pendingProps,h);case 17:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:Ia(m,S),Eh(s,o),o.tag=1,Gi(m)?(s=!0,rl(o)):s=!1,dr(o,h),Hm(o,m,S),vp(o,m,S,h),bp(null,o,m,!0,s,h);case 19:return o1(s,o,h);case 22:return e1(s,o,h)}throw Error(t(156,o.tag))};function L1(s,o){return va(s,o)}function dS(s,o,h,m){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(s,o,h,m){return new dS(s,o,h,m)}function Up(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hS(s){if(typeof s=="function")return Up(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===ue)return 14}return 2}function zl(s,o){var h=s.alternate;return h===null?(h=pa(s.tag,o,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=o,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,o=s.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function zh(s,o,h,m,S,A){var U=2;if(m=s,typeof s=="function")Up(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case ee:return jc(h.children,S,A,o);case $:U=8,S|=8;break;case F:return s=pa(12,h,o,S|2),s.elementType=F,s.lanes=A,s;case q:return s=pa(13,h,o,S),s.elementType=q,s.lanes=A,s;case V:return s=pa(19,h,o,S),s.elementType=V,s.lanes=A,s;case he:return Uh(h,S,A,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ae:U=10;break e;case P:U=9;break e;case D:U=11;break e;case ue:U=14;break e;case de:U=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=pa(U,h,o,S),o.elementType=s,o.type=m,o.lanes=A,o}function jc(s,o,h,m){return s=pa(7,s,m,o),s.lanes=h,s}function Uh(s,o,h,m){return s=pa(22,s,m,o),s.elementType=he,s.lanes=h,s.stateNode={isHidden:!1},s}function $p(s,o,h){return s=pa(6,s,null,o),s.lanes=h,s}function qp(s,o,h){return o=pa(4,s.children!==null?s.children:[],s.key,o),o.lanes=h,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function fS(s,o,h,m,S){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=m,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Hp(s,o,h,m,S,A,U,ve,ke){return s=new fS(s,o,h,ve,ke),o===1?(o=1,A===!0&&(o|=8)):o=0,A=pa(3,null,null,o),s.current=A,A.stateNode=s,A.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qr(A),s}function pS(s,o,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:m==null?null:""+m,children:s,containerInfo:o,implementation:h}}function T1(s){if(!s)return po;s=s._reactInternals;e:{if(Lr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Gi(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var h=s.type;if(Gi(h))return Cd(s,h,o)}return o}function R1(s,o,h,m,S,A,U,ve,ke){return s=Hp(h,m,!0,s,S,A,U,ve,ke),s.context=T1(null),h=s.current,m=gs(),S=Ml(h),A=yr(m,S),A.callback=o??null,wr(h,A,S),s.current.lanes=S,xa(s,S,m),js(s,m),s}function $h(s,o,h,m){var S=o.current,A=gs(),U=Ml(S);return h=T1(h),o.context===null?o.context=h:o.pendingContext=h,o=yr(A,U),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=wr(S,o,U),s!==null&&(Ma(s,S,U,A),fi(s,S,U)),U}function qh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function O1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<o?h:o}}function Wp(s,o){O1(s,o),(s=s.alternate)&&O1(s,o)}function gS(){return null}var I1=typeof reportError=="function"?reportError:function(s){console.error(s)};function Vp(s){this._internalRoot=s}Hh.prototype.render=Vp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));$h(s,o,null,null)},Hh.prototype.unmount=Vp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;_c(function(){$h(null,s,null,null)}),o[di]=null}};function Hh(s){this._internalRoot=s}Hh.prototype.unstable_scheduleHydration=function(s){if(s){var o=Qa();s={blockedOn:null,target:s,priority:o};for(var h=0;h<ms.length&&o!==0&&o<ms[h].priority;h++);ms.splice(h,0,s),h===0&&Do(s)}};function Gp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function D1(){}function mS(s,o,h,m,S){if(S){if(typeof m=="function"){var A=m;m=function(){var Me=qh(U);A.call(Me)}}var U=R1(o,m,s,0,null,!1,!1,"",D1);return s._reactRootContainer=U,s[di]=U.current,Xo(s.nodeType===8?s.parentNode:s),_c(),U}for(;S=s.lastChild;)s.removeChild(S);if(typeof m=="function"){var ve=m;m=function(){var Me=qh(ke);ve.call(Me)}}var ke=Hp(s,0,!1,null,null,!1,!1,"",D1);return s._reactRootContainer=ke,s[di]=ke.current,Xo(s.nodeType===8?s.parentNode:s),_c(function(){$h(o,ke,h,m)}),ke}function Vh(s,o,h,m,S){var A=h._reactRootContainer;if(A){var U=A;if(typeof S=="function"){var ve=S;S=function(){var ke=qh(U);ve.call(ke)}}$h(o,U,s,S)}else U=mS(h,o,s,S,m);return qh(U)}Oo=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var h=li(o.pendingLanes);h!==0&&(Ro(o,h|1),js(o,Pn()),(_n&6)===0&&(xu=Pn()+500,E()))}break;case 13:_c(function(){var m=Mn(s,1);if(m!==null){var S=gs();Ma(m,s,1,S)}}),Wp(s,1)}},ba=function(s){if(s.tag===13){var o=Mn(s,134217728);if(o!==null){var h=gs();Ma(o,s,134217728,h)}Wp(s,134217728)}},Io=function(s){if(s.tag===13){var o=Ml(s),h=Mn(s,o);if(h!==null){var m=gs();Ma(h,s,o,m)}Wp(s,o)}},Qa=function(){return on},Xa=function(s,o){var h=on;try{return on=s,o()}finally{on=h}},Nn=function(s,o,h){switch(o){case"input":if(lt(s,h),o=h.name,h.type==="radio"&&o!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var m=h[o];if(m!==s&&m.form===s.form){var S=vc(m);if(!S)throw Error(t(90));Le(m),lt(m,S)}}}break;case"textarea":Mt(s,h);break;case"select":o=h.value,o!=null&&Re(s,!!h.multiple,o,!1)}},rn=Mp,$n=_c;var vS={usingClientEntryPoint:!1,Events:[El,tl,vc,it,vn,Mp]},Md={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yS={bundleType:Md.bundleType,version:Md.version,rendererPackageName:Md.rendererPackageName,rendererConfig:Md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=os(s),s===null?null:s.stateNode},findFiberByHostInstance:Md.findFiberByHostInstance||gS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Ln=Gh.inject(yS),An=Gh}catch{}}return Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vS,Cs.createPortal=function(s,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gp(o))throw Error(t(200));return pS(s,o,null,h)},Cs.createRoot=function(s,o){if(!Gp(s))throw Error(t(299));var h=!1,m="",S=I1;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=Hp(s,1,!1,null,null,h,!1,m,S),s[di]=o.current,Xo(s.nodeType===8?s.parentNode:s),new Vp(o)},Cs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=os(o),s=s===null?null:s.stateNode,s},Cs.flushSync=function(s){return _c(s)},Cs.hydrate=function(s,o,h){if(!Wh(o))throw Error(t(200));return Vh(null,s,o,!0,h)},Cs.hydrateRoot=function(s,o,h){if(!Gp(s))throw Error(t(405));var m=h!=null&&h.hydratedSources||null,S=!1,A="",U=I1;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(U=h.onRecoverableError)),o=R1(o,null,s,1,h??null,S,!1,A,U),s[di]=o.current,Xo(s),m)for(s=0;s<m.length;s++)h=m[s],S=h._getVersion,S=S(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,S]:o.mutableSourceEagerHydrationData.push(h,S);return new Hh(o)},Cs.render=function(s,o,h){if(!Wh(o))throw Error(t(200));return Vh(null,s,o,!1,h)},Cs.unmountComponentAtNode=function(s){if(!Wh(s))throw Error(t(40));return s._reactRootContainer?(_c(function(){Vh(null,null,s,!1,function(){s._reactRootContainer=null,s[di]=null})}),!0):!1},Cs.unstable_batchedUpdates=Mp,Cs.unstable_renderSubtreeIntoContainer=function(s,o,h,m){if(!Wh(h))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Vh(s,o,h,!1,m)},Cs.version="18.3.1-next-f1338f8080-20240426",Cs}var H1;function Xy(){if(H1)return Jp.exports;H1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jp.exports=CS(),Jp.exports}var W1;function AS(){if(W1)return Kh;W1=1;var n=Xy();return Kh.createRoot=n.createRoot,Kh.hydrateRoot=n.hydrateRoot,Kh}var ES=AS(),I=Z0();const Xe=Vf(I),Zy=xS({__proto__:null,default:Xe},[I]);function V1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ew(...n){return e=>{let t=!1;const r=n.map(i=>{const a=V1(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():V1(n[i],null)}}}}function sr(...n){return I.useCallback(ew(...n),n)}function nd(n){const e=PS(n),t=I.forwardRef((r,i)=>{const{children:a,...l}=r,c=I.Children.toArray(a),d=c.find(TS);if(d){const f=d.props.children,p=c.map(v=>v===d?I.Children.count(f)>1?I.Children.only(null):I.isValidElement(f)?f.props.children:null:v);return u.jsx(e,{...l,ref:i,children:I.isValidElement(f)?I.cloneElement(f,void 0,p):null})}return u.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var tw=nd("Slot");function PS(n){const e=I.forwardRef((t,r)=>{const{children:i,...a}=t;if(I.isValidElement(i)){const l=OS(i),c=RS(a,i.props);return i.type!==I.Fragment&&(c.ref=r?ew(r,l):l),I.cloneElement(i,c)}return I.Children.count(i)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var LS=Symbol("radix.slottable");function TS(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===LS}function RS(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function OS(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function nw(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=nw(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function rw(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=nw(n))&&(r&&(r+=" "),r+=e);return r}const G1=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,K1=rw,iw=(n,e)=>t=>{var r;if(e?.variants==null)return K1(n,t?.class,t?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(f=>{const p=t?.[f],v=a?.[f];if(p===null)return null;const x=G1(p)||G1(v);return i[f][x]}),c=t&&Object.entries(t).reduce((f,p)=>{let[v,x]=p;return x===void 0||(f[v]=x),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:v,className:x,...y}=p;return Object.entries(y).every(N=>{let[_,k]=N;return Array.isArray(k)?k.includes({...a,...c}[_]):{...a,...c}[_]===k})?[...f,v,x]:f},[]);return K1(n,l,d,t?.class,t?.className)},em="-",IS=n=>{const e=FS(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(em);return c[0]===""&&c.length!==1&&c.shift(),sw(c,e)||DS(l)},getConflictingClassGroupIds:(l,c)=>{const d=t[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},sw=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?sw(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(em);return e.validators.find(({validator:l})=>l(a))?.classGroupId},Y1=/^\[(.+)\]$/,DS=n=>{if(Y1.test(n)){const e=Y1.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},FS=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)h0(t[i],r,i,e);return r},h0=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:J1(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(MS(i)){h0(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{h0(l,J1(e,a),t,r)})})},J1=(n,e)=>{let t=n;return e.split(em).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},MS=n=>n.isThemeGetter,BS=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},f0="!",p0=":",zS=p0.length,US=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let l=0,c=0,d=0,f;for(let N=0;N<i.length;N++){let _=i[N];if(l===0&&c===0){if(_===p0){a.push(i.slice(d,N)),d=N+zS;continue}if(_==="/"){f=N;continue}}_==="["?l++:_==="]"?l--:_==="("?c++:_===")"&&c--}const p=a.length===0?i:i.substring(d),v=$S(p),x=v!==p,y=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:y}};if(e){const i=e+p0,a=r;r=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},$S=n=>n.endsWith(f0)?n.substring(0,n.length-1):n.startsWith(f0)?n.substring(1):n,qS=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},HS=n=>({cache:BS(n.cacheSize),parseClassName:US(n),sortModifiers:qS(n),...IS(n)}),WS=/\s+/,VS=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],c=n.trim().split(WS);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:v,modifiers:x,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:_}=t(p);if(v){d=p+(d.length>0?" "+d:d);continue}let k=!!_,j=r(k?N.substring(0,_):N);if(!j){if(!k){d=p+(d.length>0?" "+d:d);continue}if(j=r(N),!j){d=p+(d.length>0?" "+d:d);continue}k=!1}const T=a(x).join(":"),L=y?T+f0:T,O=L+j;if(l.includes(O))continue;l.push(O);const X=i(j,k);for(let ne=0;ne<X.length;++ne){const ee=X[ne];l.push(L+ee)}d=p+(d.length>0?" "+d:d)}return d};function GS(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=aw(e))&&(r&&(r+=" "),r+=t);return r}const aw=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=aw(n[r]))&&(t&&(t+=" "),t+=e);return t};function KS(n,...e){let t,r,i,a=l;function l(d){const f=e.reduce((p,v)=>v(p),n());return t=HS(f),r=t.cache.get,i=t.cache.set,a=c,c(d)}function c(d){const f=r(d);if(f)return f;const p=VS(d,t);return i(d,p),p}return function(){return a(GS.apply(null,arguments))}}const Zr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ow=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,YS=/^\d+\/\d+$/,JS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ZS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Su=n=>YS.test(n),cn=n=>!!n&&!Number.isNaN(Number(n)),$l=n=>!!n&&Number.isInteger(Number(n)),Zp=n=>n.endsWith("%")&&cn(n.slice(0,-1)),ol=n=>JS.test(n),t_=()=>!0,n_=n=>QS.test(n)&&!XS.test(n),cw=()=>!1,r_=n=>ZS.test(n),i_=n=>e_.test(n),s_=n=>!Nt(n)&&!kt(n),a_=n=>ad(n,hw,cw),Nt=n=>ow.test(n),Cc=n=>ad(n,fw,n_),eg=n=>ad(n,d_,cn),Q1=n=>ad(n,uw,cw),o_=n=>ad(n,dw,i_),Yh=n=>ad(n,pw,r_),kt=n=>lw.test(n),zd=n=>od(n,fw),l_=n=>od(n,h_),X1=n=>od(n,uw),c_=n=>od(n,hw),u_=n=>od(n,dw),Jh=n=>od(n,pw,!0),ad=(n,e,t)=>{const r=ow.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},od=(n,e,t=!1)=>{const r=lw.exec(n);return r?r[1]?e(r[1]):t:!1},uw=n=>n==="position"||n==="percentage",dw=n=>n==="image"||n==="url",hw=n=>n==="length"||n==="size"||n==="bg-size",fw=n=>n==="length",d_=n=>n==="number",h_=n=>n==="family-name",pw=n=>n==="shadow",f_=()=>{const n=Zr("color"),e=Zr("font"),t=Zr("text"),r=Zr("font-weight"),i=Zr("tracking"),a=Zr("leading"),l=Zr("breakpoint"),c=Zr("container"),d=Zr("spacing"),f=Zr("radius"),p=Zr("shadow"),v=Zr("inset-shadow"),x=Zr("text-shadow"),y=Zr("drop-shadow"),N=Zr("blur"),_=Zr("perspective"),k=Zr("aspect"),j=Zr("ease"),T=Zr("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...O(),kt,Nt],ne=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto","contain","none"],$=()=>[kt,Nt,d],F=()=>[Su,"full","auto",...$()],ae=()=>[$l,"none","subgrid",kt,Nt],P=()=>["auto",{span:["full",$l,kt,Nt]},$l,kt,Nt],D=()=>[$l,"auto",kt,Nt],q=()=>["auto","min","max","fr",kt,Nt],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...$()],he=()=>[Su,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],W=()=>[n,kt,Nt],ye=()=>[...O(),X1,Q1,{position:[kt,Nt]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",c_,a_,{size:[kt,Nt]}],R=()=>[Zp,zd,Cc],z=()=>["","none","full",f,kt,Nt],K=()=>["",cn,zd,Cc],te=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[cn,Zp,X1,Q1],J=()=>["","none",N,kt,Nt],fe=()=>["none",cn,kt,Nt],we=()=>["none",cn,kt,Nt],ce=()=>[cn,kt,Nt],Le=()=>[Su,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ol],breakpoint:[ol],color:[t_],container:[ol],"drop-shadow":[ol],ease:["in","out","in-out"],font:[s_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ol],shadow:[ol],spacing:["px",cn],text:[ol],"text-shadow":[ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Su,Nt,kt,k]}],container:["container"],columns:[{columns:[cn,Nt,kt,c]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:ee()}],"overscroll-x":[{"overscroll-x":ee()}],"overscroll-y":[{"overscroll-y":ee()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[$l,"auto",kt,Nt]}],basis:[{basis:[Su,"full","auto",c,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[cn,Su,"auto","initial","none",Nt]}],grow:[{grow:["",cn,kt,Nt]}],shrink:[{shrink:["",cn,kt,Nt]}],order:[{order:[$l,"first","last","none",kt,Nt]}],"grid-cols":[{"grid-cols":ae()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":ae()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[c,"screen",...he()]}],"min-w":[{"min-w":[c,"screen","none",...he()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",t,zd,Cc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,kt,eg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zp,Nt]}],"font-family":[{font:[l_,Nt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,kt,Nt]}],"line-clamp":[{"line-clamp":[cn,"none",kt,eg]}],leading:[{leading:[a,...$()]}],"list-image":[{"list-image":["none",kt,Nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",kt,Nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[cn,"from-font","auto",kt,Cc]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[cn,"auto",kt,Nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt,Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt,Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$l,kt,Nt],radial:["",kt,Nt],conic:[$l,kt,Nt]},u_,o_]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[cn,kt,Nt]}],"outline-w":[{outline:["",cn,zd,Cc]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",p,Jh,Yh]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",v,Jh,Yh]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[cn,Cc]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",x,Jh,Yh]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[cn,kt,Nt]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[cn]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[kt,Nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[cn]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",kt,Nt]}],filter:[{filter:["","none",kt,Nt]}],blur:[{blur:J()}],brightness:[{brightness:[cn,kt,Nt]}],contrast:[{contrast:[cn,kt,Nt]}],"drop-shadow":[{"drop-shadow":["","none",y,Jh,Yh]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",cn,kt,Nt]}],"hue-rotate":[{"hue-rotate":[cn,kt,Nt]}],invert:[{invert:["",cn,kt,Nt]}],saturate:[{saturate:[cn,kt,Nt]}],sepia:[{sepia:["",cn,kt,Nt]}],"backdrop-filter":[{"backdrop-filter":["","none",kt,Nt]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[cn,kt,Nt]}],"backdrop-contrast":[{"backdrop-contrast":[cn,kt,Nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",cn,kt,Nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[cn,kt,Nt]}],"backdrop-invert":[{"backdrop-invert":["",cn,kt,Nt]}],"backdrop-opacity":[{"backdrop-opacity":[cn,kt,Nt]}],"backdrop-saturate":[{"backdrop-saturate":[cn,kt,Nt]}],"backdrop-sepia":[{"backdrop-sepia":["",cn,kt,Nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",kt,Nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[cn,"initial",kt,Nt]}],ease:[{ease:["linear","initial",j,kt,Nt]}],delay:[{delay:[cn,kt,Nt]}],animate:[{animate:["none",T,kt,Nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,kt,Nt]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[kt,Nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Le()}],"translate-x":[{"translate-x":Le()}],"translate-y":[{"translate-y":Le()}],"translate-z":[{"translate-z":Le()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt,Nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt,Nt]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[cn,zd,Cc,eg]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},p_=KS(f_);function Un(...n){return p_(rw(n))}const g_=iw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60","destructive-outline":"border border-destructive text-destructive hover:bg-destructive/10 focus-visible:ring-destructive/20",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),nt=I.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?tw:"button";return u.jsx(l,{"data-slot":"button",className:Un(g_({variant:e,size:t,className:n})),ref:a,...i})});nt.displayName="Button";const m_="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function oh(n){const[e,t]=I.useState(!1),r=()=>{t(!0)},{src:i,alt:a,style:l,className:c,...d}=n;return e?u.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:l,children:u.jsx("div",{className:"flex items-center justify-center w-full h-full",children:u.jsx("img",{src:m_,alt:"Error loading image",...d,"data-original-url":i})})}):u.jsx("img",{src:i,alt:a,className:c,style:l,...d,onError:r})}const v_=({onSelect:n})=>u.jsxs("div",{className:"min-h-screen flex",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center bg-white px-4 sm:px-6 lg:px-20 xl:px-24",children:u.jsxs("div",{className:"w-full max-w-md space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-gray-900 mb-2",children:"Choose Login"}),u.jsx("p",{className:"text-gray-600",children:"Select which portal you want to access."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(nt,{className:"w-full h-12",onClick:()=>n("admin"),children:"Admin Login"}),u.jsx(nt,{className:"w-full h-12",variant:"outline",onClick:()=>n("organization"),children:"Organization Login"}),u.jsx(nt,{className:"w-full h-12",variant:"outline",onClick:()=>n("technician"),children:"Technician Login"})]})]})}),u.jsxs("div",{className:"hidden lg:flex lg:flex-1 relative overflow-hidden bg-gradient-to-br from-amber-400 via-yellow-500 to-orange-500",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-gradient-to-br from-yellow-300/40 to-transparent rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-gradient-to-tr from-orange-600/40 to-transparent rounded-full blur-3xl"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[700px] bg-gradient-to-br from-amber-500/30 to-transparent rounded-full blur-3xl"})]}),u.jsx("div",{className:"relative z-10 flex items-center justify-center w-full p-12",children:u.jsxs("div",{className:"text-white text-center max-w-lg",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-28 h-28 rounded-full bg-white/20 backdrop-blur-sm mb-8",children:u.jsx(oh,{src:"/npa-logo.png",alt:"Brand Logo",className:"w-24 h-24 object-contain"})}),u.jsx("h2",{className:"text-4xl mb-4 text-white",children:"NPA Portal"}),u.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Admin, organization, and technician portals."})]})})]})]}),y_="modulepreload",w_=function(n){return"/"+n},Z1={},fl=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=l(t.map(f=>{if(f=w_(f),f in Z1)return;Z1[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":y_,p||(x.as="script"),x.crossOrigin="",x.href=f,d&&x.setAttribute("nonce",d),document.head.appendChild(x),p)return new Promise((y,N)=>{x.addEventListener("load",y),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function Zt({className:n,type:e,...t}){return u.jsx("input",{type:e,"data-slot":"input",style:{boxShadow:"0 6px 4px rgba(0,0,0,0.06)",borderWidth:"1px"},className:Un("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var lh=Xy();const gw=Vf(lh);var x_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cn=x_.reduce((n,e)=>{const t=nd(`Primitive.${e}`),r=I.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function b_(n,e){n&&lh.flushSync(()=>n.dispatchEvent(e))}var S_="Label",mw=I.forwardRef((n,e)=>u.jsx(Cn.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));mw.displayName=S_;var __=mw;function vt({className:n,...e}){return u.jsx(__,{"data-slot":"label",className:Un("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function N_(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const k_=n=>{switch(n){case"success":return A_;case"info":return P_;case"warning":return E_;case"error":return L_;default:return null}},j_=Array(12).fill(0),C_=({visible:n,className:e})=>Xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Xe.createElement("div",{className:"sonner-spinner"},j_.map((t,r)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),A_=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),E_=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),P_=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L_=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T_=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),R_=()=>{const[n,e]=Xe.useState(document.hidden);return Xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let g0=1;class O_{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:g0++,l=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],Xe.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(D_(f)&&!f.ok){a=!1;const v=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,N=typeof v=="object"&&!Xe.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:x,...N})}else if(f instanceof Error){a=!1;const v=typeof t.error=="function"?await t.error(f):t.error,x=typeof t.description=="function"?await t.description(f):t.description,N=typeof v=="object"&&!Xe.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:x,...N})}else if(t.success!==void 0){a=!1;const v=typeof t.success=="function"?await t.success(f):t.success,x=typeof t.description=="function"?await t.description(f):t.description,N=typeof v=="object"&&!Xe.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:x,...N})}}).catch(async f=>{if(l=["reject",f],t.error!==void 0){a=!1;const p=typeof t.error=="function"?await t.error(f):t.error,v=typeof t.description=="function"?await t.description(f):t.description,y=typeof p=="object"&&!Xe.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:v,...y})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=t?.id||g0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Es=new O_,I_=(n,e)=>{const t=e?.id||g0++;return Es.addToast({title:n,...e,id:t}),t},D_=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",F_=I_,M_=()=>Es.toasts,B_=()=>Es.getActiveToasts(),We=Object.assign(F_,{success:Es.success,info:Es.info,warning:Es.warning,error:Es.error,custom:Es.custom,message:Es.message,promise:Es.promise,dismiss:Es.dismiss,loading:Es.loading},{getHistory:M_,getToasts:B_});N_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qh(n){return n.label!==void 0}const z_=3,U_="24px",$_="16px",ev=4e3,q_=356,H_=14,W_=45,V_=200;function yo(...n){return n.filter(Boolean).join(" ")}function G_(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const K_=n=>{var e,t,r,i,a,l,c,d,f;const{invert:p,toast:v,unstyled:x,interacting:y,setHeights:N,visibleToasts:_,heights:k,index:j,toasts:T,expanded:L,removeToast:O,defaultRichColors:X,closeButton:ne,style:ee,cancelButtonStyle:$,actionButtonStyle:F,className:ae="",descriptionClassName:P="",duration:D,position:q,gap:V,expandByDefault:ue,classNames:de,icons:he,closeButtonAriaLabel:W="Close toast"}=n,[ye,Se]=Xe.useState(null),[Y,R]=Xe.useState(null),[z,K]=Xe.useState(!1),[te,me]=Xe.useState(!1),[re,J]=Xe.useState(!1),[fe,we]=Xe.useState(!1),[ce,Le]=Xe.useState(!1),[qe,Te]=Xe.useState(0),[oe,Lt]=Xe.useState(0),lt=Xe.useRef(v.duration||D||ev),ft=Xe.useRef(null),be=Xe.useRef(null),pe=j===0,Re=j+1<=_,Ke=v.type,Ze=v.dismissible!==!1,Mt=v.className||"",ct=v.descriptionClassName||"",ht=Xe.useMemo(()=>k.findIndex(it=>it.toastId===v.id)||0,[k,v.id]),Bt=Xe.useMemo(()=>{var it;return(it=v.closeButton)!=null?it:ne},[v.closeButton,ne]),xt=Xe.useMemo(()=>v.duration||D||ev,[v.duration,D]),at=Xe.useRef(0),yt=Xe.useRef(0),pt=Xe.useRef(0),en=Xe.useRef(null),[un,bt]=q.split("-"),qt=Xe.useMemo(()=>k.reduce((it,vn,rn)=>rn>=ht?it:it+vn.height,0),[k,ht]),gn=R_(),It=v.invert||p,Ht=Ke==="loading";yt.current=Xe.useMemo(()=>ht*V+qt,[ht,qt]),Xe.useEffect(()=>{lt.current=xt},[xt]),Xe.useEffect(()=>{K(!0)},[]),Xe.useEffect(()=>{const it=be.current;if(it){const vn=it.getBoundingClientRect().height;return Lt(vn),N(rn=>[{toastId:v.id,height:vn,position:v.position},...rn]),()=>N(rn=>rn.filter($n=>$n.toastId!==v.id))}},[N,v.id]),Xe.useLayoutEffect(()=>{if(!z)return;const it=be.current,vn=it.style.height;it.style.height="auto";const rn=it.getBoundingClientRect().height;it.style.height=vn,Lt(rn),N($n=>$n.find(st=>st.toastId===v.id)?$n.map(st=>st.toastId===v.id?{...st,height:rn}:st):[{toastId:v.id,height:rn,position:v.position},...$n])},[z,v.title,v.description,N,v.id,v.jsx,v.action,v.cancel]);const Tt=Xe.useCallback(()=>{me(!0),Te(yt.current),N(it=>it.filter(vn=>vn.toastId!==v.id)),setTimeout(()=>{O(v)},V_)},[v,O,N,yt]);Xe.useEffect(()=>{if(v.promise&&Ke==="loading"||v.duration===1/0||v.type==="loading")return;let it;return L||y||gn?(()=>{if(pt.current<at.current){const $n=new Date().getTime()-at.current;lt.current=lt.current-$n}pt.current=new Date().getTime()})():(()=>{lt.current!==1/0&&(at.current=new Date().getTime(),it=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Tt()},lt.current))})(),()=>clearTimeout(it)},[L,y,v,Ke,gn,Tt]),Xe.useEffect(()=>{v.delete&&(Tt(),v.onDismiss==null||v.onDismiss.call(v,v))},[Tt,v.delete]);function Nn(){var it;if(he?.loading){var vn;return Xe.createElement("div",{className:yo(de?.loader,v==null||(vn=v.classNames)==null?void 0:vn.loader,"sonner-loader"),"data-visible":Ke==="loading"},he.loading)}return Xe.createElement(C_,{className:yo(de?.loader,v==null||(it=v.classNames)==null?void 0:it.loader),visible:Ke==="loading"})}const mn=v.icon||he?.[Ke]||k_(Ke);var sn,Dt;return Xe.createElement("li",{tabIndex:0,ref:be,className:yo(ae,Mt,de?.toast,v==null||(e=v.classNames)==null?void 0:e.toast,de?.default,de?.[Ke],v==null||(t=v.classNames)==null?void 0:t[Ke]),"data-sonner-toast":"","data-rich-colors":(sn=v.richColors)!=null?sn:X,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":z,"data-promise":!!v.promise,"data-swiped":ce,"data-removed":te,"data-visible":Re,"data-y-position":un,"data-x-position":bt,"data-index":j,"data-front":pe,"data-swiping":re,"data-dismissible":Ze,"data-type":Ke,"data-invert":It,"data-swipe-out":fe,"data-swipe-direction":Y,"data-expanded":!!(L||ue&&z),"data-testid":v.testId,style:{"--index":j,"--toasts-before":j,"--z-index":T.length-j,"--offset":`${te?qe:yt.current}px`,"--initial-height":ue?"auto":`${oe}px`,...ee,...v.style},onDragEnd:()=>{J(!1),Se(null),en.current=null},onPointerDown:it=>{it.button!==2&&(Ht||!Ze||(ft.current=new Date,Te(yt.current),it.target.setPointerCapture(it.pointerId),it.target.tagName!=="BUTTON"&&(J(!0),en.current={x:it.clientX,y:it.clientY})))},onPointerUp:()=>{var it,vn,rn;if(fe||!Ze)return;en.current=null;const $n=Number(((it=be.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pr=Number(((vn=be.current)==null?void 0:vn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),st=new Date().getTime()-((rn=ft.current)==null?void 0:rn.getTime()),kn=ye==="x"?$n:Pr,Sr=Math.abs(kn)/st;if(Math.abs(kn)>=W_||Sr>.11){Te(yt.current),v.onDismiss==null||v.onDismiss.call(v,v),R(ye==="x"?$n>0?"right":"left":Pr>0?"down":"up"),Tt(),we(!0);return}else{var wn,qn;(wn=be.current)==null||wn.style.setProperty("--swipe-amount-x","0px"),(qn=be.current)==null||qn.style.setProperty("--swipe-amount-y","0px")}Le(!1),J(!1),Se(null)},onPointerMove:it=>{var vn,rn,$n;if(!en.current||!Ze||((vn=window.getSelection())==null?void 0:vn.toString().length)>0)return;const st=it.clientY-en.current.y,kn=it.clientX-en.current.x;var Sr;const wn=(Sr=n.swipeDirections)!=null?Sr:G_(q);!ye&&(Math.abs(kn)>1||Math.abs(st)>1)&&Se(Math.abs(kn)>Math.abs(st)?"x":"y");let qn={x:0,y:0};const an=fn=>1/(1.5+Math.abs(fn)/20);if(ye==="y"){if(wn.includes("top")||wn.includes("bottom"))if(wn.includes("top")&&st<0||wn.includes("bottom")&&st>0)qn.y=st;else{const fn=st*an(st);qn.y=Math.abs(fn)<Math.abs(st)?fn:st}}else if(ye==="x"&&(wn.includes("left")||wn.includes("right")))if(wn.includes("left")&&kn<0||wn.includes("right")&&kn>0)qn.x=kn;else{const fn=kn*an(kn);qn.x=Math.abs(fn)<Math.abs(kn)?fn:kn}(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&Le(!0),(rn=be.current)==null||rn.style.setProperty("--swipe-amount-x",`${qn.x}px`),($n=be.current)==null||$n.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},Bt&&!v.jsx&&Ke!=="loading"?Xe.createElement("button",{"aria-label":W,"data-disabled":Ht,"data-close-button":!0,onClick:Ht||!Ze?()=>{}:()=>{Tt(),v.onDismiss==null||v.onDismiss.call(v,v)},className:yo(de?.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(Dt=he?.close)!=null?Dt:T_):null,(Ke||v.icon||v.promise)&&v.icon!==null&&(he?.[Ke]!==null||v.icon)?Xe.createElement("div",{"data-icon":"",className:yo(de?.icon,v==null||(i=v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Nn():null,v.type!=="loading"?mn:null):null,Xe.createElement("div",{"data-content":"",className:yo(de?.content,v==null||(a=v.classNames)==null?void 0:a.content)},Xe.createElement("div",{"data-title":"",className:yo(de?.title,v==null||(l=v.classNames)==null?void 0:l.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Xe.createElement("div",{"data-description":"",className:yo(P,ct,de?.description,v==null||(c=v.classNames)==null?void 0:c.description)},typeof v.description=="function"?v.description():v.description):null),Xe.isValidElement(v.cancel)?v.cancel:v.cancel&&Qh(v.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||$,onClick:it=>{Qh(v.cancel)&&Ze&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,it),Tt())},className:yo(de?.cancelButton,v==null||(d=v.classNames)==null?void 0:d.cancelButton)},v.cancel.label):null,Xe.isValidElement(v.action)?v.action:v.action&&Qh(v.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||F,onClick:it=>{Qh(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,it),!it.defaultPrevented&&Tt())},className:yo(de?.actionButton,v==null||(f=v.classNames)==null?void 0:f.actionButton)},v.action.label):null)};function tv(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Y_(n,e){const t={};return[n,e].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",c=a?$_:U_;function d(f){["top","right","bottom","left"].forEach(p=>{t[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?t[`${l}-${f}`]=c:t[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),t}const J_=Xe.forwardRef(function(e,t){const{id:r,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:v,theme:x="light",richColors:y,duration:N,style:_,visibleToasts:k=z_,toastOptions:j,dir:T=tv(),gap:L=H_,icons:O,containerAriaLabel:X="Notifications"}=e,[ne,ee]=Xe.useState([]),$=Xe.useMemo(()=>r?ne.filter(z=>z.toasterId===r):ne.filter(z=>!z.toasterId),[ne,r]),F=Xe.useMemo(()=>Array.from(new Set([a].concat($.filter(z=>z.position).map(z=>z.position)))),[$,a]),[ae,P]=Xe.useState([]),[D,q]=Xe.useState(!1),[V,ue]=Xe.useState(!1),[de,he]=Xe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=Xe.useRef(null),ye=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Se=Xe.useRef(null),Y=Xe.useRef(!1),R=Xe.useCallback(z=>{ee(K=>{var te;return(te=K.find(me=>me.id===z.id))!=null&&te.delete||Es.dismiss(z.id),K.filter(({id:me})=>me!==z.id)})},[]);return Xe.useEffect(()=>Es.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{ee(K=>K.map(te=>te.id===z.id?{...te,delete:!0}:te))});return}setTimeout(()=>{gw.flushSync(()=>{ee(K=>{const te=K.findIndex(me=>me.id===z.id);return te!==-1?[...K.slice(0,te),{...K[te],...z},...K.slice(te+1)]:[z,...K]})})})}),[ne]),Xe.useEffect(()=>{if(x!=="system"){he(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:K})=>{he(K?"dark":"light")})}catch{z.addListener(({matches:te})=>{try{he(te?"dark":"light")}catch(me){console.error(me)}})}},[x]),Xe.useEffect(()=>{ne.length<=1&&q(!1)},[ne]),Xe.useEffect(()=>{const z=K=>{var te;if(l.every(J=>K[J]||K.code===J)){var re;q(!0),(re=W.current)==null||re.focus()}K.code==="Escape"&&(document.activeElement===W.current||(te=W.current)!=null&&te.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[l]),Xe.useEffect(()=>{if(W.current)return()=>{Se.current&&(Se.current.focus({preventScroll:!0}),Se.current=null,Y.current=!1)}},[W.current]),Xe.createElement("section",{ref:t,"aria-label":`${X} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((z,K)=>{var te;const[me,re]=z.split("-");return $.length?Xe.createElement("ol",{key:z,dir:T==="auto"?tv():T,tabIndex:-1,ref:W,className:f,"data-sonner-toaster":!0,"data-sonner-theme":de,"data-y-position":me,"data-x-position":re,style:{"--front-toast-height":`${((te=ae[0])==null?void 0:te.height)||0}px`,"--width":`${q_}px`,"--gap":`${L}px`,..._,...Y_(p,v)},onBlur:J=>{Y.current&&!J.currentTarget.contains(J.relatedTarget)&&(Y.current=!1,Se.current&&(Se.current.focus({preventScroll:!0}),Se.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,Se.current=J.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{V||q(!1)},onDragEnd:()=>q(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||ue(!0)},onPointerUp:()=>ue(!1)},$.filter(J=>!J.position&&K===0||J.position===z).map((J,fe)=>{var we,ce;return Xe.createElement(K_,{key:J.id,icons:O,index:fe,toast:J,defaultRichColors:y,duration:(we=j?.duration)!=null?we:N,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:i,visibleToasts:k,closeButton:(ce=j?.closeButton)!=null?ce:d,interacting:V,position:z,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:R,toasts:$.filter(Le=>Le.position==J.position),heights:ae.filter(Le=>Le.position==J.position),setHeights:P,expandByDefault:c,gap:L,expanded:D,swipeDirections:e.swipeDirections})})):null}))}),Q_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fl(async()=>{const{default:r}=await Promise.resolve().then(()=>ld);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class tm extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class nv extends tm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rv extends tm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class iv extends tm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var m0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(m0||(m0={}));var X_=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};class Z_{constructor(e,{headers:t={},customFetch:r,region:i=m0.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Q_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return X_(this,arguments,void 0,function*(t,r={}){var i;try{const{headers:a,method:l,body:c,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${t}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let x;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(f["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(f["Content-Type"]="application/json",x=JSON.stringify(c)));const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:x,signal:d}).catch(j=>{throw j.name==="AbortError"?j:new nv(j)}),N=y.headers.get("x-relay-error");if(N&&N==="true")throw new rv(y);if(!y.ok)throw new iv(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return _==="application/json"?k=yield y.json():_==="application/octet-stream"?k=yield y.blob():_==="text/event-stream"?k=y:_==="multipart/form-data"?k=yield y.formData():k=yield y.text(),{data:k,error:null,response:y}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new nv(a)}:{data:null,error:a,response:a instanceof iv||a instanceof rv?a.context:void 0}}})}}var vi={},_u={},Nu={},ku={},ju={},Cu={},e4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rd=e4();const t4=rd.fetch,vw=rd.fetch.bind(rd),yw=rd.Headers,n4=rd.Request,r4=rd.Response,ld=Object.freeze(Object.defineProperty({__proto__:null,Headers:yw,Request:n4,Response:r4,default:vw,fetch:t4},Symbol.toStringTag,{value:"Module"})),i4=bS(ld);var Xh={},sv;function ww(){if(sv)return Xh;sv=1,Object.defineProperty(Xh,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Xh.default=n,Xh}var av;function xw(){if(av)return Cu;av=1;var n=Cu&&Cu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Cu,"__esModule",{value:!0});const e=n(i4),t=n(ww());class r{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,v,x,y;let N=null,_=null,k=null,j=f.status,T=f.statusText;if(f.ok){if(this.method!=="HEAD"){const ne=await f.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?_=ne:_=JSON.parse(ne))}const O=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),X=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");O&&X&&X.length>1&&(k=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(N={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,k=null,j=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const O=await f.text();try{N=JSON.parse(O),Array.isArray(N)&&f.status===404&&(_=[],N=null,j=200,T="OK")}catch{f.status===404&&O===""?(j=204,T="No Content"):N={message:O}}if(N&&this.isMaybeSingle&&(!((y=N?.details)===null||y===void 0)&&y.includes("0 rows"))&&(N=null,j=200,T="OK"),N&&this.shouldThrowOnError)throw new t.default(N)}return{error:N,data:_,count:k,status:j,statusText:T}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,v,x;return{error:{message:`${(p=f?.name)!==null&&p!==void 0?p:"FetchError"}: ${f?.message}`,details:`${(v=f?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=f?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return Cu.default=r,Cu}var ov;function bw(){if(ov)return ju;ov=1;var n=ju&&ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ju,"__esModule",{value:!0});const e=n(xw());class t extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var p;const v=[i?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${x}"; options=${v};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ju.default=t,ju}var lv;function nm(){if(lv)return ku;lv=1;var n=ku&&ku.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ku,"__esModule",{value:!0});const e=n(bw());class t extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return ku.default=t,ku}var cv;function Sw(){if(cv)return Nu;cv=1;var n=Nu&&Nu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nu,"__esModule",{value:!0});const e=n(nm());class t{constructor(i,{headers:a={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(i,a){const{head:l=!1,count:c}=a??{},d=l?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(v.length>0){const x=[...new Set(v)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Nu.default=t,Nu}var uv;function s4(){if(uv)return _u;uv=1;var n=_u&&_u.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_u,"__esModule",{value:!0});const e=n(Sw()),t=n(nm());class r{constructor(a,{headers:l={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:d=!1,count:f}={}){var p;let v;const x=new URL(`${this.url}/rpc/${a}`);let y;c||d?(v=c?"HEAD":"GET",Object.entries(l).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{x.searchParams.append(_,k)})):(v="POST",y=l);const N=new Headers(this.headers);return f&&N.set("Prefer",`count=${f}`),new t.default({method:v,url:x,headers:N,schema:this.schemaName,body:y,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return _u.default=r,_u}var dv;function a4(){if(dv)return vi;dv=1;var n=vi&&vi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(vi,"__esModule",{value:!0}),vi.PostgrestError=vi.PostgrestBuilder=vi.PostgrestTransformBuilder=vi.PostgrestFilterBuilder=vi.PostgrestQueryBuilder=vi.PostgrestClient=void 0;const e=n(s4());vi.PostgrestClient=e.default;const t=n(Sw());vi.PostgrestQueryBuilder=t.default;const r=n(nm());vi.PostgrestFilterBuilder=r.default;const i=n(bw());vi.PostgrestTransformBuilder=i.default;const a=n(xw());vi.PostgrestBuilder=a.default;const l=n(ww());return vi.PostgrestError=l.default,vi.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},vi}var o4=a4();const l4=Vf(o4),{PostgrestClient:c4,PostgrestQueryBuilder:jL,PostgrestFilterBuilder:CL,PostgrestTransformBuilder:AL,PostgrestBuilder:EL,PostgrestError:PL}=l4;class u4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const d4="2.75.1",h4=`realtime-js/${d4}`,f4="1.0.0",v0=1e4,p4=1e3,g4=100;var Vd;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Vd||(Vd={}));var ei;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ei||(ei={}));var $a;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})($a||($a={}));var y0;(function(n){n.websocket="websocket"})(y0||(y0={}));var Tc;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Tc||(Tc={}));class m4{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class _w{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Zn;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Zn||(Zn={}));const hv=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=v4(l,n,e,i),a),{}):{}},v4=(n,e,t,r)=>{const i=e.find(c=>c.name===n),a=i?.type,l=t[n];return a&&!r.includes(a)?Nw(a,l):w0(l)},Nw=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return b4(e,t)}switch(n){case Zn.bool:return y4(e);case Zn.float4:case Zn.float8:case Zn.int2:case Zn.int4:case Zn.int8:case Zn.numeric:case Zn.oid:return w4(e);case Zn.json:case Zn.jsonb:return x4(e);case Zn.timestamp:return S4(e);case Zn.abstime:case Zn.date:case Zn.daterange:case Zn.int4range:case Zn.int8range:case Zn.money:case Zn.reltime:case Zn.text:case Zn.time:case Zn.timestamptz:case Zn.timetz:case Zn.tsrange:case Zn.tstzrange:return w0(e);default:return w0(e)}},w0=n=>n,y4=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},w4=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},x4=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},b4=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Nw(e,c))}return n},S4=n=>typeof n=="string"?n.replace(" ","T"):n,kw=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class tg{constructor(e,t,r={},i=v0){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(fv||(fv={}));class Gd{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gd.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=Gd.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gd.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const v=a[f];if(v){const x=p.map(k=>k.presence_ref),y=v.map(k=>k.presence_ref),N=p.filter(k=>y.indexOf(k.presence_ref)<0),_=v.filter(k=>x.indexOf(k.presence_ref)<0);N.length>0&&(c[f]=N),_.length>0&&(d[f]=_)}else c[f]=p}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(e,t,r,i){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),p.length>0){const v=e[c].map(y=>y.presence_ref),x=p.filter(y=>v.indexOf(y.presence_ref)<0);e[c].unshift(...x)}r(c,p,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const p=d.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(pv||(pv={}));var Kd;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Kd||(Kd={}));var ul;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ul||(ul={}));class rm{constructor(e,t={config:{}},r){var i,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ei.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new tg(this,$a.join,this.params,this.timeout),this.rejoinTimer=new _w(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ei.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ei.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ei.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ei.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ei.errored,this.rejoinTimer.scheduleTimeout())}),this._on($a.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Gd(this),this.broadcastEndpointURL=kw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ei.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Kd.PRESENCE]&&this.bindings[Kd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},x={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(ul.CHANNEL_ERROR,y)),this._onClose(()=>e?.(ul.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:y})=>{var N;if(this.socket.setAuth(),y===void 0){e?.(ul.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(N=_?.length)!==null&&N!==void 0?N:0,j=[];for(let T=0;T<k;T++){const L=_[T],{filter:{event:O,schema:X,table:ne,filter:ee}}=L,$=y&&y[T];if($&&$.event===O&&$.schema===X&&$.table===ne&&$.filter===ee)j.push(Object.assign(Object.assign({},L),{id:$.id}));else{this.unsubscribe(),this.state=ei.errored,e?.(ul.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(ul.SUBSCRIBED);return}}).receive("error",y=>{this.state=ei.errored,e?.(ul.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(ul.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===ei.joined&&e===Kd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ei.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($a.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new tg(this,$a.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ei.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new tg(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g4){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=$a;if(r&&[c,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let x=this._onMessage(l,t,r);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var N,_,k;return((N=y.filter)===null||N===void 0?void 0:N.event)==="*"||((k=(_=y.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(y=>y.callback(x,r)):(a=this.bindings[l])===null||a===void 0||a.filter(y=>{var N,_,k,j,T,L;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const O=y.id,X=(N=y.filter)===null||N===void 0?void 0:N.event;return O&&((_=t.ids)===null||_===void 0?void 0:_.includes(O))&&(X==="*"||X?.toLocaleLowerCase()===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const O=(T=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return O==="*"||O===((L=t?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof x=="object"&&"ids"in x){const N=x.data,{schema:_,table:k,commit_timestamp:j,type:T,errors:L}=N;x=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:j,eventType:T,new:{},old:{},errors:L}),this._getPayloadRecords(N))}y.callback(x,r)})}_isClosed(){return this.state===ei.closed}_isJoined(){return this.state===ei.joined}_isJoining(){return this.state===ei.joining}_isLeaving(){return this.state===ei.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&rm.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($a.close,{},e)}_onError(e){this._on($a.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ei.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=hv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=hv(e.columns,e.old_record)),t}}const ng=()=>{},Zh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_4=[1e3,2e3,5e3,1e4],N4=1e4,k4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j4{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=v0,this.transport=null,this.heartbeatIntervalMs=Zh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ng,this.ref=0,this.reconnectTimer=null,this.logger=ng,this.conn=null,this.sendBuffer=[],this.serializer=new m4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>fl(async()=>{const{default:c}=await Promise.resolve().then(()=>ld);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${y0.websocket}`,this.httpEndpoint=kw(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f4}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vd.connecting:return Tc.Connecting;case Vd.open:return Tc.Open;case Vd.closing:return Tc.Closing;default:return Tc.Closed}}isConnected(){return this.connectionState()===Tc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new rm(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(p4,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Zh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($a.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([k4],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const i={access_token:t,version:h4};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($a.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _w(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,a,l,c,d,f,p;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:v0,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Zh.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:ng,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(v=>_4[v-1]||N4),this.encode=(f=e?.encode)!==null&&f!==void 0?f:((v,x)=>x(JSON.stringify(v))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class im extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Vr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class C4 extends im{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x0 extends im{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var A4=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};const jw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fl(async()=>{const{default:r}=await Promise.resolve().then(()=>ld);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},E4=()=>A4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fl(()=>Promise.resolve().then(()=>ld),void 0)).Response:Response}),b0=n=>{if(Array.isArray(n))return n.map(t=>b0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=b0(r)}),e},P4=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Kc=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};const rg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),L4=(n,e,t)=>Kc(void 0,void 0,void 0,function*(){const r=yield E4();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{const a=n.status||500,l=i?.statusCode||a+"";e(new C4(rg(i),a,l))}).catch(i=>{e(new x0(rg(i),i))}):e(new x0(rg(n),n))}),T4=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(P4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function ch(n,e,t,r,i,a){return Kc(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,T4(e,r,i,a)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>L4(d,c,r))})})}function Ef(n,e,t,r){return Kc(this,void 0,void 0,function*(){return ch(n,"GET",e,t,r)})}function So(n,e,t,r,i){return Kc(this,void 0,void 0,function*(){return ch(n,"POST",e,r,i,t)})}function S0(n,e,t,r,i){return Kc(this,void 0,void 0,function*(){return ch(n,"PUT",e,r,i,t)})}function R4(n,e,t,r){return Kc(this,void 0,void 0,function*(){return ch(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Cw(n,e,t,r,i){return Kc(this,void 0,void 0,function*(){return ch(n,"DELETE",e,r,i,t)})}var O4=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};class I4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return O4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vr(e))return{data:null,error:e};throw e}})}}var D4=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})},Aw;class F4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Aw]="BlobDownloadBuilder",this.promise=null}asStream(){return new I4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return D4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vr(e))return{data:null,error:e};throw e}})}}Aw=Symbol.toStringTag;var As=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};const M4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B4{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=jw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return As(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},gv),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(t),p=this._getFinalPath(f),v=yield(e=="PUT"?S0:So)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vr(a))return{data:null,error:a};throw a}})}upload(e,t,r){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return As(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:gv.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const v=yield S0(this.fetch,c.toString(),d,{headers:p});return{data:{path:a,fullPath:v.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Vr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return As(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const a=yield So(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new im("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}update(e,t,r){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return As(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vr(i))return{data:null,error:i};throw i}})}copy(e,t,r){return As(this,void 0,void 0,function*(){try{return{data:{path:(yield So(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return As(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield So(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return As(this,void 0,void 0,function*(){try{const i=yield So(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vr(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),d=()=>Ef(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new F4(d,this.shouldThrowOnError)}info(e){return As(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Ef(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:b0(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}exists(e){return As(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield R4(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r)&&r instanceof x0){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const c=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(e){return As(this,void 0,void 0,function*(){try{return{data:yield Cw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}})}list(e,t,r){return As(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},M4),t),{prefix:e||""});return{data:yield So(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vr(i))return{data:null,error:i};throw i}})}listV2(e,t){return As(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield So(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const z4="2.75.1",U4={"X-Client-Info":`storage-js/${z4}`};var Au=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};class $4{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},U4),t),this.fetch=jw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Au(this,void 0,void 0,function*(){try{return{data:yield Ef(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vr(e))return{data:null,error:e};throw e}})}getBucket(e){return Au(this,void 0,void 0,function*(){try{return{data:yield Ef(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}})}createBucket(e){return Au(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield So(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vr(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Au(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Au(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Au(this,void 0,void 0,function*(){try{return{data:yield Cw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}})}}class q4 extends $4{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new B4(this.url,this.headers,e,this.fetch)}}const H4="2.75.1";let Hd="";typeof Deno<"u"?Hd="deno":typeof document<"u"?Hd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hd="react-native":Hd="node";const W4={"X-Client-Info":`supabase-js-${Hd}/${H4}`},V4={headers:W4},G4={schema:"public"},K4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y4={};var J4=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};const Q4=n=>{let e;return n?e=n:typeof fetch>"u"?e=vw:e=fetch,(...t)=>e(...t)},X4=()=>typeof Headers>"u"?yw:Headers,Z4=(n,e,t)=>{const r=Q4(t),i=X4();return(a,l)=>J4(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:n;let f=new i(l?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:f}))})};var e3=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};function t3(n){return n.endsWith("/")?n:n+"/"}function n3(n,e){var t,r;const{db:i,auth:a,realtime:l,global:c}=n,{db:d,auth:f,realtime:p,global:v}=e,x={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},v),c),{headers:Object.assign(Object.assign({},(t=v?.headers)!==null&&t!==void 0?t:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>e3(this,void 0,void 0,function*(){return""})};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function r3(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ew="2.75.1",Uu=30*1e3,_0=3,ig=_0*Uu,i3="http://localhost:9999",s3="supabase.auth.token",a3={"X-Client-Info":`gotrue-js/${Ew}`},N0="X-Supabase-Api-Version",Pw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l3=600*1e3;class Zd extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function $t(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class c3 extends Zd{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function u3(n){return $t(n)&&n.name==="AuthApiError"}class Rc extends Zd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class nc extends Zd{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Gl extends nc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d3(n){return $t(n)&&n.name==="AuthSessionMissingError"}class Eu extends nc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ef extends nc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tf extends nc{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h3(n){return $t(n)&&n.name==="AuthImplicitGrantRedirectError"}class mv extends nc{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class k0 extends nc{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function sg(n){return $t(n)&&n.name==="AuthRetryableFetchError"}class vv extends nc{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class j0 extends nc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yv=` 	
\r=`.split(""),f3=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<yv.length;e+=1)n[yv[e].charCodeAt(0)]=-2;for(let e=0;e<Pf.length;e+=1)n[Pf[e].charCodeAt(0)]=e;return n})();function wv(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Pf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Pf[r]),e.queuedBits-=6}}function Lw(n,e,t){const r=f3[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function xv(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{m3(l,r,t)};for(let l=0;l<n.length;l+=1)Lw(n.charCodeAt(l),i,a);return e.join("")}function p3(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function g3(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}p3(r,e)}}function m3(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Vu(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)Lw(n.charCodeAt(i),t,r);return new Uint8Array(e)}function v3(n){const e=[];return g3(n,t=>e.push(t)),new Uint8Array(e)}function Ic(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>wv(i,t,r)),wv(null,t,r),e.join("")}function y3(n){return Math.round(Date.now()/1e3)+n}function w3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Ks=()=>typeof window<"u"&&typeof document<"u",Ac={tested:!1,writable:!1},Tw=()=>{if(!Ks())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ac.tested)return Ac.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ac.tested=!0,Ac.writable=!0}catch{Ac.tested=!0,Ac.writable=!1}return Ac.writable};function x3(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const Rw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fl(async()=>{const{default:r}=await Promise.resolve().then(()=>ld);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},b3=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",$u=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ec=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ql=async(n,e)=>{await n.removeItem(e)};class Gf{constructor(){this.promise=new Gf.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Gf.promiseConstructor=Promise;function ag(n){const e=n.split(".");if(e.length!==3)throw new j0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!o3.test(e[r]))throw new j0("JWT not in base64url format");return{header:JSON.parse(xv(e[0])),payload:JSON.parse(xv(e[1])),signature:Vu(e[2]),raw:{header:e[0],payload:e[1]}}}async function S3(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function _3(n,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function N3(n){return("0"+n.toString(16)).substr(-2)}function k3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,N3).join("")}async function j3(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function C3(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await j3(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pu(n,e,t=!1){const r=k3();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await $u(n,`${e}-code-verifier`,i);const a=await C3(r);return[a,r===a?"plain":"s256"]}const A3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E3(n){const e=n.headers.get(N0);if(!e||!e.match(A3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function P3(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function L3(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lu(n){if(!T3.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function og(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bv(n){return JSON.parse(JSON.stringify(n))}var R3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Pc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),O3=[502,503,504];async function Sv(n){var e;if(!b3(n))throw new k0(Pc(n),0);if(O3.includes(n.status))throw new k0(Pc(n),n.status);let t;try{t=await n.json()}catch(a){throw new Rc(Pc(a),a)}let r;const i=E3(n);if(i&&i.getTime()>=Pw["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new vv(Pc(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Gl}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new vv(Pc(t),n.status,t.weak_password.reasons);throw new c3(Pc(t),n.status||500,r)}const I3=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Xt(n,e,t,r){var i;const a=Object.assign({},r?.headers);a[N0]||(a[N0]=Pw["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await D3(n,e,t+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function D3(n,e,t,r,i,a){const l=I3(e,r,i,a);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new k0(Pc(d),0)}if(c.ok||await Sv(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await Sv(d)}}function za(n){var e;let t=null;B3(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=y3(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function _v(n){const e=za(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Yl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function F3(n){return{data:n,error:null}}function M3(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a}=n,l=R3(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function Nv(n){return n}function B3(n){return n.access_token&&n.refresh_token&&n.expires_in}const lg=["global","local","others"];var z3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class U3{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Rw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=lg[0]){if(lg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lg.join(", ")}`);try{return await Xt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Yl})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=z3(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:M3,redirectTo:t?.redirectTo})}catch(t){if($t(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yl})}catch(t){if($t(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Nv});if(p.error)throw p.error;const v=await p.json(),x=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);f[`${k}Page`]=_}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if($t(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Lu(e);try{return await Xt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yl})}catch(t){if($t(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Lu(e);try{return await Xt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Yl})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Lu(e);try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Yl})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Lu(e.userId);try{const{data:t,error:r}=await Xt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if($t(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Lu(e.userId),Lu(e.id);try{return{data:await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if($t(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Nv});if(p.error)throw p.error;const v=await p.json(),x=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);f[`${k}Page`]=_}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if($t(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if($t(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if($t(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if($t(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if($t(t))return{data:null,error:t};throw t}}}function kv(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Tu={debug:!!(globalThis&&Tw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ow extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $3 extends Ow{}async function q3(n,e,t){Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new $3(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Tu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function H3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Iw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function W3(n){return parseInt(n,16)}function V3(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function G3(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:p,uri:v,version:x}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const y=Iw(n.address),N=p?`${p}://${r}`:r,_=n.statement?`${n.statement}
`:"",k=`${N} wants you to sign in with your Ethereum account:
${y}

${_}`;let j=`URI: ${v}
Version: ${x}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let T=`
Resources:`;for(const L of f){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);T+=`
- ${L}`}j+=T}return`${k}
${j}`}class Wr extends Error{constructor({message:e,code:t,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Lf extends Wr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function K3({error:n,options:e}){var t,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Wr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Fw(l)){if(a.rp.id!==l)return new Wr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Y3({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Wr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Fw(r)){if(t.rpId!==r)return new Wr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Dw=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class J3{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Q3=new J3;function X3(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=Dw(n,["challenge","user","excludeCredentials"]),a=Vu(e).buffer,l=Object.assign(Object.assign({},t),{id:Vu(t.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Vu(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function Z3(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=Dw(n,["challenge","allowCredentials"]),i=Vu(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Vu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function eN(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:Ic(new Uint8Array(n.response.attestationObject)),clientDataJSON:Ic(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tN(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Ic(new Uint8Array(i.authenticatorData)),clientDataJSON:Ic(new Uint8Array(i.clientDataJSON)),signature:Ic(new Uint8Array(i.signature)),userHandle:i.userHandle?Ic(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Fw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function jv(){var n,e;return!!(Ks()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nN(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",e)}:{data:null,error:new Lf("Empty credential response",e)}}catch(e){return{data:null,error:K3({error:e,options:n})}}}async function rN(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",e)}:{data:null,error:new Lf("Empty credential response",e)}}catch(e){return{data:null,error:Y3({error:e,options:n})}}}const iN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},sN={userVerification:"preferred",hints:["security-key"]};function Tf(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const c=r[a];e(c)?r[a]=Tf(c,l):r[a]=Tf(l)}else r[a]=l}return r}function aN(n,e){return Tf(iN,n,e||{})}function oN(n,e){return Tf(sN,n,e||{})}class lN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=i??Q3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=aN(l.webauthn.credential_options.publicKey,a?.create),{data:p,error:v}=await nN({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const f=oN(l.webauthn.credential_options.publicKey,a?.request),{data:p,error:v}=await rN(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(l){return $t(l)?{data:null,error:l}:{data:null,error:new Rc("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!t)return{data:null,error:new Zd("rpId is required for WebAuthn authentication")};try{if(!jv())return{data:null,error:new Rc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return $t(l)?{data:null,error:l}:{data:null,error:new Rc("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!t)return{data:null,error:new Zd("rpId is required for WebAuthn registration")};try{if(!jv())return{data:null,error:new Rc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var v;return(v=p.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return $t(l)?{data:null,error:l}:{data:null,error:new Rc("Unexpected error in register",l)}}}}H3();const cN={url:i3,storageKey:s3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cv(n,e,t){return await t()}const Ru={};class eh{get jwks(){var e,t;return(t=(e=Ru[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ru[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{cachedAt:e})}constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=eh.nextInstanceID,eh.nextInstanceID+=1,this.instanceID>0&&Ks()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cN),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new U3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Rw(i.fetch),this.lock=i.lock||Cv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ks()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=q3:this.lock=Cv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lN(this)},this.persistSession?(i.storage?this.storage=i.storage:Tw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=kv(this.memoryStorage)),Ks()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ew}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=x3(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Ks()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),h3(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return $t(t)?{error:t}:{error:new Rc("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const a=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:za}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,i;try{let a;if("email"in e){const{email:p,password:v,options:x}=e;let y=null,N=null;this.flowType==="pkce"&&([y,N]=await Pu(this.storage,this.storageKey)),a=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:p,password:v,data:(t=x?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:y,code_challenge_method:N},xform:za})}else if("phone"in e){const{phone:p,password:v,options:x}=e;a=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:za})}else throw new ef("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_v})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_v})}else throw new ef("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Eu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,a,l,c,d,f,p,v,x;let y,N;if("message"in e)y=e.message,N=e.signature;else{const{chain:_,wallet:k,statement:j,options:T}=e;let L;if(Ks())if(typeof k=="object")L=k;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")L=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=k}const O=new URL((t=T?.url)!==null&&t!==void 0?t:window.location.href),X=await L.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=Iw(X[0]);let ee=(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!ee){const F=await L.request({method:"eth_chainId"});ee=W3(F)}const $={domain:O.host,address:ne,statement:j,uri:O.href,version:"1",chainId:ee,nonce:(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=T?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=T?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.resources};y=G3($),N=await L.request({method:"personal_sign",params:[V3(y),ne]})}try{const{data:_,error:k}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:N},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:za});if(k)throw k;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Eu}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:k})}catch(_){if($t(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var t,r,i,a,l,c,d,f,p,v,x,y;let N,_;if("message"in e)N=e.message,_=e.signature;else{const{chain:k,wallet:j,statement:T,options:L}=e;let O;if(Ks())if(typeof j=="object")O=j;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))O=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=j}const X=new URL((t=L?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const ne=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),T?{statement:T}:null));let ee;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")ee=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)ee=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)N=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),_=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${X.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(i=(r=L?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=L?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((l=L?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((c=L?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((d=L?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((v=(p=L?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...L.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const ne=await O.signMessage(new TextEncoder().encode(N),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=ne}}try{const{data:k,error:j}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Ic(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:za});if(j)throw j;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Eu}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:j})}catch(k){if($t(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const t=await Ec(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:a,error:l}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:za});if(await ql(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Eu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if($t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:a,nonce:l}=e,c=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:za}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Eu}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,a,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Pu(this.storage,this.storageKey));const{error:v}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:p}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new ef("You must provide either an email or phone number.")}catch(c){if($t(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,r;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:za});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Pu(this.storage,this.storageKey)),await Xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:F3})}catch(a){if($t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Gl;const{error:i}=await Xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if($t(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:c}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new ef("You must provide either an email or phone number and a type")}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ig:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Ec(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=og()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yl}):await this._useSession(async t=>{var r,i,a;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gl}:await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Yl})})}catch(t){if($t(t))return d3(t)&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Gl;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Pu(this.storage,this.storageKey));const{data:f,error:p}=await Xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Yl});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gl;const t=Date.now()/1e3;let r=t,i=!0,a=null;const{payload:l}=ag(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if($t(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Gl;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ks())throw new tf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new mv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mv("No code detected.");const{data:T,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!l||!f)throw new tf("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(c);let x=p+v;d&&(x=parseInt(d));const y=x-p;y*1e3<=Uu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${v}s`);const N=x-v;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,x,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,x,p);const{data:_,error:k}=await this._getUser(a);if(k)throw k;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:x,refresh_token:l,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(r){if($t(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ec(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return{error:a};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(u3(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=w3(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Pu(this.storage,this.storageKey,!0));try{return await Xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if($t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if($t(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async a=>{var l,c,d,f,p;const{data:v,error:x}=a;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Xt(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Ks()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if($t(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:a}}=t;if(i)throw i;const{options:l,provider:c,token:d,access_token:f,nonce:p}=e,v=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:za}),{data:x,error:y}=v;return y?{data:{user:null,session:null},error:y}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Eu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:y})}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)throw l;return await Xt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if($t(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await _3(async i=>(i>0&&await S3(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:za})),(i,a)=>{const l=200*Math.pow(2,i);return a&&sg(a)&&Date.now()+l-r<Uu})}catch(r){if(this._debug(t,"error",r),$t(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ks()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ec(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ec(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await $u(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:og()}else if(i&&!i.user&&!i.user){const l=await Ec(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await ql(this.storage,this.storageKey+"-user"),await $u(this.storage,this.storageKey,i)):i.user=og()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ig;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ig}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),sg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Gl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gf;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Gl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),$t(a)){const l={data:null,error:a};return sg(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await $u(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=bv(i);await $u(this.storage,this.storageKey,a)}else{const i=bv(t);await $u(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ql(this.storage,this.storageKey),await ql(this.storage,this.storageKey+"-code-verifier"),await ql(this.storage,this.storageKey+"-user"),this.userStorage&&await ql(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ks()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Uu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Uu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Uu}ms, refresh threshold is ${_0} ticks`),i<=_0&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ow)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ks()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Pu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?{data:null,error:a}:await Xt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if($t(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Xt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(t){if($t(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?eN(e.webauthn.credential_response):tN(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(t){if($t(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const l=await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:X3(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Z3(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if($t(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ag(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+l3>i)return r;const{data:a,error:l}=await Xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:y,error:N}=await this.getSession();if(N||!y.session)return{data:null,error:N};r=y.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:d}}=ag(r);t?.allowExpired||P3(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:l},error:null}}const p=L3(i.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,l,v3(`${c}.${d}`)))throw new j0("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}}eh.nextInstanceID=0;const uN=eh;class dN extends uN{constructor(e){super(e)}}var hN=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})};class fN{constructor(e,t,r){var i,a,l;this.supabaseUrl=e,this.supabaseKey=t;const c=r3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:G4,realtime:Y4,auth:Object.assign(Object.assign({},K4),{storageKey:d}),global:V4},p=n3(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=Z4(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new c4(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new q4(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Z_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return hN(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:c,lock:d,debug:f},p,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dN({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:d,debug:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new j4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pN=(n,e,t)=>new fN(n,e,t);function gN(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mw="dhsmxdfzmixqqoqlnfka",Bw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoc214ZGZ6bWl4cXFvcWxuZmthIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA4ODgwNDksImV4cCI6MjA3NjQ2NDA0OX0.5KLHjnC1V_rJ60lMNleaVclB7kgagK_2NRgzw2c_s3w",mN="http://localhost:8000",vN=Object.freeze(Object.defineProperty({__proto__:null,backendUrl:mN,projectId:Mw,publicAnonKey:Bw},Symbol.toStringTag,{value:"Module"})),yN=`https://${Mw}.supabase.co`,wN=Bw,C0=()=>pN(yN,wN),sm=({onLoginSuccess:n,variant:e="admin",onBack:t})=>{const[r,i]=I.useState(!0),[a,l]=I.useState(""),[c,d]=I.useState(""),[f,p]=I.useState(""),[v,x]=I.useState(!1),y=C0(),N=async _=>{_.preventDefault(),x(!0);try{if(r){const{data:k,error:j}=await y.auth.signInWithPassword({email:a,password:c});if(j){console.error("Login error:",j),We.error(j.message),x(!1);return}k?.session?.access_token&&(We.success("Login successful!"),n(k.session.access_token,k.user))}else{if(!f){We.error("Name is required"),x(!1);return}const{backendUrl:k}=await fl(async()=>{const{backendUrl:L}=await Promise.resolve().then(()=>vN);return{backendUrl:L}},void 0),j=await fetch(`${k}/make-server-60660975/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:c,name:f})}),T=await j.json();if(!j.ok){console.error("Signup error:",T.error),We.error(T.error||"Failed to create account"),x(!1);return}We.success("Account created! Please login."),i(!0),p("")}}catch(k){console.error("Authentication error:",k),We.error("An error occurred")}finally{x(!1)}};return u.jsxs("div",{className:"min-h-screen flex",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center bg-white px-4 sm:px-6 lg:px-20 xl:px-24",children:u.jsxs("div",{className:"w-full max-w-md",children:[t?u.jsx("div",{className:"mb-6",children:u.jsx(nt,{variant:"ghost",onClick:t,children:"Back"})}):null,u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-gray-900 mb-2",children:r?e==="organization"?"Organization Login":e==="technician"?"Technician Login":"Admin Login":"Create Account"}),u.jsx("p",{className:"text-gray-600",children:r?"Please login to your account":"Sign up to get started"})]}),u.jsxs("form",{onSubmit:N,className:"space-y-6",children:[!r&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"name",className:"text-gray-700",children:"Full Name"}),u.jsx(Zt,{id:"name",type:"text",placeholder:"Enter your full name",value:f,onChange:_=>p(_.target.value),required:!r,className:"h-12 bg-gray-50 border-gray-200 focus:border-amber-500 focus:ring-amber-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"email",className:"text-gray-700",children:"Email Address"}),u.jsx(Zt,{id:"email",type:"email",placeholder:e==="organization"?"npa001@npa.com":"Enter your email",value:a,onChange:_=>l(_.target.value),required:!0,className:"h-12 bg-gray-50 border-gray-200 focus:border-amber-500 focus:ring-amber-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"password",className:"text-gray-700",children:"Password"}),u.jsx(Zt,{id:"password",type:"password",placeholder:e==="organization"?"NPA001@OrgName":"Enter your password",value:c,onChange:_=>d(_.target.value),required:!0,className:"h-12 bg-gray-50 border-gray-200 focus:border-amber-500 focus:ring-amber-500"})]}),r&&u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]})}),u.jsx(nt,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-600 hover:to-yellow-700 text-white",disabled:v,children:v?"Please wait...":r?"Login":"Sign up"})]})]})}),u.jsxs("div",{className:"hidden lg:flex lg:flex-1 relative overflow-hidden bg-gradient-to-br from-amber-400 via-yellow-500 to-orange-500",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-gradient-to-br from-yellow-300/40 to-transparent rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-gradient-to-tr from-orange-600/40 to-transparent rounded-full blur-3xl"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[700px] bg-gradient-to-br from-amber-500/30 to-transparent rounded-full blur-3xl"})]}),u.jsx("div",{className:"relative z-10 flex items-center justify-center w-full p-12",children:u.jsxs("div",{className:"text-white text-center max-w-lg",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-28 h-28 rounded-full bg-white/20 backdrop-blur-sm mb-8",children:u.jsx(oh,{src:"/npa-logo.png",alt:"Brand Logo",className:"w-24 h-24 object-contain"})}),u.jsx("div",{style:{display:"flex",justifyContent:"center",fontWeight:"Bold"},children:u.jsx("h2",{className:"text-4xl mb-4 text-white ",children:e==="organization"?"Welcome! ORGANIZATION":e==="technician"?"Welcome! TECHNICIAN":"Welcome! ADMIN"})}),u.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Manage your water dispenser systems, track maintenance, and monitor devices all in one place."})]})})]})]})},xN=({onLoginSuccess:n,onBack:e})=>u.jsx(sm,{variant:"admin",onLoginSuccess:n,onBack:e}),bN=({onLoginSuccess:n,onBack:e})=>u.jsx(sm,{variant:"organization",onLoginSuccess:n,onBack:e}),SN=({onLoginSuccess:n,onBack:e})=>u.jsx(sm,{variant:"technician",onLoginSuccess:n,onBack:e});function si({className:n,...e}){return u.jsx("div",{"data-slot":"card",className:Un("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border-2",n),...e})}function Ii({className:n,...e}){return u.jsx("div",{"data-slot":"card-header",className:Un("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function ss({className:n,...e}){return u.jsx("h4",{"data-slot":"card-title",className:Un("leading-none",n),...e})}function ai({className:n,...e}){return u.jsx("div",{"data-slot":"card-content",className:Un("px-6 [&:last-child]:pb-6",n),...e})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Av=n=>{const e=NN(n);return e.charAt(0).toUpperCase()+e.slice(1)},zw=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>I.createElement("svg",{ref:d,...kN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:zw("lucide",i),...c},[...l.map(([f,p])=>I.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=(n,e)=>{const t=I.forwardRef(({className:r,...i},a)=>I.createElement(jN,{ref:a,iconNode:e,className:zw(`lucide-${_N(Av(n))}`,`lucide-${n}`,r),...i}));return t.displayName=Av(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],th=Yn("archive-restore",CN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],id=Yn("archive",AN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ev=Yn("arrow-left",EN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ql=Yn("building-2",PN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],TN=Yn("calendar",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Uw=Yn("check",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$w=Yn("chevron-down",ON);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pv=Yn("chevron-left",IN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lv=Yn("chevron-right",DN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],MN=Yn("chevron-up",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],pl=Yn("clipboard-list",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Tv=Yn("download",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$N=Yn("eye",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A0=Yn("file-text",qN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],qw=Yn("key-round",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],am=Yn("layout-dashboard",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],om=Yn("log-out",VN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],KN=Yn("mail",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JN=Yn("pen",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],XN=Yn("phone",QN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cd=Yn("plus",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Hw=Yn("printer",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],lm=Yn("qr-code",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Rf=Yn("square-pen",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ik=Yn("trending-up",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Yd=Yn("wrench",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ok=Yn("x",ak),qa=({className:n="w-6 h-6"})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:n,fill:"currentColor",children:u.jsx("path",{d:"M384,32h-21.3c-5.4-12.9-17.9-22-32.7-22s-27.3,9.1-32.7,22H192c-5.4-12.9-17.9-22-32.7-22s-27.3,9.1-32.7,22H106.7 c-5.4-12.9-17.9-22-32.7-22s-27.3,9.1-32.7,22H21.3C9.5,32,0,41.5,0,53.3V96c0,11.8,9.5,21.3,21.3,21.3h10.7v352 c0,23.6,19.1,42.7,42.7,42.7h85.3c23.6,0,42.7-19.1,42.7-42.7v-96h106.7v96c0,23.6,19.1,42.7,42.7,42.7h85.3 c23.6,0,42.7-19.1,42.7-42.7v-352h10.7c11.8,0,21.3-9.5,21.3-21.3V53.3C512,41.5,502.5,32,490.7,32H384z M352,469.3 c0,11.8-9.5,21.3-21.3,21.3h-85.3c-11.8,0-21.3-9.5-21.3-21.3v-96h128V469.3z M202.7,469.3c0,11.8-9.5,21.3-21.3,21.3H96 c-11.8,0-21.3-9.5-21.3-21.3v-352h128V469.3z M416,117.3v192c0,11.8-9.5,21.3-21.3,21.3H117.3c-11.8,0-21.3-9.5-21.3-21.3v-192 H416z M469.3,74.7H21.3V53.3h42.7c5.9,0,10.7-4.8,10.7-10.7s4.8-10.7,10.7-10.7s10.7,4.8,10.7,10.7c0,5.9,4.8,10.7,10.7,10.7 h298.7c5.9,0,10.7-4.8,10.7-10.7s4.8-10.7,10.7-10.7s10.7,4.8,10.7,10.7c0,5.9,4.8,10.7,10.7,10.7h42.7V74.7z M288,266.7 c0-23.6-19.1-42.7-42.7-42.7s-42.7,19.1-42.7,42.7c0,16.7,9.6,31.2,23.6,38.2c-0.1,1.4-0.2,2.8-0.2,4.2c0,11.8,9.5,21.3,21.3,21.3 s21.3-9.5,21.3-21.3c0-1.4-0.1-2.8-0.2-4.2C278.4,297.9,288,283.4,288,266.7z M245.3,288c-11.8,0-21.3-9.5-21.3-21.3 s9.5-21.3,21.3-21.3s21.3,9.5,21.3,21.3S257.1,288,245.3,288z"})}),lk=({data:n,dataStatus:e=[],width:t=320,height:r=160,color:i="#10b981",onHover:a,showTooltip:l=!0})=>{const c=Xe.useRef(null),[d,f]=Xe.useState(null),[p,v]=Xe.useState(null);if(!n||n.length===0)return u.jsx("div",{className:"text-sm text-gray-500",children:"No data"});const x=12,y=t,N=r,_=Math.max(10,y-x*2),k=Math.max(10,N-x*2),j=Math.max(...n,1),T=n.map(($,F)=>{const ae=x+F/Math.max(1,n.length-1)*_,P=x+(1-$/j)*k;return{x:ae,y:P,v:$}}),L=T.map(($,F)=>`${F===0?"M":"L"} ${$.x} ${$.y}`).join(" "),O=`${L} L ${x+_} ${x+k} L ${x} ${x+k} Z`,X=$=>{const F=c.current?.getBoundingClientRect();if(!F)return;const ae=$.clientX-F.left;let P=0,D=1/0;T.forEach((q,V)=>{const ue=Math.abs(q.x-ae);ue<D&&(D=ue,P=V)}),f(P),v({x:T[P].x,y:T[P].y}),a&&a(P)},ne=()=>{f(null),v(null),a&&a(null)},ee=["Yet to Start","In Progress","Completed","Cancelled"];return u.jsxs("div",{ref:c,className:"relative",style:{width:y},onMouseMove:X,onMouseLeave:ne,children:[u.jsxs("svg",{width:y,height:N,viewBox:`0 0 ${y} ${N}`,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"areaGrad",x1:"0",x2:"0",y1:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:i,stopOpacity:"0.14"}),u.jsx("stop",{offset:"100%",stopColor:i,stopOpacity:"0.02"})]})}),u.jsx("path",{d:O,fill:"url(#areaGrad)",stroke:"none"}),u.jsx("path",{d:L,fill:"none",stroke:i,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round"}),T.map(($,F)=>u.jsx("circle",{cx:$.x,cy:$.y,r:3.5,fill:"#fff",stroke:i,strokeWidth:1.5},F)),l&&d!==null&&p&&u.jsx("g",{pointerEvents:"none",children:u.jsx("line",{x1:p.x,x2:p.x,y1:x,y2:N-x,stroke:"#0f172a",strokeWidth:.6,opacity:.08})})]}),l&&d!==null&&p&&u.jsx("div",{className:"absolute z-20",style:{left:Math.min(Math.max(0,p.x+8),y-180),top:p.y-8},children:u.jsxs("div",{className:"bg-white shadow-lg border rounded-md text-sm p-2 w-44",children:[u.jsxs("div",{className:"font-semibold",children:["Day ",d+1]}),u.jsx("div",{className:"mt-1",children:ee.map($=>{const F=e[d]&&e[d][$]||0,ae={"Yet to Start":"#94a3b8","In Progress":"#f59e0b",Completed:"#10b981",Cancelled:"#ef4444"};return u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-sm inline-block",style:{background:ae[$]}}),u.jsx("span",{className:"text-xs text-gray-700",children:$})]}),u.jsx("div",{className:"text-xs font-semibold text-gray-800",children:F})]},$)})})]})})]})},ck=({counts:n={},size:e=120,onHover:t,activeKey:r=null})=>{const i=["Yet to Start","In Progress","Completed","Cancelled"],a={"Yet to Start":"#94a3b8","In Progress":"#f59e0b",Completed:"#10b981",Cancelled:"#ef4444"},l=i.reduce((N,_)=>N+(n[_]||0),0)||1,c=e/2,d=c*.5,[f,p]=Xe.useState(null);let v=-Math.PI/2;const x=i.map(N=>{const _=n[N]||0,k=_/l*Math.PI*2,j=v+k,T=k>Math.PI?1:0,L=c+c*Math.cos(v),O=c+c*Math.sin(v),X=c+c*Math.cos(j),ne=c+c*Math.sin(j),ee=v+k/2,$=`M ${c} ${c} L ${L} ${O} A ${c} ${c} 0 ${T} 1 ${X} ${ne} Z`;return v=j,{key:N,value:_,path:$,color:a[N]||"#ddd",angle:k,mid:ee}}),y=r!==null?r:f;return u.jsx("div",{style:{width:e,height:e,position:"relative"},children:u.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,children:[x.map(N=>{const _=y===N.key,k=_?6:0,j=k*Math.cos(N.mid),T=k*Math.sin(N.mid),L=`translate(${j}px, ${T}px) scale(${_?1.06:1})`;return u.jsx("g",{style:{transform:L,transformOrigin:`${c}px ${c}px`,transition:"transform 180ms cubic-bezier(.2,.9,.2,1), opacity 140ms ease"},children:u.jsx("path",{d:N.path,fill:N.color,opacity:y&&y!==N.key?.35:1,onMouseEnter:()=>{p(N.key),t&&t(N.key)},onMouseLeave:()=>{p(null),t&&t(null)},"aria-label":`${N.key}: ${N.value}`,role:"img",style:{transition:"opacity 140ms ease"}})},N.key)}),u.jsx("circle",{cx:c,cy:c,r:d,fill:"#fff"})]})})},uk=({token:n,onNavigate:e,user:t})=>{const[r,i]=I.useState({totalOrganizations:0,activeOrganizations:0,archivedOrganizations:0,totalDevices:0,activeDevices:0,archivedDevices:0,totalTechnicians:0,totalMaintenance:0,recentMaintenance:0,maintenanceByDay:[],maintenanceByDayStatus:Array.from({length:30},()=>({})),deviceStatus:{active:0,archived:0},orgStatus:{active:0,archived:0},maintenanceStatusCounts:{}}),[a,l]=I.useState(!0),[c,d]=I.useState(null),[f,p]=I.useState(null),v=Xe.useMemo(()=>{const k=r.maintenanceByDay&&r.maintenanceByDay.length?r.maintenanceByDay.length:30,j=c??k-1,T=new Date;T.setHours(0,0,0,0),T.setDate(T.getDate()-(k-1));const L=new Date(T);return L.setDate(T.getDate()+j),L.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},[r.maintenanceByDay,c]),x=c??r.maintenanceByDay.length-1;I.useEffect(()=>{y()},[n]);const y=async()=>{try{const[k,j,T,L]=await Promise.all([fetch("http://localhost:8000/organizations",{headers:{Authorization:`Bearer ${n}`}}),fetch("http://localhost:8000/devices",{headers:{Authorization:`Bearer ${n}`}}),fetch("http://localhost:8000/technicians",{headers:{Authorization:`Bearer ${n}`}}),fetch("http://localhost:8000/maintenance",{headers:{Authorization:`Bearer ${n}`}})]),[O,X,ne,ee]=await Promise.all([k.json(),j.json(),T.json(),L.json()]),$=O.organizations||[],F=X.devices||[],ae=ne.technicians||[],P=ee.maintenance||[],D=new Date;D.setDate(D.getDate()-29);const q=F.filter(Y=>{const R=$.find(z=>z.id===Y.organization_id);return!Y.is_archived&&!R?.archived}).length,V=F.filter(Y=>{const R=$.find(z=>z.id===Y.organization_id);return Y.is_archived||R?.archived}).length,ue=$.filter(Y=>!Y.archived).length,de=$.filter(Y=>Y.archived).length,he=P.filter(Y=>new Date(Y.created_at)>=D).length,W=new Array(30).fill(0),ye=Array.from({length:30},()=>({})),Se={};for(const Y of P){const z=new Date(Y.created_at).setHours(0,0,0,0)-new Date(D).setHours(0,0,0,0),K=Math.floor(z/(1e3*60*60*24));if(K>=0&&K<30){W[K]=(W[K]||0)+1;const me=(Y.status||"Unknown").toString();ye[K][me]=(ye[K][me]||0)+1}const te=(Y.status||"Unknown").toString();Se[te]=(Se[te]||0)+1}i({totalOrganizations:$.length,activeOrganizations:ue,archivedOrganizations:de,totalDevices:F.length,activeDevices:q,archivedDevices:V,totalTechnicians:ae.length,totalMaintenance:P.length,recentMaintenance:he,maintenanceByDay:W,maintenanceByDayStatus:ye,deviceStatus:{active:q,archived:V},orgStatus:{active:ue,archived:de},maintenanceStatusCounts:Se})}catch(k){console.error("Error fetching stats:",k)}finally{l(!1)}},N=[{title:"Total Organizations",value:r.totalOrganizations,subtitle:`${r.activeOrganizations} active, ${r.archivedOrganizations} archived`,icon:Ql,color:"text-blue-600",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100",iconBg:"bg-blue-600",navigateTo:"organizations"},{title:"Total Devices",value:r.totalDevices,subtitle:`${r.activeDevices} active, ${r.archivedDevices} archived`,icon:qa,color:"text-emerald-600",bgColor:"bg-gradient-to-br from-emerald-50 to-emerald-100",iconBg:"bg-emerald-600",navigateTo:"devices"},{title:"Total Technicians",value:r.totalTechnicians,subtitle:"Available technicians",icon:Yd,color:"text-orange-600",bgColor:"bg-gradient-to-br from-orange-50 to-orange-100",iconBg:"bg-orange-600",navigateTo:"technicians"},{title:"Maintenance Records",value:r.totalMaintenance,subtitle:`${r.recentMaintenance} in last 30 days`,icon:pl,color:"text-purple-600",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100",iconBg:"bg-purple-600",navigateTo:"maintenance"}];if(a)return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-6 py-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-medium",children:"Dashboard Overview"}),u.jsx("p",{className:"text-gray-600",children:"Loading statistics..."})]}),u.jsx("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(k=>u.jsxs(si,{className:"shadow-sm min-h-20 p-2",children:[u.jsx(Ii,{className:"pb-1",children:u.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-24"})}),u.jsxs(ai,{children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-12 mb-1"}),u.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse w-20"})]})]},k))})]});const _=t?.user_metadata?.name||t?.email?.split("@")[0]||"Admin";return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-6 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-semibold",children:["Welcome ",_,"!"]}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor your water dispenser management system"})]}),u.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:N.map(k=>{const j=k.icon;return u.jsxs(si,{className:`overflow-hidden border-0 shadow-sm hover:shadow md:shadow-lg transition-all cursor-pointer ${k.bgColor} min-h-12 p-1`,onClick:()=>e(k.navigateTo),children:[u.jsx(Ii,{className:"pb-2",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ss,{className:"text-xs text-gray-700",children:k.title}),u.jsx("div",{className:`p-1.5 rounded-lg ${k.iconBg} shadow-lg`,children:u.jsx(j,{className:"w-4 h-4 text-white"})})]})}),u.jsxs(ai,{children:[u.jsx("div",{className:`text-lg md:text-xl mb-1 ${k.color} font-semibold`,children:k.value}),u.jsx("p",{className:"text-xxs text-gray-500",children:k.subtitle})]})]},k.title)})}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs(si,{className:"shadow-sm hover:shadow-md transition-shadow min-h-26",children:[u.jsx(Ii,{children:u.jsxs(ss,{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-2 rounded-lg bg-green-200",children:u.jsx(ik,{className:"w-5 h-5 text-green-600"})}),u.jsx("span",{children:"Maintenance"})]})}),u.jsx(ai,{className:"space-y-2 p-3",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-right gap-4",children:[u.jsx("div",{className:"flex-1 w-full md:w-auto flex items-center justify-center",children:u.jsxs("div",{className:"relative w-full flex items-center justify-center",children:[u.jsx("div",{className:"hidden md:block absolute left-4 top-1/2 transform -translate-y-1/2 pointer-events-none opacity-20",children:u.jsx(qa,{className:"w-24 h-24 text-gray-400"})}),u.jsx("div",{style:{maxWidth:420,width:"100%"},children:u.jsx(lk,{data:r.maintenanceByDay,dataStatus:r.maintenanceByDayStatus,width:320,height:160,color:"#10b981",showTooltip:!1,onHover:k=>d(k)})})]})}),u.jsxs("div",{className:"w-full md:w-36 text-center md:text-right relative z-10",children:[u.jsx("div",{className:"text-lg font-semibold text-green-600",children:r.recentMaintenance}),u.jsx("div",{className:"text-sm text-gray-500",children:"in last 30 days"})]})]})})]}),u.jsxs(si,{className:"relative shadow-sm hover:shadow-md transition-shadow min-h-32",children:[u.jsx(Ii,{children:u.jsxs(ss,{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:u.jsx(id,{className:"w-5 h-5 text-gray-600"})}),u.jsx("span",{children:"Day Breakdown"})]})}),u.jsx("div",{className:"hidden md:block absolute -left-10 top-1/2 transform -translate-y-1/2 pointer-events-none opacity-20",children:u.jsx(qa,{className:"w-16 h-16 text-gray-400"})}),u.jsx(ai,{className:"p-3",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[u.jsx("div",{className:"mb-2",children:u.jsx(ck,{counts:r.maintenanceByDayStatus&&r.maintenanceByDayStatus[x]||{},size:120,onHover:k=>p(k),activeKey:f})}),u.jsxs("div",{className:"hidden md:block relative w-24 h-12 bg-white rounded overflow-hidden shadow-sm flex items-center justify-center mt-2",children:[u.jsx(qa,{className:"absolute inset-0 m-auto w-16 h-8 text-gray-400 opacity-20"}),u.jsx("img",{src:"/brand-logo.png",alt:"dispenser",className:"relative z-10 w-full h-full object-cover",onError:k=>{k.target.style.display="none"}})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm text-gray-600",children:"Selected Day "}),u.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-3",children:v}),u.jsx("div",{className:"flex flex-col gap-0 items-stretch",children:["Yet to Start","In Progress","Completed","Cancelled"].map(k=>{const j=c??r.maintenanceByDay.length-1,T=r.maintenanceByDayStatus&&r.maintenanceByDayStatus[j]&&r.maintenanceByDayStatus[j][k]||0,L={"Yet to Start":"bg-gray-100 text-gray-800 border border-gray-300","In Progress":"bg-orange-300 text-yellow-900 border-yellow-400 ",Completed:"bg-green-100 text-green-800 border border-green-300",Cancelled:"bg-red-200 text-red-900 border border-red-300"},O=f===k,X=O?"ring-2 r  ing-offset-1"+(k==="In Progress"?" ring-yellow-40":k==="Cancelled"?" ring-red-300":k==="Completed"?" ring-green-300":" ring-gray-300"):"";return u.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-md shadow-sm ${X}`,onMouseEnter:()=>p(k),onMouseLeave:()=>p(null),style:{transform:O?"scale(1.02)":"scale(1)",transition:"transform 180ms cubic-bezier(.2,.9,.2,1), opacity 160ms ease, box-shadow 160ms ease",opacity:f&&f!==k?.65:1,boxShadow:O?"0 8px 22px rgba(2,6,23,0.06)":void 0},children:[u.jsx("div",{className:`px-3 py-1 rounded-md ${L[k]} font-semibold`,children:k}),u.jsx("div",{className:"ml-3 text-lg font-bold text-gray-800",children:T})]},k)})})]})]})})]})]})]})};function Vn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function dk(n,e){const t=I.createContext(e),r=a=>{const{children:l,...c}=a,d=I.useMemo(()=>c,Object.values(c));return u.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function i(a){const l=I.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function ud(n,e=[]){let t=[];function r(a,l){const c=I.createContext(l),d=t.length;t=[...t,l];const f=v=>{const{scope:x,children:y,...N}=v,_=x?.[n]?.[d]||c,k=I.useMemo(()=>N,Object.values(N));return u.jsx(_.Provider,{value:k,children:y})};f.displayName=a+"Provider";function p(v,x){const y=x?.[n]?.[d]||c,N=I.useContext(y);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=t.map(l=>I.createContext(l));return function(c){const d=c?.[n]||a;return I.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return i.scopeName=n,[r,hk(i,...e)]}function hk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const v=d(a)[`__scope${f}`];return{...c,...v}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var as=globalThis?.document?I.useLayoutEffect:()=>{},fk=Zy[" useId ".trim().toString()]||(()=>{}),pk=0;function Gu(n){const[e,t]=I.useState(fk());return as(()=>{t(r=>r??String(pk++))},[n]),n||(e?`radix-${e}`:"")}var gk=Zy[" useInsertionEffect ".trim().toString()]||as;function nh({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,l]=mk({defaultProp:e,onChange:t}),c=n!==void 0,d=c?n:i;{const p=I.useRef(n!==void 0);I.useEffect(()=>{const v=p.current;v!==c&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=I.useCallback(p=>{if(c){const v=vk(p)?p(n):p;v!==n&&l.current?.(v)}else a(p)},[c,n,a,l]);return[d,f]}function mk({defaultProp:n,onChange:e}){const[t,r]=I.useState(n),i=I.useRef(t),a=I.useRef(e);return gk(()=>{a.current=e},[e]),I.useEffect(()=>{i.current!==t&&(a.current?.(t),i.current=t)},[t,i]),[t,r,a]}function vk(n){return typeof n=="function"}function Fc(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>e.current?.(...t),[])}function yk(n,e=globalThis?.document){const t=Fc(n);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var wk="DismissableLayer",E0="dismissableLayer.update",xk="dismissableLayer.pointerDownOutside",bk="dismissableLayer.focusOutside",Rv,Ww=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cm=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=n,f=I.useContext(Ww),[p,v]=I.useState(null),x=p?.ownerDocument??globalThis?.document,[,y]=I.useState({}),N=sr(e,ee=>v(ee)),_=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=_.indexOf(k),T=p?_.indexOf(p):-1,L=f.layersWithOutsidePointerEventsDisabled.size>0,O=T>=j,X=Nk(ee=>{const $=ee.target,F=[...f.branches].some(ae=>ae.contains($));!O||F||(i?.(ee),l?.(ee),ee.defaultPrevented||c?.())},x),ne=kk(ee=>{const $=ee.target;[...f.branches].some(ae=>ae.contains($))||(a?.(ee),l?.(ee),ee.defaultPrevented||c?.())},x);return yk(ee=>{T===f.layers.size-1&&(r?.(ee),!ee.defaultPrevented&&c&&(ee.preventDefault(),c()))},x),I.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Rv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Ov(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Rv)}},[p,x,t,f]),I.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Ov())},[p,f]),I.useEffect(()=>{const ee=()=>y({});return document.addEventListener(E0,ee),()=>document.removeEventListener(E0,ee)},[]),u.jsx(Cn.div,{...d,ref:N,style:{pointerEvents:L?O?"auto":"none":void 0,...n.style},onFocusCapture:Vn(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:Vn(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:Vn(n.onPointerDownCapture,X.onPointerDownCapture)})});cm.displayName=wk;var Sk="DismissableLayerBranch",_k=I.forwardRef((n,e)=>{const t=I.useContext(Ww),r=I.useRef(null),i=sr(e,r);return I.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),u.jsx(Cn.div,{...n,ref:i})});_k.displayName=Sk;function Nk(n,e=globalThis?.document){const t=Fc(n),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){Vw(xk,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function kk(n,e=globalThis?.document){const t=Fc(n),r=I.useRef(!1);return I.useEffect(()=>{const i=a=>{a.target&&!r.current&&Vw(bk,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ov(){const n=new CustomEvent(E0);document.dispatchEvent(n)}function Vw(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?b_(i,a):i.dispatchEvent(a)}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",Iv={bubbles:!1,cancelable:!0},jk="FocusScope",um=I.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[c,d]=I.useState(null),f=Fc(i),p=Fc(a),v=I.useRef(null),x=sr(e,_=>d(_)),y=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let _=function(L){if(y.paused||!c)return;const O=L.target;c.contains(O)?v.current=O:Kl(v.current,{select:!0})},k=function(L){if(y.paused||!c)return;const O=L.relatedTarget;O!==null&&(c.contains(O)||Kl(v.current,{select:!0}))},j=function(L){if(document.activeElement===document.body)for(const X of L)X.removedNodes.length>0&&Kl(c)};document.addEventListener("focusin",_),document.addEventListener("focusout",k);const T=new MutationObserver(j);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",k),T.disconnect()}}},[r,c,y.paused]),I.useEffect(()=>{if(c){Fv.add(y);const _=document.activeElement;if(!c.contains(_)){const j=new CustomEvent(cg,Iv);c.addEventListener(cg,f),c.dispatchEvent(j),j.defaultPrevented||(Ck(Tk(Gw(c)),{select:!0}),document.activeElement===_&&Kl(c))}return()=>{c.removeEventListener(cg,f),setTimeout(()=>{const j=new CustomEvent(ug,Iv);c.addEventListener(ug,p),c.dispatchEvent(j),j.defaultPrevented||Kl(_??document.body,{select:!0}),c.removeEventListener(ug,p),Fv.remove(y)},0)}}},[c,f,p,y]);const N=I.useCallback(_=>{if(!t&&!r||y.paused)return;const k=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,j=document.activeElement;if(k&&j){const T=_.currentTarget,[L,O]=Ak(T);L&&O?!_.shiftKey&&j===O?(_.preventDefault(),t&&Kl(L,{select:!0})):_.shiftKey&&j===L&&(_.preventDefault(),t&&Kl(O,{select:!0})):j===T&&_.preventDefault()}},[t,r,y.paused]);return u.jsx(Cn.div,{tabIndex:-1,...l,ref:x,onKeyDown:N})});um.displayName=jk;function Ck(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Kl(r,{select:e}),document.activeElement!==t)return}function Ak(n){const e=Gw(n),t=Dv(e,n),r=Dv(e.reverse(),n);return[t,r]}function Gw(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Dv(n,e){for(const t of n)if(!Ek(t,{upTo:e}))return t}function Ek(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Pk(n){return n instanceof HTMLInputElement&&"select"in n}function Kl(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Pk(n)&&e&&n.select()}}var Fv=Lk();function Lk(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Mv(n,e),n.unshift(e)},remove(e){n=Mv(n,e),n[0]?.resume()}}}function Mv(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Tk(n){return n.filter(e=>e.tagName!=="A")}var Rk="Portal",dm=I.forwardRef((n,e)=>{const{container:t,...r}=n,[i,a]=I.useState(!1);as(()=>a(!0),[]);const l=t||i&&globalThis?.document?.body;return l?gw.createPortal(u.jsx(Cn.div,{...r,ref:e}),l):null});dm.displayName=Rk;function Ok(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var uh=n=>{const{present:e,children:t}=n,r=Ik(e),i=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),a=sr(r.ref,Dk(i));return typeof t=="function"||r.isPresent?I.cloneElement(i,{ref:a}):null};uh.displayName="Presence";function Ik(n){const[e,t]=I.useState(),r=I.useRef(null),i=I.useRef(n),a=I.useRef("none"),l=n?"mounted":"unmounted",[c,d]=Ok(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const f=nf(r.current);a.current=c==="mounted"?f:"none"},[c]),as(()=>{const f=r.current,p=i.current;if(p!==n){const x=a.current,y=nf(f);n?d("MOUNT"):y==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&x!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),as(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,v=y=>{const _=nf(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&_&&(d("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=y=>{y.target===e&&(a.current=nf(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:I.useCallback(f=>{r.current=f?getComputedStyle(f):null,t(f)},[])}}function nf(n){return n?.animationName||"none"}function Dk(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var dg=0;function Kw(){I.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Bv()),document.body.insertAdjacentElement("beforeend",n[1]??Bv()),dg++,()=>{dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dg--}},[])}function Bv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var _o=function(){return _o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_o.apply(this,arguments)};function Yw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Fk(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var wf="right-scroll-bar-position",xf="width-before-scroll-bar",Mk="with-scroll-bars-hidden",Bk="--removed-body-scroll-bar-size";function hg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function zk(n,e){var t=I.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Uk=typeof window<"u"?I.useLayoutEffect:I.useEffect,zv=new WeakMap;function $k(n,e){var t=zk(null,function(r){return n.forEach(function(i){return hg(i,r)})});return Uk(function(){var r=zv.get(t);if(r){var i=new Set(r),a=new Set(n),l=t.current;i.forEach(function(c){a.has(c)||hg(c,null)}),a.forEach(function(c){i.has(c)||hg(c,l)})}zv.set(t,n)},[n]),t}function qk(n){return n}function Hk(n,e){e===void 0&&(e=qk);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var d=function(){var p=l;l=[],p.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),t}}}};return i}function Wk(n){n===void 0&&(n={});var e=Hk(null);return e.options=_o({async:!0,ssr:!1},n),e}var Jw=function(n){var e=n.sideCar,t=Yw(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,_o({},t))};Jw.isSideCarExport=!0;function Vk(n,e){return n.useMedium(e),Jw}var Qw=Wk(),fg=function(){},Kf=I.forwardRef(function(n,e){var t=I.useRef(null),r=I.useState({onScrollCapture:fg,onWheelCapture:fg,onTouchMoveCapture:fg}),i=r[0],a=r[1],l=n.forwardProps,c=n.children,d=n.className,f=n.removeScrollBar,p=n.enabled,v=n.shards,x=n.sideCar,y=n.noRelative,N=n.noIsolation,_=n.inert,k=n.allowPinchZoom,j=n.as,T=j===void 0?"div":j,L=n.gapMode,O=Yw(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),X=x,ne=$k([t,e]),ee=_o(_o({},O),i);return I.createElement(I.Fragment,null,p&&I.createElement(X,{sideCar:Qw,removeScrollBar:f,shards:v,noRelative:y,noIsolation:N,inert:_,setCallbacks:a,allowPinchZoom:!!k,lockRef:t,gapMode:L}),l?I.cloneElement(I.Children.only(c),_o(_o({},ee),{ref:ne})):I.createElement(T,_o({},ee,{className:d,ref:ne}),c))});Kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kf.classNames={fullWidth:xf,zeroRight:wf};var Gk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kk(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Gk();return e&&n.setAttribute("nonce",e),n}function Yk(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Jk(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Qk=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Kk())&&(Yk(e,t),Jk(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Xk=function(){var n=Qk();return function(e,t){I.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Xw=function(){var n=Xk(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Zk={left:0,top:0,right:0,gap:0},pg=function(n){return parseInt(n||"",10)||0},e6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[pg(t),pg(r),pg(i)]},t6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Zk;var e=e6(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},n6=Xw(),Ku="data-scroll-locked",r6=function(n,e,t,r){var i=n.left,a=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Mk,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ku,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(xf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ku,`] {
    `).concat(Bk,": ").concat(c,`px;
  }
`)},Uv=function(){var n=parseInt(document.body.getAttribute(Ku)||"0",10);return isFinite(n)?n:0},i6=function(){I.useEffect(function(){return document.body.setAttribute(Ku,(Uv()+1).toString()),function(){var n=Uv()-1;n<=0?document.body.removeAttribute(Ku):document.body.setAttribute(Ku,n.toString())}},[])},s6=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;i6();var a=I.useMemo(function(){return t6(i)},[i]);return I.createElement(n6,{styles:r6(a,!e,i,t?"":"!important")})},P0=!1;if(typeof window<"u")try{var rf=Object.defineProperty({},"passive",{get:function(){return P0=!0,!0}});window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{P0=!1}var Ou=P0?{passive:!1}:!1,a6=function(n){return n.tagName==="TEXTAREA"},Zw=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!a6(n)&&t[e]==="visible")},o6=function(n){return Zw(n,"overflowY")},l6=function(n){return Zw(n,"overflowX")},$v=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=e5(n,r);if(i){var a=t5(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},c6=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},u6=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},e5=function(n,e){return n==="v"?o6(e):l6(e)},t5=function(n,e){return n==="v"?c6(e):u6(e)},d6=function(n,e){return n==="h"&&e==="rtl"?-1:1},h6=function(n,e,t,r,i){var a=d6(n,window.getComputedStyle(e).direction),l=a*r,c=t.target,d=e.contains(c),f=!1,p=l>0,v=0,x=0;do{if(!c)break;var y=t5(n,c),N=y[0],_=y[1],k=y[2],j=_-k-a*N;(N||j)&&e5(n,c)&&(v+=j,x+=N);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(v)<1||!p&&Math.abs(x)<1)&&(f=!0),f},sf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},qv=function(n){return[n.deltaX,n.deltaY]},Hv=function(n){return n&&"current"in n?n.current:n},f6=function(n,e){return n[0]===e[0]&&n[1]===e[1]},p6=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},g6=0,Iu=[];function m6(n){var e=I.useRef([]),t=I.useRef([0,0]),r=I.useRef(),i=I.useState(g6++)[0],a=I.useState(Xw)[0],l=I.useRef(n);I.useEffect(function(){l.current=n},[n]),I.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Fk([n.lockRef.current],(n.shards||[]).map(Hv),!0).filter(Boolean);return _.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=I.useCallback(function(_,k){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var j=sf(_),T=t.current,L="deltaX"in _?_.deltaX:T[0]-j[0],O="deltaY"in _?_.deltaY:T[1]-j[1],X,ne=_.target,ee=Math.abs(L)>Math.abs(O)?"h":"v";if("touches"in _&&ee==="h"&&ne.type==="range")return!1;var $=$v(ee,ne);if(!$)return!0;if($?X=ee:(X=ee==="v"?"h":"v",$=$v(ee,ne)),!$)return!1;if(!r.current&&"changedTouches"in _&&(L||O)&&(r.current=X),!X)return!0;var F=r.current||X;return h6(F,k,_,F==="h"?L:O)},[]),d=I.useCallback(function(_){var k=_;if(!(!Iu.length||Iu[Iu.length-1]!==a)){var j="deltaY"in k?qv(k):sf(k),T=e.current.filter(function(X){return X.name===k.type&&(X.target===k.target||k.target===X.shadowParent)&&f6(X.delta,j)})[0];if(T&&T.should){k.cancelable&&k.preventDefault();return}if(!T){var L=(l.current.shards||[]).map(Hv).filter(Boolean).filter(function(X){return X.contains(k.target)}),O=L.length>0?c(k,L[0]):!l.current.noIsolation;O&&k.cancelable&&k.preventDefault()}}},[]),f=I.useCallback(function(_,k,j,T){var L={name:_,delta:k,target:j,should:T,shadowParent:v6(j)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(O){return O!==L})},1)},[]),p=I.useCallback(function(_){t.current=sf(_),r.current=void 0},[]),v=I.useCallback(function(_){f(_.type,qv(_),_.target,c(_,n.lockRef.current))},[]),x=I.useCallback(function(_){f(_.type,sf(_),_.target,c(_,n.lockRef.current))},[]);I.useEffect(function(){return Iu.push(a),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Ou),document.addEventListener("touchmove",d,Ou),document.addEventListener("touchstart",p,Ou),function(){Iu=Iu.filter(function(_){return _!==a}),document.removeEventListener("wheel",d,Ou),document.removeEventListener("touchmove",d,Ou),document.removeEventListener("touchstart",p,Ou)}},[]);var y=n.removeScrollBar,N=n.inert;return I.createElement(I.Fragment,null,N?I.createElement(a,{styles:p6(i)}):null,y?I.createElement(s6,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function v6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const y6=Vk(Qw,m6);var hm=I.forwardRef(function(n,e){return I.createElement(Kf,_o({},n,{ref:e,sideCar:y6}))});hm.classNames=Kf.classNames;var w6=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Du=new WeakMap,af=new WeakMap,of={},gg=0,n5=function(n){return n&&(n.host||n5(n.parentNode))},x6=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=n5(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},b6=function(n,e,t,r){var i=x6(e,Array.isArray(n)?n:[n]);of[t]||(of[t]=new WeakMap);var a=of[t],l=[],c=new Set,d=new Set(i),f=function(v){!v||c.has(v)||(c.add(v),f(v.parentNode))};i.forEach(f);var p=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(x){if(c.has(x))p(x);else try{var y=x.getAttribute(r),N=y!==null&&y!=="false",_=(Du.get(x)||0)+1,k=(a.get(x)||0)+1;Du.set(x,_),a.set(x,k),l.push(x),_===1&&N&&af.set(x,!0),k===1&&x.setAttribute(t,"true"),N||x.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return p(e),c.clear(),gg++,function(){l.forEach(function(v){var x=Du.get(v)-1,y=a.get(v)-1;Du.set(v,x),a.set(v,y),x||(af.has(v)||v.removeAttribute(r),af.delete(v)),y||v.removeAttribute(t)}),gg--,gg||(Du=new WeakMap,Du=new WeakMap,af=new WeakMap,of={})}},r5=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=w6(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),b6(r,i,t,"aria-hidden")):function(){return null}},Yf="Dialog",[i5]=ud(Yf),[S6,Ga]=i5(Yf),s5=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,c=I.useRef(null),d=I.useRef(null),[f,p]=nh({prop:r,defaultProp:i??!1,onChange:a,caller:Yf});return u.jsx(S6,{scope:e,triggerRef:c,contentRef:d,contentId:Gu(),titleId:Gu(),descriptionId:Gu(),open:f,onOpenChange:p,onOpenToggle:I.useCallback(()=>p(v=>!v),[p]),modal:l,children:t})};s5.displayName=Yf;var a5="DialogTrigger",o5=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ga(a5,t),a=sr(e,i.triggerRef);return u.jsx(Cn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gm(i.open),...r,ref:a,onClick:Vn(n.onClick,i.onOpenToggle)})});o5.displayName=a5;var fm="DialogPortal",[_6,l5]=i5(fm,{forceMount:void 0}),c5=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=Ga(fm,e);return u.jsx(_6,{scope:e,forceMount:t,children:I.Children.map(r,l=>u.jsx(uh,{present:t||a.open,children:u.jsx(dm,{asChild:!0,container:i,children:l})}))})};c5.displayName=fm;var Of="DialogOverlay",u5=I.forwardRef((n,e)=>{const t=l5(Of,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Ga(Of,n.__scopeDialog);return a.modal?u.jsx(uh,{present:r||a.open,children:u.jsx(k6,{...i,ref:e})}):null});u5.displayName=Of;var N6=nd("DialogOverlay.RemoveScroll"),k6=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ga(Of,t);return u.jsx(hm,{as:N6,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Cn.div,{"data-state":gm(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Mc="DialogContent",d5=I.forwardRef((n,e)=>{const t=l5(Mc,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Ga(Mc,n.__scopeDialog);return u.jsx(uh,{present:r||a.open,children:a.modal?u.jsx(j6,{...i,ref:e}):u.jsx(C6,{...i,ref:e})})});d5.displayName=Mc;var j6=I.forwardRef((n,e)=>{const t=Ga(Mc,n.__scopeDialog),r=I.useRef(null),i=sr(e,t.contentRef,r);return I.useEffect(()=>{const a=r.current;if(a)return r5(a)},[]),u.jsx(h5,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vn(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Vn(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Vn(n.onFocusOutside,a=>a.preventDefault())})}),C6=I.forwardRef((n,e)=>{const t=Ga(Mc,n.__scopeDialog),r=I.useRef(!1),i=I.useRef(!1);return u.jsx(h5,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;t.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),h5=I.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,c=Ga(Mc,t),d=I.useRef(null),f=sr(e,d);return Kw(),u.jsxs(u.Fragment,{children:[u.jsx(um,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(cm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":gm(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(A6,{titleId:c.titleId}),u.jsx(P6,{contentRef:d,descriptionId:c.descriptionId})]})]})}),pm="DialogTitle",f5=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ga(pm,t);return u.jsx(Cn.h2,{id:i.titleId,...r,ref:e})});f5.displayName=pm;var p5="DialogDescription",g5=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ga(p5,t);return u.jsx(Cn.p,{id:i.descriptionId,...r,ref:e})});g5.displayName=p5;var m5="DialogClose",v5=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ga(m5,t);return u.jsx(Cn.button,{type:"button",...r,ref:e,onClick:Vn(n.onClick,()=>i.onOpenChange(!1))})});v5.displayName=m5;function gm(n){return n?"open":"closed"}var y5="DialogTitleWarning",[LL,w5]=dk(y5,{contentName:Mc,titleName:pm,docsSlug:"dialog"}),A6=({titleId:n})=>{const e=w5(y5),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},E6="DialogDescriptionWarning",P6=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${w5(E6).contentName}}.`;return I.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},L6=s5,T6=o5,R6=c5,O6=u5,I6=d5,D6=f5,F6=g5,M6=v5;function ti({...n}){return u.jsx(L6,{"data-slot":"dialog",...n})}function Bc({...n}){return u.jsx(T6,{"data-slot":"dialog-trigger",...n})}function B6({...n}){return u.jsx(R6,{"data-slot":"dialog-portal",...n})}const x5=I.forwardRef(({className:n,...e},t)=>u.jsx(O6,{ref:t,"data-slot":"dialog-overlay",className:Un("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));x5.displayName="DialogOverlay";function ni({className:n,children:e,...t}){return u.jsxs(B6,{"data-slot":"dialog-portal",children:[u.jsx(x5,{}),u.jsxs(I6,{"data-slot":"dialog-content",className:Un("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border-2 p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,u.jsxs(M6,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(ok,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ri({className:n,...e}){return u.jsx("div",{"data-slot":"dialog-header",className:Un("flex flex-col gap-2 text-center sm:text-left",n),...e})}function ii({className:n,...e}){return u.jsx(D6,{"data-slot":"dialog-title",className:Un("text-lg leading-none font-semibold",n),...e})}function wi({className:n,...e}){return u.jsx(F6,{"data-slot":"dialog-description",className:Un("text-muted-foreground text-sm",n),...e})}function mm(n){const e=I.useRef({value:n,previous:n});return I.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function vm(n){const[e,t]=I.useState(void 0);return as(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Jf="Switch",[z6]=ud(Jf),[U6,$6]=z6(Jf),b5=I.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:d="on",onCheckedChange:f,form:p,...v}=n,[x,y]=I.useState(null),N=sr(e,L=>y(L)),_=I.useRef(!1),k=x?p||!!x.closest("form"):!0,[j,T]=nh({prop:i,defaultProp:a??!1,onChange:f,caller:Jf});return u.jsxs(U6,{scope:t,checked:j,disabled:c,children:[u.jsx(Cn.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":k5(j),"data-disabled":c?"":void 0,disabled:c,value:d,...v,ref:N,onClick:Vn(n.onClick,L=>{T(O=>!O),k&&(_.current=L.isPropagationStopped(),_.current||L.stopPropagation())})}),k&&u.jsx(N5,{control:x,bubbles:!_.current,name:r,value:d,checked:j,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});b5.displayName=Jf;var S5="SwitchThumb",_5=I.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=$6(S5,t);return u.jsx(Cn.span,{"data-state":k5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});_5.displayName=S5;var q6="SwitchBubbleInput",N5=I.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},a)=>{const l=I.useRef(null),c=sr(l,a),d=mm(t),f=vm(e);return I.useEffect(()=>{const p=l.current;if(!p)return;const v=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(v,"checked").set;if(d!==t&&y){const N=new Event("click",{bubbles:r});y.call(p,t),p.dispatchEvent(N)}},[d,t,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:c,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N5.displayName=q6;function k5(n){return n?"checked":"unchecked"}var H6=b5,W6=_5;function ym({className:n,...e}){return u.jsx(H6,{"data-slot":"switch",className:Un("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:u.jsx(W6,{"data-slot":"switch-thumb",className:Un("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const V6=({token:n,onOrganizationClick:e})=>{const[t,r]=I.useState([]),[i,a]=I.useState(!0),[l,c]=I.useState(!1),[d,f]=I.useState(!1),[p,v]=I.useState(null),[x,y]=I.useState(!1),[N,_]=I.useState(null),[k,j]=I.useState(""),[T,L]=I.useState(null),[O,X]=I.useState(null),[ne,ee]=I.useState(!1),[$,F]=I.useState(!1),[ae,P]=I.useState(""),[D,q]=I.useState("name"),[V,ue]=I.useState("asc"),[de,he]=I.useState({companyName:"",pan:"",phoneNo:"",email:"",gstNo:"",address:""}),W=async()=>{try{const J=await fetch("http://localhost:8000/make-server-60660975/organizations",{headers:{Authorization:`Bearer ${n}`}}),fe=await J.json();if(!J.ok){console.error("Error fetching organizations:",fe.error),We.error(fe.error||"Failed to fetch organizations");return}r(fe.organizations||[])}catch(J){console.error("Error fetching organizations:",J),We.error("Failed to fetch organizations")}finally{a(!1)}};I.useEffect(()=>{W()},[n]);const ye=async J=>{J.preventDefault();try{const fe=(de.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(fe.length!==15){We.error("GST number must be exactly 15 characters");return}const we={...de,pan:(de.pan||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10),gstNo:fe},ce=await fetch("http://localhost:8000/make-server-60660975/organizations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(we)}),Le=await ce.json();if(!ce.ok){console.error("Error creating organization:",Le.error),We.error(Le.error||"Failed to create organization");return}We.success("Organization created successfully!"),c(!1),he({companyName:"",pan:"",phoneNo:"",email:"",gstNo:"",address:""}),Le?.credentials?.email&&Le?.credentials?.password&&Le?.organization&&(_(Le.organization),j(Le.credentials.email),L(Le.organization.auth_user_id||null),X(Le.credentials.password),y(!0)),W()}catch(fe){console.error("Error creating organization:",fe),We.error("Failed to create organization")}},Se=async J=>{try{_(J),X(null),L(null),j(""),y(!0);const fe=await fetch(`http://localhost:8000/make-server-60660975/organizations/${J.id}/auth`,{headers:{Authorization:`Bearer ${n}`}}),we=await fe.json();if(!fe.ok){We.error(we?.error||"Failed to load org login");return}L(we.authUserId||null),j(we.authEmail||"")}catch(fe){console.error(fe),We.error("Failed to load org login")}},Y=async()=>{if(N){if(!k||!k.includes("@")){We.error("Enter a valid email");return}try{ee(!0);const J=await fetch(`http://localhost:8000/make-server-60660975/organizations/${N.id}/auth`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({email:k})}),fe=await J.json();if(!J.ok){We.error(fe?.error||"Failed to update email");return}L(fe.authUserId||T),X(fe.password||null),We.success("Org login updated")}catch(J){console.error(J),We.error("Failed to update email")}finally{ee(!1)}}},R=async()=>{if(N)try{ee(!0);const J=await fetch(`http://localhost:8000/make-server-60660975/organizations/${N.id}/auth/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${n}`}}),fe=await J.json();if(!J.ok){We.error(fe?.error||"Failed to reset password");return}X(fe.password),We.success("Password reset")}catch(J){console.error(J),We.error("Failed to reset password")}finally{ee(!1)}},z=async J=>{if(J.preventDefault(),!!p)try{const fe=(de.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(fe.length!==15){We.error("GST number must be exactly 15 characters");return}const we={...de,pan:(de.pan||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10),gstNo:fe},ce=await fetch(`http://localhost:8000/make-server-60660975/organizations/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(we)}),Le=await ce.json();if(!ce.ok){console.error("Error updating organization:",Le.error),We.error(Le.error||"Failed to update organization");return}We.success("Organization updated successfully!"),f(!1),v(null),W()}catch(fe){console.error("Error updating organization:",fe),We.error("Failed to update organization")}},K=async J=>{try{const fe=await fetch(`http://localhost:8000/make-server-60660975/organizations/${J.id}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({archived:!J.archived})}),we=await fe.json();if(!fe.ok){console.error("Error archiving organization:",we.error),We.error(we.error||"Failed to archive organization");return}We.success(J.archived?"Organization unarchived!":"Organization archived!"),W()}catch(fe){console.error("Error archiving organization:",fe),We.error("Failed to archive organization")}},te=(J,fe)=>{if(J==="pan"){const we=fe.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,10);he({...de,pan:we});return}if(J==="gstNo"){const we=fe.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,15);he({...de,gstNo:we});return}he({...de,[J]:fe})},me=J=>{v(J),he({companyName:J.name,pan:J.pan||"",phoneNo:J.phone_no||"",email:J.email||"",gstNo:J.gst_no||"",address:J.address||""}),f(!0)};let re=t.filter(J=>$?J.archived:!J.archived);if(ae&&ae.trim()!==""){const J=ae.trim().toLowerCase();re=re.filter(fe=>(fe.name||"").toLowerCase().includes(J)||(fe.organization_code||"").toLowerCase().includes(J)||(fe.email||"").toLowerCase().includes(J))}return re=re.sort((J,fe)=>{let we="",ce="";switch(D){case"code":we=(J.organization_code||"").toLowerCase(),ce=(fe.organization_code||"").toLowerCase();break;case"created":we=new Date(J.created_at).getTime(),ce=new Date(fe.created_at).getTime();break;case"name":default:we=(J.name||"").toLowerCase(),ce=(fe.name||"").toLowerCase();break}return we<ce?V==="asc"?-1:1:we>ce?V==="asc"?1:-1:0}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Organizations"}),u.jsx("p",{className:"text-gray-600",children:"Manage water dispenser organizations"})]}),u.jsxs(ti,{open:l,onOpenChange:c,children:[u.jsx(Bc,{asChild:!0,children:u.jsxs(nt,{children:[u.jsx(cd,{className:"w-4 h-4 mr-2"}),"Add Organization"]})}),u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Add New Organization"}),u.jsx(wi,{children:"Create a new organization with company details"})]}),u.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"companyName",children:"Company Name *"}),u.jsx(Zt,{id:"companyName",value:de.companyName,onChange:J=>te("companyName",J.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"pan",children:"PAN *"}),u.jsx(Zt,{id:"pan",value:de.pan,onChange:J=>te("pan",J.target.value.toUpperCase()),maxLength:10,placeholder:"ABCDE1234F",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"phoneNo",children:"Phone Number *"}),u.jsx(Zt,{id:"phoneNo",type:"tel",value:de.phoneNo,onChange:J=>te("phoneNo",J.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"email",children:"Email *"}),u.jsx(Zt,{id:"email",type:"email",value:de.email,onChange:J=>te("email",J.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"gstNo",children:"GST Number *"}),u.jsx(Zt,{id:"gstNo",value:de.gstNo,onChange:J=>te("gstNo",J.target.value.toUpperCase()),maxLength:15,placeholder:"22ABCDE1234F1Z5",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"address",children:"Address"}),u.jsx(Zt,{id:"address",value:de.address,onChange:J=>te("address",J.target.value)})]}),u.jsx(nt,{type:"submit",className:"w-full",children:"Create Organization"})]})]})]})]}),u.jsx(ti,{open:d,onOpenChange:f,children:u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Edit Organization"}),u.jsx(wi,{children:"Update organization information"})]}),u.jsxs("form",{onSubmit:z,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-companyName",children:"Company Name *"}),u.jsx(Zt,{id:"edit-companyName",value:de.companyName,onChange:J=>te("companyName",J.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-pan",children:"PAN *"}),u.jsx(Zt,{id:"edit-pan",value:de.pan,onChange:J=>te("pan",J.target.value.toUpperCase()),maxLength:10,required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-phoneNo",children:"Phone Number *"}),u.jsx(Zt,{id:"edit-phoneNo",type:"tel",value:de.phoneNo,onChange:J=>te("phoneNo",J.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-email",children:"Email *"}),u.jsx(Zt,{id:"edit-email",type:"email",value:de.email,onChange:J=>te("email",J.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-gstNo",children:"GST Number *"}),u.jsx(Zt,{id:"edit-gstNo",value:de.gstNo,onChange:J=>te("gstNo",J.target.value.toUpperCase()),maxLength:15,required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-address",children:"Address"}),u.jsx(Zt,{id:"edit-address",value:de.address,onChange:J=>te("address",J.target.value)})]}),u.jsx(nt,{type:"submit",className:"w-full",children:"Update Organization"})]})]})}),u.jsx(ti,{open:x,onOpenChange:J=>{y(J),J||(_(null),j(""),L(null),X(null))},children:u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Organization Login"}),u.jsx(wi,{children:N?`${N.name} (${N.organization_code})`:"Manage org portal login"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"org-auth-email",children:"Login Email"}),u.jsx(Zt,{id:"org-auth-email",type:"email",value:k,onChange:J=>j(J.target.value),placeholder:"npa001@npa.com"}),T?u.jsx("p",{className:"text-xs text-slate-500",children:"Auth user linked."}):u.jsx("p",{className:"text-xs text-slate-500",children:"No auth user linked yet (saving will create one)."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(nt,{variant:"outline",onClick:Y,disabled:ne||!N,children:"Save Email"}),u.jsx(nt,{variant:"outline",onClick:R,disabled:ne||!N||!T,children:"Reset Password"})]}),O?u.jsxs("div",{className:"rounded-md border p-3 bg-slate-50",children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Generated password (copy now)"}),u.jsx("div",{className:"mt-1 font-mono text-sm break-all",children:O})]}):null]})]})}),u.jsxs(si,{className:"shadow-sm border-2 border-gray-400",children:[u.jsx(Ii,{className:"bg-white border-b-2 border-gray-400 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ss,{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:u.jsx(Ql,{className:"w-5 h-5 text-slate-700"})}),u.jsxs("span",{className:"text-slate-900",children:["Organizations (",re.length,")"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Zt,{id:"search-org",placeholder:"Search organizations",value:ae,onChange:J=>P(J.target.value),className:"w-72"}),u.jsxs("select",{title:"Sort organizations by",value:D,onChange:J=>q(J.target.value),className:"border rounded px-2 py-1 text-sm",children:[u.jsx("option",{value:"name",children:"Name"}),u.jsx("option",{value:"code",children:"Code"}),u.jsx("option",{value:"created",children:"Created"})]}),u.jsxs("select",{title:"Sort direction",value:V,onChange:J=>ue(J.target.value),className:"border rounded px-2 py-1 text-sm",children:[u.jsx("option",{value:"asc",children:"Asc"}),u.jsx("option",{value:"desc",children:"Desc"})]}),u.jsx(vt,{htmlFor:"show-archived",className:"text-sm text-slate-600 cursor-pointer select-none",children:"Show Archived"}),u.jsx(ym,{id:"show-archived",checked:$,onCheckedChange:F})]})]})}),u.jsx(ai,{className:"p-0",children:i?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-12 h-12 border-3 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Loading organizations..."})]}):re.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx(Ql,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-500",children:$?"No archived organizations found.":"No organizations found. Add your first organization!"})]}):u.jsx("div",{className:"divide-y divide-gray-200",children:re.map(J=>u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors group",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:u.jsx(Ql,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-slate-900 font-bold",children:J.name}),u.jsxs("p",{className:"text-xs text-slate-500 font-bold mt-0.5",children:[J.organization_code||"N/A","  ",J.archived?"Archived":"Active"]}),u.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[J.email,"  ",J.phone_no]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[e&&u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>e(J.id),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View details",children:u.jsx($N,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>Se(J),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"Organization login",children:u.jsx(qw,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>me(J),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"Edit organization",children:u.jsx(Rf,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>K(J),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:J.archived?"Unarchive":"Archive",children:J.archived?u.jsx(th,{className:"w-4 h-4"}):u.jsx(id,{className:"w-4 h-4"})})]})]},J.id))})})]})]})};function zc({className:n,...e}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:Un("w-full caption-bottom text-sm",n),...e})})}function Uc({className:n,...e}){return u.jsx("thead",{"data-slot":"table-header",className:Un("[&_tr]:border-b-2",n),...e})}function $c({className:n,...e}){return u.jsx("tbody",{"data-slot":"table-body",className:Un("[&_tr:last-child]:border-0",n),...e})}function Ps({className:n,...e}){return u.jsx("tr",{"data-slot":"table-row",className:Un("hover:bg-muted/50 data-[state=selected]:bg-muted border-b-2 transition-colors",n),...e})}function tn({className:n,...e}){return u.jsx("th",{"data-slot":"table-head",className:Un("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function nn({className:n,...e}){return u.jsx("td",{"data-slot":"table-cell",className:Un("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function Wv(n,[e,t]){return Math.min(t,Math.max(e,n))}function G6(n){const e=n+"CollectionProvider",[t,r]=ud(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:k,children:j}=_,T=Xe.useRef(null),L=Xe.useRef(new Map).current;return u.jsx(i,{scope:k,itemMap:L,collectionRef:T,children:j})};l.displayName=e;const c=n+"CollectionSlot",d=nd(c),f=Xe.forwardRef((_,k)=>{const{scope:j,children:T}=_,L=a(c,j),O=sr(k,L.collectionRef);return u.jsx(d,{ref:O,children:T})});f.displayName=c;const p=n+"CollectionItemSlot",v="data-radix-collection-item",x=nd(p),y=Xe.forwardRef((_,k)=>{const{scope:j,children:T,...L}=_,O=Xe.useRef(null),X=sr(k,O),ne=a(p,j);return Xe.useEffect(()=>(ne.itemMap.set(O,{ref:O,...L}),()=>void ne.itemMap.delete(O))),u.jsx(x,{[v]:"",ref:X,children:T})});y.displayName=p;function N(_){const k=a(n+"CollectionConsumer",_);return Xe.useCallback(()=>{const T=k.collectionRef.current;if(!T)return[];const L=Array.from(T.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((ne,ee)=>L.indexOf(ne.ref.current)-L.indexOf(ee.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:f,ItemSlot:y},N,r]}var K6=I.createContext(void 0);function Y6(n){const e=I.useContext(K6);return n||e||"ltr"}const J6=["top","right","bottom","left"],Zl=Math.min,Ys=Math.max,If=Math.round,lf=Math.floor,jo=n=>({x:n,y:n}),Q6={left:"right",right:"left",bottom:"top",top:"bottom"},X6={start:"end",end:"start"};function L0(n,e,t){return Ys(n,Zl(e,t))}function gl(n,e){return typeof n=="function"?n(e):n}function ml(n){return n.split("-")[0]}function dd(n){return n.split("-")[1]}function wm(n){return n==="x"?"y":"x"}function xm(n){return n==="y"?"height":"width"}const Z6=new Set(["top","bottom"]);function No(n){return Z6.has(ml(n))?"y":"x"}function bm(n){return wm(No(n))}function ej(n,e,t){t===void 0&&(t=!1);const r=dd(n),i=bm(n),a=xm(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Df(l)),[l,Df(l)]}function tj(n){const e=Df(n);return[T0(n),e,T0(e)]}function T0(n){return n.replace(/start|end/g,e=>X6[e])}const Vv=["left","right"],Gv=["right","left"],nj=["top","bottom"],rj=["bottom","top"];function ij(n,e,t){switch(n){case"top":case"bottom":return t?e?Gv:Vv:e?Vv:Gv;case"left":case"right":return e?nj:rj;default:return[]}}function sj(n,e,t,r){const i=dd(n);let a=ij(ml(n),t==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(T0)))),a}function Df(n){return n.replace(/left|right|bottom|top/g,e=>Q6[e])}function aj(n){return{top:0,right:0,bottom:0,left:0,...n}}function j5(n){return typeof n!="number"?aj(n):{top:n,right:n,bottom:n,left:n}}function Ff(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Kv(n,e,t){let{reference:r,floating:i}=n;const a=No(e),l=bm(e),c=xm(l),d=ml(e),f=a==="y",p=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,x=r[c]/2-i[c]/2;let y;switch(d){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:v};break;case"left":y={x:r.x-i.width,y:v};break;default:y={x:r.x,y:r.y}}switch(dd(e)){case"start":y[l]-=x*(t&&f?-1:1);break;case"end":y[l]+=x*(t&&f?-1:1);break}return y}const oj=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:v}=Kv(f,r,d),x=r,y={},N=0;for(let _=0;_<c.length;_++){const{name:k,fn:j}=c[_],{x:T,y:L,data:O,reset:X}=await j({x:p,y:v,initialPlacement:r,placement:x,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:n,floating:e}});p=T??p,v=L??v,y={...y,[k]:{...y[k],...O}},X&&N<=50&&(N++,typeof X=="object"&&(X.placement&&(x=X.placement),X.rects&&(f=X.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):X.rects),{x:p,y:v}=Kv(f,x,d)),_=-1)}return{x:p,y:v,placement:x,strategy:i,middlewareData:y}};async function rh(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:x=!1,padding:y=0}=gl(e,n),N=j5(y),k=c[x?v==="floating"?"reference":"floating":v],j=Ff(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(k)))==null||t?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),T=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),O=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},X=Ff(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:L,strategy:d}):T);return{top:(j.top-X.top+N.top)/O.y,bottom:(X.bottom-j.bottom+N.bottom)/O.y,left:(j.left-X.left+N.left)/O.x,right:(X.right-j.right+N.right)/O.x}}const lj=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=gl(n,e)||{};if(f==null)return{};const v=j5(p),x={x:t,y:r},y=bm(i),N=xm(y),_=await l.getDimensions(f),k=y==="y",j=k?"top":"left",T=k?"bottom":"right",L=k?"clientHeight":"clientWidth",O=a.reference[N]+a.reference[y]-x[y]-a.floating[N],X=x[y]-a.reference[y],ne=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let ee=ne?ne[L]:0;(!ee||!await(l.isElement==null?void 0:l.isElement(ne)))&&(ee=c.floating[L]||a.floating[N]);const $=O/2-X/2,F=ee/2-_[N]/2-1,ae=Zl(v[j],F),P=Zl(v[T],F),D=ae,q=ee-_[N]-P,V=ee/2-_[N]/2+$,ue=L0(D,V,q),de=!d.arrow&&dd(i)!=null&&V!==ue&&a.reference[N]/2-(V<D?ae:P)-_[N]/2<0,he=de?V<D?V-D:V-q:0;return{[y]:x[y]+he,data:{[y]:ue,centerOffset:V-ue-he,...de&&{alignmentOffset:he}},reset:de}}}),cj=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:_=!0,...k}=gl(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const j=ml(i),T=No(c),L=ml(c)===c,O=await(d.isRTL==null?void 0:d.isRTL(f.floating)),X=x||(L||!_?[Df(c)]:tj(c)),ne=N!=="none";!x&&ne&&X.push(...sj(c,_,N,O));const ee=[c,...X],$=await rh(e,k),F=[];let ae=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&F.push($[j]),v){const V=ej(i,l,O);F.push($[V[0]],$[V[1]])}if(ae=[...ae,{placement:i,overflows:F}],!F.every(V=>V<=0)){var P,D;const V=(((P=a.flip)==null?void 0:P.index)||0)+1,ue=ee[V];if(ue&&(!(v==="alignment"?T!==No(ue):!1)||ae.every(W=>No(W.placement)===T?W.overflows[0]>0:!0)))return{data:{index:V,overflows:ae},reset:{placement:ue}};let de=(D=ae.filter(he=>he.overflows[0]<=0).sort((he,W)=>he.overflows[1]-W.overflows[1])[0])==null?void 0:D.placement;if(!de)switch(y){case"bestFit":{var q;const he=(q=ae.filter(W=>{if(ne){const ye=No(W.placement);return ye===T||ye==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ye=>ye>0).reduce((ye,Se)=>ye+Se,0)]).sort((W,ye)=>W[1]-ye[1])[0])==null?void 0:q[0];he&&(de=he);break}case"initialPlacement":de=c;break}if(i!==de)return{reset:{placement:de}}}return{}}}};function Yv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Jv(n){return J6.some(e=>n[e]>=0)}const uj=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=gl(n,e);switch(r){case"referenceHidden":{const a=await rh(e,{...i,elementContext:"reference"}),l=Yv(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Jv(l)}}}case"escaped":{const a=await rh(e,{...i,altBoundary:!0}),l=Yv(a,t.floating);return{data:{escapedOffsets:l,escaped:Jv(l)}}}default:return{}}}}},C5=new Set(["left","top"]);async function dj(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ml(t),c=dd(t),d=No(t)==="y",f=C5.has(l)?-1:1,p=a&&d?-1:1,v=gl(e,n);let{mainAxis:x,crossAxis:y,alignmentAxis:N}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof N=="number"&&(y=c==="end"?N*-1:N),d?{x:y*p,y:x*f}:{x:x*f,y:y*p}}const hj=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:l,middlewareData:c}=e,d=await dj(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}},fj=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:k=>{let{x:j,y:T}=k;return{x:j,y:T}}},...d}=gl(n,e),f={x:t,y:r},p=await rh(e,d),v=No(ml(i)),x=wm(v);let y=f[x],N=f[v];if(a){const k=x==="y"?"top":"left",j=x==="y"?"bottom":"right",T=y+p[k],L=y-p[j];y=L0(T,y,L)}if(l){const k=v==="y"?"top":"left",j=v==="y"?"bottom":"right",T=N+p[k],L=N-p[j];N=L0(T,N,L)}const _=c.fn({...e,[x]:y,[v]:N});return{..._,data:{x:_.x-t,y:_.y-r,enabled:{[x]:a,[v]:l}}}}}},pj=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=gl(n,e),p={x:t,y:r},v=No(i),x=wm(v);let y=p[x],N=p[v];const _=gl(c,e),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const L=x==="y"?"height":"width",O=a.reference[x]-a.floating[L]+k.mainAxis,X=a.reference[x]+a.reference[L]-k.mainAxis;y<O?y=O:y>X&&(y=X)}if(f){var j,T;const L=x==="y"?"width":"height",O=C5.has(ml(i)),X=a.reference[v]-a.floating[L]+(O&&((j=l.offset)==null?void 0:j[v])||0)+(O?0:k.crossAxis),ne=a.reference[v]+a.reference[L]+(O?0:((T=l.offset)==null?void 0:T[v])||0)-(O?k.crossAxis:0);N<X?N=X:N>ne&&(N=ne)}return{[x]:y,[v]:N}}}},gj=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:l,elements:c}=e,{apply:d=()=>{},...f}=gl(n,e),p=await rh(e,f),v=ml(i),x=dd(i),y=No(i)==="y",{width:N,height:_}=a.floating;let k,j;v==="top"||v==="bottom"?(k=v,j=x===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(j=v,k=x==="end"?"top":"bottom");const T=_-p.top-p.bottom,L=N-p.left-p.right,O=Zl(_-p[k],T),X=Zl(N-p[j],L),ne=!e.middlewareData.shift;let ee=O,$=X;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&($=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(ee=T),ne&&!x){const ae=Ys(p.left,0),P=Ys(p.right,0),D=Ys(p.top,0),q=Ys(p.bottom,0);y?$=N-2*(ae!==0||P!==0?ae+P:Ys(p.left,p.right)):ee=_-2*(D!==0||q!==0?D+q:Ys(p.top,p.bottom))}await d({...e,availableWidth:$,availableHeight:ee});const F=await l.getDimensions(c.floating);return N!==F.width||_!==F.height?{reset:{rects:!0}}:{}}}};function Qf(){return typeof window<"u"}function hd(n){return A5(n)?(n.nodeName||"").toLowerCase():"#document"}function Qs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ao(n){var e;return(e=(A5(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function A5(n){return Qf()?n instanceof Node||n instanceof Qs(n).Node:!1}function Ha(n){return Qf()?n instanceof Element||n instanceof Qs(n).Element:!1}function Co(n){return Qf()?n instanceof HTMLElement||n instanceof Qs(n).HTMLElement:!1}function Qv(n){return!Qf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qs(n).ShadowRoot}const mj=new Set(["inline","contents"]);function dh(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Wa(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!mj.has(i)}const vj=new Set(["table","td","th"]);function yj(n){return vj.has(hd(n))}const wj=[":popover-open",":modal"];function Xf(n){return wj.some(e=>{try{return n.matches(e)}catch{return!1}})}const xj=["transform","translate","scale","rotate","perspective"],bj=["transform","translate","scale","rotate","perspective","filter"],Sj=["paint","layout","strict","content"];function Sm(n){const e=_m(),t=Ha(n)?Wa(n):n;return xj.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||bj.some(r=>(t.willChange||"").includes(r))||Sj.some(r=>(t.contain||"").includes(r))}function _j(n){let e=ec(n);for(;Co(e)&&!sd(e);){if(Sm(e))return e;if(Xf(e))return null;e=ec(e)}return null}function _m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nj=new Set(["html","body","#document"]);function sd(n){return Nj.has(hd(n))}function Wa(n){return Qs(n).getComputedStyle(n)}function Zf(n){return Ha(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ec(n){if(hd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Qv(n)&&n.host||Ao(n);return Qv(e)?e.host:e}function E5(n){const e=ec(n);return sd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Co(e)&&dh(e)?e:E5(e)}function ih(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=E5(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=Qs(i);if(a){const c=R0(l);return e.concat(l,l.visualViewport||[],dh(i)?i:[],c&&t?ih(c):[])}return e.concat(i,ih(i,[],t))}function R0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function P5(n){const e=Wa(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Co(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=If(t)!==a||If(r)!==l;return c&&(t=a,r=l),{width:t,height:r,$:c}}function Nm(n){return Ha(n)?n:n.contextElement}function Yu(n){const e=Nm(n);if(!Co(e))return jo(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=P5(e);let l=(a?If(t.width):t.width)/r,c=(a?If(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const kj=jo(0);function L5(n){const e=Qs(n);return!_m()||!e.visualViewport?kj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jj(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qs(n)?!1:e}function qc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Nm(n);let l=jo(1);e&&(r?Ha(r)&&(l=Yu(r)):l=Yu(n));const c=jj(a,t,r)?L5(a):jo(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,v=i.height/l.y;if(a){const x=Qs(a),y=r&&Ha(r)?Qs(r):r;let N=x,_=R0(N);for(;_&&r&&y!==N;){const k=Yu(_),j=_.getBoundingClientRect(),T=Wa(_),L=j.left+(_.clientLeft+parseFloat(T.paddingLeft))*k.x,O=j.top+(_.clientTop+parseFloat(T.paddingTop))*k.y;d*=k.x,f*=k.y,p*=k.x,v*=k.y,d+=L,f+=O,N=Qs(_),_=R0(N)}}return Ff({width:p,height:v,x:d,y:f})}function ep(n,e){const t=Zf(n).scrollLeft;return e?e.left+t:qc(Ao(n)).left+t}function T5(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-ep(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function Cj(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=Ao(r),c=e?Xf(e.floating):!1;if(r===l||c&&a)return t;let d={scrollLeft:0,scrollTop:0},f=jo(1);const p=jo(0),v=Co(r);if((v||!v&&!a)&&((hd(r)!=="body"||dh(l))&&(d=Zf(r)),Co(r))){const y=qc(r);f=Yu(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const x=l&&!v&&!a?T5(l,d):jo(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+x.x,y:t.y*f.y-d.scrollTop*f.y+p.y+x.y}}function Aj(n){return Array.from(n.getClientRects())}function Ej(n){const e=Ao(n),t=Zf(n),r=n.ownerDocument.body,i=Ys(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ys(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+ep(n);const c=-t.scrollTop;return Wa(r).direction==="rtl"&&(l+=Ys(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}const Xv=25;function Pj(n,e){const t=Qs(n),r=Ao(n),i=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){a=i.width,l=i.height;const p=_m();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=ep(r);if(f<=0){const p=r.ownerDocument,v=p.body,x=getComputedStyle(v),y=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,N=Math.abs(r.clientWidth-v.clientWidth-y);N<=Xv&&(a-=N)}else f<=Xv&&(a+=f);return{width:a,height:l,x:c,y:d}}const Lj=new Set(["absolute","fixed"]);function Tj(n,e){const t=qc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=Co(n)?Yu(n):jo(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,d=i*a.x,f=r*a.y;return{width:l,height:c,x:d,y:f}}function Zv(n,e,t){let r;if(e==="viewport")r=Pj(n,t);else if(e==="document")r=Ej(Ao(n));else if(Ha(e))r=Tj(e,t);else{const i=L5(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ff(r)}function R5(n,e){const t=ec(n);return t===e||!Ha(t)||sd(t)?!1:Wa(t).position==="fixed"||R5(t,e)}function Rj(n,e){const t=e.get(n);if(t)return t;let r=ih(n,[],!1).filter(c=>Ha(c)&&hd(c)!=="body"),i=null;const a=Wa(n).position==="fixed";let l=a?ec(n):n;for(;Ha(l)&&!sd(l);){const c=Wa(l),d=Sm(l);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&Lj.has(i.position)||dh(l)&&!d&&R5(n,l))?r=r.filter(p=>p!==l):i=c,l=ec(l)}return e.set(n,r),r}function Oj(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Xf(e)?[]:Rj(e,this._c):[].concat(t),r],c=l[0],d=l.reduce((f,p)=>{const v=Zv(e,p,i);return f.top=Ys(v.top,f.top),f.right=Zl(v.right,f.right),f.bottom=Zl(v.bottom,f.bottom),f.left=Ys(v.left,f.left),f},Zv(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Ij(n){const{width:e,height:t}=P5(n);return{width:e,height:t}}function Dj(n,e,t){const r=Co(e),i=Ao(e),a=t==="fixed",l=qc(n,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=jo(0);function f(){d.x=ep(i)}if(r||!r&&!a)if((hd(e)!=="body"||dh(i))&&(c=Zf(e)),r){const y=qc(e,!0,a,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?T5(i,c):jo(0),v=l.left+c.scrollLeft-d.x-p.x,x=l.top+c.scrollTop-d.y-p.y;return{x:v,y:x,width:l.width,height:l.height}}function mg(n){return Wa(n).position==="static"}function e2(n,e){if(!Co(n)||Wa(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ao(n)===t&&(t=t.ownerDocument.body),t}function O5(n,e){const t=Qs(n);if(Xf(n))return t;if(!Co(n)){let i=ec(n);for(;i&&!sd(i);){if(Ha(i)&&!mg(i))return i;i=ec(i)}return t}let r=e2(n,e);for(;r&&yj(r)&&mg(r);)r=e2(r,e);return r&&sd(r)&&mg(r)&&!Sm(r)?t:r||_j(n)||t}const Fj=async function(n){const e=this.getOffsetParent||O5,t=this.getDimensions,r=await t(n.floating);return{reference:Dj(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mj(n){return Wa(n).direction==="rtl"}const Bj={convertOffsetParentRelativeRectToViewportRelativeRect:Cj,getDocumentElement:Ao,getClippingRect:Oj,getOffsetParent:O5,getElementRects:Fj,getClientRects:Aj,getDimensions:Ij,getScale:Yu,isElement:Ha,isRTL:Mj};function I5(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function zj(n,e){let t=null,r;const i=Ao(n);function a(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const f=n.getBoundingClientRect(),{left:p,top:v,width:x,height:y}=f;if(c||e(),!x||!y)return;const N=lf(v),_=lf(i.clientWidth-(p+x)),k=lf(i.clientHeight-(v+y)),j=lf(p),L={rootMargin:-N+"px "+-_+"px "+-k+"px "+-j+"px",threshold:Ys(0,Zl(1,d))||1};let O=!0;function X(ne){const ee=ne[0].intersectionRatio;if(ee!==d){if(!O)return l();ee?l(!1,ee):r=setTimeout(()=>{l(!1,1e-7)},1e3)}ee===1&&!I5(f,n.getBoundingClientRect())&&l(),O=!1}try{t=new IntersectionObserver(X,{...L,root:i.ownerDocument})}catch{t=new IntersectionObserver(X,L)}t.observe(n)}return l(!0),a}function Uj(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Nm(n),p=i||a?[...f?ih(f):[],...ih(e)]:[];p.forEach(j=>{i&&j.addEventListener("scroll",t,{passive:!0}),a&&j.addEventListener("resize",t)});const v=f&&c?zj(f,t):null;let x=-1,y=null;l&&(y=new ResizeObserver(j=>{let[T]=j;T&&T.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var L;(L=y)==null||L.observe(e)})),t()}),f&&!d&&y.observe(f),y.observe(e));let N,_=d?qc(n):null;d&&k();function k(){const j=qc(n);_&&!I5(_,j)&&t(),_=j,N=requestAnimationFrame(k)}return t(),()=>{var j;p.forEach(T=>{i&&T.removeEventListener("scroll",t),a&&T.removeEventListener("resize",t)}),v?.(),(j=y)==null||j.disconnect(),y=null,d&&cancelAnimationFrame(N)}}const $j=hj,qj=fj,Hj=cj,Wj=gj,Vj=uj,t2=lj,Gj=pj,Kj=(n,e,t)=>{const r=new Map,i={platform:Bj,...t},a={...i.platform,_c:r};return oj(n,e,{...i,platform:a})};var Yj=typeof document<"u",Jj=function(){},bf=Yj?I.useLayoutEffect:Jj;function Mf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Mf(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Mf(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function D5(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function n2(n,e){const t=D5(n);return Math.round(e*t)/t}function vg(n){const e=I.useRef(n);return bf(()=>{e.current=n}),e}function Qj(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=n,[p,v]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,y]=I.useState(r);Mf(x,r)||y(r);const[N,_]=I.useState(null),[k,j]=I.useState(null),T=I.useCallback(W=>{W!==ne.current&&(ne.current=W,_(W))},[]),L=I.useCallback(W=>{W!==ee.current&&(ee.current=W,j(W))},[]),O=a||N,X=l||k,ne=I.useRef(null),ee=I.useRef(null),$=I.useRef(p),F=d!=null,ae=vg(d),P=vg(i),D=vg(f),q=I.useCallback(()=>{if(!ne.current||!ee.current)return;const W={placement:e,strategy:t,middleware:x};P.current&&(W.platform=P.current),Kj(ne.current,ee.current,W).then(ye=>{const Se={...ye,isPositioned:D.current!==!1};V.current&&!Mf($.current,Se)&&($.current=Se,lh.flushSync(()=>{v(Se)}))})},[x,e,t,P,D]);bf(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,v(W=>({...W,isPositioned:!1})))},[f]);const V=I.useRef(!1);bf(()=>(V.current=!0,()=>{V.current=!1}),[]),bf(()=>{if(O&&(ne.current=O),X&&(ee.current=X),O&&X){if(ae.current)return ae.current(O,X,q);q()}},[O,X,q,ae,F]);const ue=I.useMemo(()=>({reference:ne,floating:ee,setReference:T,setFloating:L}),[T,L]),de=I.useMemo(()=>({reference:O,floating:X}),[O,X]),he=I.useMemo(()=>{const W={position:t,left:0,top:0};if(!de.floating)return W;const ye=n2(de.floating,p.x),Se=n2(de.floating,p.y);return c?{...W,transform:"translate("+ye+"px, "+Se+"px)",...D5(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ye,top:Se}},[t,c,de.floating,p.x,p.y]);return I.useMemo(()=>({...p,update:q,refs:ue,elements:de,floatingStyles:he}),[p,q,ue,de,he])}const Xj=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?t2({element:r.current,padding:i}).fn(t):{}:r?t2({element:r,padding:i}).fn(t):{}}}},Zj=(n,e)=>({...$j(n),options:[n,e]}),eC=(n,e)=>({...qj(n),options:[n,e]}),tC=(n,e)=>({...Gj(n),options:[n,e]}),nC=(n,e)=>({...Hj(n),options:[n,e]}),rC=(n,e)=>({...Wj(n),options:[n,e]}),iC=(n,e)=>({...Vj(n),options:[n,e]}),sC=(n,e)=>({...Xj(n),options:[n,e]});var aC="Arrow",F5=I.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return u.jsx(Cn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});F5.displayName=aC;var oC=F5,km="Popper",[M5,B5]=ud(km),[lC,z5]=M5(km),U5=n=>{const{__scopePopper:e,children:t}=n,[r,i]=I.useState(null);return u.jsx(lC,{scope:e,anchor:r,onAnchorChange:i,children:t})};U5.displayName=km;var $5="PopperAnchor",q5=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=z5($5,t),l=I.useRef(null),c=sr(e,l),d=I.useRef(null);return I.useEffect(()=>{const f=d.current;d.current=r?.current||l.current,f!==d.current&&a.onAnchorChange(d.current)}),r?null:u.jsx(Cn.div,{...i,ref:c})});q5.displayName=$5;var jm="PopperContent",[cC,uC]=M5(jm),H5=I.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:N,..._}=n,k=z5(jm,t),[j,T]=I.useState(null),L=sr(e,re=>T(re)),[O,X]=I.useState(null),ne=vm(O),ee=ne?.width??0,$=ne?.height??0,F=r+(a!=="center"?"-"+a:""),ae=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},P=Array.isArray(f)?f:[f],D=P.length>0,q={padding:ae,boundary:P.filter(hC),altBoundary:D},{refs:V,floatingStyles:ue,placement:de,isPositioned:he,middlewareData:W}=Qj({strategy:"fixed",placement:F,whileElementsMounted:(...re)=>Uj(...re,{animationFrame:y==="always"}),elements:{reference:k.anchor},middleware:[Zj({mainAxis:i+$,alignmentAxis:l}),d&&eC({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?tC():void 0,...q}),d&&nC({...q}),rC({...q,apply:({elements:re,rects:J,availableWidth:fe,availableHeight:we})=>{const{width:ce,height:Le}=J.reference,qe=re.floating.style;qe.setProperty("--radix-popper-available-width",`${fe}px`),qe.setProperty("--radix-popper-available-height",`${we}px`),qe.setProperty("--radix-popper-anchor-width",`${ce}px`),qe.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),O&&sC({element:O,padding:c}),fC({arrowWidth:ee,arrowHeight:$}),x&&iC({strategy:"referenceHidden",...q})]}),[ye,Se]=G5(de),Y=Fc(N);as(()=>{he&&Y?.()},[he,Y]);const R=W.arrow?.x,z=W.arrow?.y,K=W.arrow?.centerOffset!==0,[te,me]=I.useState();return as(()=>{j&&me(window.getComputedStyle(j).zIndex)},[j]),u.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:he?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:u.jsx(cC,{scope:t,placedSide:ye,onArrowChange:X,arrowX:R,arrowY:z,shouldHideArrow:K,children:u.jsx(Cn.div,{"data-side":ye,"data-align":Se,..._,ref:L,style:{..._.style,animation:he?void 0:"none"}})})})});H5.displayName=jm;var W5="PopperArrow",dC={top:"bottom",right:"left",bottom:"top",left:"right"},V5=I.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=uC(W5,r),l=dC[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(oC,{...i,ref:t,style:{...i.style,display:"block"}})})});V5.displayName=W5;function hC(n){return n!==null}var fC=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[f,p]=G5(t),v={start:"0%",center:"50%",end:"100%"}[p],x=(i.arrow?.x??0)+c/2,y=(i.arrow?.y??0)+d/2;let N="",_="";return f==="bottom"?(N=l?v:`${x}px`,_=`${-d}px`):f==="top"?(N=l?v:`${x}px`,_=`${r.floating.height+d}px`):f==="right"?(N=`${-d}px`,_=l?v:`${y}px`):f==="left"&&(N=`${r.floating.width+d}px`,_=l?v:`${y}px`),{data:{x:N,y:_}}}});function G5(n){const[e,t="center"]=n.split("-");return[e,t]}var pC=U5,gC=q5,mC=H5,vC=V5,K5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yC="VisuallyHidden",wC=I.forwardRef((n,e)=>u.jsx(Cn.span,{...n,ref:e,style:{...K5,...n.style}}));wC.displayName=yC;var xC=[" ","Enter","ArrowUp","ArrowDown"],bC=[" ","Enter"],Hc="Select",[tp,np,SC]=G6(Hc),[fd]=ud(Hc,[SC,B5]),rp=B5(),[_C,rc]=fd(Hc),[NC,kC]=fd(Hc),Y5=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:v,disabled:x,required:y,form:N}=n,_=rp(e),[k,j]=I.useState(null),[T,L]=I.useState(null),[O,X]=I.useState(!1),ne=Y6(f),[ee,$]=nh({prop:r,defaultProp:i??!1,onChange:a,caller:Hc}),[F,ae]=nh({prop:l,defaultProp:c,onChange:d,caller:Hc}),P=I.useRef(null),D=k?N||!!k.closest("form"):!0,[q,V]=I.useState(new Set),ue=Array.from(q).map(de=>de.props.value).join(";");return u.jsx(pC,{..._,children:u.jsxs(_C,{required:y,scope:e,trigger:k,onTriggerChange:j,valueNode:T,onValueNodeChange:L,valueNodeHasChildren:O,onValueNodeHasChildrenChange:X,contentId:Gu(),value:F,onValueChange:ae,open:ee,onOpenChange:$,dir:ne,triggerPointerDownPosRef:P,disabled:x,children:[u.jsx(tp.Provider,{scope:e,children:u.jsx(NC,{scope:n.__scopeSelect,onNativeOptionAdd:I.useCallback(de=>{V(he=>new Set(he).add(de))},[]),onNativeOptionRemove:I.useCallback(de=>{V(he=>{const W=new Set(he);return W.delete(de),W})},[]),children:t})}),D?u.jsxs(vx,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:v,value:F,onChange:de=>ae(de.target.value),disabled:x,form:N,children:[F===void 0?u.jsx("option",{value:""}):null,Array.from(q)]},ue):null]})})};Y5.displayName=Hc;var J5="SelectTrigger",Q5=I.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=rp(t),l=rc(J5,t),c=l.disabled||r,d=sr(e,l.onTriggerChange),f=np(t),p=I.useRef("touch"),[v,x,y]=wx(_=>{const k=f().filter(L=>!L.disabled),j=k.find(L=>L.value===l.value),T=xx(k,_,j);T!==void 0&&l.onValueChange(T.value)}),N=_=>{c||(l.onOpenChange(!0),y()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return u.jsx(gC,{asChild:!0,...a,children:u.jsx(Cn.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":yx(l.value)?"":void 0,...i,ref:d,onClick:Vn(i.onClick,_=>{_.currentTarget.focus(),p.current!=="mouse"&&N(_)}),onPointerDown:Vn(i.onPointerDown,_=>{p.current=_.pointerType;const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(N(_),_.preventDefault())}),onKeyDown:Vn(i.onKeyDown,_=>{const k=v.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(k&&_.key===" ")&&xC.includes(_.key)&&(N(),_.preventDefault())})})})});Q5.displayName=J5;var X5="SelectValue",Z5=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:l="",...c}=n,d=rc(X5,t),{onValueNodeHasChildrenChange:f}=d,p=a!==void 0,v=sr(e,d.onValueNodeChange);return as(()=>{f(p)},[f,p]),u.jsx(Cn.span,{...c,ref:v,style:{pointerEvents:"none"},children:yx(d.value)?u.jsx(u.Fragment,{children:l}):a})});Z5.displayName=X5;var jC="SelectIcon",ex=I.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return u.jsx(Cn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});ex.displayName=jC;var CC="SelectPortal",tx=n=>u.jsx(dm,{asChild:!0,...n});tx.displayName=CC;var Wc="SelectContent",nx=I.forwardRef((n,e)=>{const t=rc(Wc,n.__scopeSelect),[r,i]=I.useState();if(as(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?lh.createPortal(u.jsx(rx,{scope:n.__scopeSelect,children:u.jsx(tp.Slot,{scope:n.__scopeSelect,children:u.jsx("div",{children:n.children})})}),a):null}return u.jsx(ix,{...n,ref:e})});nx.displayName=Wc;var Ua=10,[rx,ic]=fd(Wc),AC="SelectContentImpl",EC=nd("SelectContent.RemoveScroll"),ix=I.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:v,collisionBoundary:x,collisionPadding:y,sticky:N,hideWhenDetached:_,avoidCollisions:k,...j}=n,T=rc(Wc,t),[L,O]=I.useState(null),[X,ne]=I.useState(null),ee=sr(e,re=>O(re)),[$,F]=I.useState(null),[ae,P]=I.useState(null),D=np(t),[q,V]=I.useState(!1),ue=I.useRef(!1);I.useEffect(()=>{if(L)return r5(L)},[L]),Kw();const de=I.useCallback(re=>{const[J,...fe]=D().map(Le=>Le.ref.current),[we]=fe.slice(-1),ce=document.activeElement;for(const Le of re)if(Le===ce||(Le?.scrollIntoView({block:"nearest"}),Le===J&&X&&(X.scrollTop=0),Le===we&&X&&(X.scrollTop=X.scrollHeight),Le?.focus(),document.activeElement!==ce))return},[D,X]),he=I.useCallback(()=>de([$,L]),[de,$,L]);I.useEffect(()=>{q&&he()},[q,he]);const{onOpenChange:W,triggerPointerDownPosRef:ye}=T;I.useEffect(()=>{if(L){let re={x:0,y:0};const J=we=>{re={x:Math.abs(Math.round(we.pageX)-(ye.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(ye.current?.y??0))}},fe=we=>{re.x<=10&&re.y<=10?we.preventDefault():L.contains(we.target)||W(!1),document.removeEventListener("pointermove",J),ye.current=null};return ye.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",fe,{capture:!0})}}},[L,W,ye]),I.useEffect(()=>{const re=()=>W(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[W]);const[Se,Y]=wx(re=>{const J=D().filter(ce=>!ce.disabled),fe=J.find(ce=>ce.ref.current===document.activeElement),we=xx(J,re,fe);we&&setTimeout(()=>we.ref.current.focus())}),R=I.useCallback((re,J,fe)=>{const we=!ue.current&&!fe;(T.value!==void 0&&T.value===J||we)&&(F(re),we&&(ue.current=!0))},[T.value]),z=I.useCallback(()=>L?.focus(),[L]),K=I.useCallback((re,J,fe)=>{const we=!ue.current&&!fe;(T.value!==void 0&&T.value===J||we)&&P(re)},[T.value]),te=r==="popper"?O0:sx,me=te===O0?{side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:v,collisionBoundary:x,collisionPadding:y,sticky:N,hideWhenDetached:_,avoidCollisions:k}:{};return u.jsx(rx,{scope:t,content:L,viewport:X,onViewportChange:ne,itemRefCallback:R,selectedItem:$,onItemLeave:z,itemTextRefCallback:K,focusSelectedItem:he,selectedItemText:ae,position:r,isPositioned:q,searchRef:Se,children:u.jsx(hm,{as:EC,allowPinchZoom:!0,children:u.jsx(um,{asChild:!0,trapped:T.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Vn(i,re=>{T.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:u.jsx(cm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:u.jsx(te,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:re=>re.preventDefault(),...j,...me,onPlaced:()=>V(!0),ref:ee,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Vn(j.onKeyDown,re=>{const J=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!J&&re.key.length===1&&Y(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let we=D().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(re.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ce=re.target,Le=we.indexOf(ce);we=we.slice(Le+1)}setTimeout(()=>de(we)),re.preventDefault()}})})})})})})});ix.displayName=AC;var PC="SelectItemAlignedPosition",sx=I.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=rc(Wc,t),l=ic(Wc,t),[c,d]=I.useState(null),[f,p]=I.useState(null),v=sr(e,ee=>p(ee)),x=np(t),y=I.useRef(!1),N=I.useRef(!0),{viewport:_,selectedItem:k,selectedItemText:j,focusSelectedItem:T}=l,L=I.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&f&&_&&k&&j){const ee=a.trigger.getBoundingClientRect(),$=f.getBoundingClientRect(),F=a.valueNode.getBoundingClientRect(),ae=j.getBoundingClientRect();if(a.dir!=="rtl"){const ce=ae.left-$.left,Le=F.left-ce,qe=ee.left-Le,Te=ee.width+qe,oe=Math.max(Te,$.width),Lt=window.innerWidth-Ua,lt=Wv(Le,[Ua,Math.max(Ua,Lt-oe)]);c.style.minWidth=Te+"px",c.style.left=lt+"px"}else{const ce=$.right-ae.right,Le=window.innerWidth-F.right-ce,qe=window.innerWidth-ee.right-Le,Te=ee.width+qe,oe=Math.max(Te,$.width),Lt=window.innerWidth-Ua,lt=Wv(Le,[Ua,Math.max(Ua,Lt-oe)]);c.style.minWidth=Te+"px",c.style.right=lt+"px"}const P=x(),D=window.innerHeight-Ua*2,q=_.scrollHeight,V=window.getComputedStyle(f),ue=parseInt(V.borderTopWidth,10),de=parseInt(V.paddingTop,10),he=parseInt(V.borderBottomWidth,10),W=parseInt(V.paddingBottom,10),ye=ue+de+q+W+he,Se=Math.min(k.offsetHeight*5,ye),Y=window.getComputedStyle(_),R=parseInt(Y.paddingTop,10),z=parseInt(Y.paddingBottom,10),K=ee.top+ee.height/2-Ua,te=D-K,me=k.offsetHeight/2,re=k.offsetTop+me,J=ue+de+re,fe=ye-J;if(J<=K){const ce=P.length>0&&k===P[P.length-1].ref.current;c.style.bottom="0px";const Le=f.clientHeight-_.offsetTop-_.offsetHeight,qe=Math.max(te,me+(ce?z:0)+Le+he),Te=J+qe;c.style.height=Te+"px"}else{const ce=P.length>0&&k===P[0].ref.current;c.style.top="0px";const qe=Math.max(K,ue+_.offsetTop+(ce?R:0)+me)+fe;c.style.height=qe+"px",_.scrollTop=J-K+_.offsetTop}c.style.margin=`${Ua}px 0`,c.style.minHeight=Se+"px",c.style.maxHeight=D+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[x,a.trigger,a.valueNode,c,f,_,k,j,a.dir,r]);as(()=>L(),[L]);const[O,X]=I.useState();as(()=>{f&&X(window.getComputedStyle(f).zIndex)},[f]);const ne=I.useCallback(ee=>{ee&&N.current===!0&&(L(),T?.(),N.current=!1)},[L,T]);return u.jsx(TC,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:ne,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:u.jsx(Cn.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sx.displayName=PC;var LC="SelectPopperPosition",O0=I.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Ua,...a}=n,l=rp(t);return u.jsx(mC,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});O0.displayName=LC;var[TC,Cm]=fd(Wc,{}),I0="SelectViewport",ax=I.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=ic(I0,t),l=Cm(I0,t),c=sr(e,a.onViewportChange),d=I.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(tp.Slot,{scope:t,children:u.jsx(Cn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Vn(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:x}=l;if(x?.current&&v){const y=Math.abs(d.current-p.scrollTop);if(y>0){const N=window.innerHeight-Ua*2,_=parseFloat(v.style.minHeight),k=parseFloat(v.style.height),j=Math.max(_,k);if(j<N){const T=j+y,L=Math.min(N,T),O=T-L;v.style.height=L+"px",v.style.bottom==="0px"&&(p.scrollTop=O>0?O:0,v.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});ax.displayName=I0;var ox="SelectGroup",[RC,OC]=fd(ox),IC=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Gu();return u.jsx(RC,{scope:t,id:i,children:u.jsx(Cn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});IC.displayName=ox;var lx="SelectLabel",DC=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=OC(lx,t);return u.jsx(Cn.div,{id:i.id,...r,ref:e})});DC.displayName=lx;var Bf="SelectItem",[FC,cx]=fd(Bf),ux=I.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...l}=n,c=rc(Bf,t),d=ic(Bf,t),f=c.value===r,[p,v]=I.useState(a??""),[x,y]=I.useState(!1),N=sr(e,T=>d.itemRefCallback?.(T,r,i)),_=Gu(),k=I.useRef("touch"),j=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(FC,{scope:t,value:r,disabled:i,textId:_,isSelected:f,onItemTextChange:I.useCallback(T=>{v(L=>L||(T?.textContent??"").trim())},[]),children:u.jsx(tp.ItemSlot,{scope:t,value:r,disabled:i,textValue:p,children:u.jsx(Cn.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:N,onFocus:Vn(l.onFocus,()=>y(!0)),onBlur:Vn(l.onBlur,()=>y(!1)),onClick:Vn(l.onClick,()=>{k.current!=="mouse"&&j()}),onPointerUp:Vn(l.onPointerUp,()=>{k.current==="mouse"&&j()}),onPointerDown:Vn(l.onPointerDown,T=>{k.current=T.pointerType}),onPointerMove:Vn(l.onPointerMove,T=>{k.current=T.pointerType,i?d.onItemLeave?.():k.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vn(l.onPointerLeave,T=>{T.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Vn(l.onKeyDown,T=>{d.searchRef?.current!==""&&T.key===" "||(bC.includes(T.key)&&j(),T.key===" "&&T.preventDefault())})})})})});ux.displayName=Bf;var Wd="SelectItemText",dx=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,l=rc(Wd,t),c=ic(Wd,t),d=cx(Wd,t),f=kC(Wd,t),[p,v]=I.useState(null),x=sr(e,j=>v(j),d.onItemTextChange,j=>c.itemTextRefCallback?.(j,d.value,d.disabled)),y=p?.textContent,N=I.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:k}=f;return as(()=>(_(N),()=>k(N)),[_,k,N]),u.jsxs(u.Fragment,{children:[u.jsx(Cn.span,{id:d.textId,...a,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?lh.createPortal(a.children,l.valueNode):null]})});dx.displayName=Wd;var hx="SelectItemIndicator",fx=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return cx(hx,t).isSelected?u.jsx(Cn.span,{"aria-hidden":!0,...r,ref:e}):null});fx.displayName=hx;var D0="SelectScrollUpButton",px=I.forwardRef((n,e)=>{const t=ic(D0,n.__scopeSelect),r=Cm(D0,n.__scopeSelect),[i,a]=I.useState(!1),l=sr(e,r.onScrollButtonChange);return as(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollTop>0;a(f)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?u.jsx(mx,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});px.displayName=D0;var F0="SelectScrollDownButton",gx=I.forwardRef((n,e)=>{const t=ic(F0,n.__scopeSelect),r=Cm(F0,n.__scopeSelect),[i,a]=I.useState(!1),l=sr(e,r.onScrollButtonChange);return as(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;a(p)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?u.jsx(mx,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});gx.displayName=F0;var mx=I.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=ic("SelectScrollButton",t),l=I.useRef(null),c=np(t),d=I.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return I.useEffect(()=>()=>d(),[d]),as(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),u.jsx(Cn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Vn(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Vn(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Vn(i.onPointerLeave,()=>{d()})})}),MC="SelectSeparator",BC=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return u.jsx(Cn.div,{"aria-hidden":!0,...r,ref:e})});BC.displayName=MC;var M0="SelectArrow",zC=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=rp(t),a=rc(M0,t),l=ic(M0,t);return a.open&&l.position==="popper"?u.jsx(vC,{...i,...r,ref:e}):null});zC.displayName=M0;var UC="SelectBubbleInput",vx=I.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=I.useRef(null),a=sr(r,i),l=mm(e);return I.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&p){const v=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(v)}},[l,e]),u.jsx(Cn.select,{...t,style:{...K5,...t.style},ref:a,defaultValue:e})});vx.displayName=UC;function yx(n){return n===""||n===void 0}function wx(n){const e=Fc(n),t=I.useRef(""),r=I.useRef(0),i=I.useCallback(l=>{const c=t.current+l;e(c),(function d(f){t.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=I.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function xx(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=$C(n,Math.max(a,0));i.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==t?d:void 0}function $C(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var qC=Y5,HC=Q5,WC=Z5,VC=ex,GC=tx,KC=nx,YC=ax,JC=ux,QC=dx,XC=fx,ZC=px,eA=gx;function ts({...n}){return u.jsx(qC,{"data-slot":"select",...n})}function ns({...n}){return u.jsx(WC,{"data-slot":"select-value",...n})}function rs({className:n,size:e="default",children:t,...r}){return u.jsxs(HC,{"data-slot":"select-trigger","data-size":e,className:Un("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border-2 bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,u.jsx(VC,{asChild:!0,children:u.jsx($w,{className:"size-4 opacity-50"})})]})}function is({className:n,children:e,position:t="popper",...r}){return u.jsx(GC,{children:u.jsxs(KC,{"data-slot":"select-content",className:Un("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border-2 shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[u.jsx(tA,{}),u.jsx(YC,{className:Un("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),u.jsx(nA,{})]})})}function pr({className:n,children:e,...t}){return u.jsxs(JC,{"data-slot":"select-item",className:Un("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(XC,{children:u.jsx(Uw,{className:"size-4"})})}),u.jsx(QC,{children:e})]})}function tA({className:n,...e}){return u.jsx(ZC,{"data-slot":"select-scroll-up-button",className:Un("flex cursor-default items-center justify-center py-1",n),...e,children:u.jsx(MN,{className:"size-4"})})}function nA({className:n,...e}){return u.jsx(eA,{"data-slot":"select-scroll-down-button",className:Un("flex cursor-default items-center justify-center py-1",n),...e,children:u.jsx($w,{className:"size-4"})})}const rA=iw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function hh({className:n,variant:e,asChild:t=!1,...r}){const i=t?tw:"span";return u.jsx(i,{"data-slot":"badge",className:Un(rA({variant:e}),n),...r})}var Fu={},yg,r2;function iA(){return r2||(r2=1,yg=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),yg}var wg={},Hl={},i2;function Yc(){if(i2)return Hl;i2=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Hl.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Hl.getSymbolTotalCodewords=function(r){return e[r]},Hl.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Hl.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Hl.isKanjiModeEnabled=function(){return typeof n<"u"},Hl.toSJIS=function(r){return n(r)},Hl}var xg={},s2;function Am(){return s2||(s2=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(xg)),xg}var bg,a2;function sA(){if(a2)return bg;a2=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},bg=n,bg}var Sg,o2;function aA(){if(o2)return Sg;o2=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const a=e*this.size+t;this.data[a]=r,i&&(this.reservedBit[a]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Sg=n,Sg}var _g={},l2;function oA(){return l2||(l2=1,(function(n){const e=Yc().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=e(r),l=a===145?26:Math.ceil((a-13)/(2*i-2))*2,c=[a-7];for(let d=1;d<i-1;d++)c[d]=c[d-1]-l;return c.push(6),c.reverse()},n.getPositions=function(r){const i=[],a=n.getRowColCoords(r),l=a.length;for(let c=0;c<l;c++)for(let d=0;d<l;d++)c===0&&d===0||c===0&&d===l-1||c===l-1&&d===0||i.push([a[c],a[d]]);return i}})(_g)),_g}var Ng={},c2;function lA(){if(c2)return Ng;c2=1;const n=Yc().getSymbolSize,e=7;return Ng.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},Ng}var kg={},u2;function cA(){return u2||(u2=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const a=i.size;let l=0,c=0,d=0,f=null,p=null;for(let v=0;v<a;v++){c=d=0,f=p=null;for(let x=0;x<a;x++){let y=i.get(v,x);y===f?c++:(c>=5&&(l+=e.N1+(c-5)),f=y,c=1),y=i.get(x,v),y===p?d++:(d>=5&&(l+=e.N1+(d-5)),p=y,d=1)}c>=5&&(l+=e.N1+(c-5)),d>=5&&(l+=e.N1+(d-5))}return l},n.getPenaltyN2=function(i){const a=i.size;let l=0;for(let c=0;c<a-1;c++)for(let d=0;d<a-1;d++){const f=i.get(c,d)+i.get(c,d+1)+i.get(c+1,d)+i.get(c+1,d+1);(f===4||f===0)&&l++}return l*e.N2},n.getPenaltyN3=function(i){const a=i.size;let l=0,c=0,d=0;for(let f=0;f<a;f++){c=d=0;for(let p=0;p<a;p++)c=c<<1&2047|i.get(f,p),p>=10&&(c===1488||c===93)&&l++,d=d<<1&2047|i.get(p,f),p>=10&&(d===1488||d===93)&&l++}return l*e.N3},n.getPenaltyN4=function(i){let a=0;const l=i.data.length;for(let d=0;d<l;d++)a+=i.data[d];return Math.abs(Math.ceil(a*100/l/5)-10)*e.N4};function t(r,i,a){switch(r){case n.Patterns.PATTERN000:return(i+a)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return a%3===0;case n.Patterns.PATTERN011:return(i+a)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case n.Patterns.PATTERN101:return i*a%2+i*a%3===0;case n.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case n.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,a){const l=a.size;for(let c=0;c<l;c++)for(let d=0;d<l;d++)a.isReserved(d,c)||a.xor(d,c,t(i,d,c))},n.getBestMask=function(i,a){const l=Object.keys(n.Patterns).length;let c=0,d=1/0;for(let f=0;f<l;f++){a(f),n.applyMask(f,i);const p=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(f,i),p<d&&(d=p,c=f)}return c}})(kg)),kg}var cf={},d2;function bx(){if(d2)return cf;d2=1;const n=Am(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return cf.getBlocksCount=function(i,a){switch(a){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},cf.getTotalCodewordsCount=function(i,a){switch(a){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},cf}var jg={},Ud={},h2;function uA(){if(h2)return Ud;h2=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),Ud.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Ud.exp=function(r){return n[r]},Ud.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},Ud}var f2;function dA(){return f2||(f2=1,(function(n){const e=uA();n.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<i.length;c++)a[l+c]^=e.mul(r[l],i[c]);return a},n.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const l=a[0];for(let d=0;d<i.length;d++)a[d]^=e.mul(i[d],l);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=n.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(jg)),jg}var Cg,p2;function hA(){if(p2)return Cg;p2=1;const n=dA();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=n.mod(i,this.genPoly),l=this.degree-a.length;if(l>0){const c=new Uint8Array(this.degree);return c.set(a,l),c}return a},Cg=e,Cg}var Ag={},Eg={},Pg={},g2;function Sx(){return g2||(g2=1,Pg.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Pg}var wo={},m2;function _x(){if(m2)return wo;m2=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;wo.KANJI=new RegExp(t,"g"),wo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),wo.BYTE=new RegExp(r,"g"),wo.NUMERIC=new RegExp(n,"g"),wo.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),a=new RegExp("^"+n+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return wo.testKanji=function(d){return i.test(d)},wo.testNumeric=function(d){return a.test(d)},wo.testAlphanumeric=function(d){return l.test(d)},wo}var v2;function Jc(){return v2||(v2=1,(function(n){const e=Sx(),t=_x();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(a,l){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?a.ccBits[0]:l<27?a.ccBits[1]:a.ccBits[2]},n.getBestModeForData=function(a){return t.testNumeric(a)?n.NUMERIC:t.testAlphanumeric(a)?n.ALPHANUMERIC:t.testKanji(a)?n.KANJI:n.BYTE},n.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},n.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(a,l){if(n.isValid(a))return a;try{return r(a)}catch{return l}}})(Eg)),Eg}var y2;function fA(){return y2||(y2=1,(function(n){const e=Yc(),t=bx(),r=Am(),i=Jc(),a=Sx(),l=7973,c=e.getBCHDigit(l);function d(x,y,N){for(let _=1;_<=40;_++)if(y<=n.getCapacity(_,N,x))return _}function f(x,y){return i.getCharCountIndicator(x,y)+4}function p(x,y){let N=0;return x.forEach(function(_){const k=f(_.mode,y);N+=k+_.getBitsLength()}),N}function v(x,y){for(let N=1;N<=40;N++)if(p(x,N)<=n.getCapacity(N,y,i.MIXED))return N}n.from=function(y,N){return a.isValid(y)?parseInt(y,10):N},n.getCapacity=function(y,N,_){if(!a.isValid(y))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const k=e.getSymbolTotalCodewords(y),j=t.getTotalCodewordsCount(y,N),T=(k-j)*8;if(_===i.MIXED)return T;const L=T-f(_,y);switch(_){case i.NUMERIC:return Math.floor(L/10*3);case i.ALPHANUMERIC:return Math.floor(L/11*2);case i.KANJI:return Math.floor(L/13);case i.BYTE:default:return Math.floor(L/8)}},n.getBestVersionForData=function(y,N){let _;const k=r.from(N,r.M);if(Array.isArray(y)){if(y.length>1)return v(y,k);if(y.length===0)return 1;_=y[0]}else _=y;return d(_.mode,_.getLength(),k)},n.getEncodedBits=function(y){if(!a.isValid(y)||y<7)throw new Error("Invalid QR Code version");let N=y<<12;for(;e.getBCHDigit(N)-c>=0;)N^=l<<e.getBCHDigit(N)-c;return y<<12|N}})(Ag)),Ag}var Lg={},w2;function pA(){if(w2)return Lg;w2=1;const n=Yc(),e=1335,t=21522,r=n.getBCHDigit(e);return Lg.getEncodedBits=function(a,l){const c=a.bit<<3|l;let d=c<<10;for(;n.getBCHDigit(d)-r>=0;)d^=e<<n.getBCHDigit(d)-r;return(c<<10|d)^t},Lg}var Tg={},Rg,x2;function gA(){if(x2)return Rg;x2=1;const n=Jc();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,a,l;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),l=parseInt(a,10),r.put(l,10);const c=this.data.length-i;c>0&&(a=this.data.substr(i),l=parseInt(a,10),r.put(l,c*3+1))},Rg=e,Rg}var Og,b2;function mA(){if(b2)return Og;b2=1;const n=Jc(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let l=e.indexOf(this.data[a])*45;l+=e.indexOf(this.data[a+1]),i.put(l,11)}this.data.length%2&&i.put(e.indexOf(this.data[a]),6)},Og=t,Og}var Ig,S2;function vA(){if(S2)return Ig;S2=1;const n=Jc();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},Ig=e,Ig}var Dg,_2;function yA(){if(_2)return Dg;_2=1;const n=Jc(),e=Yc();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=e.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Dg=t,Dg}var Fg={exports:{}},N2;function wA(){return N2||(N2=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var a={},l={};l[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var d,f,p,v,x,y,N,_,k;!c.empty();){d=c.pop(),f=d.value,v=d.cost,x=t[f]||{};for(p in x)x.hasOwnProperty(p)&&(y=x[p],N=v+y,_=l[p],k=typeof l[p]>"u",(k||_>N)&&(l[p]=N,c.push(p,N),a[p]=f))}if(typeof i<"u"&&typeof l[i]>"u"){var j=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(j)}return a},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],a=r;a;)i.push(a),t[a],a=t[a];return i.reverse(),i},find_path:function(t,r,i){var a=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},a;t=t||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(Fg)),Fg.exports}var k2;function xA(){return k2||(k2=1,(function(n){const e=Jc(),t=gA(),r=mA(),i=vA(),a=yA(),l=_x(),c=Yc(),d=wA();function f(j){return unescape(encodeURIComponent(j)).length}function p(j,T,L){const O=[];let X;for(;(X=j.exec(L))!==null;)O.push({data:X[0],index:X.index,mode:T,length:X[0].length});return O}function v(j){const T=p(l.NUMERIC,e.NUMERIC,j),L=p(l.ALPHANUMERIC,e.ALPHANUMERIC,j);let O,X;return c.isKanjiModeEnabled()?(O=p(l.BYTE,e.BYTE,j),X=p(l.KANJI,e.KANJI,j)):(O=p(l.BYTE_KANJI,e.BYTE,j),X=[]),T.concat(L,O,X).sort(function(ee,$){return ee.index-$.index}).map(function(ee){return{data:ee.data,mode:ee.mode,length:ee.length}})}function x(j,T){switch(T){case e.NUMERIC:return t.getBitsLength(j);case e.ALPHANUMERIC:return r.getBitsLength(j);case e.KANJI:return a.getBitsLength(j);case e.BYTE:return i.getBitsLength(j)}}function y(j){return j.reduce(function(T,L){const O=T.length-1>=0?T[T.length-1]:null;return O&&O.mode===L.mode?(T[T.length-1].data+=L.data,T):(T.push(L),T)},[])}function N(j){const T=[];for(let L=0;L<j.length;L++){const O=j[L];switch(O.mode){case e.NUMERIC:T.push([O,{data:O.data,mode:e.ALPHANUMERIC,length:O.length},{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.ALPHANUMERIC:T.push([O,{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.KANJI:T.push([O,{data:O.data,mode:e.BYTE,length:f(O.data)}]);break;case e.BYTE:T.push([{data:O.data,mode:e.BYTE,length:f(O.data)}])}}return T}function _(j,T){const L={},O={start:{}};let X=["start"];for(let ne=0;ne<j.length;ne++){const ee=j[ne],$=[];for(let F=0;F<ee.length;F++){const ae=ee[F],P=""+ne+F;$.push(P),L[P]={node:ae,lastCount:0},O[P]={};for(let D=0;D<X.length;D++){const q=X[D];L[q]&&L[q].node.mode===ae.mode?(O[q][P]=x(L[q].lastCount+ae.length,ae.mode)-x(L[q].lastCount,ae.mode),L[q].lastCount+=ae.length):(L[q]&&(L[q].lastCount=ae.length),O[q][P]=x(ae.length,ae.mode)+4+e.getCharCountIndicator(ae.mode,T))}}X=$}for(let ne=0;ne<X.length;ne++)O[X[ne]].end=0;return{map:O,table:L}}function k(j,T){let L;const O=e.getBestModeForData(j);if(L=e.from(T,O),L!==e.BYTE&&L.bit<O.bit)throw new Error('"'+j+'" cannot be encoded with mode '+e.toString(L)+`.
 Suggested mode is: `+e.toString(O));switch(L===e.KANJI&&!c.isKanjiModeEnabled()&&(L=e.BYTE),L){case e.NUMERIC:return new t(j);case e.ALPHANUMERIC:return new r(j);case e.KANJI:return new a(j);case e.BYTE:return new i(j)}}n.fromArray=function(T){return T.reduce(function(L,O){return typeof O=="string"?L.push(k(O,null)):O.data&&L.push(k(O.data,O.mode)),L},[])},n.fromString=function(T,L){const O=v(T,c.isKanjiModeEnabled()),X=N(O),ne=_(X,L),ee=d.find_path(ne.map,"start","end"),$=[];for(let F=1;F<ee.length-1;F++)$.push(ne.table[ee[F]].node);return n.fromArray(y($))},n.rawSplit=function(T){return n.fromArray(v(T,c.isKanjiModeEnabled()))}})(Tg)),Tg}var j2;function bA(){if(j2)return wg;j2=1;const n=Yc(),e=Am(),t=sA(),r=aA(),i=oA(),a=lA(),l=cA(),c=bx(),d=hA(),f=fA(),p=pA(),v=Jc(),x=xA();function y(ne,ee){const $=ne.size,F=a.getPositions(ee);for(let ae=0;ae<F.length;ae++){const P=F[ae][0],D=F[ae][1];for(let q=-1;q<=7;q++)if(!(P+q<=-1||$<=P+q))for(let V=-1;V<=7;V++)D+V<=-1||$<=D+V||(q>=0&&q<=6&&(V===0||V===6)||V>=0&&V<=6&&(q===0||q===6)||q>=2&&q<=4&&V>=2&&V<=4?ne.set(P+q,D+V,!0,!0):ne.set(P+q,D+V,!1,!0))}}function N(ne){const ee=ne.size;for(let $=8;$<ee-8;$++){const F=$%2===0;ne.set($,6,F,!0),ne.set(6,$,F,!0)}}function _(ne,ee){const $=i.getPositions(ee);for(let F=0;F<$.length;F++){const ae=$[F][0],P=$[F][1];for(let D=-2;D<=2;D++)for(let q=-2;q<=2;q++)D===-2||D===2||q===-2||q===2||D===0&&q===0?ne.set(ae+D,P+q,!0,!0):ne.set(ae+D,P+q,!1,!0)}}function k(ne,ee){const $=ne.size,F=f.getEncodedBits(ee);let ae,P,D;for(let q=0;q<18;q++)ae=Math.floor(q/3),P=q%3+$-8-3,D=(F>>q&1)===1,ne.set(ae,P,D,!0),ne.set(P,ae,D,!0)}function j(ne,ee,$){const F=ne.size,ae=p.getEncodedBits(ee,$);let P,D;for(P=0;P<15;P++)D=(ae>>P&1)===1,P<6?ne.set(P,8,D,!0):P<8?ne.set(P+1,8,D,!0):ne.set(F-15+P,8,D,!0),P<8?ne.set(8,F-P-1,D,!0):P<9?ne.set(8,15-P-1+1,D,!0):ne.set(8,15-P-1,D,!0);ne.set(F-8,8,1,!0)}function T(ne,ee){const $=ne.size;let F=-1,ae=$-1,P=7,D=0;for(let q=$-1;q>0;q-=2)for(q===6&&q--;;){for(let V=0;V<2;V++)if(!ne.isReserved(ae,q-V)){let ue=!1;D<ee.length&&(ue=(ee[D]>>>P&1)===1),ne.set(ae,q-V,ue),P--,P===-1&&(D++,P=7)}if(ae+=F,ae<0||$<=ae){ae-=F,F=-F;break}}}function L(ne,ee,$){const F=new t;$.forEach(function(V){F.put(V.mode.bit,4),F.put(V.getLength(),v.getCharCountIndicator(V.mode,ne)),V.write(F)});const ae=n.getSymbolTotalCodewords(ne),P=c.getTotalCodewordsCount(ne,ee),D=(ae-P)*8;for(F.getLengthInBits()+4<=D&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const q=(D-F.getLengthInBits())/8;for(let V=0;V<q;V++)F.put(V%2?17:236,8);return O(F,ne,ee)}function O(ne,ee,$){const F=n.getSymbolTotalCodewords(ee),ae=c.getTotalCodewordsCount(ee,$),P=F-ae,D=c.getBlocksCount(ee,$),q=F%D,V=D-q,ue=Math.floor(F/D),de=Math.floor(P/D),he=de+1,W=ue-de,ye=new d(W);let Se=0;const Y=new Array(D),R=new Array(D);let z=0;const K=new Uint8Array(ne.buffer);for(let fe=0;fe<D;fe++){const we=fe<V?de:he;Y[fe]=K.slice(Se,Se+we),R[fe]=ye.encode(Y[fe]),Se+=we,z=Math.max(z,we)}const te=new Uint8Array(F);let me=0,re,J;for(re=0;re<z;re++)for(J=0;J<D;J++)re<Y[J].length&&(te[me++]=Y[J][re]);for(re=0;re<W;re++)for(J=0;J<D;J++)te[me++]=R[J][re];return te}function X(ne,ee,$,F){let ae;if(Array.isArray(ne))ae=x.fromArray(ne);else if(typeof ne=="string"){let ue=ee;if(!ue){const de=x.rawSplit(ne);ue=f.getBestVersionForData(de,$)}ae=x.fromString(ne,ue||40)}else throw new Error("Invalid data");const P=f.getBestVersionForData(ae,$);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!ee)ee=P;else if(ee<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const D=L(ee,$,ae),q=n.getSymbolSize(ee),V=new r(q);return y(V,ee),N(V),_(V,ee),j(V,$,0),ee>=7&&k(V,ee),T(V,D),isNaN(F)&&(F=l.getBestMask(V,j.bind(null,V,$))),l.applyMask(F,V),j(V,$,F),{modules:V,version:ee,errorCorrectionLevel:$,maskPattern:F,segments:ae}}return wg.create=function(ee,$){if(typeof ee>"u"||ee==="")throw new Error("No input text");let F=e.M,ae,P;return typeof $<"u"&&(F=e.from($.errorCorrectionLevel,e.M),ae=f.from($.version),P=l.from($.maskPattern),$.toSJISFunc&&n.setToSJISFunction($.toSJISFunc)),X(ee,ae,F,P)},wg}var Mg={},Bg={},C2;function Nx(){return C2||(C2=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:a,scale:a?4:l,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const a=n.getScale(r,i);return Math.floor((r+i.margin*2)*a)},n.qrToImageData=function(r,i,a){const l=i.modules.size,c=i.modules.data,d=n.getScale(l,a),f=Math.floor((l+a.margin*2)*d),p=a.margin*d,v=[a.color.light,a.color.dark];for(let x=0;x<f;x++)for(let y=0;y<f;y++){let N=(x*f+y)*4,_=a.color.light;if(x>=p&&y>=p&&x<f-p&&y<f-p){const k=Math.floor((x-p)/d),j=Math.floor((y-p)/d);_=v[c[k*l+j]?1:0]}r[N++]=_.r,r[N++]=_.g,r[N++]=_.b,r[N]=_.a}}})(Bg)),Bg}var A2;function SA(){return A2||(A2=1,(function(n){const e=Nx();function t(i,a,l){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=l,a.width=l,a.style.height=l+"px",a.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(a,l,c){let d=c,f=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(f=r()),d=e.getOptions(d);const p=e.getImageWidth(a.modules.size,d),v=f.getContext("2d"),x=v.createImageData(p,p);return e.qrToImageData(x.data,a,d),t(v,f,p),v.putImageData(x,0,0),f},n.renderToDataURL=function(a,l,c){let d=c;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const f=n.render(a,l,d),p=d.type||"image/png",v=d.rendererOpts||{};return f.toDataURL(p,v.quality)}})(Mg)),Mg}var zg={},E2;function _A(){if(E2)return zg;E2=1;const n=Nx();function e(i,a){const l=i.a/255,c=a+'="'+i.hex+'"';return l<1?c+" "+a+'-opacity="'+l.toFixed(2).slice(1)+'"':c}function t(i,a,l){let c=i+a;return typeof l<"u"&&(c+=" "+l),c}function r(i,a,l){let c="",d=0,f=!1,p=0;for(let v=0;v<i.length;v++){const x=Math.floor(v%a),y=Math.floor(v/a);!x&&!f&&(f=!0),i[v]?(p++,v>0&&x>0&&i[v-1]||(c+=f?t("M",x+l,.5+y+l):t("m",d,0),d=0,f=!1),x+1<a&&i[v+1]||(c+=t("h",p),p=0)):d++}return c}return zg.render=function(a,l,c){const d=n.getOptions(l),f=a.modules.size,p=a.modules.data,v=f+d.margin*2,x=d.color.light.a?"<path "+e(d.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",y="<path "+e(d.color.dark,"stroke")+' d="'+r(p,f,d.margin)+'"/>',N='viewBox="0 0 '+v+" "+v+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+N+' shape-rendering="crispEdges">'+x+y+`</svg>
`;return typeof c=="function"&&c(null,k),k},zg}var P2;function NA(){if(P2)return Fu;P2=1;const n=iA(),e=bA(),t=SA(),r=_A();function i(a,l,c,d,f){const p=[].slice.call(arguments,1),v=p.length,x=typeof p[v-1]=="function";if(!x&&!n())throw new Error("Callback required as last argument");if(x){if(v<2)throw new Error("Too few arguments provided");v===2?(f=c,c=l,l=d=void 0):v===3&&(l.getContext&&typeof f>"u"?(f=d,d=void 0):(f=d,d=c,c=l,l=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(c=l,l=d=void 0):v===2&&!l.getContext&&(d=c,c=l,l=void 0),new Promise(function(y,N){try{const _=e.create(c,d);y(a(_,l,d))}catch(_){N(_)}})}try{const y=e.create(c,d);f(null,a(y,l,d))}catch(y){f(y)}}return Fu.create=e.create,Fu.toCanvas=i.bind(null,t.render),Fu.toDataURL=i.bind(null,t.renderToDataURL),Fu.toString=i.bind(null,function(a,l,c){return r.render(a,c)}),Fu}var kA=NA();const Ju=Vf(kA),jA=({token:n,organizationId:e,onBack:t})=>{const[r,i]=I.useState(null),[a,l]=I.useState([]),[c,d]=I.useState(!0),[f,p]=I.useState(!1),[v,x]=I.useState(!1),[y,N]=I.useState(null),[_,k]=I.useState(!1),[j,T]=I.useState(""),[L,O]=I.useState(""),[X,ne]=I.useState(!1),[ee,$]=I.useState(!1),[F,ae]=I.useState({companyName:"",pan:"",phoneNo:"",email:"",gstNo:""}),[P,D]=I.useState({deviceName:"",serialNumber:"",brandSerialNumber:"",model:"",deviceType:"Comprehensive"}),[q,V]=I.useState(!1),[ue,de]=I.useState(null),[he,W]=I.useState([]),[ye,Se]=I.useState(!1),[Y,R]=I.useState([]);I.useEffect(()=>{z(),K(),te()},[e,n]);const z=async()=>{try{const be=await fetch("http://localhost:8000/make-server-60660975/organizations",{headers:{Authorization:`Bearer ${n}`}}),pe=await be.json();if(be.ok){const Re=pe.organizations?.find(Ke=>Ke.id===e);i(Re||null)}}catch(be){console.error("Error fetching organization:",be),We.error("Failed to fetch organization details")}},K=async()=>{try{const be=await fetch("http://localhost:8000/make-server-60660975/devices",{headers:{Authorization:`Bearer ${n}`}}),pe=await be.json();if(!be.ok){console.error("Error fetching devices:",pe.error),We.error(pe.error||"Failed to fetch devices");return}const Re=(pe.devices||[]).filter(Ke=>Ke.organization_id===e&&!Ke.is_archived);l(Re)}catch(be){console.error("Error fetching devices:",be),We.error("Failed to fetch devices")}finally{d(!1)}},te=async()=>{try{const be=await fetch("http://localhost:8000/make-server-60660975/technicians",{headers:{Authorization:`Bearer ${n}`}}),pe=await be.json();be.ok&&R(pe.technicians||[])}catch(be){console.error("Error fetching technicians:",be)}},me=async be=>{be.preventDefault();try{const pe=await fetch("http://localhost:8000/make-server-60660975/devices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({deviceName:P.deviceName,organizationId:e,brandSerialNumber:P.brandSerialNumber,model:P.model,deviceType:P.deviceType})}),Re=await pe.json();if(!pe.ok){console.error("Error creating device:",Re.error),We.error(Re.error||"Failed to create device");return}We.success("Device created successfully with QR code!"),p(!1),D({deviceName:"",serialNumber:"",brandSerialNumber:"",model:""}),K()}catch(pe){console.error("Error creating device:",pe),We.error("Failed to create device")}},re=async be=>{if(be.preventDefault(),!!y)try{const pe=await fetch(`http://localhost:8000/make-server-60660975/devices/${y.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({...P,organizationId:e})}),Re=await pe.json();if(!pe.ok){console.error("Error updating device:",Re.error),We.error(Re.error||"Failed to update device");return}We.success("Device updated successfully!"),x(!1),N(null),K()}catch(pe){console.error("Error updating device:",pe),We.error("Failed to update device")}},J=async be=>{try{const pe=await fetch(`http://localhost:8000/make-server-60660975/devices/${be.id}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({archived:!be.is_archived})}),Re=await pe.json();if(!pe.ok){console.error("Error archiving device:",Re.error),We.error(Re.error||"Failed to archive device");return}We.success(be.is_archived?"Device unarchived!":"Device archived!"),K()}catch(pe){console.error("Error archiving device:",pe),We.error("Failed to archive device")}},fe=(be,pe)=>{D({...P,[be]:pe})},we=(be,pe)=>{if(be==="pan"){const Re=pe.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,10);ae({...F,pan:Re});return}if(be==="gstNo"){const Re=pe.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,15);ae({...F,gstNo:Re});return}ae({...F,[be]:pe})},ce=()=>{r&&(ae({companyName:r.name||"",pan:(r.pan||"").toUpperCase().slice(0,10),phoneNo:r.phone_no||"",email:r.email||"",gstNo:(r.gst_no||"").toUpperCase().slice(0,15)}),$(!0))},Le=async be=>{if(be.preventDefault(),!!r)try{const pe=(F.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(pe.length!==15||!/^\d{2}[A-Z0-9]{10}\dZ[A-Z0-9]$/.test(pe)){We.error("Invalid GST number. It must be 15 characters, start with 2 digits, have Z as 14th character.");return}const Re={...F,pan:(F.pan||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10),gstNo:(F.gstNo||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,15)},Ke=await fetch(`http://localhost:8000/make-server-60660975/organizations/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(Re)}),Ze=await Ke.json();if(!Ke.ok){console.error("Error updating organization:",Ze.error),We.error(Ze.error||"Failed to update organization");return}We.success("Organization updated successfully!"),$(!1),z()}catch(pe){console.error("Error updating organization:",pe),We.error("Failed to update organization")}},qe=be=>{N(be),D({deviceName:be.name,serialNumber:be.serial_number,brandSerialNumber:be.brand_serial_number||"",model:be.model||"",deviceType:be.device_type||"Comprehensive"}),x(!0)},Te=async be=>{try{const pe=await Ju.toDataURL(be,{width:300,margin:2});O(pe),T(be),k(!0)}catch(pe){console.error("Error generating QR code:",pe),We.error("Failed to generate QR code")}},oe=be=>{const pe=Y.find(Re=>Re.id===be);return pe?pe.name:"Unknown"},Lt=async be=>{de(be),V(!0),Se(!0);try{const pe=await fetch(`http://localhost:8000/make-server-60660975/maintenance/device/${be.id}`,{headers:{Authorization:`Bearer ${n}`}}),Re=await pe.json();pe.ok?W(Re.maintenance||[]):(We.error(Re.error||"Failed to fetch device history"),W([]))}catch(pe){console.error("Error fetching device history:",pe),We.error("Failed to fetch device history"),W([])}finally{Se(!1)}},lt=()=>{if(!ue)return;const be=`Maintenance Report - ${ue.name}`,pe=r?.name||"",Re=he.map(ct=>`
      <tr>
        <td style="padding:8px;border:1px solid #ddd">${new Date(ct.created_at).toLocaleDateString("en-IN")}</td>
        <td style="padding:8px;border:1px solid #ddd">${oe(ct.technician_id)}</td>
        <td style="padding:8px;border:1px solid #ddd">${ct.status||"Yet to Start"}</td>
        <td style="padding:8px;border:1px solid #ddd">${(ct.description||"-").replace(/\n/g,"<br/>")}</td>
      </tr>
    `).join(""),Ke=(()=>{if(!he||he.length===0)return null;const ct=he.reduce((Bt,xt)=>{const at=new Date(xt.created_at);return at>Bt?at:Bt},new Date(he[0].created_at)),ht=new Date(ct);return ht.setDate(ht.getDate()+90),ht.toLocaleDateString("en-IN")})(),Ze=`
      <html>
        <head>
          <title>${be}</title>
          <meta name="viewport" content="width=device-width,initial-scale=1" />
          <style>
            body { font-family: Inter, Arial, Helvetica, sans-serif; padding: 20px; color: #111; background: #fff }
            .top { display:flex; gap:12px; align-items:center }
            .logo { width:72px; height:72px; border-radius:6px; display:inline-block; background:#1e90ff; color:#fff; font-weight:700; display:flex; align-items:center; justify-content:center; font-size:20px }
            .org-title { text-align:center; flex:1 }
            .org-title .big { font-size:44px; font-weight:800; color: rgb(204,0,0); letter-spacing:2px; text-transform:uppercase }
            .org-title .addr { font-size:16px; font-weight:700; color:#111; margin-top:8px }
            .org-title .contact { font-size:14px; color:#111; margin-top:6px }
            .sep { height:3px; background:#d1d5db; margin:18px 0; width:100%; }
            .watermark { display:none; }
            @media print {
              .watermark { display:block; position:fixed; left:50%; top:40%; transform:translate(-50%,-50%) rotate(-25deg); width:260px; opacity:0.08; pointer-events:none; z-index:0 }
            }
            .report-title { text-align:center; margin-top:6px; font-weight:700; font-size:16px; color:#2c3e50 }
            .org-box { background:transparent; padding:8px; border-radius:6px; margin-top:8px; text-align:center; font-weight:700; color:#2563eb }
            .serial-red { color: rgb(204,0,0); font-weight:800 }
            .meta { display:flex; justify-content:space-between; margin-top:8px; font-size:12px; color:#505050 }
            .summary { background:#f1f8e9; padding:12px; border-radius:8px; margin-top:12px }
            table { border-collapse:collapse; width:100%; margin-top:12px }
            th, td { padding:8px; border:1px solid #e5e7eb; text-align:left }
            thead th { background:#1976b8; color:#fff; font-weight:700; padding:10px }
            .status-inprogress { display:inline-block; background:#fff4ce; color:#b85c00; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-completed { display:inline-block; background:#e6f9ec; color:#176f2b; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-default { display:inline-block; background:#f3f4f6; color:#374151; padding:6px 10px; border-radius:6px; font-weight:600 }
            @media print { body { padding:8mm } }
          </style>
        </head>
        <body>
          <div class="top">
            <div>
              <img src="/npa-logo.png" onerror="this.style.display='none'" style="width:72px;height:72px;object-fit:contain" />
              <div class="logo" style="display:none">NP</div>
            </div>
            <div class="org-title">
              <div  style="color:red;font-size:30px;font-weight:Bold" >NATIONAL PROCESS AUTOMATION</div>
              <div class="addr">#48, 4th cross, Ganesha Block, Nandini Layout, Bangalore-560096</div>
              <div class="contact">Ph: 080 23498376, 9900143996 &nbsp; e-mail: tech.npa@gmail.com</div>
              <div class="contact">www.npautomation.in</div>
            </div>
          </div>
          <div class="sep"></div>

          <!-- Watermark (print-only logo) -->
          <img src="/npa-logo.png" class="watermark" onerror="this.style.display='none'" alt="NPA watermark" />

          <div class="report-title">DEVICE SERVICE REPORT</div>
          <div class="org-box">${pe.toUpperCase()}</div>

          <div class="meta">
            <div>Device: <strong>${ue.name}</strong>  Serial: <strong class="serial-red">${ue.serial_number}</strong></div>
            <div>Report ID: NPA-${new Date().toISOString().split("T")[0]}</div>
          </div>

          <div class="summary">
            <div>Total Maintenance Records: <strong>${he.length}</strong></div>
            <div style="margin-top:6px">Next Maintenance Date: <strong>${Ke||"-"}</strong></div>
          </div>

          ${he.length===0?`
            <div style="padding:16px;color:#6b7280">No maintenance records found for this device.</div>
          `:`
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Technician</th>
                  <th>Status</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                ${Re}
              </tbody>
            </table>
          `}
        </body>
      </html>
    `,Mt=window.open("","_blank");Mt&&(Mt.document.write(Ze),Mt.document.close(),setTimeout(()=>{Mt.print()},200))},ft=a.filter(be=>X?be.is_archived||r?.archived:!be.is_archived&&!r?.archived);return c||!r?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs(nt,{variant:"outline",onClick:t,children:[u.jsx(Ev,{className:"w-4 h-4 mr-2"}),"Back to Organizations"]})}),u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading organization details..."})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs(nt,{variant:"outline",onClick:t,className:"gap-2",children:[u.jsx(Ev,{className:"w-4 h-4"}),"Back to Organizations"]})}),u.jsxs(si,{className:"shadow-sm border-2 border-gray-400 bg-white",children:[u.jsx(Ii,{className:"border-b-2 border-gray-400",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ss,{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 rounded-md bg-slate-100 border border-slate-200",children:u.jsx(Ql,{className:"w-6 h-6 text-slate-700"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl text-slate-900",children:r.name}),r.archived&&u.jsx(hh,{variant:"secondary",className:"bg-gray-200",children:"Archived"})]}),u.jsx("p",{className:"text-sm text-slate-500 font-normal mt-1",children:"Organization Details"})]})]}),u.jsxs(nt,{variant:"outline",size:"sm",onClick:ce,disabled:r.archived,title:"Edit organization",children:[u.jsx(Rf,{className:"w-4 h-4 mr-2"})," Edit"]})]})}),u.jsx(ai,{className:"pt-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[u.jsx(Ql,{className:"w-5 h-5 text-slate-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Organization Code"}),u.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.organization_code||"N/A"})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[u.jsx(KN,{className:"w-5 h-5 text-slate-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),u.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.email})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[u.jsx(XN,{className:"w-5 h-5 text-slate-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),u.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.phone_no})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[u.jsx(A0,{className:"w-5 h-5 text-slate-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:"PAN"}),u.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.pan})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[u.jsx(A0,{className:"w-5 h-5 text-slate-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:"GST Number"}),u.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.gst_no})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-md border border-slate-200",children:[u.jsx(Ql,{className:"w-5 h-5 text-slate-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Address"}),u.jsx("p",{className:"text-sm text-slate-900 font-bold",children:r.address||"Not provided"})]})]})]})})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Devices"}),u.jsx("p",{className:"text-gray-600",children:"Manage devices for this organization"})]}),u.jsxs(ti,{open:f,onOpenChange:p,children:[u.jsx(Bc,{asChild:!0,children:u.jsxs(nt,{disabled:r.archived,children:[u.jsx(cd,{className:"w-4 h-4 mr-2"}),"Add Device"]})}),u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Add New Device"}),u.jsxs(wi,{children:["Add a device to ",r.name]})]}),u.jsxs("form",{onSubmit:me,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"deviceName",children:"Device Name *"}),u.jsx(Zt,{id:"deviceName",value:P.deviceName,onChange:be=>fe("deviceName",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"brandSerialNumber",children:"Brand Serial No *"}),u.jsx(Zt,{id:"brandSerialNumber",value:P.brandSerialNumber,onChange:be=>fe("brandSerialNumber",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"model",children:"Model"}),u.jsx(Zt,{id:"model",value:P.model,onChange:be=>fe("model",be.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"deviceType",children:"Device Type *"}),u.jsxs(ts,{value:P.deviceType,onValueChange:be=>fe("deviceType",be),children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select device type"})}),u.jsxs(is,{children:[u.jsx(pr,{value:"Comprehensive",children:"Comprehensive"}),u.jsx(pr,{value:"Non Comprehensive",children:"Non Comprehensive"})]})]})]}),u.jsx(nt,{type:"submit",className:"w-full",children:"Create Device"})]})]})]})]}),u.jsx(ti,{open:v,onOpenChange:x,children:u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Edit Device"}),u.jsx(wi,{children:"Update device information"})]}),u.jsxs("form",{onSubmit:re,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-deviceName",children:"Device Name *"}),u.jsx(Zt,{id:"edit-deviceName",value:P.deviceName,onChange:be=>fe("deviceName",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-serialNumber",children:"Serial Number *"}),u.jsx(Zt,{id:"edit-serialNumber",value:P.serialNumber,disabled:!0}),u.jsx("p",{className:"text-xs text-slate-500",children:"Serial number is generated by the server and cannot be changed here."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-brandSerialNumber",children:"Brand Serial No *"}),u.jsx(Zt,{id:"edit-brandSerialNumber",value:P.brandSerialNumber,onChange:be=>fe("brandSerialNumber",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-model",children:"Model"}),u.jsx(Zt,{id:"edit-model",value:P.model,onChange:be=>fe("model",be.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-deviceType",children:"Device Type *"}),u.jsxs(ts,{value:P.deviceType,onValueChange:be=>fe("deviceType",be),children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select device type"})}),u.jsxs(is,{children:[u.jsx(pr,{value:"Comprehensive",children:"Comprehensive"}),u.jsx(pr,{value:"Non Comprehensive",children:"Non Comprehensive"})]})]})]}),u.jsx(nt,{type:"submit",className:"w-full",children:"Update Device"})]})]})}),u.jsxs(si,{className:"shadow-sm border-2 border-gray-400",children:[u.jsx(Ii,{className:"bg-white border-b-2 border-gray-400 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ss,{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:u.jsx(qa,{className:"w-5 h-5 text-slate-700"})}),u.jsxs("span",{className:"text-slate-900",children:["Organization Devices (",ft.length,")"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(vt,{htmlFor:"show-archived-devices",className:"text-sm text-slate-600 cursor-pointer select-none",children:"Show Archived"}),u.jsx(ym,{id:"show-archived-devices",checked:X,onCheckedChange:ne})]})]})}),u.jsx(ai,{className:"p-0",children:ft.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx(qa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-500",children:X?"No archived devices found for this organization.":"No devices found. Add your first device for this organization!"})]}):u.jsx("div",{className:"divide-y divide-gray-200",children:ft.map(be=>u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:u.jsx(qa,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-slate-900",children:be.name}),u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[be.serial_number,be.model&&`  ${be.model}`]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>Te(be.serial_number),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View QR code",children:u.jsx(lm,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>Lt(be),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View maintenance history",children:u.jsx(pl,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>qe(be),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"Edit device",children:u.jsx(Rf,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>J(be),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:be.is_archived?"Unarchive":"Archive",children:be.is_archived?u.jsx(th,{className:"w-4 h-4"}):u.jsx(id,{className:"w-4 h-4"})})]})]},be.id))})})]}),u.jsx(ti,{open:_,onOpenChange:k,children:u.jsxs(ni,{className:"max-w-sm",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Device QR Code"}),u.jsx(wi,{children:"Scan this QR code to identify the device"})]}),u.jsx("div",{className:"flex flex-col items-center space-y-4",children:L&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"qr-rainbow-bg absolute inset-0 rounded-2xl opacity-80 blur-xl"}),u.jsx("div",{className:"relative rounded-2xl bg-white p-3 shadow-lg",children:u.jsx("img",{src:L,alt:"QR Code",className:"w-64 h-64"})})]}),u.jsx("p",{className:"text-sm text-gray-600 text-center break-all",children:j}),u.jsxs("div",{className:"flex gap-3 mt-2",children:[u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{const be=document.createElement("a");be.href=L,be.download=`${j}-qr-code.png`,be.click()},children:"Download"}),u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{const be=window.open("","_blank");be&&(be.document.write(`
                          <html>
                            <head>
                              <title>Print QR Code - ${j}</title>
                              <style>
                                body { text-align: center; padding: 2em; font-family: Arial, sans-serif; }
                              </style>
                            </head>
                            <body>
                              <img src="${L}" style="width:300px;height:300px;" />
                              <br/>
                              <p style="font-size:12px;margin-top:1em;">${j}</p>
                            </body>
                          </html>
                        `),be.document.close(),be.print())},children:"Print"})]})]})})]})}),u.jsx(ti,{open:ee,onOpenChange:$,children:u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Edit Organization"}),u.jsx(wi,{children:"Update organization information"})]}),u.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"org-companyName",children:"Company Name *"}),u.jsx(Zt,{id:"org-companyName",value:F.companyName,onChange:be=>we("companyName",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"org-pan",children:"PAN *"}),u.jsx(Zt,{id:"org-pan",value:F.pan,maxLength:10,onChange:be=>we("pan",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"org-phoneNo",children:"Phone Number *"}),u.jsx(Zt,{id:"org-phoneNo",type:"tel",value:F.phoneNo,onChange:be=>we("phoneNo",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"org-email",children:"Email *"}),u.jsx(Zt,{id:"org-email",type:"email",value:F.email,onChange:be=>we("email",be.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"org-gstNo",children:"GST Number *"}),u.jsx(Zt,{id:"org-gstNo",value:F.gstNo,maxLength:15,onChange:be=>we("gstNo",be.target.value),required:!0})]}),u.jsx(nt,{type:"submit",className:"w-full",children:"Update Organization"})]})]})}),u.jsx(ti,{open:q,onOpenChange:V,children:u.jsxs(ni,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[u.jsx(ri,{children:u.jsxs("div",{className:"w-full flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs(ii,{children:["Maintenance History",ue?`: ${ue.name}`:""]}),u.jsx(wi,{children:ue?u.jsxs("span",{className:"text-xs",children:["Serial: ",ue.serial_number]}):null})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(nt,{variant:"outline",size:"sm",onClick:lt,disabled:he.length===0,title:he.length===0?"No records to print":"Print device report",children:[u.jsx(Hw,{className:"w-4 h-4 mr-2"})," Print"]})})]})}),ye?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading history..."}):he.length===0?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"No maintenance records found for this device."}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("div",{children:[u.jsx("style",{children:".history-table thead th { background:#1976b8; color:#fff; font-weight:700; padding:8px 10px } .history-table td { padding:6px 8px } .history-table tr { height:24px }"}),u.jsxs(zc,{className:"history-table",children:[u.jsx(Uc,{children:u.jsxs(Ps,{children:[u.jsx(tn,{children:"Date"}),u.jsx(tn,{children:"Technician"}),u.jsx(tn,{children:"Status"}),u.jsx(tn,{children:"Notes"})]})}),u.jsx($c,{children:he.map(be=>u.jsxs(Ps,{children:[u.jsx(nn,{children:new Date(be.created_at).toLocaleDateString("en-IN")}),u.jsx(nn,{children:oe(be.technician_id)}),u.jsx(nn,{children:u.jsx("span",{className:"px-2 py-1 rounded text-xs border",children:be.status||"Yet to Start"})}),u.jsx(nn,{children:be.description||"-"})]},be.id))})]})]})})]})})]})},CA=({token:n})=>{const[e,t]=I.useState([]),[r,i]=I.useState([]),[a,l]=I.useState(!0),[c,d]=I.useState(!1),[f,p]=I.useState(!1),[v,x]=I.useState(null),[y,N]=I.useState(!1),[_,k]=I.useState(""),[j,T]=I.useState(""),[L,O]=I.useState(!1),[X,ne]=I.useState(""),[ee,$]=I.useState("created"),[F,ae]=I.useState("desc"),[P,D]=I.useState(""),[q,V]=I.useState(!1),[ue,de]=I.useState(null),[he,W]=I.useState([]),[ye,Se]=I.useState(!1),[Y,R]=I.useState([]),[z,K]=I.useState({deviceName:"",organizationId:"",serialNumber:"",brandSerialNumber:"",model:"",deviceType:"Comprehensive"}),te=async()=>{try{l(!0),console.log(" Fetching devices from:","http://localhost:8000/make-server-60660975/devices");const pe=await fetch("http://localhost:8000/make-server-60660975/devices",{headers:{Authorization:`Bearer ${n}`}}),Re=await pe.json();console.log(" Response status:",pe.status,pe.ok),pe.ok?(console.log(" Setting devices:",Re.devices),t(Re.devices||[])):(console.error(" Error fetching devices:",Re),We.error(Re.error||"Failed to fetch devices"))}catch(pe){console.error(" Exception fetching devices:",pe),We.error("Failed to fetch devices")}finally{l(!1)}},me=async()=>{try{console.log(" Fetching organizations from:","http://localhost:8000/make-server-60660975/organizations");const pe=await fetch("http://localhost:8000/make-server-60660975/organizations",{headers:{Authorization:`Bearer ${n}`}});console.log(" Response status:",pe.status,pe.ok);const Re=await pe.json();console.log(" Response data:",Re),pe.ok?(console.log(" Setting organizations:",Re.organizations),i(Re.organizations||[])):console.error(" Error fetching organizations:",Re)}catch(pe){console.error(" Exception fetching organizations:",pe)}},re=async()=>{try{const pe=await fetch("http://localhost:8000/make-server-60660975/technicians",{headers:{Authorization:`Bearer ${n}`}}),Re=await pe.json();pe.ok&&R(Re.technicians||[])}catch(pe){console.error(" Exception fetching technicians:",pe)}};I.useEffect(()=>{te(),me(),re()},[n]);const J=async pe=>{if(pe.preventDefault(),r.length===0){We.error("Please add an organization first before adding devices");return}console.log("Submitting device with data:",z);try{const Re=await fetch("http://localhost:8000/make-server-60660975/devices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({deviceName:z.deviceName,organizationId:z.organizationId,brandSerialNumber:z.brandSerialNumber,model:z.model,deviceType:z.deviceType})}),Ke=await Re.json();if(console.log("Response:",Re.status,Ke),!Re.ok){console.error("Error creating device:",Ke.error),We.error(Ke.error||"Failed to create device");return}We.success("Device created successfully with QR code!"),d(!1),K({deviceName:"",organizationId:"",serialNumber:"",brandSerialNumber:"",model:"",deviceType:"Comprehensive"}),te()}catch(Re){console.error("Error creating device:",Re),We.error("Failed to create device")}},fe=async pe=>{if(pe.preventDefault(),!!v)try{const Re=await fetch(`http://localhost:8000/make-server-60660975/devices/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(z)}),Ke=await Re.json();if(!Re.ok){console.error("Error updating device:",Ke.error),We.error(Ke.error||"Failed to update device");return}We.success("Device updated successfully!"),p(!1),x(null),te()}catch(Re){console.error("Error updating device:",Re),We.error("Failed to update device")}},we=async pe=>{try{const Re=!pe.is_archived,Ke=await fetch(`http://localhost:8000/make-server-60660975/devices/${pe.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({deviceName:pe.name,organizationId:pe.organization_id,serialNumber:pe.serial_number||"",brandSerialNumber:pe.brand_serial_number||"",model:pe.model||"",status:pe.status||"active",deviceType:pe.device_type||"Comprehensive",is_archived:Re})}),Ze=await Ke.json();if(!Ke.ok){console.error("Error updating device:",Ze.error),We.error(Ze.error||"Failed to update device");return}We.success(Re?"Device archived!":"Device unarchived!"),te()}catch(Re){console.error("Error updating device:",Re),We.error("Failed to update device")}},ce=(pe,Re)=>{K({...z,[pe]:Re})},Le=pe=>{x(pe),K({deviceName:pe.name,organizationId:pe.organization_id,serialNumber:pe.serial_number||"",brandSerialNumber:pe.brand_serial_number||"",model:pe.model||"",deviceType:pe.device_type||"Comprehensive"}),p(!0)},qe=async pe=>{try{const Re=await Ju.toDataURL(pe,{width:300,margin:2});T(Re),k(pe),N(!0)}catch(Re){console.error("Error generating QR code:",Re),We.error("Failed to generate QR code")}},Te=pe=>{const Re=r.find(Ke=>Ke.id===pe);return Re?Re.name:"Unknown"},oe=pe=>{const Re=Y.find(Ke=>Ke.id===pe);return Re?Re.name:"Unknown"},Lt=r.filter(pe=>!pe.archived);let lt=e.filter(pe=>{const Ke=r.find(Mt=>Mt.id===pe.organization_id)?.archived||!1,Ze=pe.is_archived||!1;return L?X&&X.trim()!==""?(Ze||Ke)&&(pe.brand_serial_number||"").toLowerCase().includes(X.toLowerCase()):Ze||Ke:X&&X.trim()!==""?!Ze&&!Ke&&(pe.brand_serial_number||"").toLowerCase().includes(X.toLowerCase()):!Ze&&!Ke});P&&(lt=lt.filter(pe=>pe.organization_id===P)),lt=lt.sort((pe,Re)=>{let Ke="",Ze="";switch(ee){case"name":Ke=(pe.name||"").toLowerCase(),Ze=(Re.name||"").toLowerCase();break;case"serial":Ke=(pe.serial_number||"").toLowerCase(),Ze=(Re.serial_number||"").toLowerCase();break;case"brand":Ke=(pe.brand_serial_number||"").toLowerCase(),Ze=(Re.brand_serial_number||"").toLowerCase();break;case"created":default:Ke=new Date(pe.created_at).getTime(),Ze=new Date(Re.created_at).getTime();break}return Ke<Ze?F==="asc"?-1:1:Ke>Ze?F==="asc"?1:-1:0});const ft=async pe=>{de(pe),V(!0),Se(!0);try{const Re=await fetch(`http://localhost:8000/make-server-60660975/maintenance/device/${pe.id}`,{headers:{Authorization:`Bearer ${n}`}}),Ke=await Re.json();Re.ok?W(Ke.maintenance||[]):(We.error(Ke.error||"Failed to fetch device history"),W([]))}catch(Re){console.error("Error fetching device history:",Re),We.error("Failed to fetch device history"),W([])}finally{Se(!1)}},be=()=>{if(!ue)return;const pe=`Maintenance Report - ${ue.name}`,Re=Te(ue.organization_id),Ke=he.map(ht=>{const Bt=(ht.status||"Yet to Start").toString(),xt=Bt.toLowerCase(),at=xt.includes("progress")?"status-inprogress":xt.includes("complete")||xt.includes("completed")?"status-completed":"status-default";return`
      <tr>
        <td style="padding:8px;border:1px solid #e5e7eb">${new Date(ht.created_at).toLocaleDateString("en-IN")}</td>
        <td style="padding:8px;border:1px solid #e5e7eb">${oe(ht.technician_id)}</td>
        <td style="padding:8px;border:1px solid #e5e7eb"><span class="${at}">${Bt}</span></td>
        <td style="padding:8px;border:1px solid #e5e7eb">${(ht.description||"-").replace(/\n/g,"<br/>")}</td>
      </tr>
    `}).join(""),Ze=(()=>{if(!he||he.length===0)return null;const ht=he.reduce((xt,at)=>{const yt=new Date(at.created_at);return yt>xt?yt:xt},new Date(he[0].created_at)),Bt=new Date(ht);return Bt.setDate(Bt.getDate()+90),Bt.toLocaleDateString("en-IN")})(),Mt=`
      <html>
        <head>
          <title>${pe}</title>
          <meta name="viewport" content="width=device-width,initial-scale=1" />
          <style>
            body { font-family: Inter, Arial, Helvetica, sans-serif; padding: 20px; color: #111; background: #fff }
            .top { display:flex; gap:12px; align-items:center }
            /* Logo box */
            .logo { width:72px; height:72px; border-radius:6px; display:inline-block; background:#1e90ff; color:#fff; font-weight:700; display:flex; align-items:center; justify-content:center; font-size:20px }
            .org-title { text-align:center; flex:1 }
            /* Large red uppercase header to match supplied image */
            .org-title .big { font-size:44px; font-weight:800; color: rgb(204,0,0); letter-spacing:2px; text-transform:uppercase }
            .org-title .addr { font-size:16px; font-weight:700; color:#111; margin-top:8px }
            .org-title .contact { font-size:14px; color:#111; margin-top:6px }
            /* thicker separator like the image */
            .sep { height:3px; background:#d1d5db; margin:18px 0; width:100%; }
            /* Watermark (logo) - hidden in preview, shown only when printing */
            .watermark { display:none; }
            @media print {
              .watermark { display:block; position:fixed; left:50%; top:40%; transform:translate(-50%,-50%) rotate(-25deg); width:260px; opacity:0.08; pointer-events:none; z-index:0 }
            }
            /* Report title and org box styling */
            .report-title { text-align:center; margin-top:6px; font-weight:700; font-size:14px; color:#2c3e50 }
            .org-box { background:transparent; padding:8px; border-radius:6px; margin-top:8px; text-align:center; font-weight:700; color:#2563eb }
            .serial-red { color: rgb(204,0,0); font-weight:600 }
            .meta { display:flex; justify-content:space-between; margin-top:8px; font-size:12px; color:#505050 }
            .summary { background:#f1f8e9; padding:12px; border-radius:8px; margin-top:12px }
            table { border-collapse:collapse; width:100%; margin-top:12px }
            th, td { padding:8px; border:1px solid #e5e7eb; text-align:left }
            thead th { background: #1976b8; color: #fff; font-weight:700; padding:10px; }
            .status-inprogress { display:inline-block; background:#fff4ce; color:#b85c00; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-completed { display:inline-block; background:#e6f9ec; color:#176f2b; padding:6px 10px; border-radius:6px; font-weight:700 }
            .status-default { display:inline-block; background:#f3f4f6; color:#374151; padding:6px 10px; border-radius:6px; font-weight:600 }
            @media print { body { padding:8mm } }
          </style>
        </head>
        <body>
          <div class="top">
            <div>
              <img src="/npa-logo.png" onerror="this.style.display='none'" style="width:72px;height:72px;object-fit:contain" />
              <div class="logo" style="display:none">NP</div>
            </div>
            <div class="org-title">
              <div class="" style="color:red;font-size:30px;font-weight:Bold">NATIONAL PROCESS AUTOMATION</div>
              <div class="addr">#48, 4th cross, Ganesha Block, Nandini Layout, Bangalore-560096</div>
              <div class="contact">Ph: 080 23498376, 9900143996 &nbsp; e-mail: tech.npa@gmail.com</div>
              <div class="contact">www.npautomation.in</div>
            </div>
            <!-- Generated date removed per request -->
          </div>
          <div class="sep"></div>

          <!-- Watermark (print-only logo) -->
          <img src="/npa-logo.png" class="watermark" onerror="this.style.display='none'" alt="NPA watermark" />

          <div class="report-title">DEVICE SERVICE REPORT</div>
          <div class="org-box">${Re.toUpperCase()}</div>

          <div class="meta">
            <div>Device: <strong>${ue.name}</strong>  Serial: <strong class="serial-red">${ue.serial_number}</strong></div>
            <div>Report ID: NPA-${new Date().toISOString().split("T")[0]}</div>
          </div>

          <div class="summary">
            <div>Total Maintenance Records: <strong>${he.length}</strong></div>
            <div style="margin-top:6px">Next Maintenance Date: <strong>${Ze||"-"}</strong></div>
          </div>

          ${he.length===0?`
            <div style="padding:16px;color:#6b7280">No maintenance records found for this device.</div>
          `:`
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Technician</th>
                  <th>Status</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                ${Ke}
              </tbody>
            </table>
          `}
        </body>
      </html>
    `,ct=window.open("","_blank");ct&&(ct.document.write(Mt),ct.document.close(),setTimeout(()=>ct.print(),200))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Devices"}),u.jsx("p",{className:"text-gray-600",children:"Manage water dispenser devices"})]}),u.jsxs(ti,{open:c,onOpenChange:d,children:[u.jsx(Bc,{asChild:!0,children:u.jsxs(nt,{disabled:Lt.length===0,children:[u.jsx(cd,{className:"w-4 h-4 mr-2"}),"Add Device"]})}),u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Add New Device"}),u.jsx(wi,{children:"Register a new water dispenser device"})]}),u.jsxs("form",{onSubmit:J,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"deviceName",children:"Device Name *"}),u.jsx(Zt,{id:"deviceName",value:z.deviceName,onChange:pe=>ce("deviceName",pe.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"brandSerialNumber",children:"Brand Serial No *"}),u.jsx(Zt,{id:"brandSerialNumber",value:z.brandSerialNumber,onChange:pe=>ce("brandSerialNumber",pe.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"model",children:"Model"}),u.jsx(Zt,{id:"model",value:z.model,onChange:pe=>ce("model",pe.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"deviceType",children:"Device Type *"}),u.jsxs(ts,{value:z.deviceType,onValueChange:pe=>ce("deviceType",pe),children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select device type"})}),u.jsxs(is,{children:[u.jsx(pr,{value:"Comprehensive",children:"Comprehensive"}),u.jsx(pr,{value:"Non Comprehensive",children:"Non Comprehensive"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"organization",children:"Organization *"}),u.jsxs(ts,{value:z.organizationId,onValueChange:pe=>ce("organizationId",pe),required:!0,children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select organization"})}),u.jsx(is,{children:Lt.map(pe=>u.jsx(pr,{value:pe.id,children:pe.name},pe.id))})]})]}),u.jsx(nt,{type:"submit",className:"w-full",children:"Create Device"})]})]})]})]}),u.jsx(ti,{open:f,onOpenChange:p,children:u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Edit Device"}),u.jsx(wi,{children:"Update device information"})]}),u.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-deviceName",children:"Device Name *"}),u.jsx(Zt,{id:"edit-deviceName",value:z.deviceName,onChange:pe=>ce("deviceName",pe.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-serialNumber",children:"Serial Number"}),u.jsx(Zt,{id:"edit-serialNumber",value:z.serialNumber,onChange:pe=>ce("serialNumber",pe.target.value),disabled:!0}),u.jsx("p",{className:"text-xs text-slate-500",children:"Serial numbers are generated automatically and cannot be changed here."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-brandSerialNumber",children:"Brand Serial No *"}),u.jsx(Zt,{id:"edit-brandSerialNumber",value:z.brandSerialNumber,onChange:pe=>ce("brandSerialNumber",pe.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-model",children:"Model"}),u.jsx(Zt,{id:"edit-model",value:z.model,onChange:pe=>ce("model",pe.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-deviceType",children:"Device Type *"}),u.jsxs(ts,{value:z.deviceType,onValueChange:pe=>ce("deviceType",pe),children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select device type"})}),u.jsxs(is,{children:[u.jsx(pr,{value:"Comprehensive",children:"Comprehensive"}),u.jsx(pr,{value:"Non Comprehensive",children:"Non Comprehensive"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"edit-organization",children:"Organization *"}),u.jsxs(ts,{value:z.organizationId,onValueChange:pe=>ce("organizationId",pe),required:!0,children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select organization"})}),u.jsx(is,{children:Lt.map(pe=>u.jsx(pr,{value:pe.id,children:pe.name},pe.id))})]})]}),u.jsx(nt,{type:"submit",className:"w-full",children:"Update Device"})]})]})}),Lt.length===0&&u.jsx(si,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200 shadow-md",children:u.jsx(ai,{className:"pt-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("p",{className:"text-yellow-900 font-medium",children:"No Organizations Available"}),u.jsx("p",{className:"text-yellow-700 text-sm",children:"You must add at least one active organization before you can add devices."})]})]})})}),u.jsxs(si,{className:"shadow-sm border-2 border-gray-400",children:[u.jsx(Ii,{className:"bg-white border-b-2 border-gray-400 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ss,{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:u.jsx(qa,{className:"w-5 h-5 text-slate-700"})}),u.jsxs("span",{className:"text-slate-900",children:["Devices (",lt.length,")"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Zt,{id:"search-brand-serial",placeholder:"Search by brand serial no",value:X,onChange:pe=>ne(pe.target.value),className:"w-60"}),u.jsxs("select",{value:P,onChange:pe=>D(pe.target.value),className:"border rounded px-2 py-1 text-sm",title:"Filter by organization",children:[u.jsx("option",{value:"",children:"All Orgs"}),Lt.map(pe=>u.jsx("option",{value:pe.id,children:pe.organization_code||pe.name},pe.id))]}),u.jsxs("select",{value:ee,onChange:pe=>$(pe.target.value),className:"border rounded px-2 py-1 text-sm",title:"Sort by",children:[u.jsx("option",{value:"created",children:"Newest"}),u.jsx("option",{value:"name",children:"Name"}),u.jsx("option",{value:"serial",children:"Serial"}),u.jsx("option",{value:"brand",children:"Brand Serial"})]}),u.jsxs("select",{value:F,onChange:pe=>ae(pe.target.value),className:"border rounded px-2 py-1 text-sm",title:"Sort direction",children:[u.jsx("option",{value:"desc",children:"Desc"}),u.jsx("option",{value:"asc",children:"Asc"})]}),u.jsx(vt,{htmlFor:"show-archived-devices",className:"text-sm text-slate-600 cursor-pointer select-none",children:"Show Archived"}),u.jsx(ym,{id:"show-archived-devices",checked:L,onCheckedChange:O})]})]})}),u.jsx(ai,{className:"p-0",children:a?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-12 h-12 border-3 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Loading devices..."})]}):lt.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx(qa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-500",children:L?"No archived devices found.":"No devices found. Add your first device!"})]}):u.jsx("div",{className:"divide-y divide-gray-200",children:lt.map(pe=>u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:u.jsx(qa,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-slate-900",children:pe.name}),u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[pe.serial_number," ",pe.brand_serial_number?`  ${pe.brand_serial_number}`:"","  ",Te(pe.organization_id),pe.model&&`  ${pe.model}`]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>qe(pe.serial_number||""),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View QR code",children:u.jsx(lm,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>ft(pe),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"View maintenance history",children:u.jsx(pl,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>Le(pe),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:"Edit device",children:u.jsx(Rf,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>we(pe),className:"text-slate-600 hover:text-slate-900 hover:bg-slate-100",title:pe.is_archived?"Unarchive":"Archive",children:pe.is_archived?u.jsx(th,{className:"w-4 h-4"}):u.jsx(id,{className:"w-4 h-4"})})]})]},pe.id))})})]}),u.jsx(ti,{open:y,onOpenChange:N,children:u.jsxs(ni,{className:"max-w-sm",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Device QR Code"}),u.jsx(wi,{children:"Scan this QR code to identify the device"})]}),u.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[j&&u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"qr-rainbow-bg absolute inset-0 rounded-2xl opacity-80 blur-xl"}),u.jsx("div",{className:"relative rounded-2xl bg-white p-3 shadow-lg",children:u.jsx("img",{id:"device-qr-img",src:j,alt:"QR Code",className:"w-64 h-64"})})]}),u.jsx("p",{className:"text-sm text-gray-600 text-center break-all",children:_}),u.jsxs("div",{className:"flex gap-3 mt-2",children:[u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{const pe=document.createElement("a");pe.href=j,pe.download="device-qr.png",pe.click()},children:"Download"}),u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{const pe=window.open("","_blank");pe&&(pe.document.write(`<html><head><title>Print QR</title></head><body style='text-align:center;padding:2em;'><img src='${j}' style='width:300px;height:300px;'/><br/><p style='font-size:12px;margin-top:1em;'>${_}</p></body></html>`),pe.document.close(),pe.focus(),pe.print())},children:"Print"})]})]})]})}),u.jsx(ti,{open:q,onOpenChange:V,children:u.jsxs(ni,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[u.jsx(ri,{children:u.jsxs("div",{className:"w-full flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs(ii,{children:["Maintenance History",ue?`: ${ue.name}`:""]}),u.jsx(wi,{children:ue?u.jsxs("span",{className:"text-xs",children:["Serial: ",ue.serial_number,"  Org: ",Te(ue.organization_id)]}):null})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(nt,{variant:"outline",size:"sm",onClick:be,disabled:he.length===0,title:he.length===0?"No records to print":"Print device report",children:[u.jsx(Hw,{className:"w-4 h-4 mr-2"})," Print"]})})]})}),ye?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading history..."}):he.length===0?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"No maintenance records found for this device."}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("div",{children:[u.jsx("style",{children:".history-table thead th { background:#1976b8; color:#fff; font-weight:700; padding:8px 10px } .history-table td { padding:6px 8px } .history-table tr { height:36px }"}),u.jsxs(zc,{className:"history-table",children:[u.jsx(Uc,{children:u.jsxs(Ps,{children:[u.jsx(tn,{children:"Date"}),u.jsx(tn,{children:"Technician"}),u.jsx(tn,{children:"Status"}),u.jsx(tn,{children:"Notes"})]})}),u.jsx($c,{children:he.map(pe=>u.jsxs(Ps,{children:[u.jsx(nn,{children:new Date(pe.created_at).toLocaleDateString("en-IN")}),u.jsx(nn,{children:oe(pe.technician_id)}),u.jsx(nn,{children:u.jsx("span",{className:"px-2 py-1 rounded text-xs border",children:pe.status||"Yet to Start"})}),u.jsx(nn,{children:pe.description||"-"})]},pe.id))})]})]})})]})})]})},AA=({token:n})=>{const[e,t]=I.useState([]),[r,i]=I.useState(!0),[a,l]=I.useState(!1),[c,d]=I.useState(null),[f,p]=I.useState(!1),[v,x]=I.useState(null),[y,N]=I.useState(""),[_,k]=I.useState(null),[j,T]=I.useState(null),[L,O]=I.useState(!1),[X,ne]=I.useState(!1),[ee,$]=I.useState(!1),[F,ae]=I.useState(""),[P,D]=I.useState(""),[q,V]=I.useState(""),[ue,de]=I.useState({name:"",contactNo:"",email:"",pan:"",aadhar:""}),[he,W]=I.useState(""),ye=async()=>{try{const ce=await fetch("http://localhost:8000/make-server-60660975/technicians",{headers:{Authorization:`Bearer ${n}`}}),Le=await ce.json();if(!ce.ok){console.error("Error fetching technicians:",Le.error),We.error(Le.error||"Failed to fetch technicians");return}t(Le.technicians||[])}catch(ce){console.error("Error fetching technicians:",ce),We.error("Failed to fetch technicians")}finally{i(!1)}};I.useEffect(()=>{ye()},[n]);const Se=async ce=>{ce.preventDefault();try{const Le={...ue,pan:(ue.pan||"").toUpperCase(),aadhar:(ue.aadhar||"").replace(/\D/g,"").slice(0,12)},qe=c?`http://localhost:8000/make-server-60660975/technicians/${c.id}`:"http://localhost:8000/make-server-60660975/technicians",Te=await fetch(qe,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(Le)}),oe=await Te.json();if(!Te.ok){console.error(`Error ${c?"updating":"creating"} technician:`,oe.error),We.error(oe.error||`Failed to ${c?"update":"create"} technician`);return}We.success(`Technician ${c?"updated":"created"} successfully!`),l(!1),d(null),de({name:"",contactNo:"",email:"",pan:"",aadhar:""}),!c&&oe?.credentials?.email&&oe?.credentials?.password&&oe?.technician&&(x(oe.technician),N(oe.credentials.email),k(oe.technician.auth_user_id||null),T(oe.credentials.password),p(!0)),ye()}catch(Le){console.error(`Error ${c?"updating":"creating"} technician:`,Le),We.error(`Failed to ${c?"update":"create"} technician`)}},Y=async ce=>{try{x(ce),T(null),k(null),N(""),p(!0);const Le=await fetch(`http://localhost:8000/make-server-60660975/technicians/${ce.id}/auth`,{headers:{Authorization:`Bearer ${n}`}}),qe=await Le.json();if(!Le.ok){We.error(qe?.error||"Failed to load technician login");return}k(qe.authUserId||null),N(qe.authEmail||"")}catch(Le){console.error(Le),We.error("Failed to load technician login")}},R=async()=>{if(v){if(!y||!y.includes("@")){We.error("Enter a valid email");return}try{O(!0);const ce=await fetch(`http://localhost:8000/make-server-60660975/technicians/${v.id}/auth`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({email:y})}),Le=await ce.json();if(!ce.ok){We.error(Le?.error||"Failed to update email");return}k(Le.authUserId||_),T(Le.password||null),We.success("Technician login updated")}catch(ce){console.error(ce),We.error("Failed to update email")}finally{O(!1)}}},z=async()=>{if(v)try{O(!0);const ce=await fetch(`http://localhost:8000/make-server-60660975/technicians/${v.id}/auth/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${n}`}}),Le=await ce.json();if(!ce.ok){We.error(Le?.error||"Failed to reset password");return}T(Le.password),We.success("Password reset")}catch(ce){console.error(ce),We.error("Failed to reset password")}finally{O(!1)}},K=ce=>{d(ce);const qe=(ce.aadhar||"").replace(/\D/g,"").replace(/(.{4})/g,"$1-").replace(/-$/,"");de({name:ce.name,contactNo:(ce.phone||"").replace(/\D/g,"").slice(0,10),email:ce.email,pan:ce.pan||"",aadhar:qe}),l(!0)},te=async(ce,Le)=>{try{const qe=await fetch(`http://localhost:8000/make-server-60660975/technicians/${ce}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({archived:!Le})}),Te=await qe.json();if(!qe.ok){console.error("Error archiving technician:",Te.error),We.error(Te.error||"Failed to archive technician");return}We.success(`Technician ${Le?"unarchived":"archived"} successfully!`),ye()}catch(qe){console.error("Error archiving technician:",qe),We.error("Failed to archive technician")}},me=ce=>{l(ce),ce||(d(null),de({name:"",contactNo:"",email:"",pan:"",aadhar:""}))},re=(ce,Le)=>{if(ce==="contactNo"){const qe=Le.replace(/\D/g,"").slice(0,10);de({...ue,contactNo:qe});return}if(ce==="pan"){const qe=Le.replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,10);de({...ue,pan:qe});return}if(ce==="aadhar"){const Te=Le.replace(/\D/g,"").slice(0,12).replace(/(.{4})/g,"$1-").replace(/-$/,"");de({...ue,aadhar:Te});return}de({...ue,[ce]:Le})},J=(ce,Le)=>ce.code&&ce.code.length>0?`NPA-TECH-${ce.code}`:ce.id&&ce.id.length>0?`NPA-TECH-${ce.id}`:`NPA-TECH-${String(Le+1).padStart(6,"0")}`,fe=async(ce,Le)=>{try{const qe=J(ce,Le),Te=await Ju.toDataURL(qe,{width:300,margin:2});D(Te),ae(qe),V(ce.name),$(!0)}catch(qe){console.error("Error generating QR code:",qe),We.error("Failed to generate QR code")}},we=e.filter(ce=>X?ce.is_archived===!0:ce.is_archived!==!0).filter(ce=>ce.name.toLowerCase().includes(he.toLowerCase().trim()));return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"Technicians"}),u.jsx("p",{className:"text-gray-600 font-bold",children:"Manage maintenance technicians"})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"text",className:"border-2 border-gray-400 rounded px-2 py-1 text-sm min-w-[180px]",placeholder:"Search by name...",value:he,onChange:ce=>W(ce.target.value)}),u.jsxs(nt,{variant:"outline",onClick:()=>ne(!X),children:[X?u.jsx(th,{className:"w-4 h-4 mr-2"}):u.jsx(id,{className:"w-4 h-4 mr-2"}),X?"Show Active":"Show Archived"]}),u.jsxs(ti,{open:a,onOpenChange:me,children:[u.jsx(Bc,{asChild:!0,children:u.jsxs(nt,{children:[u.jsx(cd,{className:"w-4 h-4 mr-2"}),"Add Technician"]})}),u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:c?"Edit Technician":"Add New Technician"}),u.jsx(wi,{children:c?"Update technician information":"Register a new maintenance technician"})]}),u.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"name",children:"Name *"}),u.jsx(Zt,{id:"name",value:ue.name,onChange:ce=>re("name",ce.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"contactNo",children:"Contact Number *"}),u.jsx(Zt,{id:"contactNo",type:"tel",value:ue.contactNo,maxLength:10,pattern:"[0-9]{10}",inputMode:"numeric",onChange:ce=>re("contactNo",ce.target.value.replace(/\D/g,"").slice(0,10)),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"email",children:"Email *"}),u.jsx(Zt,{id:"email",type:"email",value:ue.email,onChange:ce=>re("email",ce.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"pan",children:"PAN *"}),u.jsx(Zt,{id:"pan",value:ue.pan,onChange:ce=>re("pan",ce.target.value.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10,required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"aadhar",children:"Aadhar *"}),u.jsx(Zt,{id:"aadhar",value:ue.aadhar,onChange:ce=>re("aadhar",ce.target.value),placeholder:"1234-5678-9012",maxLength:14,inputMode:"numeric",pattern:"[0-9]{4}-[0-9]{4}-[0-9]{4}",required:!0})]}),u.jsx(nt,{type:"submit",className:"w-full",onClick:ce=>{if(!ue.contactNo||ue.contactNo.replace(/\D/g,"").length!==10){ce.preventDefault(),We.error("Phone number must be exactly 10 digits");return}if((ue.aadhar||"").replace(/\D/g,"").length!==12){ce.preventDefault(),We.error("Aadhar number must be 12 digits (format: 1234-5678-9012)");return}},children:c?"Update Technician":"Create Technician"})]})]})]})]})]}),u.jsxs(si,{className:"shadow-sm border-2 border-gray-400",children:[u.jsx(Ii,{className:"bg-white border-b-2 border-gray-400 py-4",children:u.jsxs(ss,{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-md bg-slate-100 border border-slate-200",children:u.jsx(Yd,{className:"w-5 h-5 text-slate-700"})}),u.jsxs("span",{className:"text-slate-900",children:[X?"Archived ":"","Technicians (",we.length,")"]})]})}),u.jsx(ai,{className:"p-0",children:r?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-12 h-12 border-3 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Loading technicians..."})]}):we.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx(Yd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-500",children:X?"No archived technicians found.":"No technicians found. Add your first technician!"})]}):u.jsx("div",{className:"divide-y divide-gray-200",children:we.map((ce,Le)=>u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:u.jsx(Yd,{className:"w-5 h-5 text-slate-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-slate-900 font-bold",children:ce.name}),u.jsx(hh,{variant:"outline",className:"text-xs font-mono",children:ce.code||`TECH-${String(Le+1).padStart(6,"0")}`})]}),u.jsxs("p",{className:"text-xs text-slate-500 font-bold mt-0.5",children:[ce.email,"  ",ce.phone]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>fe(ce,Le),title:"Show QR Code",children:u.jsx(lm,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>Y(ce),title:"Technician login",children:u.jsx(qw,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>K(ce),children:u.jsx(JN,{className:"w-4 h-4"})}),u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>te(ce.id,ce.is_archived||!1),title:ce.is_archived?"Unarchive":"Archive",children:ce.is_archived?u.jsx(th,{className:"w-4 h-4"}):u.jsx(id,{className:"w-4 h-4"})})]})]},ce.id))})})]}),u.jsx(ti,{open:f,onOpenChange:ce=>{p(ce),ce||(x(null),N(""),k(null),T(null))},children:u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Technician Login"}),u.jsx(wi,{children:v?v.name:"Manage technician portal login"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"tech-auth-email",children:"Login Email"}),u.jsx(Zt,{id:"tech-auth-email",type:"email",value:y,onChange:ce=>N(ce.target.value),placeholder:"techname@npa.com"}),_?u.jsx("p",{className:"text-xs text-slate-500",children:"Auth user linked."}):u.jsx("p",{className:"text-xs text-slate-500",children:"No auth user linked yet (saving will create one)."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(nt,{variant:"outline",onClick:R,disabled:L||!v,children:"Save Email"}),u.jsx(nt,{variant:"outline",onClick:z,disabled:L||!v||!_,children:"Reset Password"})]}),j?u.jsxs("div",{className:"rounded-md border p-3 bg-slate-50",children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Generated password (copy now)"}),u.jsx("div",{className:"mt-1 font-mono text-sm break-all",children:j})]}):null]})]})}),u.jsx(ti,{open:ee,onOpenChange:$,children:u.jsxs(ni,{className:"max-w-sm",children:[u.jsx(ri,{children:u.jsx(ii,{children:"Technician QR Code"})}),u.jsx("div",{className:"flex flex-col items-center space-y-4",children:P&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"qr-rainbow-bg absolute inset-0 rounded-2xl opacity-80 blur-xl"}),u.jsx("div",{className:"relative rounded-2xl bg-white p-3 shadow-lg",children:u.jsx("img",{src:P,alt:"Technician QR Code",className:"w-64 h-64"})})]}),u.jsx("p",{className:"text-sm text-gray-600 text-center break-all",children:F}),u.jsxs("div",{className:"flex gap-3 mt-2",children:[u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{const ce=document.createElement("a");ce.href=P,ce.download=`${F}-qr-code.png`,ce.click()},children:"Download"}),u.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{const ce=window.open("","_blank");ce&&(ce.document.write(`
                          <html>
                            <head>
                              <title>Print QR Code - ${F}</title>
                              <style>
                                body { text-align: center; padding: 2em; font-family: Arial, sans-serif; }
                              </style>
                            </head>
                            <body>
                              <img src="${P}" style="width:300px;height:300px;" />
                              <br/>
                              <p style="font-size:12px;margin-top:1em;">${F}</p>
                            </body>
                          </html>
                        `),ce.document.close(),ce.print())},children:"Print"})]})]})})]})})]})};function Sf({className:n,...e}){return u.jsx("textarea",{"data-slot":"textarea",style:{boxShadow:"0 2px 4px rgba(0,0,0,0.06)",borderWidth:"0.5px"},className:Un("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}var ip="Checkbox",[EA]=ud(ip),[PA,Em]=EA(ip);function LA(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:a,form:l,name:c,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:v}=n,[x,y]=nh({prop:t,defaultProp:i??!1,onChange:d,caller:ip}),[N,_]=I.useState(null),[k,j]=I.useState(null),T=I.useRef(!1),L=N?!!l||!!N.closest("form"):!0,O={checked:x,disabled:a,setChecked:y,control:N,setControl:_,name:c,form:l,value:p,hasConsumerStoppedPropagationRef:T,required:f,defaultChecked:Xl(i)?!1:i,isFormControl:L,bubbleInput:k,setBubbleInput:j};return u.jsx(PA,{scope:e,...O,children:TA(v)?v(O):r})}var kx="CheckboxTrigger",jx=I.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},i)=>{const{control:a,value:l,disabled:c,checked:d,required:f,setControl:p,setChecked:v,hasConsumerStoppedPropagationRef:x,isFormControl:y,bubbleInput:N}=Em(kx,n),_=sr(i,p),k=I.useRef(d);return I.useEffect(()=>{const j=a?.form;if(j){const T=()=>v(k.current);return j.addEventListener("reset",T),()=>j.removeEventListener("reset",T)}},[a,v]),u.jsx(Cn.button,{type:"button",role:"checkbox","aria-checked":Xl(d)?"mixed":d,"aria-required":f,"data-state":Tx(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:_,onKeyDown:Vn(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Vn(t,j=>{v(T=>Xl(T)?!0:!T),N&&y&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})})});jx.displayName=kx;var Cx=I.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:d,onCheckedChange:f,form:p,...v}=n;return u.jsx(LA,{__scopeCheckbox:t,checked:i,defaultChecked:a,disabled:c,required:l,onCheckedChange:f,name:r,form:p,value:d,internal_do_not_use_render:({isFormControl:x})=>u.jsxs(u.Fragment,{children:[u.jsx(jx,{...v,ref:e,__scopeCheckbox:t}),x&&u.jsx(Lx,{__scopeCheckbox:t})]})})});Cx.displayName=ip;var Ax="CheckboxIndicator",Ex=I.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,a=Em(Ax,t);return u.jsx(uh,{present:r||Xl(a.checked)||a.checked===!0,children:u.jsx(Cn.span,{"data-state":Tx(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});Ex.displayName=Ax;var Px="CheckboxBubbleInput",Lx=I.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:l,required:c,disabled:d,name:f,value:p,form:v,bubbleInput:x,setBubbleInput:y}=Em(Px,n),N=sr(t,y),_=mm(a),k=vm(r);I.useEffect(()=>{const T=x;if(!T)return;const L=window.HTMLInputElement.prototype,X=Object.getOwnPropertyDescriptor(L,"checked").set,ne=!i.current;if(_!==a&&X){const ee=new Event("click",{bubbles:ne});T.indeterminate=Xl(a),X.call(T,Xl(a)?!1:a),T.dispatchEvent(ee)}},[x,_,a,i]);const j=I.useRef(Xl(a)?!1:a);return u.jsx(Cn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:c,disabled:d,name:f,value:p,form:v,...e,tabIndex:-1,ref:N,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Lx.displayName=Px;function TA(n){return typeof n=="function"}function Xl(n){return n==="indeterminate"}function Tx(n){return Xl(n)?"indeterminate":n?"checked":"unchecked"}function RA({className:n,...e}){return u.jsx(Cx,{"data-slot":"checkbox",className:Un("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:u.jsx(Ex,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:u.jsx(Uw,{className:"size-3.5"})})})}function zn(n){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(n)}var Va=Uint8Array,Js=Uint16Array,Pm=Int32Array,Lm=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tm=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L2=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rx=function(n,e){for(var t=new Js(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Pm(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},Ox=Rx(Lm,2),OA=Ox.b,B0=Ox.r;OA[28]=258,B0[258]=28;var IA=Rx(Tm,0),T2=IA.r,z0=new Js(32768);for(var ir=0;ir<32768;++ir){var Wl=(ir&43690)>>1|(ir&21845)<<1;Wl=(Wl&52428)>>2|(Wl&13107)<<2,Wl=(Wl&61680)>>4|(Wl&3855)<<4,z0[ir]=((Wl&65280)>>8|(Wl&255)<<8)>>1}var Jd=(function(n,e,t){for(var r=n.length,i=0,a=new Js(e);i<r;++i)n[i]&&++a[n[i]-1];var l=new Js(e);for(i=1;i<e;++i)l[i]=l[i-1]+a[i-1]<<1;var c;if(t){c=new Js(1<<e);var d=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],p=e-n[i],v=l[n[i]-1]++<<p,x=v|(1<<p)-1;v<=x;++v)c[z0[v]>>d]=f}else for(c=new Js(r),i=0;i<r;++i)n[i]&&(c[i]=z0[l[n[i]-1]++]>>15-n[i]);return c}),Vc=new Va(288);for(var ir=0;ir<144;++ir)Vc[ir]=8;for(var ir=144;ir<256;++ir)Vc[ir]=9;for(var ir=256;ir<280;++ir)Vc[ir]=7;for(var ir=280;ir<288;++ir)Vc[ir]=8;var zf=new Va(32);for(var ir=0;ir<32;++ir)zf[ir]=5;var DA=Jd(Vc,9,0),FA=Jd(zf,5,0),Ix=function(n){return(n+7)/8|0},MA=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Va(n.subarray(e,t))},ll=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},$d=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Ug=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:Fx,l:0};if(i==1){var l=new Va(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(X,ne){return X.f-ne.f}),t.push({s:-1,f:25001});var c=t[0],d=t[1],f=0,p=1,v=2;for(t[0]={s:-1,f:c.f+d.f,l:c,r:d};p!=i-1;)c=t[t[f].f<t[v].f?f++:v++],d=t[f!=p&&t[f].f<t[v].f?f++:v++],t[p++]={s:-1,f:c.f+d.f,l:c,r:d};for(var x=a[0].s,r=1;r<i;++r)a[r].s>x&&(x=a[r].s);var y=new Js(x+1),N=U0(t[p-1],y,0);if(N>e){var r=0,_=0,k=N-e,j=1<<k;for(a.sort(function(ne,ee){return y[ee.s]-y[ne.s]||ne.f-ee.f});r<i;++r){var T=a[r].s;if(y[T]>e)_+=j-(1<<N-y[T]),y[T]=e;else break}for(_>>=k;_>0;){var L=a[r].s;y[L]<e?_-=1<<e-y[L]++-1:++r}for(;r>=0&&_;--r){var O=a[r].s;y[O]==e&&(--y[O],++_)}N=e}return{t:new Va(y),l:N}},U0=function(n,e,t){return n.s==-1?Math.max(U0(n.l,e,t+1),U0(n.r,e,t+1)):e[n.s]=t},R2=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Js(++e),r=0,i=n[0],a=1,l=function(d){t[r++]=d},c=1;c<=e;++c)if(n[c]==i&&c!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(i),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(i);a=1,i=n[c]}return{c:t.subarray(0,r),n:e}},qd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Dx=function(n,e,t){var r=t.length,i=Ix(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},O2=function(n,e,t,r,i,a,l,c,d,f,p){ll(e,p++,t),++i[256];for(var v=Ug(i,15),x=v.t,y=v.l,N=Ug(a,15),_=N.t,k=N.l,j=R2(x),T=j.c,L=j.n,O=R2(_),X=O.c,ne=O.n,ee=new Js(19),$=0;$<T.length;++$)++ee[T[$]&31];for(var $=0;$<X.length;++$)++ee[X[$]&31];for(var F=Ug(ee,7),ae=F.t,P=F.l,D=19;D>4&&!ae[L2[D-1]];--D);var q=f+5<<3,V=qd(i,Vc)+qd(a,zf)+l,ue=qd(i,x)+qd(a,_)+l+14+3*D+qd(ee,ae)+2*ee[16]+3*ee[17]+7*ee[18];if(d>=0&&q<=V&&q<=ue)return Dx(e,p,n.subarray(d,d+f));var de,he,W,ye;if(ll(e,p,1+(ue<V)),p+=2,ue<V){de=Jd(x,y,0),he=x,W=Jd(_,k,0),ye=_;var Se=Jd(ae,P,0);ll(e,p,L-257),ll(e,p+5,ne-1),ll(e,p+10,D-4),p+=14;for(var $=0;$<D;++$)ll(e,p+3*$,ae[L2[$]]);p+=3*D;for(var Y=[T,X],R=0;R<2;++R)for(var z=Y[R],$=0;$<z.length;++$){var K=z[$]&31;ll(e,p,Se[K]),p+=ae[K],K>15&&(ll(e,p,z[$]>>5&127),p+=z[$]>>12)}}else de=DA,he=Vc,W=FA,ye=zf;for(var $=0;$<c;++$){var te=r[$];if(te>255){var K=te>>18&31;$d(e,p,de[K+257]),p+=he[K+257],K>7&&(ll(e,p,te>>23&31),p+=Lm[K]);var me=te&31;$d(e,p,W[me]),p+=ye[me],me>3&&($d(e,p,te>>5&8191),p+=Tm[me])}else $d(e,p,de[te]),p+=he[te]}return $d(e,p,de[256]),p+he[256]},BA=new Pm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fx=new Va(0),zA=function(n,e,t,r,i,a){var l=a.z||n.length,c=new Va(r+l+5*(1+Math.ceil(l/7e3))+i),d=c.subarray(r,c.length-i),f=a.l,p=(a.r||0)&7;if(e){p&&(d[0]=a.r>>3);for(var v=BA[e-1],x=v>>13,y=v&8191,N=(1<<t)-1,_=a.p||new Js(32768),k=a.h||new Js(N+1),j=Math.ceil(t/3),T=2*j,L=function(Te){return(n[Te]^n[Te+1]<<j^n[Te+2]<<T)&N},O=new Pm(25e3),X=new Js(288),ne=new Js(32),ee=0,$=0,F=a.i||0,ae=0,P=a.w||0,D=0;F+2<l;++F){var q=L(F),V=F&32767,ue=k[q];if(_[V]=ue,k[q]=V,P<=F){var de=l-F;if((ee>7e3||ae>24576)&&(de>423||!f)){p=O2(n,d,0,O,X,ne,$,ae,D,F-D,p),ae=ee=$=0,D=F;for(var he=0;he<286;++he)X[he]=0;for(var he=0;he<30;++he)ne[he]=0}var W=2,ye=0,Se=y,Y=V-ue&32767;if(de>2&&q==L(F-Y))for(var R=Math.min(x,de)-1,z=Math.min(32767,F),K=Math.min(258,de);Y<=z&&--Se&&V!=ue;){if(n[F+W]==n[F+W-Y]){for(var te=0;te<K&&n[F+te]==n[F+te-Y];++te);if(te>W){if(W=te,ye=Y,te>R)break;for(var me=Math.min(Y,te-2),re=0,he=0;he<me;++he){var J=F-Y+he&32767,fe=_[J],we=J-fe&32767;we>re&&(re=we,ue=J)}}}V=ue,ue=_[V],Y+=V-ue&32767}if(ye){O[ae++]=268435456|B0[W]<<18|T2[ye];var ce=B0[W]&31,Le=T2[ye]&31;$+=Lm[ce]+Tm[Le],++X[257+ce],++ne[Le],P=F+W,++ee}else O[ae++]=n[F],++X[n[F]]}}for(F=Math.max(F,P);F<l;++F)O[ae++]=n[F],++X[n[F]];p=O2(n,d,f,O,X,ne,$,ae,D,F-D,p),f||(a.r=p&7|d[p/8|0]<<3,p-=7,a.h=k,a.p=_,a.i=F,a.w=P)}else{for(var F=a.w||0;F<l+f;F+=65535){var qe=F+65535;qe>=l&&(d[p/8|0]=f,qe=l),p=Dx(d,p+1,n.subarray(F,qe))}a.i=l}return MA(c,0,r+Ix(p)+i)},Mx=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},UA=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new Va(a.length+n.length);l.set(a),l.set(n,a.length),n=l,i.w=a.length}return zA(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},Bx=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},$A=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Mx();i.p(e.dictionary),Bx(n,2,i.d())}};function $0(n,e){e||(e={});var t=Mx();t.p(n);var r=UA(n,e,e.dictionary?6:2,4);return $A(r,e),Bx(r,r.length-4,t.d()),r}var qA=typeof TextDecoder<"u"&&new TextDecoder,HA=0;try{qA.decode(Fx,{stream:!0}),HA=1}catch{}function WA(n){if(Array.isArray(n))return n}function VA(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,l,c=[],d=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(d=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function I2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function GA(n,e){if(n){if(typeof n=="string")return I2(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I2(n,e):void 0}}function KA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2(n,e){return WA(n)||VA(n,e)||GA(n,e)||KA()}function F2(n,e="utf8"){return new TextDecoder(e).decode(n)}const YA=new TextEncoder;function JA(n){return YA.encode(n)}const QA=1024*8,XA=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),$g={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Rm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=QA,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof Rm)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=$g[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===XA&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const d=new $g[t](c.buffer);return this.offset+=r,d.reverse(),d}const l=new $g[t](a);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return F2(this.readBytes(e))}decodeText(e=1,t="utf8"){return F2(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(JA(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function pd(n){let e=n.length;for(;--e>=0;)n[e]=0}const ZA=3,e8=258,zx=29,t8=256,n8=t8+1+zx,Ux=30,r8=512,i8=new Array((n8+2)*2);pd(i8);const s8=new Array(Ux*2);pd(s8);const a8=new Array(r8);pd(a8);const o8=new Array(e8-ZA+1);pd(o8);const l8=new Array(zx);pd(l8);const c8=new Array(Ux);pd(c8);const u8=(n,e,t,r)=>{let i=n&65535|0,a=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[r++]|0,a=a+i|0;while(--l);i%=65521,a%=65521}return i|a<<16|0};var q0=u8;const d8=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},h8=new Uint32Array(d8()),f8=(n,e,t,r)=>{const i=h8,a=r+t;n^=-1;for(let l=r;l<a;l++)n=n>>>8^i[(n^e[l])&255];return n^-1};var xo=f8,H0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$x={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const p8=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var g8=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)p8(t,r)&&(n[r]=t[r])}}return n},m8=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,a=n.length;r<a;r++){let l=n[r];t.set(l,i),i+=l.length}return t},qx={assign:g8,flattenChunks:m8};let Hx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Hx=!1}const sh=new Uint8Array(256);for(let n=0;n<256;n++)sh[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;sh[254]=sh[254]=1;var v8=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,a,l=n.length,c=0;for(i=0;i<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),a=0,i=0;a<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const y8=(n,e)=>{if(e<65534&&n.subarray&&Hx)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var w8=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let l=n[r++];if(l<128){a[i++]=l;continue}let c=sh[l];if(c>4){a[i++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<t;)l=l<<6|n[r++]&63,c--;if(c>1){a[i++]=65533;continue}l<65536?a[i++]=l:(l-=65536,a[i++]=55296|l>>10&1023,a[i++]=56320|l&1023)}return y8(a,i)},x8=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+sh[n[t]]>e?t:e},W0={string2buf:v8,buf2string:w8,utf8border:x8};function b8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var S8=b8;const uf=16209,_8=16191;var N8=function(e,t){let r,i,a,l,c,d,f,p,v,x,y,N,_,k,j,T,L,O,X,ne,ee,$,F,ae;const P=e.state;r=e.next_in,F=e.input,i=r+(e.avail_in-5),a=e.next_out,ae=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),d=P.dmax,f=P.wsize,p=P.whave,v=P.wnext,x=P.window,y=P.hold,N=P.bits,_=P.lencode,k=P.distcode,j=(1<<P.lenbits)-1,T=(1<<P.distbits)-1;e:do{N<15&&(y+=F[r++]<<N,N+=8,y+=F[r++]<<N,N+=8),L=_[y&j];t:for(;;){if(O=L>>>24,y>>>=O,N-=O,O=L>>>16&255,O===0)ae[a++]=L&65535;else if(O&16){X=L&65535,O&=15,O&&(N<O&&(y+=F[r++]<<N,N+=8),X+=y&(1<<O)-1,y>>>=O,N-=O),N<15&&(y+=F[r++]<<N,N+=8,y+=F[r++]<<N,N+=8),L=k[y&T];n:for(;;){if(O=L>>>24,y>>>=O,N-=O,O=L>>>16&255,O&16){if(ne=L&65535,O&=15,N<O&&(y+=F[r++]<<N,N+=8,N<O&&(y+=F[r++]<<N,N+=8)),ne+=y&(1<<O)-1,ne>d){e.msg="invalid distance too far back",P.mode=uf;break e}if(y>>>=O,N-=O,O=a-l,ne>O){if(O=ne-O,O>p&&P.sane){e.msg="invalid distance too far back",P.mode=uf;break e}if(ee=0,$=x,v===0){if(ee+=f-O,O<X){X-=O;do ae[a++]=x[ee++];while(--O);ee=a-ne,$=ae}}else if(v<O){if(ee+=f+v-O,O-=v,O<X){X-=O;do ae[a++]=x[ee++];while(--O);if(ee=0,v<X){O=v,X-=O;do ae[a++]=x[ee++];while(--O);ee=a-ne,$=ae}}}else if(ee+=v-O,O<X){X-=O;do ae[a++]=x[ee++];while(--O);ee=a-ne,$=ae}for(;X>2;)ae[a++]=$[ee++],ae[a++]=$[ee++],ae[a++]=$[ee++],X-=3;X&&(ae[a++]=$[ee++],X>1&&(ae[a++]=$[ee++]))}else{ee=a-ne;do ae[a++]=ae[ee++],ae[a++]=ae[ee++],ae[a++]=ae[ee++],X-=3;while(X>2);X&&(ae[a++]=ae[ee++],X>1&&(ae[a++]=ae[ee++]))}}else if((O&64)===0){L=k[(L&65535)+(y&(1<<O)-1)];continue n}else{e.msg="invalid distance code",P.mode=uf;break e}break}}else if((O&64)===0){L=_[(L&65535)+(y&(1<<O)-1)];continue t}else if(O&32){P.mode=_8;break e}else{e.msg="invalid literal/length code",P.mode=uf;break e}break}}while(r<i&&a<c);X=N>>3,r-=X,N-=X<<3,y&=(1<<N)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<c?257+(c-a):257-(a-c),P.hold=y,P.bits=N};const Mu=15,M2=852,B2=592,z2=0,qg=1,U2=2,k8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),j8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),C8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),A8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),E8=(n,e,t,r,i,a,l,c)=>{const d=c.bits;let f=0,p=0,v=0,x=0,y=0,N=0,_=0,k=0,j=0,T=0,L,O,X,ne,ee,$=null,F;const ae=new Uint16Array(Mu+1),P=new Uint16Array(Mu+1);let D=null,q,V,ue;for(f=0;f<=Mu;f++)ae[f]=0;for(p=0;p<r;p++)ae[e[t+p]]++;for(y=d,x=Mu;x>=1&&ae[x]===0;x--);if(y>x&&(y=x),x===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<x&&ae[v]===0;v++);for(y<v&&(y=v),k=1,f=1;f<=Mu;f++)if(k<<=1,k-=ae[f],k<0)return-1;if(k>0&&(n===z2||x!==1))return-1;for(P[1]=0,f=1;f<Mu;f++)P[f+1]=P[f]+ae[f];for(p=0;p<r;p++)e[t+p]!==0&&(l[P[e[t+p]]++]=p);if(n===z2?($=D=l,F=20):n===qg?($=k8,D=j8,F=257):($=C8,D=A8,F=0),T=0,p=0,f=v,ee=a,N=y,_=0,X=-1,j=1<<y,ne=j-1,n===qg&&j>M2||n===U2&&j>B2)return 1;for(;;){q=f-_,l[p]+1<F?(V=0,ue=l[p]):l[p]>=F?(V=D[l[p]-F],ue=$[l[p]-F]):(V=96,ue=0),L=1<<f-_,O=1<<N,v=O;do O-=L,i[ee+(T>>_)+O]=q<<24|V<<16|ue|0;while(O!==0);for(L=1<<f-1;T&L;)L>>=1;if(L!==0?(T&=L-1,T+=L):T=0,p++,--ae[f]===0){if(f===x)break;f=e[t+l[p]]}if(f>y&&(T&ne)!==X){for(_===0&&(_=y),ee+=v,N=f-_,k=1<<N;N+_<x&&(k-=ae[N+_],!(k<=0));)N++,k<<=1;if(j+=1<<N,n===qg&&j>M2||n===U2&&j>B2)return 1;X=T&ne,i[X]=y<<24|N<<16|ee-a|0}}return T!==0&&(i[ee+T]=f-_<<24|64<<16|0),c.bits=y,0};var Qd=E8;const P8=0,Wx=1,Vx=2,{Z_FINISH:$2,Z_BLOCK:L8,Z_TREES:df,Z_OK:Gc,Z_STREAM_END:T8,Z_NEED_DICT:R8,Z_STREAM_ERROR:ga,Z_DATA_ERROR:Gx,Z_MEM_ERROR:Kx,Z_BUF_ERROR:O8,Z_DEFLATED:q2}=$x,sp=16180,H2=16181,W2=16182,V2=16183,G2=16184,K2=16185,Y2=16186,J2=16187,Q2=16188,X2=16189,Uf=16190,cl=16191,Hg=16192,Z2=16193,Wg=16194,ey=16195,ty=16196,ny=16197,ry=16198,hf=16199,ff=16200,iy=16201,sy=16202,ay=16203,oy=16204,ly=16205,Vg=16206,cy=16207,uy=16208,fr=16209,Yx=16210,Jx=16211,I8=852,D8=592,F8=15,M8=F8,dy=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function B8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<sp||e.mode>Jx?1:0},Qx=n=>{if(Qc(n))return ga;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=sp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(I8),e.distcode=e.distdyn=new Int32Array(D8),e.sane=1,e.back=-1,Gc},Xx=n=>{if(Qc(n))return ga;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Qx(n)},Zx=(n,e)=>{let t;if(Qc(n))return ga;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ga:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Xx(n))},eb=(n,e)=>{if(!n)return ga;const t=new B8;n.state=t,t.strm=n,t.window=null,t.mode=sp;const r=Zx(n,e);return r!==Gc&&(n.state=null),r},z8=n=>eb(n,M8);let hy=!0,Gg,Kg;const U8=n=>{if(hy){Gg=new Int32Array(512),Kg=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Qd(Wx,n.lens,0,288,Gg,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Qd(Vx,n.lens,0,32,Kg,0,n.work,{bits:5}),hy=!1}n.lencode=Gg,n.lenbits=9,n.distcode=Kg,n.distbits=5},tb=(n,e,t,r)=>{let i;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},$8=(n,e)=>{let t,r,i,a,l,c,d,f,p,v,x,y,N,_,k=0,j,T,L,O,X,ne,ee,$;const F=new Uint8Array(4);let ae,P;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qc(n)||!n.output||!n.input&&n.avail_in!==0)return ga;t=n.state,t.mode===cl&&(t.mode=Hg),l=n.next_out,i=n.output,d=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,f=t.hold,p=t.bits,v=c,x=d,$=Gc;e:for(;;)switch(t.mode){case sp:if(t.wrap===0){t.mode=Hg;break}for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,F[0]=f&255,F[1]=f>>>8&255,t.check=xo(t.check,F,2,0),f=0,p=0,t.mode=H2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=fr;break}if((f&15)!==q2){n.msg="unknown compression method",t.mode=fr;break}if(f>>>=4,p-=4,ee=(f&15)+8,t.wbits===0&&(t.wbits=ee),ee>15||ee>t.wbits){n.msg="invalid window size",t.mode=fr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?X2:cl,f=0,p=0;break;case H2:for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.flags=f,(t.flags&255)!==q2){n.msg="unknown compression method",t.mode=fr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=fr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,t.check=xo(t.check,F,2,0)),f=0,p=0,t.mode=W2;case W2:for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,F[2]=f>>>16&255,F[3]=f>>>24&255,t.check=xo(t.check,F,4,0)),f=0,p=0,t.mode=V2;case V2:for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,t.check=xo(t.check,F,2,0)),f=0,p=0,t.mode=G2;case G2:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,t.check=xo(t.check,F,2,0)),f=0,p=0}else t.head&&(t.head.extra=null);t.mode=K2;case K2:if(t.flags&1024&&(y=t.length,y>c&&(y=c),y&&(t.head&&(ee=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+y),ee)),t.flags&512&&t.wrap&4&&(t.check=xo(t.check,r,y,a)),c-=y,a+=y,t.length-=y),t.length))break e;t.length=0,t.mode=Y2;case Y2:if(t.flags&2048){if(c===0)break e;y=0;do ee=r[a+y++],t.head&&ee&&t.length<65536&&(t.head.name+=String.fromCharCode(ee));while(ee&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=xo(t.check,r,y,a)),c-=y,a+=y,ee)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=J2;case J2:if(t.flags&4096){if(c===0)break e;y=0;do ee=r[a+y++],t.head&&ee&&t.length<65536&&(t.head.comment+=String.fromCharCode(ee));while(ee&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=xo(t.check,r,y,a)),c-=y,a+=y,ee)break e}else t.head&&(t.head.comment=null);t.mode=Q2;case Q2:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=fr;break}f=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=cl;break;case X2:for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.adler=t.check=dy(f),f=0,p=0,t.mode=Uf;case Uf:if(t.havedict===0)return n.next_out=l,n.avail_out=d,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,R8;n.adler=t.check=1,t.mode=cl;case cl:if(e===L8||e===df)break e;case Hg:if(t.last){f>>>=p&7,p-=p&7,t.mode=Vg;break}for(;p<3;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}switch(t.last=f&1,f>>>=1,p-=1,f&3){case 0:t.mode=Z2;break;case 1:if(U8(t),t.mode=hf,e===df){f>>>=2,p-=2;break e}break;case 2:t.mode=ty;break;case 3:n.msg="invalid block type",t.mode=fr}f>>>=2,p-=2;break;case Z2:for(f>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=fr;break}if(t.length=f&65535,f=0,p=0,t.mode=Wg,e===df)break e;case Wg:t.mode=ey;case ey:if(y=t.length,y){if(y>c&&(y=c),y>d&&(y=d),y===0)break e;i.set(r.subarray(a,a+y),l),c-=y,a+=y,d-=y,l+=y,t.length-=y;break}t.mode=cl;break;case ty:for(;p<14;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.nlen=(f&31)+257,f>>>=5,p-=5,t.ndist=(f&31)+1,f>>>=5,p-=5,t.ncode=(f&15)+4,f>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=fr;break}t.have=0,t.mode=ny;case ny:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.lens[D[t.have++]]=f&7,f>>>=3,p-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ae={bits:t.lenbits},$=Qd(P8,t.lens,0,19,t.lencode,0,t.work,ae),t.lenbits=ae.bits,$){n.msg="invalid code lengths set",t.mode=fr;break}t.have=0,t.mode=ry;case ry:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[f&(1<<t.lenbits)-1],j=k>>>24,T=k>>>16&255,L=k&65535,!(j<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(L<16)f>>>=j,p-=j,t.lens[t.have++]=L;else{if(L===16){for(P=j+2;p<P;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(f>>>=j,p-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=fr;break}ee=t.lens[t.have-1],y=3+(f&3),f>>>=2,p-=2}else if(L===17){for(P=j+3;p<P;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=j,p-=j,ee=0,y=3+(f&7),f>>>=3,p-=3}else{for(P=j+7;p<P;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=j,p-=j,ee=0,y=11+(f&127),f>>>=7,p-=7}if(t.have+y>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=fr;break}for(;y--;)t.lens[t.have++]=ee}}if(t.mode===fr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=fr;break}if(t.lenbits=9,ae={bits:t.lenbits},$=Qd(Wx,t.lens,0,t.nlen,t.lencode,0,t.work,ae),t.lenbits=ae.bits,$){n.msg="invalid literal/lengths set",t.mode=fr;break}if(t.distbits=6,t.distcode=t.distdyn,ae={bits:t.distbits},$=Qd(Vx,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ae),t.distbits=ae.bits,$){n.msg="invalid distances set",t.mode=fr;break}if(t.mode=hf,e===df)break e;case hf:t.mode=ff;case ff:if(c>=6&&d>=258){n.next_out=l,n.avail_out=d,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,N8(n,x),l=n.next_out,i=n.output,d=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,f=t.hold,p=t.bits,t.mode===cl&&(t.back=-1);break}for(t.back=0;k=t.lencode[f&(1<<t.lenbits)-1],j=k>>>24,T=k>>>16&255,L=k&65535,!(j<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(T&&(T&240)===0){for(O=j,X=T,ne=L;k=t.lencode[ne+((f&(1<<O+X)-1)>>O)],j=k>>>24,T=k>>>16&255,L=k&65535,!(O+j<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=O,p-=O,t.back+=O}if(f>>>=j,p-=j,t.back+=j,t.length=L,T===0){t.mode=ly;break}if(T&32){t.back=-1,t.mode=cl;break}if(T&64){n.msg="invalid literal/length code",t.mode=fr;break}t.extra=T&15,t.mode=iy;case iy:if(t.extra){for(P=t.extra;p<P;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=sy;case sy:for(;k=t.distcode[f&(1<<t.distbits)-1],j=k>>>24,T=k>>>16&255,L=k&65535,!(j<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if((T&240)===0){for(O=j,X=T,ne=L;k=t.distcode[ne+((f&(1<<O+X)-1)>>O)],j=k>>>24,T=k>>>16&255,L=k&65535,!(O+j<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=O,p-=O,t.back+=O}if(f>>>=j,p-=j,t.back+=j,T&64){n.msg="invalid distance code",t.mode=fr;break}t.offset=L,t.extra=T&15,t.mode=ay;case ay:if(t.extra){for(P=t.extra;p<P;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=fr;break}t.mode=oy;case oy:if(d===0)break e;if(y=x-d,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=fr;break}y>t.wnext?(y-=t.wnext,N=t.wsize-y):N=t.wnext-y,y>t.length&&(y=t.length),_=t.window}else _=i,N=l-t.offset,y=t.length;y>d&&(y=d),d-=y,t.length-=y;do i[l++]=_[N++];while(--y);t.length===0&&(t.mode=ff);break;case ly:if(d===0)break e;i[l++]=t.length,d--,t.mode=ff;break;case Vg:if(t.wrap){for(;p<32;){if(c===0)break e;c--,f|=r[a++]<<p,p+=8}if(x-=d,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?xo(t.check,i,x,l-x):q0(t.check,i,x,l-x)),x=d,t.wrap&4&&(t.flags?f:dy(f))!==t.check){n.msg="incorrect data check",t.mode=fr;break}f=0,p=0}t.mode=cy;case cy:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=fr;break}f=0,p=0}t.mode=uy;case uy:$=T8;break e;case fr:$=Gx;break e;case Yx:return Kx;case Jx:default:return ga}return n.next_out=l,n.avail_out=d,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,(t.wsize||x!==n.avail_out&&t.mode<fr&&(t.mode<Vg||e!==$2))&&tb(n,n.output,n.next_out,x-n.avail_out),v-=n.avail_in,x-=n.avail_out,n.total_in+=v,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?xo(t.check,i,x,n.next_out-x):q0(t.check,i,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===cl?128:0)+(t.mode===hf||t.mode===Wg?256:0),(v===0&&x===0||e===$2)&&$===Gc&&($=O8),$},q8=n=>{if(Qc(n))return ga;let e=n.state;return e.window&&(e.window=null),n.state=null,Gc},H8=(n,e)=>{if(Qc(n))return ga;const t=n.state;return(t.wrap&2)===0?ga:(t.head=e,e.done=!1,Gc)},W8=(n,e)=>{const t=e.length;let r,i,a;return Qc(n)||(r=n.state,r.wrap!==0&&r.mode!==Uf)?ga:r.mode===Uf&&(i=1,i=q0(i,e,t,0),i!==r.check)?Gx:(a=tb(n,e,t,t),a?(r.mode=Yx,Kx):(r.havedict=1,Gc))};var V8=Xx,G8=Zx,K8=Qx,Y8=z8,J8=eb,Q8=$8,X8=q8,Z8=H8,eE=W8,tE="pako inflate (from Nodeca project)",dl={inflateReset:V8,inflateReset2:G8,inflateResetKeep:K8,inflateInit:Y8,inflateInit2:J8,inflate:Q8,inflateEnd:X8,inflateGetHeader:Z8,inflateSetDictionary:eE,inflateInfo:tE};function nE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rE=nE;const nb=Object.prototype.toString,{Z_NO_FLUSH:iE,Z_FINISH:sE,Z_OK:ah,Z_STREAM_END:Yg,Z_NEED_DICT:Jg,Z_STREAM_ERROR:aE,Z_DATA_ERROR:fy,Z_MEM_ERROR:oE}=$x;function fh(n){this.options=qx.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S8,this.strm.avail_out=0;let t=dl.inflateInit2(this.strm,e.windowBits);if(t!==ah)throw new Error(H0[t]);if(this.header=new rE,dl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=W0.string2buf(e.dictionary):nb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=dl.inflateSetDictionary(this.strm,e.dictionary),t!==ah)))throw new Error(H0[t])}fh.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?sE:iE,nb.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=dl.inflate(t,l),a===Jg&&i&&(a=dl.inflateSetDictionary(t,i),a===ah?a=dl.inflate(t,l):a===fy&&(a=Jg));t.avail_in>0&&a===Yg&&t.state.wrap>0&&n[t.next_in]!==0;)dl.inflateReset(t),a=dl.inflate(t,l);switch(a){case aE:case fy:case Jg:case oE:return this.onEnd(a),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||a===Yg))if(this.options.to==="string"){let d=W0.utf8border(t.output,t.next_out),f=t.next_out-d,p=W0.buf2string(t.output,d);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(d,d+f),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===ah&&c===0)){if(a===Yg)return a=dl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};fh.prototype.onData=function(n){this.chunks.push(n)};fh.prototype.onEnd=function(n){n===ah&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qx.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function lE(n,e){const t=new fh(e);if(t.push(n),t.err)throw t.msg||H0[t.err];return t.result}var cE=fh,uE=lE,dE={Inflate:cE,inflate:uE};const{Inflate:hE,inflate:fE}=dE;var py=hE,pE=fE;const rb=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;rb[n]=e}const gy=4294967295;function gE(n,e,t){let r=n;for(let i=0;i<t;i++)r=rb[(r^e[i])&255]^r>>>8;return r}function mE(n,e){return(gE(gy,n,e)^gy)>>>0}function my(n,e,t){const r=n.readUint32(),i=mE(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function ib(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function sb(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function ab(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function ob(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<r;a++)e[a]=n[a]+(e[a-i]+t[a]>>1)&255}}function lb(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=n[a]+t[a]&255;for(;a<r;a++)e[a]=n[a]+vE(e[a-i],t[a],t[a-i])&255}}function vE(n,e,t){const r=n+e-t,i=Math.abs(r-n),a=Math.abs(r-e),l=Math.abs(r-t);return i<=a&&i<=l?n:a<=l?e:t}function yE(n,e,t,r,i,a){switch(n){case 0:ib(e,t,i);break;case 1:sb(e,t,i,a);break;case 2:ab(e,t,r,i);break;case 3:ob(e,t,r,i,a);break;case 4:lb(e,t,r,i,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const wE=new Uint16Array([255]),xE=new Uint8Array(wE.buffer),bE=xE[0]===255;function SE(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,d=new Uint8Array(r*t*c);let f=0;for(let p=0;p<7;p++){const v=l[p],x=Math.ceil((t-v.x)/v.xStep),y=Math.ceil((r-v.y)/v.yStep);if(x<=0||y<=0)continue;const N=x*c,_=new Uint8Array(N);for(let k=0;k<y;k++){const j=e[f++],T=e.subarray(f,f+N);f+=N;const L=new Uint8Array(N);yE(j,T,L,_,N,c),_.set(L);for(let O=0;O<x;O++){const X=v.x+O*v.xStep,ne=v.y+k*v.yStep;if(!(X>=t||ne>=r))for(let ee=0;ee<c;ee++)d[(ne*t+X)*c+ee]=L[O*c+ee]}}}if(a===16){const p=new Uint16Array(d.buffer);if(bE)for(let v=0;v<p.length;v++)p[v]=_E(p[v]);return p}else return d}function _E(n){return(n&255)<<8|n>>8&255}const NE=new Uint16Array([255]),kE=new Uint8Array(NE.buffer),jE=kE[0]===255,CE=new Uint8Array(0);function vy(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,l=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*t),d=new Uint8Array(r*c);let f=CE,p=0,v,x;for(let y=0;y<r;y++){switch(v=e.subarray(p+1,p+1+c),x=d.subarray(y*c,(y+1)*c),e[p]){case 0:ib(v,x,c);break;case 1:sb(v,x,c,l);break;case 2:ab(v,x,f,c);break;case 3:ob(v,x,f,c,l);break;case 4:lb(v,x,f,c,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=x,p+=c+1}if(a===16){const y=new Uint16Array(d.buffer);if(jE)for(let N=0;N<y.length;N++)y[N]=AE(y[N]);return y}else return d}function AE(n){return(n&255)<<8|n>>8&255}const _f=Uint8Array.of(137,80,78,71,13,10,26,10);function yy(n){if(!EE(n.readBytes(_f.length)))throw new Error("wrong PNG signature")}function EE(n){if(n.length<_f.length)return!1;for(let e=0;e<_f.length;e++)if(n[e]!==_f[e])return!1;return!0}const PE="tEXt",LE=0,cb=new TextDecoder("latin1");function TE(n){if(OE(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const RE=/^[\u0000-\u00FF]*$/;function OE(n){if(!RE.test(n))throw new Error("invalid latin1 text")}function IE(n,e,t){const r=ub(e);n[r]=DE(e,t-r.length-1)}function ub(n){for(n.mark();n.readByte()!==LE;);const e=n.offset;n.reset();const t=cb.decode(n.readBytes(e-n.offset-1));return n.skip(1),TE(t),t}function DE(n,e){return cb.decode(n.readBytes(e))}const Gs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Qg={UNKNOWN:-1,DEFLATE:0},wy={UNKNOWN:-1,ADAPTIVE:0},Xg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pf={NONE:0,BACKGROUND:1,PREVIOUS:2},Zg={SOURCE:0,OVER:1};class FE extends Rm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new py,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Qg.UNKNOWN,this._filterMethod=wy.UNKNOWN,this._interlaceMethod=Xg.UNKNOWN,this._colorType=Gs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(yy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case PE:IE(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?my(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?my(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=ME(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Gs.GREYSCALE:r=1;break;case Gs.TRUECOLOUR:r=3;break;case Gs.INDEXED_COLOUR:r=1;break;case Gs.GREYSCALE_ALPHA:r=2;break;case Gs.TRUECOLOUR_ALPHA:r=4;break;case Gs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Qg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Gs.GREYSCALE:case Gs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Gs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Gs.UNKNOWN:case Gs.GREYSCALE_ALPHA:case Gs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=ub(this),r=this.readUint8();if(r!==Qg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:pE(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=vy({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case pf.NONE:break;case pf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*e.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[l+c]=0}break;case pf.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(a,l)=>{const c=((a+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,d=(a*t.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(t.blendOp){case Zg.SOURCE:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:d}=i(a,l);for(let f=0;f<this._png.channels;f++)e.data[c+f]=t.data[d+f]}break;case Zg.OVER:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:d}=i(a,l);for(let f=0;f<this._png.channels;f++){const p=t.data[d+this._png.channels-1]/r,v=f%(this._png.channels-1)===0?1:t.data[d+f],x=Math.floor(p*v+(1-p)*e.data[c+f]);e.data[c+f]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==wy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Xg.NO_INTERLACE)this._png.data=vy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Xg.ADAM7)this._png.data=SE({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pf.NONE,blendOp:Zg.SOURCE,data:e}),this._inflator=new py,this._writingDataChunks=!1}}function ME(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var xy;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(xy||(xy={}));function BE(n,e){return new FE(n,e).decode()}var Kt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function e0(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var Kn={log:e0,warn:function(n){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):e0.call(null,arguments))},error:function(n){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):e0(n))}};function t0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Lc(r.response,e,t)},r.onerror=function(){Kn.error("could not download file")},r.send()}function by(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function gf(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Lc=Kt.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Kt.URL||Kt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?by(i.href)?t0(n,e,t):gf(i,i.target="_blank"):gf(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){gf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(by(n))t0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){gf(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:zn(a)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return t0(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(Kt.HTMLElement)||Kt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(n)}else{var d=Kt.URL||Kt.webkitURL,f=d.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function db(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,l=i.exec(n);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+c+d+f}}var Nf=Kt.atob.bind(Kt),Sy=Kt.btoa.bind(Kt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function n0(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=Qi(t,r,i,a,e[0],7,-680876936),a=Qi(a,t,r,i,e[1],12,-389564586),i=Qi(i,a,t,r,e[2],17,606105819),r=Qi(r,i,a,t,e[3],22,-1044525330),t=Qi(t,r,i,a,e[4],7,-176418897),a=Qi(a,t,r,i,e[5],12,1200080426),i=Qi(i,a,t,r,e[6],17,-1473231341),r=Qi(r,i,a,t,e[7],22,-45705983),t=Qi(t,r,i,a,e[8],7,1770035416),a=Qi(a,t,r,i,e[9],12,-1958414417),i=Qi(i,a,t,r,e[10],17,-42063),r=Qi(r,i,a,t,e[11],22,-1990404162),t=Qi(t,r,i,a,e[12],7,1804603682),a=Qi(a,t,r,i,e[13],12,-40341101),i=Qi(i,a,t,r,e[14],17,-1502002290),t=Xi(t,r=Qi(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Xi(a,t,r,i,e[6],9,-1069501632),i=Xi(i,a,t,r,e[11],14,643717713),r=Xi(r,i,a,t,e[0],20,-373897302),t=Xi(t,r,i,a,e[5],5,-701558691),a=Xi(a,t,r,i,e[10],9,38016083),i=Xi(i,a,t,r,e[15],14,-660478335),r=Xi(r,i,a,t,e[4],20,-405537848),t=Xi(t,r,i,a,e[9],5,568446438),a=Xi(a,t,r,i,e[14],9,-1019803690),i=Xi(i,a,t,r,e[3],14,-187363961),r=Xi(r,i,a,t,e[8],20,1163531501),t=Xi(t,r,i,a,e[13],5,-1444681467),a=Xi(a,t,r,i,e[2],9,-51403784),i=Xi(i,a,t,r,e[7],14,1735328473),t=Zi(t,r=Xi(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Zi(a,t,r,i,e[8],11,-2022574463),i=Zi(i,a,t,r,e[11],16,1839030562),r=Zi(r,i,a,t,e[14],23,-35309556),t=Zi(t,r,i,a,e[1],4,-1530992060),a=Zi(a,t,r,i,e[4],11,1272893353),i=Zi(i,a,t,r,e[7],16,-155497632),r=Zi(r,i,a,t,e[10],23,-1094730640),t=Zi(t,r,i,a,e[13],4,681279174),a=Zi(a,t,r,i,e[0],11,-358537222),i=Zi(i,a,t,r,e[3],16,-722521979),r=Zi(r,i,a,t,e[6],23,76029189),t=Zi(t,r,i,a,e[9],4,-640364487),a=Zi(a,t,r,i,e[12],11,-421815835),i=Zi(i,a,t,r,e[15],16,530742520),t=es(t,r=Zi(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=es(a,t,r,i,e[7],10,1126891415),i=es(i,a,t,r,e[14],15,-1416354905),r=es(r,i,a,t,e[5],21,-57434055),t=es(t,r,i,a,e[12],6,1700485571),a=es(a,t,r,i,e[3],10,-1894986606),i=es(i,a,t,r,e[10],15,-1051523),r=es(r,i,a,t,e[1],21,-2054922799),t=es(t,r,i,a,e[8],6,1873313359),a=es(a,t,r,i,e[15],10,-30611744),i=es(i,a,t,r,e[6],15,-1560198380),r=es(r,i,a,t,e[13],21,1309151649),t=es(t,r,i,a,e[4],6,-145523070),a=es(a,t,r,i,e[11],10,-1120210379),i=es(i,a,t,r,e[2],15,718787259),r=es(r,i,a,t,e[9],21,-343485551),n[0]=Jl(t,n[0]),n[1]=Jl(r,n[1]),n[2]=Jl(i,n[2]),n[3]=Jl(a,n[3])}function ap(n,e,t,r,i,a){return e=Jl(Jl(e,n),Jl(r,a)),Jl(e<<i|e>>>32-i,t)}function Qi(n,e,t,r,i,a,l){return ap(e&t|~e&r,n,e,i,a,l)}function Xi(n,e,t,r,i,a,l){return ap(e&r|t&~r,n,e,i,a,l)}function Zi(n,e,t,r,i,a,l){return ap(e^t^r,n,e,i,a,l)}function es(n,e,t,r,i,a,l){return ap(t^(e|~r),n,e,i,a,l)}function hb(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)n0(r,zE(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,n0(r,i),r}function zE(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var _y="0123456789abcdef".split("");function UE(n){for(var e="",t=0;t<4;t++)e+=_y[n>>8*t+4&15]+_y[n>>8*t&15];return e}function $E(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function V0(n){return hb(n).map($E).join("")}var qE=(function(n){for(var e=0;e<n.length;e++)n[e]=UE(n[e]);return n.join("")})(hb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jl(n,e){if(qE){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G0(n,e){var t,r,i,a;if(n!==t){for(var l=(i=n,a=1+(256/n.length|0),new Array(a+1).join(i)),c=[],d=0;d<256;d++)c[d]=d;var f=0;for(d=0;d<256;d++){var p=c[d];f=(f+p+l.charCodeAt(d))%256,c[d]=c[f],c[f]=p}t=n,r=c}else c=r;var v=e.length,x=0,y=0,N="";for(d=0;d<v;d++)y=(y+(p=c[x=(x+1)%256]))%256,c[x]=c[y],c[y]=p,l=c[(c[x]+c[y])%256],N+=String.fromCharCode(e.charCodeAt(d)^l);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ny={print:4,modify:8,copy:16,"annot-forms":32};function qu(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(c){if(Ny.perm!==void 0)throw new Error("Invalid permission: "+c);i+=Ny[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^i)),this.encryptionKey=V0(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=G0(this.encryptionKey,this.padding)}function Hu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function ky(n){if(zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(n,r)}catch(c){Kt.console&&Kn.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $f(n){if(!(this instanceof $f))return new $f(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function fb(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Oc(n,e,t,r,i){if(!(this instanceof Oc))return new Oc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,fb.call(this,r,i)}function Wu(n,e,t,r,i){if(!(this instanceof Wu))return new Wu(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,fb.call(this,r,i)}function Ot(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],l=[],c=1,d=16,f="S",p=null;zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,x={},y={internal:{},__private__:{}};y.__private__.PubSub=ky;var N="1.3",_=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(b){N=b};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var j=y.__private__.getPageFormat=function(b){return k[b]};i=i||"a4";var T="compat",L="advanced",O=T;function X(){this.saveGraphicsState(),oe(new st(yt,0,0,-yt,0,Pi()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),f="n",O=L}function ne(){this.restoreGraphicsState(),f="S",O=T}var ee=y.__private__.combineFontStyleAndFontWeight=function(b,M){if(b=="bold"&&M=="normal"||b=="bold"&&M==400||b=="normal"&&M=="italic"||b=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(b=M==400||M==="normal"?b==="italic"?"italic":"normal":M!=700&&M!=="bold"||b!=="normal"?(M==700?"bold":M)+""+b:"bold"),b};y.advancedAPI=function(b){var M=O===T;return M&&X.call(this),typeof b!="function"||(b(this),M&&ne.call(this)),this},y.compatAPI=function(b){var M=O===L;return M&&ne.call(this),typeof b!="function"||(b(this),M&&X.call(this)),this},y.isAdvancedAPI=function(){return O===L};var $,F=function(b){if(O!==L)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ae=y.roundToPrecision=y.__private__.roundToPrecision=function(b,M){var le=e||M;if(isNaN(b)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(le).replace(/0+$/,"")};$=y.hpf=y.__private__.hpf=typeof d=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(b,d)}:d==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(b,16)};var P=y.f2=y.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return ae(b,2)},D=y.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return ae(b,3)},q=y.scale=y.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return O===T?b*yt:O===L?b:void 0},V=function(b){return q((function(M){return O===T?Pi()-M:O===L?M:void 0})(b))};y.__private__.setPrecision=y.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var ue,de="00000000000000000000000000000000",he=y.__private__.getFileId=function(){return de},W=y.__private__.setFileId=function(b){return de=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(tr=new qu(p.userPermissions,p.userPassword,p.ownerPassword,de)),de};y.setFileId=function(b){return W(b),this},y.getFileId=function(){return he()};var ye=y.__private__.convertDateToPDFDate=function(b){var M=b.getTimezoneOffset(),le=M<0?"+":"-",xe=Math.floor(Math.abs(M/60)),Ae=Math.abs(M%60),Ee=[le,K(xe),"'",K(Ae),"'"].join("");return["D:",b.getFullYear(),K(b.getMonth()+1),K(b.getDate()),K(b.getHours()),K(b.getMinutes()),K(b.getSeconds()),Ee].join("")},Se=y.__private__.convertPDFDateToDate=function(b){var M=parseInt(b.substr(2,4),10),le=parseInt(b.substr(6,2),10)-1,xe=parseInt(b.substr(8,2),10),Ae=parseInt(b.substr(10,2),10),Ee=parseInt(b.substr(12,2),10),Ue=parseInt(b.substr(14,2),10);return new Date(M,le,xe,Ae,Ee,Ue,0)},Y=y.__private__.setCreationDate=function(b){var M;if(b===void 0&&(b=new Date),b instanceof Date)M=ye(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=b}return ue=M},R=y.__private__.getCreationDate=function(b){var M=ue;return b==="jsDate"&&(M=Se(ue)),M};y.setCreationDate=function(b){return Y(b),this},y.getCreationDate=function(b){return R(b)};var z,K=y.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},te=y.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},me=0,re=[],J=[],fe=0,we=[],ce=[],Le=!1,qe=J;y.__private__.setCustomOutputDestination=function(b){Le=!0,qe=b};var Te=function(b){Le||(qe=b)};y.__private__.resetCustomOutputDestination=function(){Le=!1,qe=J};var oe=y.__private__.out=function(b){return b=b.toString(),fe+=b.length+1,qe.push(b),qe},Lt=y.__private__.write=function(b){return oe(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},lt=y.__private__.getArrayBuffer=function(b){for(var M=b.length,le=new ArrayBuffer(M),xe=new Uint8Array(le);M--;)xe[M]=b.charCodeAt(M);return le},ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ft};var be=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(b){return be=O===L?b/yt:b,this};var pe,Re=y.__private__.getFontSize=y.getFontSize=function(){return O===T?be:be*yt},Ke=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(b){return Ke=b,this},y.__private__.getR2L=y.getR2L=function(){return Ke};var Ze,Mt=y.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))pe=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');pe=b}else pe=parseInt(b,10)};y.__private__.getZoomMode=function(){return pe};var ct,ht=y.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Ze=b};y.__private__.getPageMode=function(){return Ze};var Bt=y.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');ct=b};y.__private__.getLayoutMode=function(){return ct},y.__private__.setDisplayMode=y.setDisplayMode=function(b,M,le){return Mt(b),Bt(M),ht(le),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(b){if(Object.keys(xt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[b]},y.__private__.getDocumentProperties=function(){return xt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(b){for(var M in xt)xt.hasOwnProperty(M)&&b[M]&&(xt[M]=b[M]);return this},y.__private__.setDocumentProperty=function(b,M){if(Object.keys(xt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[b]=M};var at,yt,pt,en,un,bt={},qt={},gn=[],It={},Ht={},Tt={},Nn={},mn=null,sn=0,Dt=[],it=new ky(y),vn=n.hotfixes||[],rn={},$n={},Pr=[],st=function b(M,le,xe,Ae,Ee,Ue){if(!(this instanceof b))return new b(M,le,xe,Ae,Ee,Ue);isNaN(M)&&(M=1),isNaN(le)&&(le=0),isNaN(xe)&&(xe=0),isNaN(Ae)&&(Ae=1),isNaN(Ee)&&(Ee=0),isNaN(Ue)&&(Ue=0),this._matrix=[M,le,xe,Ae,Ee,Ue]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(b)},st.prototype.multiply=function(b){var M=b.sx*this.sx+b.shy*this.shx,le=b.sx*this.shy+b.shy*this.sy,xe=b.shx*this.sx+b.sy*this.shx,Ae=b.shx*this.shy+b.sy*this.sy,Ee=b.tx*this.sx+b.ty*this.shx+this.tx,Ue=b.tx*this.shy+b.ty*this.sy+this.ty;return new st(M,le,xe,Ae,Ee,Ue)},st.prototype.decompose=function(){var b=this.sx,M=this.shy,le=this.shx,xe=this.sy,Ae=this.tx,Ee=this.ty,Ue=Math.sqrt(b*b+M*M),rt=(b/=Ue)*le+(M/=Ue)*xe;le-=b*rt,xe-=M*rt;var ut=Math.sqrt(le*le+xe*xe);return rt/=ut,b*(xe/=ut)<M*(le/=ut)&&(b=-b,M=-M,rt=-rt,Ue=-Ue),{scale:new st(Ue,0,0,ut,0,0),translate:new st(1,0,0,1,Ae,Ee),rotate:new st(b,M,-M,b,0,0),skew:new st(1,0,rt,1,0,0)}},st.prototype.toString=function(b){return this.join(" ")},st.prototype.inversed=function(){var b=this.sx,M=this.shy,le=this.shx,xe=this.sy,Ae=this.tx,Ee=this.ty,Ue=1/(b*xe-M*le),rt=xe*Ue,ut=-M*Ue,Rt=-le*Ue,Et=b*Ue;return new st(rt,ut,Rt,Et,-rt*Ae-Rt*Ee,-ut*Ae-Et*Ee)},st.prototype.applyToPoint=function(b){var M=b.x*this.sx+b.y*this.shx+this.tx,le=b.x*this.shy+b.y*this.sy+this.ty;return new ys(M,le)},st.prototype.applyToRectangle=function(b){var M=this.applyToPoint(b),le=this.applyToPoint(new ys(b.x+b.w,b.y+b.h));return new Na(M.x,M.y,le.x-M.x,le.y-M.y)},st.prototype.clone=function(){var b=this.sx,M=this.shy,le=this.shx,xe=this.sy,Ae=this.tx,Ee=this.ty;return new st(b,M,le,xe,Ae,Ee)},y.Matrix=st;var kn=y.matrixMult=function(b,M){return M.multiply(b)},Sr=new st(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Sr;var wn=function(b,M){if(!Ht[b]){var le=(M instanceof Oc?"Sh":"P")+(Object.keys(It).length+1).toString(10);M.id=le,Ht[b]=le,It[le]=M,it.publish("addPattern",M)}};y.ShadingPattern=Oc,y.TilingPattern=Wu,y.addShadingPattern=function(b,M){return F("addShadingPattern()"),wn(b,M),this},y.beginTilingPattern=function(b){F("beginTilingPattern()"),Ci(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},y.endTilingPattern=function(b,M){F("endTilingPattern()"),M.stream=ce[z].join(`
`),wn(b,M),it.publish("endTilingPattern",M),Pr.pop().restore()};var qn,an=y.__private__.newObject=function(){var b=fn();return In(b,!0),b},fn=y.__private__.newObjectDeferred=function(){return me++,re[me]=function(){return fe},me},In=function(b,M){return M=typeof M=="boolean"&&M,re[b]=fe,M&&oe(b+" 0 obj"),b},xi=y.__private__.newAdditionalObject=function(){var b={objId:fn(),content:""};return we.push(b),b},bi=fn(),Di=fn(),Fi=y.__private__.decodeColorString=function(b){var M=b.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var le=parseFloat(M[0]);M=[le,le,le,"r"]}for(var xe="#",Ae=0;Ae<3;Ae++)xe+=("0"+Math.floor(255*parseFloat(M[Ae])).toString(16)).slice(-2);return xe},Lr=y.__private__.encodeColorString=function(b){var M;typeof b=="string"&&(b={ch1:b});var le=b.ch1,xe=b.ch2,Ae=b.ch3,Ee=b.ch4,Ue=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var rt=new db(le);if(rt.ok)le=rt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var ut=parseInt(le.substr(1),16);le=ut>>16&255,xe=ut>>8&255,Ae=255&ut}if(xe===void 0||Ee===void 0&&le===xe&&xe===Ae)M=typeof le=="string"?le+" "+Ue[0]:b.precision===2?P(le/255)+" "+Ue[0]:D(le/255)+" "+Ue[0];else if(Ee===void 0||zn(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Ue[1]].join(" ");M=typeof le=="string"?[le,xe,Ae,Ue[1]].join(" "):b.precision===2?[P(le/255),P(xe/255),P(Ae/255),Ue[1]].join(" "):[D(le/255),D(xe/255),D(Ae/255),Ue[1]].join(" ")}else M=typeof le=="string"?[le,xe,Ae,Ee,Ue[2]].join(" "):b.precision===2?[P(le),P(xe),P(Ae),P(Ee),Ue[2]].join(" "):[D(le),D(xe),D(Ae),D(Ee),Ue[2]].join(" ");return M},Si=y.__private__.getFilters=function(){return l},_i=y.__private__.putStream=function(b){var M=(b=b||{}).data||"",le=b.filters||Si(),xe=b.alreadyAppliedFilters||[],Ae=b.addLength1||!1,Ee=M.length,Ue=b.objectId,rt=function(Rr){return Rr};if(p!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(rt=tr.encryptor(Ue,0));var ut={};le===!0&&(le=["FlateEncode"]);var Rt=b.additionalKeyValues||[],Et=(ut=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(M,le):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(ut.data.length!==0&&(Rt.push({key:"Length",value:ut.data.length}),Ae===!0&&Rt.push({key:"Length1",value:Ee})),Et.length!=0)if(Et.split("/").length-1==1)Rt.push({key:"Filter",value:Et});else{Rt.push({key:"Filter",value:"["+Et+"]"});for(var yn=0;yn<Rt.length;yn+=1)if(Rt[yn].key==="DecodeParms"){for(var nr=[],_r=0;_r<ut.reverseChain.split("/").length-1;_r+=1)nr.push("null");nr.push(Rt[yn].value),Rt[yn].value="["+nr.join(" ")+"]"}}oe("<<");for(var Hn=0;Hn<Rt.length;Hn++)oe("/"+Rt[Hn].key+" "+Rt[Hn].value);oe(">>"),ut.data.length!==0&&(oe("stream"),oe(rt(ut.data)),oe("endstream"))},ma=y.__private__.putPage=function(b){var M=b.number,le=b.data,xe=b.objId,Ae=b.contentsObjId;In(xe,!0),oe("<</Type /Page"),oe("/Parent "+b.rootDictionaryObjId+" 0 R"),oe("/Resources "+b.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat($(b.mediaBox.bottomLeftX))+" "+parseFloat($(b.mediaBox.bottomLeftY))+" "+$(b.mediaBox.topRightX)+" "+$(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&oe("/CropBox ["+$(b.cropBox.bottomLeftX)+" "+$(b.cropBox.bottomLeftY)+" "+$(b.cropBox.topRightX)+" "+$(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&oe("/BleedBox ["+$(b.bleedBox.bottomLeftX)+" "+$(b.bleedBox.bottomLeftY)+" "+$(b.bleedBox.topRightX)+" "+$(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&oe("/TrimBox ["+$(b.trimBox.bottomLeftX)+" "+$(b.trimBox.bottomLeftY)+" "+$(b.trimBox.topRightX)+" "+$(b.trimBox.topRightY)+"]"),b.artBox!==null&&oe("/ArtBox ["+$(b.artBox.bottomLeftX)+" "+$(b.artBox.bottomLeftY)+" "+$(b.artBox.topRightX)+" "+$(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&oe("/UserUnit "+b.userUnit),it.publish("putPage",{objId:xe,pageContext:Dt[M],pageNumber:M,page:le}),oe("/Contents "+Ae+" 0 R"),oe(">>"),oe("endobj");var Ee=le.join(`
`);return O===L&&(Ee+=`
Q`),In(Ae,!0),_i({data:Ee,filters:Si(),objectId:Ae}),oe("endobj"),xe},os=y.__private__.putPages=function(){var b,M,le=[];for(b=1;b<=sn;b++)Dt[b].objId=fn(),Dt[b].contentsObjId=fn();for(b=1;b<=sn;b++)le.push(ma({number:b,data:ce[b],objId:Dt[b].objId,contentsObjId:Dt[b].contentsObjId,mediaBox:Dt[b].mediaBox,cropBox:Dt[b].cropBox,bleedBox:Dt[b].bleedBox,trimBox:Dt[b].trimBox,artBox:Dt[b].artBox,userUnit:Dt[b].userUnit,rootDictionaryObjId:bi,resourceDictionaryObjId:Di}));In(bi,!0),oe("<</Type /Pages");var xe="/Kids [";for(M=0;M<sn;M++)xe+=le[M]+" 0 R ";oe(xe+"]"),oe("/Count "+sn),oe(">>"),oe("endobj"),it.publish("postPutPages")},Xs=function(b){it.publish("putFont",{font:b,out:oe,newObject:an,putStream:_i}),b.isAlreadyPutted!==!0&&(b.objectNumber=an(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Hu(b.postScriptName)),oe("/Subtype /Type1"),typeof b.encoding=="string"&&oe("/Encoding /"+b.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},va=function(b){b.objectNumber=an();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[$(b.x),$(b.y),$(b.x+b.width),$(b.y+b.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var le=b.pages[1].join(`
`);_i({data:le,additionalKeyValues:M,objectId:b.objectNumber}),oe("endobj")},ya=function(b,M){M||(M=21);var le=an(),xe=(function(Ue,rt){var ut,Rt=[],Et=1/(rt-1);for(ut=0;ut<1;ut+=Et)Rt.push(ut);if(Rt.push(1),Ue[0].offset!=0){var yn={offset:0,color:Ue[0].color};Ue.unshift(yn)}if(Ue[Ue.length-1].offset!=1){var nr={offset:1,color:Ue[Ue.length-1].color};Ue.push(nr)}for(var _r="",Hn=0,Rr=0;Rr<Rt.length;Rr++){for(ut=Rt[Rr];ut>Ue[Hn+1].offset;)Hn++;var gr=Ue[Hn].offset,Yr=(ut-gr)/(Ue[Hn+1].offset-gr),ws=Ue[Hn].color,$i=Ue[Hn+1].color;_r+=te(Math.round((1-Yr)*ws[0]+Yr*$i[0]).toString(16))+te(Math.round((1-Yr)*ws[1]+Yr*$i[1]).toString(16))+te(Math.round((1-Yr)*ws[2]+Yr*$i[2]).toString(16))}return _r.trim()})(b.colors,M),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+M+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_i({data:xe,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),oe("endobj"),b.objectNumber=an(),oe("<< /ShadingType "+b.type),oe("/ColorSpace /DeviceRGB");var Ee="/Coords ["+$(parseFloat(b.coords[0]))+" "+$(parseFloat(b.coords[1]))+" ";b.type===2?Ee+=$(parseFloat(b.coords[2]))+" "+$(parseFloat(b.coords[3])):Ee+=$(parseFloat(b.coords[2]))+" "+$(parseFloat(b.coords[3]))+" "+$(parseFloat(b.coords[4]))+" "+$(parseFloat(b.coords[5])),oe(Ee+="]"),b.matrix&&oe("/Matrix ["+b.matrix.toString()+"]"),oe("/Function "+le+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},wa=function(b,M){var le=fn(),xe=an();M.push({resourcesOid:le,objectOid:xe}),b.objectNumber=xe;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+b.boundingBox.map($).join(" ")+"]"}),Ae.push({key:"XStep",value:$(b.xStep)}),Ae.push({key:"YStep",value:$(b.yStep)}),Ae.push({key:"Resources",value:le+" 0 R"}),b.matrix&&Ae.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),_i({data:b.stream,additionalKeyValues:Ae,objectId:b.objectNumber}),oe("endobj")},yl=function(b){for(var M in b.objectNumber=an(),oe("<<"),b)switch(M){case"opacity":oe("/ca "+P(b[M]));break;case"stroke-opacity":oe("/CA "+P(b[M]))}oe(">>"),oe("endobj")},Pn=function(b){In(b.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in oe("/Font <<"),bt)bt.hasOwnProperty(M)&&(v===!1||v===!0&&x.hasOwnProperty(M))&&oe("/"+M+" "+bt[M].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(It).length>0){for(var M in oe("/Shading <<"),It)It.hasOwnProperty(M)&&It[M]instanceof Oc&&It[M].objectNumber>=0&&oe("/"+M+" "+It[M].objectNumber+" 0 R");it.publish("putShadingPatternDict"),oe(">>")}})(),(function(M){if(Object.keys(It).length>0){for(var le in oe("/Pattern <<"),It)It.hasOwnProperty(le)&&It[le]instanceof y.TilingPattern&&It[le].objectNumber>=0&&It[le].objectNumber<M&&oe("/"+le+" "+It[le].objectNumber+" 0 R");it.publish("putTilingPatternDict"),oe(">>")}})(b.objectOid),(function(){if(Object.keys(Tt).length>0){var M;for(M in oe("/ExtGState <<"),Tt)Tt.hasOwnProperty(M)&&Tt[M].objectNumber>=0&&oe("/"+M+" "+Tt[M].objectNumber+" 0 R");it.publish("putGStateDict"),oe(">>")}})(),(function(){for(var M in oe("/XObject <<"),rn)rn.hasOwnProperty(M)&&rn[M].objectNumber>=0&&oe("/"+M+" "+rn[M].objectNumber+" 0 R");it.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},Po=function(b){qt[b.fontName]=qt[b.fontName]||{},qt[b.fontName][b.fontStyle]=b.id},ge=function(b,M,le,xe,Ae){var Ee={id:"F"+(Object.keys(bt).length+1).toString(10),postScriptName:b,fontName:M,fontStyle:le,encoding:xe,isStandardFont:Ae||!1,metadata:{}};return it.publish("addFont",{font:Ee,instance:this}),bt[Ee.id]=Ee,Po(Ee),Ee.id},Be=y.__private__.pdfEscape=y.pdfEscape=function(b,M){return(function(le,xe){var Ae,Ee,Ue,rt,ut,Rt,Et,yn,nr;if(Ue=(xe=xe||{}).sourceEncoding||"Unicode",ut=xe.outputEncoding,(xe.autoencode||ut)&&bt[at].metadata&&bt[at].metadata[Ue]&&bt[at].metadata[Ue].encoding&&(rt=bt[at].metadata[Ue].encoding,!ut&&bt[at].encoding&&(ut=bt[at].encoding),!ut&&rt.codePages&&(ut=rt.codePages[0]),typeof ut=="string"&&(ut=rt[ut]),ut)){for(Et=!1,Rt=[],Ae=0,Ee=le.length;Ae<Ee;Ae++)(yn=ut[le.charCodeAt(Ae)])?Rt.push(String.fromCharCode(yn)):Rt.push(le[Ae]),Rt[Ae].charCodeAt(0)>>8&&(Et=!0);le=Rt.join("")}for(Ae=le.length;Et===void 0&&Ae!==0;)le.charCodeAt(Ae-1)>>8&&(Et=!0),Ae--;if(!Et)return le;for(Rt=xe.noBOM?[]:[254,255],Ae=0,Ee=le.length;Ae<Ee;Ae++){if((nr=(yn=le.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(nr),Rt.push(yn-(nr<<8))}return String.fromCharCode.apply(void 0,Rt)})(b,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_e=y.__private__.beginPage=function(b){ce[++sn]=[],Dt[sn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},Ln(sn),Te(ce[z])},ot=function(b,M){var le,xe,Ae;switch(t=M||t,typeof b=="string"&&(le=j(b.toLowerCase()),Array.isArray(le)&&(xe=le[0],Ae=le[1])),Array.isArray(b)&&(xe=b[0]*yt,Ae=b[1]*yt),isNaN(xe)&&(xe=i[0],Ae=i[1]),(xe>14400||Ae>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ae=Math.min(14400,Ae)),i=[xe,Ae],t.substr(0,1)){case"l":Ae>xe&&(i=[Ae,xe]);break;case"p":xe>Ae&&(i=[Ae,xe])}_e(i),Sa(ji),oe(ta),Bo!==0&&oe(Bo+" J"),Za!==0&&oe(Za+" j"),it.publish("addPage",{pageNumber:sn})},Vt=function(b){b>0&&b<=sn&&(ce.splice(b,1),Dt.splice(b,1),sn--,z>sn&&(z=sn),this.setPage(z))},Ln=function(b){b>0&&b<=sn&&(z=b)},An=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return ce.length-1},Ni=function(b,M,le){var xe,Ae=void 0;return le=le||{},b=b!==void 0?b:bt[at].fontName,M=M!==void 0?M:bt[at].fontStyle,xe=b.toLowerCase(),qt[xe]!==void 0&&qt[xe][M]!==void 0?Ae=qt[xe][M]:qt[b]!==void 0&&qt[b][M]!==void 0?Ae=qt[b][M]:le.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+b+"', '"+M+"'. Refer to getFontList() for available fonts."),Ae||le.noFallback||(Ae=qt.times[M])==null&&(Ae=qt.times.normal),Ae},er=y.__private__.putInfo=function(){var b=an(),M=function(xe){return xe};for(var le in p!==null&&(M=tr.encryptor(b,0)),oe("<<"),oe("/Producer ("+Be(M("jsPDF "+Ot.version))+")"),xt)xt.hasOwnProperty(le)&&xt[le]&&oe("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Be(M(xt[le]))+")");oe("/CreationDate ("+Be(M(ue))+")"),oe(">>"),oe("endobj")},Zs=y.__private__.putCatalog=function(b){var M=(b=b||{}).rootDictionaryObjId||bi;switch(an(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+M+" 0 R"),pe||(pe="fullwidth"),pe){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+pe;le.substr(le.length-1)==="%"&&(pe=parseInt(pe)/100),typeof pe=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+P(pe)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Ze&&oe("/PageMode /"+Ze),it.publish("putCatalog"),oe(">>"),oe("endobj")},ar=y.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(me+1)),oe("/Root "+me+" 0 R"),oe("/Info "+(me-1)+" 0 R"),p!==null&&oe("/Encrypt "+tr.oid+" 0 R"),oe("/ID [ <"+de+"> <"+de+"> ]"),oe(">>")},Lo=y.__private__.putHeader=function(){oe("%PDF-"+N),oe("%")},oi=y.__private__.putXRef=function(){var b="0000000000";oe("xref"),oe("0 "+(me+1)),oe("0000000000 65535 f ");for(var M=1;M<=me;M++)typeof re[M]=="function"?oe((b+re[M]()).slice(-10)+" 00000 n "):re[M]!==void 0?oe((b+re[M]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Mi=y.__private__.buildDocument=function(){var b;me=0,fe=0,J=[],re=[],we=[],bi=fn(),Di=fn(),Te(J),it.publish("buildDocument"),Lo(),os(),(function(){it.publish("putAdditionalObjects");for(var le=0;le<we.length;le++){var xe=we[le];In(xe.objId,!0),oe(xe.content),oe("endobj")}it.publish("postPutAdditionalObjects")})(),b=[],(function(){for(var le in bt)bt.hasOwnProperty(le)&&(v===!1||v===!0&&x.hasOwnProperty(le))&&Xs(bt[le])})(),(function(){var le;for(le in Tt)Tt.hasOwnProperty(le)&&yl(Tt[le])})(),(function(){for(var le in rn)rn.hasOwnProperty(le)&&va(rn[le])})(),(function(le){var xe;for(xe in It)It.hasOwnProperty(xe)&&(It[xe]instanceof Oc?ya(It[xe]):It[xe]instanceof Wu&&wa(It[xe],le))})(b),it.publish("putResources"),b.forEach(Pn),Pn({resourcesOid:Di,objectOid:Number.MAX_SAFE_INTEGER}),it.publish("postPutResources"),p!==null&&(tr.oid=an(),oe("<<"),oe("/Filter /Standard"),oe("/V "+tr.v),oe("/R "+tr.r),oe("/U <"+tr.toHexString(tr.U)+">"),oe("/O <"+tr.toHexString(tr.O)+">"),oe("/P "+tr.P),oe(">>"),oe("endobj")),er(),Zs();var M=fe;return oi(),ar(),oe("startxref"),oe(""+M),oe("%%EOF"),Te(ce[z]),J.join(`
`)},li=y.__private__.getBlob=function(b){return new Blob([lt(b)],{type:"application/pdf"})},ki=y.output=y.__private__.output=(qn=function(b,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",b){case void 0:return Mi();case"save":y.save(M.filename);break;case"arraybuffer":return lt(Mi());case"blob":return li(Mi());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(li(Mi()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",xe=Mi();try{le=Sy(xe)}catch{le=Sy(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+M.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(Ae=M.pdfObjectUrl,Ee="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",rt=Kt.open();return rt!==null&&rt.document.write(Ue),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Rt=Kt.open();if(Rt!==null){Rt.document.write(ut);var Et=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=M.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',nr=Kt.open();if(nr!==null&&(nr.document.write(yn),nr.document.title=M.filename),nr||typeof safari>"u")return nr;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",M);default:return null}},qn.foo=function(){try{return qn.apply(this,arguments)}catch(le){var b=le.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var M="Error in function "+b.split(`
`)[0].split("<")[0]+": "+le.message;if(!Kt.console)throw new Error(M);Kt.console.error(M,le),Kt.alert&&alert(M)}},qn.foo.bar=qn,qn.foo),ea=function(b){return Array.isArray(vn)===!0&&vn.indexOf(b)>-1};switch(r){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=ea("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);yt=r}var tr=null;Y(),W();var Ts=y.__private__.getPageInfo=y.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[b].objId,pageNumber:b,pageContext:Dt[b]}},To=y.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in Dt)if(Dt[M].objId===b)break;return Ts(M)},Ja=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Dt[z].objId,pageNumber:z,pageContext:Dt[z]}};y.addPage=function(){return ot.apply(this,arguments),this},y.setPage=function(){return Ln.apply(this,arguments),Te.call(this,ce[z]),this},y.insertPage=function(b){return this.addPage(),this.movePage(z,b),this},y.movePage=function(b,M){var le,xe;if(b>M){le=ce[b],xe=Dt[b];for(var Ae=b;Ae>M;Ae--)ce[Ae]=ce[Ae-1],Dt[Ae]=Dt[Ae-1];ce[M]=le,Dt[M]=xe,this.setPage(M)}else if(b<M){le=ce[b],xe=Dt[b];for(var Ee=b;Ee<M;Ee++)ce[Ee]=ce[Ee+1],Dt[Ee]=Dt[Ee+1];ce[M]=le,Dt[M]=xe,this.setPage(M)}return this},y.deletePage=function(){return Vt.apply(this,arguments),this},y.__private__.text=y.text=function(b,M,le,xe,Ae){var Ee,Ue,rt,ut,Rt,Et,yn,nr,_r,Hn=(xe=xe||{}).scope||this;if(typeof b=="number"&&typeof M=="number"&&(typeof le=="string"||Array.isArray(le))){var Rr=le;le=M,M=b,b=Rr}if(arguments[3]instanceof st==0?(rt=arguments[4],ut=arguments[5],zn(yn=arguments[3])==="object"&&yn!==null||(typeof rt=="string"&&(ut=rt,rt=null),typeof yn=="string"&&(ut=yn,yn=null),typeof yn=="number"&&(rt=yn,yn=null),xe={flags:yn,angle:rt,align:ut})):(F("The transform parameter of text() with a Matrix value"),_r=Ae),isNaN(M)||isNaN(le)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Hn;var gr,Yr="",ws=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Kr,$i=Hn.internal.scaleFactor;function Zc(xn){return xn=xn.split("	").join(Array(xe.TabLen||9).join(" ")),Be(xn,yn)}function ro(xn){for(var Tn,cr=xn.concat(),Nr=[],zs=cr.length;zs--;)typeof(Tn=cr.shift())=="string"?Nr.push(Tn):Array.isArray(xn)&&(Tn.length===1||Tn[1]===void 0&&Tn[2]===void 0)?Nr.push(Tn[0]):Nr.push([Tn[0],Tn[1],Tn[2]]);return Nr}function zo(xn,Tn){var cr;if(typeof xn=="string")cr=Tn(xn)[0];else if(Array.isArray(xn)){for(var Nr,zs,lc=xn.concat(),_l=[],Ea=lc.length;Ea--;)typeof(Nr=lc.shift())=="string"?_l.push(Tn(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(zs=Tn(Nr[0],Nr[1],Nr[2]),_l.push([zs[0],zs[1],zs[2]]));cr=_l}return cr}var io=!1,Uo=!0;if(typeof b=="string")io=!0;else if(Array.isArray(b)){var so=b.concat();Ue=[];for(var $o,ui=so.length;ui--;)(typeof($o=so.shift())!="string"||Array.isArray($o)&&typeof $o[0]!="string")&&(Uo=!1);io=Uo}if(io===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var qo=be/Hn.internal.scaleFactor,Ho=qo*(ws-1);switch(xe.baseline){case"bottom":le-=Ho;break;case"top":le+=qo-Ho;break;case"hanging":le+=qo-2*Ho;break;case"middle":le+=qo/2-Ho}if((Et=xe.maxWidth||0)>0&&(typeof b=="string"?b=Hn.splitTextToSize(b,Et):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(xn,Tn){return xn.concat(Hn.splitTextToSize(Tn,Et))},[]))),Ee={text:b,x:M,y:le,options:xe,mutex:{pdfEscape:Be,activeFontKey:at,fonts:bt,activeFontSize:be}},it.publish("preProcessText",Ee),b=Ee.text,rt=(xe=Ee.options).angle,_r instanceof st==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,xe.rotationDirection===0&&(rt=-rt),O===L&&(rt=-rt);var ac=Math.cos(rt),oc=Math.sin(rt);_r=new st(ac,oc,-oc,ac,0,0)}else rt&&rt instanceof st&&(_r=rt);O!==L||_r||(_r=Sr),(Rt=xe.charSpace||Ui)!==void 0&&(Yr+=$(q(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nr=xe.horizontalScale)!==void 0&&(Yr+=$(100*nr)+` Tz
`),xe.lang;var or=-1,Ms=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,ia=Hn.internal.getCurrentPageInfo().pageContext;switch(Ms){case 0:case!1:case"fill":or=0;break;case 1:case!0:case"stroke":or=1;break;case 2:case"fillThenStroke":or=2;break;case 3:case"invisible":or=3;break;case 4:case"fillAndAddForClipping":or=4;break;case 5:case"strokeAndAddPathForClipping":or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":or=6;break;case 7:case"addToPathForClipping":or=7}var eu=ia.usedRenderingMode!==void 0?ia.usedRenderingMode:-1;or!==-1?Yr+=or+` Tr
`:eu!==-1&&(Yr+=`0 Tr
`),or!==-1&&(ia.usedRenderingMode=or),ut=xe.align||"left";var cs,ao=be*ws,wl=Hn.internal.pageSize.getWidth(),xl=bt[at];Rt=xe.charSpace||Ui,Et=xe.maxWidth||0,yn=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var ka=[],xs=function(xn){return Hn.getStringUnitWidth(xn,{font:xl,charSpace:Rt,fontSize:be,doKerning:!1})*be/$i};if(Object.prototype.toString.call(b)==="[object Array]"){var us;Ue=ro(b),ut!=="left"&&(cs=Ue.map(xs));var ds,oo=0;if(ut==="right"){M-=cs[0],b=[],ui=Ue.length;for(var sa=0;sa<ui;sa++)sa===0?(ds=Bi(M),us=Is(le)):(ds=q(oo-cs[sa]),us=-ao),b.push([Ue[sa],ds,us]),oo=cs[sa]}else if(ut==="center"){M-=cs[0]/2,b=[],ui=Ue.length;for(var ja=0;ja<ui;ja++)ja===0?(ds=Bi(M),us=Is(le)):(ds=q((oo-cs[ja])/2),us=-ao),b.push([Ue[ja],ds,us]),oo=cs[ja]}else if(ut==="left"){b=[],ui=Ue.length;for(var Ca=0;Ca<ui;Ca++)b.push(Ue[Ca])}else if(ut==="justify"&&xl.encoding==="Identity-H"){b=[],ui=Ue.length,Et=Et!==0?Et:wl;for(var aa=0,mr=0;mr<ui;mr++)if(us=mr===0?Is(le):-ao,ds=mr===0?Bi(M):aa,mr<ui-1){var Wo=q((Et-cs[mr])/(Ue[mr].split(" ").length-1)),oa=Ue[mr].split(" ");b.push([oa[0]+" ",ds,us]),aa=0;for(var Bs=1;Bs<oa.length;Bs++){var Vo=(xs(oa[Bs-1]+" "+oa[Bs])-xs(oa[Bs]))*$i+Wo;Bs==oa.length-1?b.push([oa[Bs],Vo,0]):b.push([oa[Bs]+" ",Vo,0]),aa-=Vo}}else b.push([Ue[mr],ds,us]);b.push(["",aa,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],ui=Ue.length,Et=Et!==0?Et:wl,mr=0;mr<ui;mr++){us=mr===0?Is(le):-ao,ds=mr===0?Bi(M):0;var Go=Ue[mr].split(" ").length-1,bl=Go>0?(Et-cs[mr])/Go:0;mr<ui-1?ka.push($(q(bl))):ka.push(0),b.push([Ue[mr],ds,us])}}}(typeof xe.R2L=="boolean"?xe.R2L:Ke)===!0&&(b=zo(b,function(xn,Tn,cr){return[xn.split("").reverse().join(""),Tn,cr]})),Ee={text:b,x:M,y:le,options:xe,mutex:{pdfEscape:Be,activeFontKey:at,fonts:bt,activeFontSize:be}},it.publish("postProcessText",Ee),b=Ee.text,gr=Ee.mutex.isHex||!1;var Sl=bt[at].encoding;Sl!=="WinAnsiEncoding"&&Sl!=="StandardEncoding"||(b=zo(b,function(xn,Tn,cr){return[Zc(xn),Tn,cr]})),Ue=ro(b),b=[];for(var Aa,lo,co,Ko=Array.isArray(Ue[0])?1:0,uo="",Yo=function(xn,Tn,cr){var Nr="";return cr instanceof st?(cr=typeof xe.angle=="number"?kn(cr,new st(1,0,0,1,xn,Tn)):kn(new st(1,0,0,1,xn,Tn),cr),O===L&&(cr=kn(new st(1,0,0,-1,0,0),cr)),Nr=cr.join(" ")+` Tm
`):Nr=$(xn)+" "+$(Tn)+` Td
`,Nr},lr=0;lr<Ue.length;lr++){switch(uo="",Ko){case 1:co=(gr?"<":"(")+Ue[lr][0]+(gr?">":")"),Aa=parseFloat(Ue[lr][1]),lo=parseFloat(Ue[lr][2]);break;case 0:co=(gr?"<":"(")+Ue[lr]+(gr?">":")"),Aa=Bi(M),lo=Is(le)}ka!==void 0&&ka[lr]!==void 0&&(uo=ka[lr]+` Tw
`),lr===0?b.push(uo+Yo(Aa,lo,_r)+co):Ko===0?b.push(uo+co):Ko===1&&b.push(uo+Yo(Aa,lo,_r)+co)}b=Ko===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var qi=`BT
/`;return qi+=at+" "+be+` Tf
`,qi+=$(be*ws)+` TL
`,qi+=ci+`
`,qi+=Yr,qi+=b,oe(qi+="ET"),x[at]=!0,Hn};var xa=y.__private__.clip=y.clip=function(b){return oe(b==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return xa("evenodd")},y.__private__.discardPath=y.discardPath=function(){return oe("n"),this};var zr=y.__private__.isValidStyle=function(b){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(M=!0),M};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(b){return zr(b)&&(f=b),this};var Ro=y.__private__.getStyle=y.getStyle=function(b){var M=f;switch(b){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=b}return M},on=y.close=function(){return oe("h"),this};y.stroke=function(){return oe("S"),this},y.fill=function(b){return Rs("f",b),this},y.fillEvenOdd=function(b){return Rs("f*",b),this},y.fillStroke=function(b){return Rs("B",b),this},y.fillStrokeEvenOdd=function(b){return Rs("B*",b),this};var Rs=function(b,M){zn(M)==="object"?Io(M,b):oe(b)},Oo=function(b){b===null||O===L&&b===void 0||(b=Ro(b),oe(b))};function ba(b,M,le,xe,Ae){var Ee=new Wu(M||this.boundingBox,le||this.xStep,xe||this.yStep,this.gState,Ae||this.matrix);Ee.stream=this.stream;var Ue=b+"$$"+this.cloneIndex+++"$$";return wn(Ue,Ee),Ee}var Io=function(b,M){var le=Ht[b.key],xe=It[le];if(xe instanceof Oc)oe("q"),oe(Qa(M)),xe.gState&&y.setGState(xe.gState),oe(b.matrix.toString()+" cm"),oe("/"+le+" sh"),oe("Q");else if(xe instanceof Wu){var Ae=new st(1,0,0,-1,0,Pi());b.matrix&&(Ae=Ae.multiply(b.matrix||Sr),le=ba.call(xe,b.key,b.boundingBox,b.xStep,b.yStep,Ae).id),oe("q"),oe("/Pattern cs"),oe("/"+le+" scn"),xe.gState&&y.setGState(xe.gState),oe(M),oe("Q")}},Qa=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xa=y.moveTo=function(b,M){return oe($(q(b))+" "+$(V(M))+" m"),this},Os=y.lineTo=function(b,M){return oe($(q(b))+" "+$(V(M))+" l"),this},Gr=y.curveTo=function(b,M,le,xe,Ae,Ee){return oe([$(q(b)),$(V(M)),$(q(le)),$(V(xe)),$(q(Ae)),$(V(Ee)),"c"].join(" ")),this};y.__private__.line=y.line=function(b,M,le,xe,Ae){if(isNaN(b)||isNaN(M)||isNaN(le)||isNaN(xe)||!zr(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return O===T?this.lines([[le-b,xe-M]],b,M,[1,1],Ae||"S"):this.lines([[le-b,xe-M]],b,M,[1,1]).stroke()},y.__private__.lines=y.lines=function(b,M,le,xe,Ae,Ee){var Ue,rt,ut,Rt,Et,yn,nr,_r,Hn,Rr,gr,Yr;if(typeof b=="number"&&(Yr=le,le=M,M=b,b=Yr),xe=xe||[1,1],Ee=Ee||!1,isNaN(M)||isNaN(le)||!Array.isArray(b)||!Array.isArray(xe)||!zr(Ae)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xa(M,le),Ue=xe[0],rt=xe[1],Rt=b.length,Rr=M,gr=le,ut=0;ut<Rt;ut++)(Et=b[ut]).length===2?(Rr=Et[0]*Ue+Rr,gr=Et[1]*rt+gr,Os(Rr,gr)):(yn=Et[0]*Ue+Rr,nr=Et[1]*rt+gr,_r=Et[2]*Ue+Rr,Hn=Et[3]*rt+gr,Rr=Et[4]*Ue+Rr,gr=Et[5]*rt+gr,Gr(yn,nr,_r,Hn,Rr,gr));return Ee&&on(),Oo(Ae),this},y.path=function(b){for(var M=0;M<b.length;M++){var le=b[M],xe=le.c;switch(le.op){case"m":Xa(xe[0],xe[1]);break;case"l":Os(xe[0],xe[1]);break;case"c":Gr.apply(this,xe);break;case"h":on()}}return this},y.__private__.rect=y.rect=function(b,M,le,xe,Ae){if(isNaN(b)||isNaN(M)||isNaN(le)||isNaN(xe)||!zr(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return O===T&&(xe=-xe),oe([$(q(b)),$(V(M)),$(q(le)),$(q(xe)),"re"].join(" ")),Oo(Ae),this},y.__private__.triangle=y.triangle=function(b,M,le,xe,Ae,Ee,Ue){if(isNaN(b)||isNaN(M)||isNaN(le)||isNaN(xe)||isNaN(Ae)||isNaN(Ee)||!zr(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-b,xe-M],[Ae-le,Ee-xe],[b-Ae,M-Ee]],b,M,[1,1],Ue,!0),this},y.__private__.roundedRect=y.roundedRect=function(b,M,le,xe,Ae,Ee,Ue){if(isNaN(b)||isNaN(M)||isNaN(le)||isNaN(xe)||isNaN(Ae)||isNaN(Ee)||!zr(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*le),Ee=Math.min(Ee,.5*xe),this.lines([[le-2*Ae,0],[Ae*rt,0,Ae,Ee-Ee*rt,Ae,Ee],[0,xe-2*Ee],[0,Ee*rt,-Ae*rt,Ee,-Ae,Ee],[2*Ae-le,0],[-Ae*rt,0,-Ae,-Ee*rt,-Ae,-Ee],[0,2*Ee-xe],[0,-Ee*rt,Ae*rt,-Ee,Ae,-Ee]],b+Ae,M,[1,1],Ue,!0),this},y.__private__.ellipse=y.ellipse=function(b,M,le,xe,Ae){if(isNaN(b)||isNaN(M)||isNaN(le)||isNaN(xe)||!zr(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*le,Ue=4/3*(Math.SQRT2-1)*xe;return Xa(b+le,M),Gr(b+le,M-Ue,b+Ee,M-xe,b,M-xe),Gr(b-Ee,M-xe,b-le,M-Ue,b-le,M),Gr(b-le,M+Ue,b-Ee,M+xe,b,M+xe),Gr(b+Ee,M+xe,b+le,M+Ue,b+le,M),Oo(Ae),this},y.__private__.circle=y.circle=function(b,M,le,xe){if(isNaN(b)||isNaN(M)||isNaN(le)||!zr(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,M,le,le,xe)},y.setFont=function(b,M,le){return le&&(M=ee(M,le)),at=Ni(b,M,{disableWarning:!1}),this};var ls=y.__private__.getFont=y.getFont=function(){return bt[Ni.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var b,M,le={};for(b in qt)if(qt.hasOwnProperty(b))for(M in le[b]=[],qt[b])qt[b].hasOwnProperty(M)&&le[b].push(M);return le},y.addFont=function(b,M,le,xe,Ae){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(le=ee(le,xe)),ge.call(this,b,M,le,Ae=Ae||"Identity-H")};var Kr,ji=n.lineWidth||.200025,Ft=y.__private__.getLineWidth=y.getLineWidth=function(){return ji},Sa=y.__private__.setLineWidth=y.setLineWidth=function(b){return ji=b,oe($(q(b))+" w"),this};y.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(b,M){if(b=b||[],M=M||0,isNaN(M)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(le){return $(q(le))}).join(" "),M=$(q(M)),oe("["+b+"] "+M+" d"),this};var ms=y.__private__.getLineHeight=y.getLineHeight=function(){return be*Kr};y.__private__.getLineHeight=y.getLineHeight=function(){return be*Kr};var vs=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(Kr=b),this},sc=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Kr};vs(n.lineHeight);var Bi=y.__private__.getHorizontalCoordinate=function(b){return q(b)},Is=y.__private__.getVerticalCoordinate=function(b){return O===L?b:Dt[z].mediaBox.topRightY-Dt[z].mediaBox.bottomLeftY-q(b)},Do=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(b){return $(Bi(b))},_a=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(b){return $(Is(b))},ta=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Fi(ta)},y.__private__.setStrokeColor=y.setDrawColor=function(b,M,le,xe){return ta=Lr({ch1:b,ch2:M,ch3:le,ch4:xe,pdfColorType:"draw",precision:2}),oe(ta),this};var Fo=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Fi(Fo)},y.__private__.setFillColor=y.setFillColor=function(b,M,le,xe){return Fo=Lr({ch1:b,ch2:M,ch3:le,ch4:xe,pdfColorType:"fill",precision:2}),oe(Fo),this};var ci=n.textColor||"0 g",zi=y.__private__.getTextColor=y.getTextColor=function(){return Fi(ci)};y.__private__.setTextColor=y.setTextColor=function(b,M,le,xe){return ci=Lr({ch1:b,ch2:M,ch3:le,ch4:xe,pdfColorType:"text",precision:3}),this};var Ui=n.charSpace,Mo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ui||0)};y.__private__.setCharSpace=y.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ui=b,this};var Bo=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(b){var M=y.CapJoinStyles[b];if(M===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bo=M,oe(M+" J"),this};var Za=0;y.__private__.setLineJoin=y.setLineJoin=function(b){var M=y.CapJoinStyles[b];if(M===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Za=M,oe(M+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe($(q(b))+" M"),this},y.GState=$f,y.setGState=function(b){(b=typeof b=="string"?Tt[Nn[b]]:Ds(null,b)).equals(mn)||(oe("/"+b.id+" gs"),mn=b)};var Ds=function(b,M){if(!b||!Nn[b]){var le=!1;for(var xe in Tt)if(Tt.hasOwnProperty(xe)&&Tt[xe].equals(M)){le=!0;break}if(le)M=Tt[xe];else{var Ae="GS"+(Object.keys(Tt).length+1).toString(10);Tt[Ae]=M,M.id=Ae}return b&&(Nn[b]=M.id),it.publish("addGState",M),M}};y.addGState=function(b,M){return Ds(b,M),this},y.saveGraphicsState=function(){return oe("q"),gn.push({key:at,size:be,color:ci}),this},y.restoreGraphicsState=function(){oe("Q");var b=gn.pop();return at=b.key,be=b.size,ci=b.color,mn=null,this},y.setCurrentTransformationMatrix=function(b){return oe(b.toString()+" cm"),this},y.comment=function(b){return oe("#"+b),this};var ys=function(b,M){var le=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Ee){isNaN(Ee)||(le=parseFloat(Ee))}});var xe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Ee){isNaN(Ee)||(xe=parseFloat(Ee))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ee){Ae=Ee.toString()}}),this},Na=function(b,M,le,xe){ys.call(this,b,M),this.type="rect";var Ae=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ue){isNaN(Ue)||(Ae=parseFloat(Ue))}});var Ee=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Ue){isNaN(Ue)||(Ee=parseFloat(Ue))}}),this},na=function(){this.page=sn,this.currentPage=z,this.pages=ce.slice(0),this.pagesContext=Dt.slice(0),this.x=pt,this.y=en,this.matrix=un,this.width=ra(z),this.height=Ai(z),this.outputDestination=qe,this.id="",this.objectNumber=-1};na.prototype.restore=function(){sn=this.page,z=this.currentPage,Dt=this.pagesContext,ce=this.pages,pt=this.x,en=this.y,un=this.matrix,eo(z,this.width),Ei(z,this.height),qe=this.outputDestination};var Ci=function(b,M,le,xe,Ae){Pr.push(new na),sn=z=0,ce=[],pt=b,en=M,un=Ae,_e([le,xe])};for(var Fs in y.beginFormObject=function(b,M,le,xe,Ae){return Ci(b,M,le,xe,Ae),this},y.endFormObject=function(b){return(function(M){if($n[M])Pr.pop().restore();else{var le=new na,xe="Xo"+(Object.keys(rn).length+1).toString(10);le.id=xe,$n[M]=xe,rn[xe]=le,it.publish("addFormObject",le),Pr.pop().restore()}})(b),this},y.doFormObject=function(b,M){var le=rn[$n[b]];return oe("q"),oe(M.toString()+" cm"),oe("/"+le.id+" Do"),oe("Q"),this},y.getFormObject=function(b){var M=rn[$n[b]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},y.save=function(b,M){return b=b||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Lc(li(Mi()),b),typeof Lc.unload=="function"&&Kt.setTimeout&&setTimeout(Lc.unload,911),this):new Promise(function(le,xe){try{var Ae=Lc(li(Mi()),b);typeof Lc.unload=="function"&&Kt.setTimeout&&setTimeout(Lc.unload,911),le(Ae)}catch(Ee){xe(Ee.message)}})},Ot.API)Ot.API.hasOwnProperty(Fs)&&(Fs==="events"&&Ot.API.events.length?(function(b,M){var le,xe,Ae;for(Ae=M.length-1;Ae!==-1;Ae--)le=M[Ae][0],xe=M[Ae][1],b.subscribe.apply(b,[le].concat(typeof xe=="function"?[xe]:xe))})(it,Ot.API.events):y[Fs]=Ot.API[Fs]);function ra(b){return Dt[b].mediaBox.topRightX-Dt[b].mediaBox.bottomLeftX}function eo(b,M){Dt[b].mediaBox.topRightX=M+Dt[b].mediaBox.bottomLeftX}function Ai(b){return Dt[b].mediaBox.topRightY-Dt[b].mediaBox.bottomLeftY}function Ei(b,M){Dt[b].mediaBox.topRightY=M+Dt[b].mediaBox.bottomLeftY}var to=y.getPageWidth=function(b){return ra(b=b||z)/yt},Tr=y.setPageWidth=function(b,M){eo(b,M*yt)},Pi=y.getPageHeight=function(b){return Ai(b=b||z)/yt},no=y.setPageHeight=function(b,M){Ei(b,M*yt)};return y.internal={pdfEscape:Be,getStyle:Ro,getFont:ls,getFontSize:Re,getCharSpace:Mo,getTextColor:zi,getLineHeight:ms,getLineHeightFactor:sc,getLineWidth:Ft,write:Lt,getHorizontalCoordinate:Bi,getVerticalCoordinate:Is,getCoordinateString:Do,getVerticalCoordinateString:_a,collections:{},newObject:an,newAdditionalObject:xi,newObjectDeferred:fn,newObjectDeferredBegin:In,getFilters:Si,putStream:_i,events:it,scaleFactor:yt,pageSize:{getWidth:function(){return to(z)},setWidth:function(b){Tr(z,b)},getHeight:function(){return Pi(z)},setHeight:function(b){no(z,b)}},encryptionOptions:p,encryption:tr,getEncryptor:function(b){return p!==null?tr.encryptor(b,0):function(M){return M}},output:ki,getNumberOfPages:An,pages:ce,out:oe,f2:P,f3:D,getPageInfo:Ts,getPageInfoByObjId:To,getCurrentPageInfo:Ja,getPDFVersion:_,Point:ys,Rectangle:Na,Matrix:st,hasHotfix:ea},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return to(z)},set:function(b){Tr(z,b)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Pi(z)},set:function(b){no(z,b)},enumerable:!0,configurable:!0}),function(b){for(var M=0,le=ft.length;M<le;M++){var xe=ge.call(this,b[M][0],b[M][1],b[M][2],ft[M][3],!0);v===!1&&(x[xe]=!0);var Ae=b[M][0].split("-");Po({id:xe,fontName:Ae[0],fontStyle:Ae[1]||""})}it.publish("addFonts",{fonts:bt,dictionary:qt})}.call(y,ft),at="F1",ot(i,t),it.publish("initialized"),y}qu.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},qu.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qu.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},qu.prototype.processOwnerPassword=function(n,e){return G0(V0(e).substr(0,5),n)},qu.prototype.encryptor=function(n,e){var t=V0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return G0(t,r)}},$f.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||zn(n)!==zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ot.API={events:[]},Ot.version="3.0.3";var Er=Ot.API,Om=1,Xc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bu=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(n){return n.toFixed(2)},Vl=function(n){return n.toFixed(5)};Er.__acroform__={};var Ls=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},jy=function(n){return n*Om},bo=function(n){var e=new gb,t=jt.internal.getHeight(n)||0,r=jt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Qt(r)),Number(Qt(t))],e},HE=Er.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},WE=Er.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},VE=Er.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Fr=Er.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VE(n,e-1)},Mr=Er.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HE(n,e-1)},Br=Er.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WE(n,e-1)},GE=Er.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],l=n[2],c=n[3],d={};return d.lowerLeft_X=t(i)||0,d.lowerLeft_Y=r(a+c)||0,d.upperRight_X=t(i+l)||0,d.upperRight_Y=r(a)||0,[Number(Qt(d.lowerLeft_X)),Number(Qt(d.lowerLeft_Y)),Number(Qt(d.upperRight_X)),Number(Qt(d.upperRight_Y))]},KE=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=K0(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=bo(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},K0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var a=t,l=jt.internal.getHeight(n)||0;l=l<0?-l:l;var c=jt.internal.getWidth(n)||0;c=c<0?-c:c;var d=function(P,D,q){if(P+1<i.length){var V=D+" "+i[P+1][0];return mf(V,n,q).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,v=mf("3",n,a).height,x=n.multiline?l-a:(l-v)/2,y=x+=2,N=0,_=0,k=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+mf(e,n,a=12).width+", FieldWidth:"+c+`
`;break}for(var j="",T=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var O=!1;if(i[L].length!==1&&k!==i[L].length-1){if((v+2)*(T+2)+2>l)continue e;j+=i[L][k],O=!0,_=L,L--}else{j=(j+=i[L][k]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var X=parseInt(L),ne=d(X,j,a),ee=L>=i.length-1;if(ne&&!ee){j+=" ",k=0;continue}if(ne||ee){if(ee)_=X;else if(n.multiline&&(v+2)*(T+2)+2>l)continue e}else{if(!n.multiline||(v+2)*(T+2)+2>l)continue e;_=X}}for(var $="",F=N;F<=_;F++){var ae=i[F];if(n.multiline){if(F===_){$+=ae[k]+" ",k=(k+1)%ae.length;continue}if(F===N){$+=ae[ae.length-1]+" ";continue}}$+=ae[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,p=mf($,n,a).width,n.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;default:f=2}e+=Qt(f)+" "+Qt(y)+` Td
`,e+="("+Xc($)+`) Tj
`,e+=-Qt(f)+` 0 Td
`,y=-(a+2),p=0,N=O?_:_+1,T++,j=""}break}return r.text=e,r.fontSize=a,r},mf=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},YE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JE=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},QE=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ka.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(YE)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Om=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new mb,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&JE(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],d=[],f=c.Rect;if(c.Rect&&(c.Rect=GE(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=jt.createDefaultAppearanceStream(c),zn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=KE(c);d.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var v="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var y=c.appearanceStreamContent[x];if(v+="/"+x+" ",v+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var N=y[l];typeof N=="function"&&(N=N.call(i,c)),v+="/"+l+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(i,c)),v+="/"+l+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);v+=">>"}d.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:c.objId}),i.internal.out("endobj")}a&&(function(_,k){for(var j in _)if(_.hasOwnProperty(j)){var T=j,L=_[j];k.internal.newObjectDeferredBegin(L.objId,!0),zn(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete _[T]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},pb=Er.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),zn(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Xc(r(n[a].toString()))+")"):i+=n[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},r0=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Xc(r(n))+")"},ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ko.prototype.toString=function(){return this.objId+" 0 R"},ko.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ko.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:pb(i,this.objId,this.scope)}):i instanceof ko?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var gb=function(){ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ls(gb,ko);var mb=function(){ko.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Xc(t(n))+")"}},set:function(t){n=t}})};Ls(mb,ko);var Ka=function n(){ko.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fr(e,3)},set:function(j){j?this.F=Mr(e,3):this.F=Br(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof qf)return;a="FieldObject"+n.FieldNum++}var j=function(T){return T};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Xc(j(a))+")"},set:function(j){a=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(j){a=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Om:f},set:function(j){f=j}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(j){p=j}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof qf||this instanceof Dc))return r0(v,this.objId,this.scope)},set:function(j){j=j.toString(),v=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof yi==0?r0(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof yi==0?j.substr(0,1)==="("?Bu(j.substr(1,j.length-2)):Bu(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi==1?Bu(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof yi==1?"/"+j:j}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof yi==0?r0(y,this.objId,this.scope):y},set:function(j){j=j.toString(),y=this instanceof yi==0?j.substr(0,1)==="("?Bu(j.substr(1,j.length-2)):Bu(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi==1?Bu(y.substr(1,y.length-1)):y},set:function(j){j=j.toString(),y=this instanceof yi==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(j){j=!!j,_=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(j){N=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,1)},set:function(j){j?this.Ff=Mr(this.Ff,1):this.Ff=Br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,2)},set:function(j){j?this.Ff=Mr(this.Ff,2):this.Ff=Br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,3)},set:function(j){j?this.Ff=Mr(this.Ff,3):this.Ff=Br(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');k=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(k){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Ls(Ka,ko);var Qu=function(){Ka.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pb(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(a,l,c){c||(c=1);for(var d,f=[];d=l.exec(a);)f.push(d[c]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,18)},set:function(t){t?this.Ff=Mr(this.Ff,18):this.Ff=Br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Mr(this.Ff,19):this.Ff=Br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,20)},set:function(t){t?(this.Ff=Mr(this.Ff,20),e.sort()):this.Ff=Br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,22)},set:function(t){t?this.Ff=Mr(this.Ff,22):this.Ff=Br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(t){t?this.Ff=Mr(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,27)},set:function(t){t?this.Ff=Mr(this.Ff,27):this.Ff=Br(this.Ff,27)}}),this.hasAppearanceStream=!1};Ls(Qu,Ka);var Xu=function(){Qu.call(this),this.fontName="helvetica",this.combo=!1};Ls(Xu,Qu);var Zu=function(){Xu.call(this),this.combo=!0};Ls(Zu,Xu);var kf=function(){Zu.call(this),this.edit=!0};Ls(kf,Zu);var yi=function(){Ka.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,15)},set:function(t){t?this.Ff=Mr(this.Ff,15):this.Ff=Br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,16)},set:function(t){t?this.Ff=Mr(this.Ff,16):this.Ff=Br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,17)},set:function(t){t?this.Ff=Mr(this.Ff,17):this.Ff=Br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(t){t?this.Ff=Mr(this.Ff,26):this.Ff=Br(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Xc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ls(yi,Ka);var jf=function(){yi.call(this),this.pushButton=!0};Ls(jf,yi);var ed=function(){yi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ls(ed,yi);var qf=function(){var n,e;Ka.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+Xc(i(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(i){zn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ls(qf,Ka),ed.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ed.prototype.createOption=function(n){var e=new qf;return e.Parent=this,e.optionName=n,this.Kids.push(e),XE.call(this.scope,e),e};var Cf=function(){yi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};Ls(Cf,yi);var Dc=function(){Ka.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,13)},set:function(e){e?this.Ff=Mr(this.Ff,13):this.Ff=Br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,21)},set:function(e){e?this.Ff=Mr(this.Ff,21):this.Ff=Br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(e){e?this.Ff=Mr(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,24)},set:function(e){e?this.Ff=Mr(this.Ff,24):this.Ff=Br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,25)},set:function(e){e?this.Ff=Mr(this.Ff,25):this.Ff=Br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(e){e?this.Ff=Mr(this.Ff,26):this.Ff=Br(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ls(Dc,Ka);var Af=function(){Dc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,14)},set:function(n){n?this.Ff=Mr(this.Ff,14):this.Ff=Br(this.Ff,14)}}),this.password=!0};Ls(Af,Dc);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=bo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=K0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Qt(jt.internal.getWidth(n))+" "+Qt(jt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Qt(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=bo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=jt.internal.getHeight(n),l=jt.internal.getWidth(n),c=K0(n,n.caption);return i.push("1 g"),i.push("0 0 "+Qt(l)+" "+Qt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(l-1)+" "+Qt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Qt(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qt(jt.internal.getWidth(n))+" "+Qt(jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=jt.RadioButton.Circle.YesNormal,e.D[n]=jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=bo(n);e.scope=n.scope;var t=[],r=jt.internal.getWidth(n)<=jt.internal.getHeight(n)?jt.internal.getWidth(n)/4:jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=jt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Vl(jt.internal.getWidth(n)/2)+" "+Vl(jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bo(n);e.scope=n.scope;var t=[],r=jt.internal.getWidth(n)<=jt.internal.getHeight(n)?jt.internal.getWidth(n)/4:jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*jt.internal.Bezier_C).toFixed(5)),l=Number((r*jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vl(jt.internal.getWidth(n)/2)+" "+Vl(jt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Vl(jt.internal.getWidth(n)/2)+" "+Vl(jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=bo(n);e.scope=n.scope;var t=[],r=jt.internal.getWidth(n)<=jt.internal.getHeight(n)?jt.internal.getWidth(n)/4:jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vl(jt.internal.getWidth(n)/2)+" "+Vl(jt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=jt.RadioButton.Cross.YesNormal,e.D[n]=jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=bo(n);e.scope=n.scope;var t=[],r=jt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Qt(jt.internal.getWidth(n)-2)+" "+Qt(jt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),t.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),t.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),t.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bo(n);e.scope=n.scope;var t=jt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(jt.internal.getWidth(n))+" "+Qt(jt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qt(jt.internal.getWidth(n)-2)+" "+Qt(jt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(t.x1.x)+" "+Qt(t.x1.y)+" m"),r.push(Qt(t.x2.x)+" "+Qt(t.x2.y)+" l"),r.push(Qt(t.x4.x)+" "+Qt(t.x4.y)+" m"),r.push(Qt(t.x3.x)+" "+Qt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qt(jt.internal.getWidth(n))+" "+Qt(jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};jt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=jt.internal.getWidth(n),t=jt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},jt.internal.getWidth=function(n){var e=0;return zn(n)==="object"&&(e=jy(n.Rect[2])),e},jt.internal.getHeight=function(n){var e=0;return zn(n)==="object"&&(e=jy(n.Rect[3])),e};var XE=Er.addField=function(n){if(QE(this,n),!(n instanceof Ka))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Er.AcroFormChoiceField=Qu,Er.AcroFormListBox=Xu,Er.AcroFormComboBox=Zu,Er.AcroFormEditBox=kf,Er.AcroFormButton=yi,Er.AcroFormPushButton=jf,Er.AcroFormRadioButton=ed,Er.AcroFormCheckBox=Cf,Er.AcroFormTextField=Dc,Er.AcroFormPasswordField=Af,Er.AcroFormAppearance=jt,Er.AcroForm={ChoiceField:Qu,ListBox:Xu,ComboBox:Zu,EditBox:kf,Button:yi,PushButton:jf,RadioButton:ed,CheckBox:Cf,TextField:Dc,PasswordField:Af,Appearance:jt},Ot.AcroForm={ChoiceField:Qu,ListBox:Xu,ComboBox:Zu,EditBox:kf,Button:yi,PushButton:jf,RadioButton:ed,CheckBox:Cf,TextField:Dc,PasswordField:Af,Appearance:jt};Ot.AcroForm;function vb(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(P,D){var q,V,ue,de,he,W=t;if((D=D||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(ne(P))for(he in r)for(ue=r[he],q=0;q<ue.length;q+=1){for(de=!0,V=0;V<ue[q].length;V+=1)if(ue[q][V]!==void 0&&ue[q][V]!==P[V]){de=!1;break}if(de===!0){W=he;break}}else for(he in r)for(ue=r[he],q=0;q<ue.length;q+=1){for(de=!0,V=0;V<ue[q].length;V+=1)if(ue[q][V]!==void 0&&ue[q][V]!==P.charCodeAt(V)){de=!1;break}if(de===!0){W=he;break}}return W===t&&D!==t&&(W=D),W},a=function P(D){for(var q=this.internal.write,V=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:D.width}),de.push({key:"Height",value:D.height}),D.colorSpace===j.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===j.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var he="",W=0,ye=D.transparency.length;W<ye;W++)he+=D.transparency[W]+" "+D.transparency[W]+" ";de.push({key:"Mask",value:"["+he+"]"})}D.sMask!==void 0&&de.push({key:"SMask",value:D.objectId+1+" 0 R"});var Se=D.filter!==void 0?["/"+D.filter]:void 0;if(V({data:D.data,additionalKeyValues:de,alreadyAppliedFilters:Se,objectId:D.objectId}),q("endobj"),"sMask"in D&&D.sMask!==void 0){var Y,R=(Y=D.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:D.bitsPerComponent,z={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:D.sMask};"filter"in D&&(z.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(D.width),z.filter=D.filter),P.call(this,z)}if(D.colorSpace===j.INDEXED){var K=this.internal.newObject();V({data:$(new Uint8Array(D.palette)),objectId:K}),q("endobj")}},l=function(){var P=this.internal.collections[e+"images"];for(var D in P)a.call(this,P[D])},c=function(){var P,D=this.internal.collections[e+"images"],q=this.internal.write;for(var V in D)q("/I"+(P=D[V]).index,P.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var P=this.internal.collections[e+"images"];return d.call(this),P},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(P){return typeof n["process"+P.toUpperCase()]=="function"},x=function(P){return zn(P)==="object"&&P.nodeType===1},y=function(P,D){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var q=""+P.getAttribute("src");if(q.indexOf("data:image/")===0)return Nf(unescape(q).split("base64,").pop());var V=n.loadFile(q,!0);if(V!==void 0)return V}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ue;switch(D){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Nf(P.toDataURL(ue,1).split("base64,").pop())}},N=function(P){var D=this.internal.collections[e+"images"];if(D){for(var q in D)if(P===D[q].alias)return D[q]}},_=function(P,D,q){return P||D||(P=-96,D=-96),P<0&&(P=-1*q.width*72/P/this.internal.scaleFactor),D<0&&(D=-1*q.height*72/D/this.internal.scaleFactor),P===0&&(P=D*q.width/q.height),D===0&&(D=P*q.height/q.width),[P,D]},k=function(P,D,q,V,ue,de){var he=_.call(this,q,V,ue),W=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,Se=f.call(this);if(q=he[0],V=he[1],Se[ue.index]=ue,de){de*=Math.PI/180;var Y=Math.cos(de),R=Math.sin(de),z=function(te){return te.toFixed(4)},K=[z(Y),z(R),z(-1*R),z(Y),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,W(P),ye(D+V),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([W(q),"0","0",W(V),"0","0","cm"].join(" "))):this.internal.write([W(q),"0","0",W(V),W(P),ye(D+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=n.__addimage__.sHashCode=function(P){var D,q,V=0;if(typeof P=="string")for(q=P.length,D=0;D<q;D++)V=(V<<5)-V+P.charCodeAt(D),V|=0;else if(ne(P))for(q=P.byteLength/2,D=0;D<q;D++)V=(V<<5)-V+P[D],V|=0;return V},O=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var D=!0;return P.length===0&&(D=!1),P.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(D=!1),D},X=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var D=P.indexOf(",");return D<0?null:P.substring(0,D).trim().endsWith("base64")?P.substring(D+1):null};n.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var ne=n.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},ee=n.__addimage__.binaryStringToUint8Array=function(P){for(var D=P.length,q=new Uint8Array(D),V=0;V<D;V++)q[V]=P.charCodeAt(V);return q},$=n.__addimage__.arrayBufferToBinaryString=function(P){for(var D="",q=ne(P)?P:new Uint8Array(P),V=0;V<q.length;V+=8192)D+=String.fromCharCode.apply(null,q.subarray(V,V+8192));return D};n.addImage=function(){var P,D,q,V,ue,de,he,W,ye;if(typeof arguments[1]=="number"?(D=t,q=arguments[1],V=arguments[2],ue=arguments[3],de=arguments[4],he=arguments[5],W=arguments[6],ye=arguments[7]):(D=arguments[1],q=arguments[2],V=arguments[3],ue=arguments[4],de=arguments[5],he=arguments[6],W=arguments[7],ye=arguments[8]),zn(P=arguments[0])==="object"&&!x(P)&&"imageData"in P){var Se=P;P=Se.imageData,D=Se.format||D||t,q=Se.x||q||0,V=Se.y||V||0,ue=Se.w||Se.width||ue,de=Se.h||Se.height||de,he=Se.alias||he,W=Se.compression||W,ye=Se.rotation||Se.angle||ye}var Y=this.internal.getFilters();if(W===void 0&&Y.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(q)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var R=F.call(this,P,D,he,W);return k.call(this,q,V,ue,de,R,ye),this};var F=function(P,D,q,V){var ue,de,he;if(typeof P=="string"&&i(P)===t){P=unescape(P);var W=ae(P,!1);(W!==""||(W=n.loadFile(P,!0))!==void 0)&&(P=W)}if(x(P)&&(P=y(P,D)),D=i(P,D),!v(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((he=q)==null||he.length===0)&&(q=(function(ye){return typeof ye=="string"||ne(ye)?L(ye):ne(ye.data)?L(ye.data):null})(P)),(ue=N.call(this,q))||(P instanceof Uint8Array||D==="RGBA"||(de=P,P=ee(P)),ue=this["process"+D.toUpperCase()](P,p.call(this),q,(function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in n.image_compression?ye:T.NONE})(V),de)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},ae=n.__addimage__.convertBase64ToBinaryString=function(P,D){D=typeof D!="boolean"||D;var q,V="";if(typeof P=="string"){var ue;q=(ue=X(P))!==null&&ue!==void 0?ue:P;try{V=Nf(q)}catch(de){if(D)throw O(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};n.getImageProperties=function(P){var D,q,V="";if(x(P)&&(P=y(P)),typeof P=="string"&&i(P)===t&&((V=ae(P,!1))===""&&(V=n.loadFile(P)||""),P=V),q=i(P),!v(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(P instanceof Uint8Array||(P=ee(P)),!(D=this["process"+q.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=q,D}})(Ot.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ot.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((r=f[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){r=f[x];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(_.objId),T=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(j(r.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+y(j(T))+") >>",_.content=a;var L=_.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(_.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(N(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var ne=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(t),y:f(r),w:d(t+i),h:f(r+a)},options:l,type:"link"})},n.textWithLink=function(t,r,i,a){var l,c,d=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(t,c).length;l=Math.ceil(f*p)}else c=d,l=f;return this.text(t,r,i,a),i+=.2*f,a.align==="center"&&(r-=d/2),a.align==="right"&&(r-=d),this.link(r,i-f,c,l,a),d},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Ot.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},c=n.__arabicParser__.isArabicEndLetter=function(_){return l(_)&&a(_)&&e[_.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(_){return l(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return l(_)&&a(_)&&e[_.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return l(_)&&a(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return l(_)&&a(_)&&e[_.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return l(_)&&a(_)&&e[_.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(_){var k=0,j=t,T="",L=0;for(k=0;k<_.length;k+=1)j[_.charCodeAt(k)]!==void 0?(L++,typeof(j=j[_.charCodeAt(k)])=="number"&&(T+=String.fromCharCode(j),j=t,L=0),k===_.length-1&&(j=t,T+=_.charAt(k-(L-1)),k-=L-1,L=0)):(j=t,T+=_.charAt(k-L),k-=L,L=0);return T};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(_,k,j){return l(_)?a(_)===!1?-1:!f(_)||!l(k)&&!l(j)||!l(j)&&c(k)||c(_)&&!l(k)||c(_)&&d(k)||c(_)&&c(k)?0:p(_)&&l(k)&&!c(k)&&l(j)&&f(j)?3:c(_)||!l(j)?1:2:-1},y=function(_){var k=0,j=0,T=0,L="",O="",X="",ne=(_=_||"").split("\\s+"),ee=[];for(k=0;k<ne.length;k+=1){for(ee.push(""),j=0;j<ne[k].length;j+=1)L=ne[k][j],O=ne[k][j-1],X=ne[k][j+1],l(L)?(T=x(L,O,X),ee[k]+=T!==-1?String.fromCharCode(e[L.charCodeAt(0)][T]):L):ee[k]+=L;ee[k]=v(ee[k])}return ee.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var _,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(k)){var T=0;for(j=[],T=0;T<k.length;T+=1)Array.isArray(k[T])?j.push([y(k[T][0]),k[T][1],k[T][2]]):j.push([y(k[T])]);_=j}else _=y(k);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",N])})(Ot.API),Ot.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ot.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(_){x=_}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(_){N=_}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,y=0,N=0,_=0,k=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=f.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(L,O){return L.concat(k.splitTextToSize(O,j))},[])):d=Array.isArray(d)?d:[d];for(var T=0;T<d.length;T++)y<(_=this.getStringUnitWidth(d[T],{font:v})*p)&&(y=_);return y!==0&&(N=d.length),{w:y/=x,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=v.top,y&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};n.table=function(d,f,p,v,x){if(r.call(this),!p)throw new Error("No data for PDF table.");var y,N,_,k,j=[],T=[],L=[],O={},X={},ne=[],ee=[],$=(x=x||{}).autoSize||!1,F=x.printHeaders!==!1,ae=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,P=x.margins||Object.assign({width:this.getPageWidth()},e),D=typeof x.padding=="number"?x.padding:3,q=x.headerBackgroundColor||"#c8c8c8",V=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=V,this.setFontSize(ae),v==null)T=j=Object.keys(p[0]),L=j.map(function(){return"left"});else if(Array.isArray(v)&&zn(v[0])==="object")for(j=v.map(function(Se){return Se.name}),T=v.map(function(Se){return Se.prompt||Se.name||""}),L=v.map(function(Se){return Se.align||"left"}),y=0;y<v.length;y+=1)X[v[y].name]=.7499990551181103*v[y].width;else Array.isArray(v)&&typeof v[0]=="string"&&(T=j=v,L=j.map(function(){return"left"}));if($||Array.isArray(v)&&typeof v[0]=="string")for(y=0;y<j.length;y+=1){for(O[k=j[y]]=p.map(function(Se){return Se[k]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(T[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=O[k],this.setFont(void 0,"normal"),_=0;_<N.length;_+=1)ne.push(this.getTextDimensions(N[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[k]=Math.max.apply(null,ne)+D+D,ne=[]}if(F){var ue={};for(y=0;y<j.length;y+=1)ue[j[y]]={},ue[j[y]].text=T[y],ue[j[y]].align=L[y];var de=c.call(this,ue,X);ee=j.map(function(Se){return new a(d,f,X[Se],de,ue[Se].text,void 0,ue[Se].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var he=v.reduce(function(Se,Y){return Se[Y.name]=Y.align,Se},{});for(y=0;y<p.length;y+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:y,data:p[y]},this);var W=c.call(this,p[y],X);for(_=0;_<j.length;_+=1){var ye=p[y][j[_]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:y,col:_,data:ye},this),l.call(this,new a(d,f,X[j[_]],W,ye,y+2,he[j[_]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var c=function(d,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(y){var N=d[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*v/x+p+p},this).reduce(function(y,N){return Math.max(y,N)},0)};n.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,x.push(p)),p.lineNumber=d;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Ot.API);var yb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y0=vb(wb),xb=[100,200,300,400,500,600,700,800,900],ZE=vb(xb);function i0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return yb[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),i=(function(a){return typeof Y0[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function Cy(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var eP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ay={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ey(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Py(n){return n.trimLeft()}function tP(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function nP(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var vf,Ly,Ty,zu,yf,Ry,Oy,Iy,s0=["times"];function Dy(n,e,t,r,i){var a=4,l=My;switch(i){case Ot.API.image_compression.FAST:a=1,l=Fy;break;case Ot.API.image_compression.MEDIUM:a=6,l=By;break;case Ot.API.image_compression.SLOW:a=9,l=zy}n=(function(d,f,p,v){for(var x,y=d.length/f,N=new Uint8Array(d.length+y),_=[rP,Fy,My,By,zy],k=0;k<y;k+=1){var j=k*f,T=d.subarray(j,j+f);if(v)N.set(v(T,p,x),j+k);else{for(var L=_.length,O=[],X=0;X<L;X+=1)O[X]=_[X](T,p,x);var ne=sP(O.concat());N.set(O[ne],j+k)}x=T}return N})(n,e,Math.ceil(t*r/8),l);var c=$0(n,{level:a});return Ot.API.__addimage__.arrayBufferToBinaryString(c)}function rP(n){var e=Array.apply([],n);return e.unshift(0),e}function Fy(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var a=n[i-e]||0;r[i+1]=n[i]-a+256&255}return r}function My(n,e,t){var r=n.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var l=t&&t[a]||0;i[a+1]=n[a]-l+256&255}return i}function By(n,e,t){var r=n.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var l=n[a-e]||0,c=t&&t[a]||0;i[a+1]=n[a]+256-(l+c>>>1)&255}return i}function zy(n,e,t){var r=n.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var l=iP(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=n[a]-l+256&255}return i}function iP(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),a=Math.abs(n+e-t-t);return r<=i&&r<=a?n:i<=a?e:t}function sP(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function a0(n,e,t){var r=e*t,i=Math.floor(r/8),a=16-(r-8*i+t),l=(1<<t)-1;return bb(n,i)>>a&l}function Uy(n,e,t,r){var i=t*r,a=Math.floor(i/8),l=16-(i-8*a+r),c=(1<<r)-1,d=(e&c)<<l;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var x=v>>8&255;f.setUint8(p,x)}})(n,a,bb(n,a)&~(c<<l)&65535|d)}function bb(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function aP(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,l=1<<1+(7&i);n[e++],n[e++];var c=null,d=null;a&&(c=e,d=l,e+=3*l);var f=!0,p=[],v=0,x=null,y=0,N=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,N=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];v=n[e++]|n[e++]<<8,x=n[e++],1&_||(x=null),y=_>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,O=n[e++],X=O>>6&1,ne=1<<1+(7&O),ee=c,$=d,F=!1;O>>7&&(F=!0,ee=e,$=ne,e+=3*ne);var ae=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}p.push({x:k,y:j,width:T,height:L,has_local_palette:F,palette_offset:ee,palette_size:$,data_offset:ae,data_length:e-ae,transparent_index:x,interlaced:!!X,delay:v,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(D){if(D<0||D>=p.length)throw new Error("Frame index out of range.");return p[D]},this.decodeAndBlitFrameBGRA=function(D,q){var V=this.frameInfo(D),ue=V.width*V.height,de=new Uint8Array(ue);$y(n,V.data_offset,de,ue);var he=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var ye=V.width,Se=t-ye,Y=ye,R=4*(V.y*t+V.x),z=4*((V.y+V.height)*t+V.x),K=R,te=4*Se;V.interlaced===!0&&(te+=4*t*7);for(var me=8,re=0,J=de.length;re<J;++re){var fe=de[re];if(Y===0&&(Y=ye,(K+=te)>=z&&(te=4*Se+4*t*(me-1),K=R+(ye+Se)*(me<<1),me>>=1)),fe===W)K+=4;else{var we=n[he+3*fe],ce=n[he+3*fe+1],Le=n[he+3*fe+2];q[K++]=Le,q[K++]=ce,q[K++]=we,q[K++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(D,q){var V=this.frameInfo(D),ue=V.width*V.height,de=new Uint8Array(ue);$y(n,V.data_offset,de,ue);var he=V.palette_offset,W=V.transparent_index;W===null&&(W=256);var ye=V.width,Se=t-ye,Y=ye,R=4*(V.y*t+V.x),z=4*((V.y+V.height)*t+V.x),K=R,te=4*Se;V.interlaced===!0&&(te+=4*t*7);for(var me=8,re=0,J=de.length;re<J;++re){var fe=de[re];if(Y===0&&(Y=ye,(K+=te)>=z&&(te=4*Se+4*t*(me-1),K=R+(ye+Se)*(me<<1),me>>=1)),fe===W)K+=4;else{var we=n[he+3*fe],ce=n[he+3*fe+1],Le=n[he+3*fe+2];q[K++]=we,q[K++]=ce,q[K++]=Le,q[K++]=255}--Y}}}function $y(n,e,t,r){for(var i=n[e++],a=1<<i,l=a+1,c=l+1,d=i+1,f=(1<<d)-1,p=0,v=0,x=0,y=n[e++],N=new Int32Array(4096),_=null;;){for(;p<16&&y!==0;)v|=n[e++]<<p,p+=8,y===1?y=n[e++]:--y;if(p<d)break;var k=v&f;if(v>>=d,p-=d,k!==a){if(k===l)break;for(var j=k<c?k:_,T=0,L=j;L>a;)L=N[L]>>8,++T;var O=L;if(x+T+(j!==k?1:0)>r)return void Kn.log("Warning, gif stream longer than expected.");t[x++]=O;var X=x+=T;for(j!==k&&(t[x++]=O),L=j;T--;)L=N[L],t[--X]=255&L,L>>=8;_!==null&&c<4096&&(N[c++]=_<<8|O,c>=f+1&&d<12&&(++d,f=f<<1|1)),_=k}else c=l+1,f=(1<<(d=i+1))-1,_=null}return x!==r&&Kn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function o0(n){var e,t,r,i,a,l=Math.floor,c=new Array(64),d=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),x=new Array(65535),y=new Array(64),N=new Array(64),_=[],k=0,j=7,T=new Array(64),L=new Array(64),O=new Array(64),X=new Array(256),ne=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(R,z){for(var K=0,te=0,me=new Array,re=1;re<=16;re++){for(var J=1;J<=R[re];J++)me[z[te]]=[],me[z[te]][0]=K,me[z[te]][1]=re,te++,K++;K*=2}return me}function he(R){for(var z=R[0],K=R[1]-1;K>=0;)z&1<<K&&(k|=1<<j),K--,--j<0&&(k==255?(W(255),W(0)):W(k),j=7,k=0)}function W(R){_.push(R)}function ye(R){W(R>>8&255),W(255&R)}function Se(R,z,K,te,me){for(var re,J=me[0],fe=me[240],we=(function(be,pe){var Re,Ke,Ze,Mt,ct,ht,Bt,xt,at,yt,pt=0;for(at=0;at<8;++at){Re=be[pt],Ke=be[pt+1],Ze=be[pt+2],Mt=be[pt+3],ct=be[pt+4],ht=be[pt+5],Bt=be[pt+6];var en=Re+(xt=be[pt+7]),un=Re-xt,bt=Ke+Bt,qt=Ke-Bt,gn=Ze+ht,It=Ze-ht,Ht=Mt+ct,Tt=Mt-ct,Nn=en+Ht,mn=en-Ht,sn=bt+gn,Dt=bt-gn;be[pt]=Nn+sn,be[pt+4]=Nn-sn;var it=.707106781*(Dt+mn);be[pt+2]=mn+it,be[pt+6]=mn-it;var vn=.382683433*((Nn=Tt+It)-(Dt=qt+un)),rn=.5411961*Nn+vn,$n=1.306562965*Dt+vn,Pr=.707106781*(sn=It+qt),st=un+Pr,kn=un-Pr;be[pt+5]=kn+rn,be[pt+3]=kn-rn,be[pt+1]=st+$n,be[pt+7]=st-$n,pt+=8}for(pt=0,at=0;at<8;++at){Re=be[pt],Ke=be[pt+8],Ze=be[pt+16],Mt=be[pt+24],ct=be[pt+32],ht=be[pt+40],Bt=be[pt+48];var Sr=Re+(xt=be[pt+56]),wn=Re-xt,qn=Ke+Bt,an=Ke-Bt,fn=Ze+ht,In=Ze-ht,xi=Mt+ct,bi=Mt-ct,Di=Sr+xi,Fi=Sr-xi,Lr=qn+fn,Si=qn-fn;be[pt]=Di+Lr,be[pt+32]=Di-Lr;var _i=.707106781*(Si+Fi);be[pt+16]=Fi+_i,be[pt+48]=Fi-_i;var ma=.382683433*((Di=bi+In)-(Si=an+wn)),os=.5411961*Di+ma,Xs=1.306562965*Si+ma,va=.707106781*(Lr=In+an),ya=wn+va,wa=wn-va;be[pt+40]=wa+os,be[pt+24]=wa-os,be[pt+8]=ya+Xs,be[pt+56]=ya-Xs,pt++}for(at=0;at<64;++at)yt=be[at]*pe[at],y[at]=yt>0?yt+.5|0:yt-.5|0;return y})(R,z),ce=0;ce<64;++ce)N[ee[ce]]=we[ce];var Le=N[0]-K;K=N[0],Le==0?he(te[0]):(he(te[x[re=32767+Le]]),he(v[re]));for(var qe=63;qe>0&&N[qe]==0;)qe--;if(qe==0)return he(J),K;for(var Te,oe=1;oe<=qe;){for(var Lt=oe;N[oe]==0&&oe<=qe;)++oe;var lt=oe-Lt;if(lt>=16){Te=lt>>4;for(var ft=1;ft<=Te;++ft)he(fe);lt&=15}re=32767+N[oe],he(me[(lt<<4)+x[re]]),he(v[re]),oe++}return qe!=63&&he(J),K}function Y(R){R=Math.min(Math.max(R,1),100),a!=R&&((function(z){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var me=l((K[te]*z+50)/100);me=Math.min(Math.max(me,1),255),c[ee[te]]=me}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],J=0;J<64;J++){var fe=l((re[J]*z+50)/100);fe=Math.min(Math.max(fe,1),255),d[ee[J]]=fe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ce=0,Le=0;Le<8;Le++)for(var qe=0;qe<8;qe++)f[ce]=1/(c[ee[ce]]*we[Le]*we[qe]*8),p[ce]=1/(d[ee[ce]]*we[Le]*we[qe]*8),ce++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,z){z&&Y(z),_=new Array,k=0,j=7,ye(65496),ye(65504),ye(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),ye(1),ye(1),W(0),W(0),(function(){ye(65499),ye(132),W(0);for(var Ke=0;Ke<64;Ke++)W(c[Ke]);W(1);for(var Ze=0;Ze<64;Ze++)W(d[Ze])})(),(function(Ke,Ze){ye(65472),ye(17),W(8),ye(Ze),ye(Ke),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(R.width,R.height),(function(){ye(65476),ye(418),W(0);for(var Ke=0;Ke<16;Ke++)W($[Ke+1]);for(var Ze=0;Ze<=11;Ze++)W(F[Ze]);W(16);for(var Mt=0;Mt<16;Mt++)W(ae[Mt+1]);for(var ct=0;ct<=161;ct++)W(P[ct]);W(1);for(var ht=0;ht<16;ht++)W(D[ht+1]);for(var Bt=0;Bt<=11;Bt++)W(q[Bt]);W(17);for(var xt=0;xt<16;xt++)W(V[xt+1]);for(var at=0;at<=161;at++)W(ue[at])})(),ye(65498),ye(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var K=0,te=0,me=0;k=0,j=7,this.encode.displayName="_encode_";for(var re,J,fe,we,ce,Le,qe,Te,oe,Lt=R.data,lt=R.width,ft=R.height,be=4*lt,pe=0;pe<ft;){for(re=0;re<be;){for(ce=be*pe+re,qe=-1,Te=0,oe=0;oe<64;oe++)Le=ce+(Te=oe>>3)*be+(qe=4*(7&oe)),pe+Te>=ft&&(Le-=be*(pe+1+Te-ft)),re+qe>=be&&(Le-=re+qe-be+4),J=Lt[Le++],fe=Lt[Le++],we=Lt[Le++],T[oe]=(ne[J]+ne[fe+256|0]+ne[we+512|0]>>16)-128,L[oe]=(ne[J+768|0]+ne[fe+1024|0]+ne[we+1280|0]>>16)-128,O[oe]=(ne[J+1280|0]+ne[fe+1536|0]+ne[we+1792|0]>>16)-128;K=Se(T,f,K,e,r),te=Se(L,p,te,t,i),me=Se(O,p,me,t,i),re+=32}pe+=8}if(j>=0){var Re=[];Re[1]=j+1,Re[0]=(1<<j+1)-1,he(Re)}return ye(65497),new Uint8Array(_)},n=n||50,(function(){for(var R=String.fromCharCode,z=0;z<256;z++)X[z]=R(z)})(),e=de($,F),t=de(D,q),r=de(ae,P),i=de(V,ue),(function(){for(var R=1,z=2,K=1;K<=15;K++){for(var te=R;te<z;te++)x[32767+te]=K,v[32767+te]=[],v[32767+te][1]=K,v[32767+te][0]=te;for(var me=-(z-1);me<=-R;me++)x[32767+me]=K,v[32767+me]=[],v[32767+me][1]=K,v[32767+me][0]=z-1+me;R<<=1,z<<=1}})(),(function(){for(var R=0;R<256;R++)ne[R]=19595*R,ne[R+256|0]=38470*R,ne[R+512|0]=7471*R+32768,ne[R+768|0]=-11059*R,ne[R+1024|0]=-21709*R,ne[R+1280|0]=32768*R+8421375,ne[R+1536|0]=-27439*R,ne[R+1792|0]=-5329*R})(),Y(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ba(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qy(n){function e(F){if(!F)throw Error("assert :P")}function t(F,ae,P){for(var D=0;4>D;D++)if(F[ae+D]!=P.charCodeAt(D))return!0;return!1}function r(F,ae,P,D,q){for(var V=0;V<q;V++)F[ae+V]=P[D+V]}function i(F,ae,P,D){for(var q=0;q<D;q++)F[ae+q]=P}function a(F){return new Int32Array(F)}function l(F,ae){for(var P=[],D=0;D<F;D++)P.push(new ae);return P}function c(F,ae){var P=[];return(function D(q,V,ue){for(var de=ue[V],he=0;he<de&&(q.push(ue.length>V+1?[]:new ae),!(ue.length<V+1));he++)D(q[he],V+1,ue)})(P,0,F),P}var d=function(){var F=this;function ae(g,w){for(var C=1<<w-1>>>0;g&C;)C>>>=1;return C?(g&C-1)+C:g}function P(g,w,C,E,B){e(!(E%C));do g[w+(E-=C)]=B;while(0<E)}function D(g,w,C,E,B){if(e(2328>=B),512>=B)var H=a(512);else if((H=a(B))==null)return 0;return(function(G,Q,Z,ie,Ne,Oe){var se,je,Pe=Q,He=1<<Z,De=a(16),ze=a(16);for(e(Ne!=0),e(ie!=null),e(G!=null),e(0<Z),je=0;je<Ne;++je){if(15<ie[je])return 0;++De[ie[je]]}if(De[0]==Ne)return 0;for(ze[1]=0,se=1;15>se;++se){if(De[se]>1<<se)return 0;ze[se+1]=ze[se]+De[se]}for(je=0;je<Ne;++je)se=ie[je],0<ie[je]&&(Oe[ze[se]++]=je);if(ze[15]==1)return(ie=new q).g=0,ie.value=Oe[0],P(G,Pe,1,He,ie),He;var $e,Ve=-1,Ge=He-1,At=0,gt=1,Yt=1,St=1<<Z;for(je=0,se=1,Ne=2;se<=Z;++se,Ne<<=1){if(gt+=Yt<<=1,0>(Yt-=De[se]))return 0;for(;0<De[se];--De[se])(ie=new q).g=se,ie.value=Oe[je++],P(G,Pe+At,Ne,St,ie),At=ae(At,se)}for(se=Z+1,Ne=2;15>=se;++se,Ne<<=1){if(gt+=Yt<<=1,0>(Yt-=De[se]))return 0;for(;0<De[se];--De[se]){if(ie=new q,(At&Ge)!=Ve){for(Pe+=St,$e=1<<(Ve=se)-Z;15>Ve&&!(0>=($e-=De[Ve]));)++Ve,$e<<=1;He+=St=1<<($e=Ve-Z),G[Q+(Ve=At&Ge)].g=$e+Z,G[Q+Ve].value=Pe-Q-Ve}ie.g=se-Z,ie.value=Oe[je++],P(G,Pe+(At>>Z),Ne,St,ie),At=ae(At,se)}}return gt!=2*ze[15]-1?0:He})(g,w,C,E,B,H)}function q(){this.value=this.g=0}function V(){this.value=this.g=0}function ue(){this.G=l(5,q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(xs,V)}function de(g,w,C,E){e(g!=null),e(w!=null),e(2147483648>E),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=C,g.Jd=w,g.Yc=C+E,g.Zc=4<=E?C+E-4+1:C,J(g)}function he(g,w){for(var C=0;0<w--;)C|=we(g,128)<<w;return C}function W(g,w){var C=he(g,w);return fe(g)?-C:C}function ye(g,w,C,E){var B,H=0;for(e(g!=null),e(w!=null),e(4294967288>E),g.Sb=E,g.Ra=0,g.u=0,g.h=0,4<E&&(E=4),B=0;B<E;++B)H+=w[C+B]<<8*B;g.Ra=H,g.bb=E,g.oa=w,g.pa=C}function Se(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<oo-8>>>0,++g.bb,g.u-=8;te(g)&&(g.h=1,g.u=0)}function Y(g,w){if(e(0<=w),!g.h&&w<=ds){var C=K(g)&us[w];return g.u+=w,Se(g),C}return g.h=1,g.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(g){return g.Ra>>>(g.u&oo-1)>>>0}function te(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>oo}function me(g,w){g.u=w,g.h=te(g)}function re(g){g.u>=sa&&(e(g.u>=sa),Se(g))}function J(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function fe(g){return he(g,1)}function we(g,w){var C=g.Ca;0>g.b&&J(g);var E=g.b,B=C*w>>>8,H=(g.I>>>E>B)+0;for(H?(C-=B,g.I-=B+1<<E>>>0):C=B+1,E=C,B=0;256<=E;)B+=8,E>>=8;return E=7^B+ja[E],g.b-=E,g.Ca=(C<<E)-1,H}function ce(g,w,C){g[w+0]=C>>24&255,g[w+1]=C>>16&255,g[w+2]=C>>8&255,g[w+3]=255&C}function Le(g,w){return g[w+0]|g[w+1]<<8}function qe(g,w){return Le(g,w)|g[w+2]<<16}function Te(g,w){return Le(g,w)|Le(g,w+2)<<16}function oe(g,w){var C=1<<w;return e(g!=null),e(0<w),g.X=a(C),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Lt(g,w){e(g!=null),e(w!=null),e(g.Xa==w.Xa),r(w.X,0,g.X,0,1<<w.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function ft(g,w,C,E){e(C!=null),e(E!=null);var B=C[0],H=E[0];return B==0&&(B=(g*H+w/2)/w),H==0&&(H=(w*B+g/2)/g),0>=B||0>=H?0:(C[0]=B,E[0]=H,1)}function be(g,w){return g+(1<<w)-1>>>w}function pe(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function Re(g,w){F[w]=function(C,E,B,H,G,Q,Z){var ie;for(ie=0;ie<G;++ie){var Ne=F[g](Q[Z+ie-1],B,H+ie);Q[Z+ie]=pe(C[E+ie],Ne)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ze(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function Mt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ct(g,w){return Mt(g+(g-w+.5>>1))}function ht(g,w,C){return Math.abs(w-C)-Math.abs(g-C)}function Bt(g,w,C,E,B,H,G){for(E=H[G-1],C=0;C<B;++C)H[G+C]=E=pe(g[w+C],E)}function xt(g,w,C,E,B){var H;for(H=0;H<C;++H){var G=g[w+H],Q=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((Q<<16)+Q));E[B+H]=(4278255360&G)+Z>>>0}}function at(g,w){w.jd=255&g,w.hd=g>>8&255,w.ud=g>>16&255}function yt(g,w,C,E,B,H){var G;for(G=0;G<E;++G){var Q=w[C+G],Z=Q>>>8,ie=Q,Ne=255&(Ne=(Ne=Q>>>16)+((g.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie+=(g.hd<<24>>24)*(Z<<24>>24)>>>5)+((g.ud<<24>>24)*(Ne<<24>>24)>>>5)),B[H+G]=(4278255360&Q)+(Ne<<16)+ie}}function pt(g,w,C,E,B){F[w]=function(H,G,Q,Z,ie,Ne,Oe,se,je){for(Z=Oe;Z<se;++Z)for(Oe=0;Oe<je;++Oe)ie[Ne++]=B(Q[E(H[G++])])},F[g]=function(H,G,Q,Z,ie,Ne,Oe){var se=8>>H.b,je=H.Ea,Pe=H.K[0],He=H.w;if(8>se)for(H=(1<<H.b)-1,He=(1<<se)-1;G<Q;++G){var De,ze=0;for(De=0;De<je;++De)De&H||(ze=E(Z[ie++])),Ne[Oe++]=B(Pe[ze&He]),ze>>=se}else F["VP8LMapColor"+C](Z,ie,Pe,He,Ne,Oe,G,Q,je)}}function en(g,w,C,E,B){for(C=w+C;w<C;){var H=g[w++];E[B++]=H>>16&255,E[B++]=H>>8&255,E[B++]=255&H}}function un(g,w,C,E,B){for(C=w+C;w<C;){var H=g[w++];E[B++]=H>>16&255,E[B++]=H>>8&255,E[B++]=255&H,E[B++]=H>>24&255}}function bt(g,w,C,E,B){for(C=w+C;w<C;){var H=(G=g[w++])>>16&240|G>>12&15,G=240&G|G>>28&15;E[B++]=H,E[B++]=G}}function qt(g,w,C,E,B){for(C=w+C;w<C;){var H=(G=g[w++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;E[B++]=H,E[B++]=G}}function gn(g,w,C,E,B){for(C=w+C;w<C;){var H=g[w++];E[B++]=255&H,E[B++]=H>>8&255,E[B++]=H>>16&255}}function It(g,w,C,E,B,H){if(H==0)for(C=w+C;w<C;)ce(E,((H=g[w++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else r(E,B,g,w,C)}function Ht(g,w){F[w][0]=F[g+"0"],F[w][1]=F[g+"1"],F[w][2]=F[g+"2"],F[w][3]=F[g+"3"],F[w][4]=F[g+"4"],F[w][5]=F[g+"5"],F[w][6]=F[g+"6"],F[w][7]=F[g+"7"],F[w][8]=F[g+"8"],F[w][9]=F[g+"9"],F[w][10]=F[g+"10"],F[w][11]=F[g+"11"],F[w][12]=F[g+"12"],F[w][13]=F[g+"13"],F[w][14]=F[g+"0"],F[w][15]=F[g+"0"]}function Tt(g){return g==jl||g==Xo||g==fc||g==pc}function Nn(){this.eb=[],this.size=this.A=this.fb=0}function mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nn,this.f.kb=new mn,this.sd=null}function Dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function it(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vn(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function rn(g,w){var C=g.T,E=w.ba.f.RGBA,B=E.eb,H=E.fb+g.ka*E.A,G=Wi[w.ba.S],Q=g.y,Z=g.O,ie=g.f,Ne=g.N,Oe=g.ea,se=g.W,je=w.cc,Pe=w.dc,He=w.Mc,De=w.Nc,ze=g.ka,$e=g.ka+g.T,Ve=g.U,Ge=Ve+1>>1;for(ze==0?G(Q,Z,null,null,ie,Ne,Oe,se,ie,Ne,Oe,se,B,H,null,null,Ve):(G(w.ec,w.fc,Q,Z,je,Pe,He,De,ie,Ne,Oe,se,B,H-E.A,B,H,Ve),++C);ze+2<$e;ze+=2)je=ie,Pe=Ne,He=Oe,De=se,Ne+=g.Rc,se+=g.Rc,H+=2*E.A,G(Q,(Z+=2*g.fa)-g.fa,Q,Z,je,Pe,He,De,ie,Ne,Oe,se,B,H-E.A,B,H,Ve);return Z+=g.fa,g.j+$e<g.o?(r(w.ec,w.fc,Q,Z,Ve),r(w.cc,w.dc,ie,Ne,Ge),r(w.Mc,w.Nc,Oe,se,Ge),C--):1&$e||G(Q,Z,null,null,ie,Ne,Oe,se,ie,Ne,Oe,se,B,H+E.A,null,null,Ve),C}function $n(g,w,C){var E=g.F,B=[g.J];if(E!=null){var H=g.U,G=w.ba.S,Q=G==hc||G==fc;w=w.ba.f.RGBA;var Z=[0],ie=g.ka;Z[0]=g.T,g.Kb&&(ie==0?--Z[0]:(--ie,B[0]-=g.width),g.j+g.ka+g.T==g.o&&(Z[0]=g.o-g.j-ie));var Ne=w.eb;ie=w.fb+ie*w.A,g=uc(E,B[0],g.width,H,Z,Ne,ie+(Q?0:3),w.A),e(C==Z),g&&Tt(G)&&Qo(Ne,ie,Q,H,Z,w.A)}return 0}function Pr(g){var w=g.ma,C=w.ba.S,E=11>C,B=C==ho||C==dc||C==hc||C==Dn||C==12||Tt(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!wl(w.Oa,g,B?11:12))return 0;if(B&&Tt(C)&&Zc(),g.da)alert("todo:use_scaling");else{if(E){if(w.Ib=vn,g.Kb){if(C=g.U+1>>1,w.memory=a(g.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=rn,Zc()}}else alert("todo:EmitYUV");B&&(w.Jb=$n,E&&ws())}if(E&&!Jr){for(g=0;256>g;++g)Vi[g]=89858*(g-128)+Us>>Pa,Gi[g]=-22014*(g-128)+Us,Pl[g]=-45773*(g-128),nl[g]=113618*(g-128)+Us>>Pa;for(g=En;g<Rn;++g)w=76283*(g-16)+Us>>Pa,ou[g-En]=or(w,255),wh[g-En]=or(w+8>>4,15);Jr=1}return 1}function st(g){var w=g.ma,C=g.U,E=g.T;return e(!(1&g.ka)),0>=C||0>=E?0:(C=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,C),w.Dc+=C,1)}function kn(g){g.ma.memory=null}function Sr(g,w,C,E){return Y(g,8)!=47?0:(w[0]=Y(g,14)+1,C[0]=Y(g,14)+1,E[0]=Y(g,1),Y(g,3)!=0?0:!g.h)}function wn(g,w){if(4>g)return g+1;var C=g-2>>1;return(2+(1&g)<<C)+Y(w,C)+1}function qn(g,w){return 120<w?w-120:1<=(C=((C=cp[w-1])>>4)*g+(8-(15&C)))?C:1;var C}function an(g,w,C){var E=K(C),B=g[w+=255&E].g-8;return 0<B&&(me(C,C.u+8),E=K(C),w+=g[w].value,w+=E&(1<<B)-1),me(C,C.u+g[w].g),g[w].value}function fn(g,w,C){return C.g+=g.g,C.value+=g.value<<w>>>0,e(8>=C.g),g.g}function In(g,w,C){var E=g.xc;return e((w=E==0?0:g.vc[g.md*(C>>E)+(w>>E)])<g.Wb),g.Ya[w]}function xi(g,w,C,E){var B=g.ab,H=g.c*w,G=g.C;w=G+w;var Q=C,Z=E;for(E=g.Ta,C=g.Ua;0<B--;){var ie=g.gc[B],Ne=G,Oe=w,se=Q,je=Z,Pe=(Z=E,Q=C,ie.Ea);switch(e(Ne<Oe),e(Oe<=ie.nc),ie.hc){case 2:mr(se,je,(Oe-Ne)*Pe,Z,Q);break;case 0:var He=Ne,De=Oe,ze=Z,$e=Q,Ve=(St=ie).Ea;He==0&&(Ca(se,je,null,null,1,ze,$e),Bt(se,je+1,0,0,Ve-1,ze,$e+1),je+=Ve,$e+=Ve,++He);for(var Ge=1<<St.b,At=Ge-1,gt=be(Ve,St.b),Yt=St.K,St=St.w+(He>>St.b)*gt;He<De;){var dn=Yt,ur=St,Jt=1;for(aa(se,je,ze,$e-Ve,1,ze,$e);Jt<Ve;){var mt=(Jt&~At)+Ge;mt>Ve&&(mt=Ve),(0,Go[dn[ur++]>>8&15])(se,je+ +Jt,ze,$e+Jt-Ve,mt-Jt,ze,$e+Jt),Jt=mt}je+=Ve,$e+=Ve,++He&At||(St+=gt)}Oe!=ie.nc&&r(Z,Q-Pe,Z,Q+(Oe-Ne-1)*Pe,Pe);break;case 1:for(Pe=se,De=je,Ve=(se=ie.Ea)-($e=se&~(ze=(je=1<<ie.b)-1)),He=be(se,ie.b),Ge=ie.K,ie=ie.w+(Ne>>ie.b)*He;Ne<Oe;){for(At=Ge,gt=ie,Yt=new Ke,St=De+$e,dn=De+se;De<St;)at(At[gt++],Yt),bl(Yt,Pe,De,je,Z,Q),De+=je,Q+=je;De<dn&&(at(At[gt++],Yt),bl(Yt,Pe,De,Ve,Z,Q),De+=Ve,Q+=Ve),++Ne&ze||(ie+=He)}break;case 3:if(se==Z&&je==Q&&0<ie.b){for(De=Z,se=Pe=Q+(Oe-Ne)*Pe-($e=(Oe-Ne)*be(ie.Ea,ie.b)),je=Z,ze=Q,He=[],$e=(Ve=$e)-1;0<=$e;--$e)He[$e]=je[ze+$e];for($e=Ve-1;0<=$e;--$e)De[se+$e]=He[$e];Wo(ie,Ne,Oe,Z,Pe,Z,Q)}else Wo(ie,Ne,Oe,se,je,Z,Q)}Q=E,Z=C}Z!=C&&r(E,C,Q,Z,H)}function bi(g,w){var C=g.V,E=g.Ba+g.c*g.C,B=w-g.C;if(e(w<=g.l.o),e(16>=B),0<B){var H=g.l,G=g.Ta,Q=g.Ua,Z=H.width;if(xi(g,B,C,E),B=Q=[Q],e((C=g.C)<(E=w)),e(H.v<H.va),E>H.o&&(E=H.o),C<H.j){var ie=H.j-C;C=H.j,B[0]+=ie*Z}if(C>=E?C=0:(B[0]+=4*H.v,H.ka=C-H.j,H.U=H.va-H.v,H.T=E-C,C=1),C){if(Q=Q[0],11>(C=g.ca).S){var Ne=C.f.RGBA,Oe=(E=C.S,B=H.U,H=H.T,ie=Ne.eb,Ne.A),se=H;for(Ne=Ne.fb+g.Ma*Ne.A;0<se--;){var je=G,Pe=Q,He=B,De=ie,ze=Ne;switch(E){case ru:Sl(je,Pe,He,De,ze);break;case ho:Aa(je,Pe,He,De,ze);break;case jl:Aa(je,Pe,He,De,ze),Qo(De,ze,0,He,1,0);break;case ph:Ko(je,Pe,He,De,ze);break;case dc:It(je,Pe,He,De,ze,1);break;case Xo:It(je,Pe,He,De,ze,1),Qo(De,ze,0,He,1,0);break;case hc:It(je,Pe,He,De,ze,0);break;case fc:It(je,Pe,He,De,ze,0),Qo(De,ze,1,He,1,0);break;case Dn:lo(je,Pe,He,De,ze);break;case pc:lo(je,Pe,He,De,ze),md(De,ze,He,1,0);break;case iu:co(je,Pe,He,De,ze);break;default:e(0)}Q+=Z,Ne+=Oe}g.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=C.height)}}g.C=w,e(g.C<=g.i)}function Di(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var C=g.Ya[w].G,E=g.Ya[w].H;if(0<C[1][E[1]+0].g||0<C[2][E[2]+0].g||0<C[3][E[3]+0].g)return 0}return 1}function Fi(g,w,C,E,B,H){if(g.Z!=0){var G=g.qd,Q=g.rd;for(e(di[g.Z]!=null);w<C;++w)di[g.Z](G,Q,E,B,E,B,H),G=E,Q=B,B+=H;g.qd=G,g.rd=Q}}function Lr(g,w){var C=g.l.ma,E=C.Z==0||C.Z==1?g.l.j:g.C;if(E=g.C<E?E:g.C,e(w<=g.l.o),w>E){var B=g.l.width,H=C.ca,G=C.tb+B*E,Q=g.V,Z=g.Ba+g.c*E,ie=g.gc;e(g.ab==1),e(ie[0].hc==3),Bs(ie[0],E,w,Q,Z,H,G),Fi(C,E,w,H,G,B)}g.C=g.Ma=w}function Si(g,w,C,E,B,H,G){var Q=g.$/E,Z=g.$%E,ie=g.m,Ne=g.s,Oe=C+g.$,se=Oe;B=C+E*B;var je=C+E*H,Pe=280+Ne.ua,He=g.Pb?Q:16777216,De=0<Ne.ua?Ne.Wa:null,ze=Ne.wc,$e=Oe<je?In(Ne,Z,Q):null;e(g.C<H),e(je<=B);var Ve=!1;e:for(;;){for(;Ve||Oe<je;){var Ge=0;if(Q>=He){var At=Oe-C;e((He=g).Pb),He.wd=He.m,He.xd=At,0<He.s.ua&&Lt(He.s.Wa,He.s.vb),He=Q+au}if(Z&ze||($e=In(Ne,Z,Q)),e($e!=null),$e.Qb&&(w[Oe]=$e.qb,Ve=!0),!Ve)if(re(ie),$e.jc){Ge=ie,At=w;var gt=Oe,Yt=$e.pd[K(Ge)&xs-1];e($e.jc),256>Yt.g?(me(Ge,Ge.u+Yt.g),At[gt]=Yt.value,Ge=0):(me(Ge,Ge.u+Yt.g-256),e(256<=Yt.value),Ge=Yt.value),Ge==0&&(Ve=!0)}else Ge=an($e.G[0],$e.H[0],ie);if(ie.h)break;if(Ve||256>Ge){if(!Ve)if($e.nd)w[Oe]=($e.qb|Ge<<8)>>>0;else{if(re(ie),Ve=an($e.G[1],$e.H[1],ie),re(ie),At=an($e.G[2],$e.H[2],ie),gt=an($e.G[3],$e.H[3],ie),ie.h)break;w[Oe]=(gt<<24|Ve<<16|Ge<<8|At)>>>0}if(Ve=!1,++Oe,++Z>=E&&(Z=0,++Q,G!=null&&Q<=H&&!(Q%16)&&G(g,Q),De!=null))for(;se<Oe;)Ge=w[se++],De.X[(506832829*Ge&4294967295)>>>De.Mb]=Ge}else if(280>Ge){if(Ge=wn(Ge-256,ie),At=an($e.G[4],$e.H[4],ie),re(ie),At=qn(E,At=wn(At,ie)),ie.h)break;if(Oe-C<At||B-Oe<Ge)break e;for(gt=0;gt<Ge;++gt)w[Oe+gt]=w[Oe+gt-At];for(Oe+=Ge,Z+=Ge;Z>=E;)Z-=E,++Q,G!=null&&Q<=H&&!(Q%16)&&G(g,Q);if(e(Oe<=B),Z&ze&&($e=In(Ne,Z,Q)),De!=null)for(;se<Oe;)Ge=w[se++],De.X[(506832829*Ge&4294967295)>>>De.Mb]=Ge}else{if(!(Ge<Pe))break e;for(Ve=Ge-280,e(De!=null);se<Oe;)Ge=w[se++],De.X[(506832829*Ge&4294967295)>>>De.Mb]=Ge;Ge=Oe,e(!(Ve>>>(At=De).Xa)),w[Ge]=At.X[Ve],Ve=!0}Ve||e(ie.h==te(ie))}if(g.Pb&&ie.h&&Oe<B)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Lt(g.s.vb,g.s.Wa);else{if(ie.h)break e;G?.(g,Q>H?H:Q),g.a=0,g.$=Oe-C}return 1}return g.a=3,0}function _i(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,e(g!=null)}function ma(){var g=new ut;return g==null?null:(g.a=0,g.xb=Al,Ht("Predictor","VP8LPredictors"),Ht("Predictor","VP8LPredictors_C"),Ht("PredictorAdd","VP8LPredictorsAdd"),Ht("PredictorAdd","VP8LPredictorsAdd_C"),mr=xt,bl=yt,Sl=en,Aa=un,lo=bt,co=qt,Ko=gn,F.VP8LMapColor32b=oa,F.VP8LMapColor8b=Vo,g)}function os(g,w,C,E,B){var H=1,G=[g],Q=[w],Z=E.m,ie=E.s,Ne=null,Oe=0;e:for(;;){if(C)for(;H&&Y(Z,1);){var se=G,je=Q,Pe=E,He=1,De=Pe.m,ze=Pe.gc[Pe.ab],$e=Y(De,2);if(Pe.Oc&1<<$e)H=0;else{switch(Pe.Oc|=1<<$e,ze.hc=$e,ze.Ea=se[0],ze.nc=je[0],ze.K=[null],++Pe.ab,e(4>=Pe.ab),$e){case 0:case 1:ze.b=Y(De,3)+2,He=os(be(ze.Ea,ze.b),be(ze.nc,ze.b),0,Pe,ze.K),ze.K=ze.K[0];break;case 3:var Ve,Ge=Y(De,8)+1,At=16<Ge?0:4<Ge?1:2<Ge?2:3;if(se[0]=be(ze.Ea,At),ze.b=At,Ve=He=os(Ge,1,0,Pe,ze.K)){var gt,Yt=Ge,St=ze,dn=1<<(8>>St.b),ur=a(dn);if(ur==null)Ve=0;else{var Jt=St.K[0],mt=St.w;for(ur[0]=St.K[0][0],gt=1;gt<1*Yt;++gt)ur[gt]=pe(Jt[mt+gt],ur[gt-1]);for(;gt<4*dn;++gt)ur[gt]=0;St.K[0]=null,St.K[0]=ur,Ve=1}}He=Ve;break;case 2:break;default:e(0)}H=He}}if(G=G[0],Q=Q[0],H&&Y(Z,1)&&!(H=1<=(Oe=Y(Z,4))&&11>=Oe)){E.a=3;break e}var tt;if(tt=H)t:{var vr,Wt,ln,Wn=E,Ur=G,kr=Q,rr=Oe,Or=C,$r=Wn.m,Jn=Wn.s,pn=[null],bn=1,Qn=0,Sn=mh[rr];n:for(;;){if(Or&&Y($r,1)){var dr=Y($r,3)+2,hr=be(Ur,dr),Fn=be(kr,dr),hi=hr*Fn;if(!os(hr,Fn,0,Wn,pn))break n;for(pn=pn[0],Jn.xc=dr,vr=0;vr<hi;++vr){var On=pn[vr]>>8&65535;pn[vr]=On,On>=bn&&(bn=On+1)}}if($r.h)break n;for(Wt=0;5>Wt;++Wt){var Mn=Zo[Wt];!Wt&&0<rr&&(Mn+=1<<rr),Qn<Mn&&(Qn=Mn)}var jr=l(bn*Sn,q),Qr=bn,Ki=l(Qr,ue);if(Ki==null)var yr=null;else e(65536>=Qr),yr=Ki;var wr=a(Qn);if(yr==null||wr==null||jr==null){Wn.a=1;break n}var fi=jr;for(vr=ln=0;vr<bn;++vr){var Bn=yr[vr],pi=Bn.G,_s=Bn.H,$s=0,qr=1,xr=0;for(Wt=0;5>Wt;++Wt){Mn=Zo[Wt],pi[Wt]=fi,_s[Wt]=ln,!Wt&&0<rr&&(Mn+=1<<rr);i:{var go,Ta=Mn,Ll=Wn,ua=wr,bh=fi,Ad=ln,Gn=0,qs=Ll.m,Ed=Y(qs,1);if(i(ua,0,0,Ta),Ed){var Pd=Y(qs,1)+1,lu=Y(qs,1),cu=Y(qs,lu==0?1:8);ua[cu]=1,Pd==2&&(ua[cu=Y(qs,8)]=1);var da=1}else{var Xn=a(19),Cr=Y(qs,4)+4;if(19<Cr){Ll.a=3;var br=0;break i}for(go=0;go<Cr;++go)Xn[lp[go]]=Y(qs,3);var Tl=void 0,Ra=void 0,Rl=Ll,pp=Xn,Ir=Ta,uu=ua,wc=0,ha=Rl.m,Hs=8,hs=l(128,q);r:for(;D(hs,0,7,pp,19);){if(Y(ha,1)){var xc=2+2*Y(ha,3);if((Tl=2+Y(ha,xc))>Ir)break r}else Tl=Ir;for(Ra=0;Ra<Ir&&Tl--;){re(ha);var du=hs[0+(127&K(ha))];me(ha,ha.u+du.g);var mo=du.value;if(16>mo)uu[Ra++]=mo,mo!=0&&(Hs=mo);else{var Sh=mo==16,Ld=mo-16,_h=su[Ld],Td=Y(ha,gc[Ld])+_h;if(Ra+Td>Ir)break r;for(var Nh=Sh?Hs:0;0<Td--;)uu[Ra++]=Nh}}wc=1;break r}wc||(Rl.a=3),da=wc}(da=da&&!qs.h)&&(Gn=D(bh,Ad,8,ua,Ta)),da&&Gn!=0?br=Gn:(Ll.a=3,br=0)}if(br==0)break n;if(qr&&gh[Wt]==1&&(qr=fi[ln].g==0),$s+=fi[ln].g,ln+=br,3>=Wt){var Ol,hu=wr[0];for(Ol=1;Ol<Mn;++Ol)wr[Ol]>hu&&(hu=wr[Ol]);xr+=hu}}if(Bn.nd=qr,Bn.Qb=0,qr&&(Bn.qb=(pi[3][_s[3]+0].value<<24|pi[1][_s[1]+0].value<<16|pi[2][_s[2]+0].value)>>>0,$s==0&&256>pi[0][_s[0]+0].value&&(Bn.Qb=1,Bn.qb+=pi[0][_s[0]+0].value<<8)),Bn.jc=!Bn.Qb&&6>xr,Bn.jc){var bc,fs=Bn;for(bc=0;bc<xs;++bc){var Oa=bc,Ws=fs.pd[Oa],il=fs.G[0][fs.H[0]+Oa];256<=il.value?(Ws.g=il.g+256,Ws.value=il.value):(Ws.g=0,Ws.value=0,Oa>>=fn(il,8,Ws),Oa>>=fn(fs.G[1][fs.H[1]+Oa],16,Ws),Oa>>=fn(fs.G[2][fs.H[2]+Oa],0,Ws),fn(fs.G[3][fs.H[3]+Oa],24,Ws))}}}Jn.vc=pn,Jn.Wb=bn,Jn.Ya=yr,Jn.yc=jr,tt=1;break t}tt=0}if(!(H=tt)){E.a=3;break e}if(0<Oe){if(ie.ua=1<<Oe,!oe(ie.Wa,Oe)){E.a=1,H=0;break e}}else ie.ua=0;var fu=E,pu=G,kh=Q,gu=fu.s,mu=gu.xc;if(fu.c=pu,fu.i=kh,gu.md=be(pu,mu),gu.wc=mu==0?-1:(1<<mu)-1,C){E.xb=ca;break e}if((Ne=a(G*Q))==null){E.a=1,H=0;break e}H=(H=Si(E,Ne,0,G,Q,Q,null))&&!Z.h;break e}return H?(B!=null?B[0]=Ne:(e(Ne==null),e(C)),E.$=0,C||_i(ie)):_i(ie),H}function Xs(g,w){var C=g.c*g.i,E=C+w+16*w;return e(g.c<=w),g.V=a(E),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+C+w,1)}function va(g,w){var C=g.C,E=w-C,B=g.V,H=g.Ba+g.c*C;for(e(w<=g.l.o);0<E;){var G=16<E?16:E,Q=g.l.ma,Z=g.l.width,ie=Z*G,Ne=Q.ca,Oe=Q.tb+Z*C,se=g.Ta,je=g.Ua;xi(g,G,B,H),vd(se,je,Ne,Oe,ie),Fi(Q,C,C+G,Ne,Oe,Z),E-=G,B+=G*g.c,C+=G}e(C==w),g.C=g.Ma=w}function ya(){this.ub=this.yd=this.td=this.Rb=0}function wa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Pn(){this.Yb=(function(){var g=[];return(function w(C,E,B){for(var H=B[E],G=0;G<H&&(C.push(B.length>E+1?[]:0),!(B.length<E+1));G++)w(C[G],E+1,B)})(g,0,[3,11]),g})()}function Po(){this.jb=a(3),this.Wc=c([4,8],Pn),this.Xc=c([4,17],Pn)}function ge(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Be(){this.ld=this.La=this.dd=this.tc=0}function _e(){this.Na=this.la=0}function ot(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vt(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ln(){this.uc=this.M=this.Nb=0,this.wa=Array(new Be),this.Y=0,this.ya=Array(new Vt),this.aa=0,this.l=new er}function An(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ni(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new ya,this.Kc=new wa,this.ed=new ge,this.Qa=new yl,this.Ic=this.$c=this.Aa=0,this.D=new Ln,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,R),this.ia=0,this.pb=l(4,ot),this.Pa=new Po,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new An),this.Hd=0,this.rb=Array(new _e),this.sb=0,this.wa=Array(new Be),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vt),this.L=this.aa=0,this.gd=c([4,2],Be),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function er(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zs(){var g=new Ni;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,el||(el=Mi)),g}function ar(g,w,C){return g.a==0&&(g.a=w,g.sc=C,g.cb=0),0}function Lo(g,w,C){return 3<=C&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function oi(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return ar(g,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,E=w.w,B=w.ha;if(4>B)return ar(g,7,"Truncated header.");var H=C[E+0]|C[E+1]<<8|C[E+2]<<16,G=g.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return ar(g,3,"Incorrect keyframe parameters.");if(!G.yd)return ar(g,4,"Frame not displayable.");E+=3,B-=3;var Q=g.Kc;if(G.Rb){if(7>B)return ar(g,7,"cannot parse picture header");if(!Lo(C,E,B))return ar(g,3,"Bad code word");Q.c=16383&(C[E+4]<<8|C[E+3]),Q.Td=C[E+4]>>6,Q.i=16383&(C[E+6]<<8|C[E+5]),Q.Ud=C[E+6]>>6,E+=7,B-=7,g.za=Q.c+15>>4,g.Ub=Q.i+15>>4,w.width=Q.c,w.height=Q.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((H=g.Pa).jb,0,255,H.jb.length),e((H=g.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(G.ub>B)return ar(g,7,"bad partition length");de(H=g.m,C,E,G.ub),E+=G.ub,B-=G.ub,G.Rb&&(Q.Ld=fe(H),Q.Kd=fe(H)),Q=g.Qa;var Z,ie=g.Pa;if(e(H!=null),e(Q!=null),Q.Cb=fe(H),Q.Cb){if(Q.Bb=fe(H),fe(H)){for(Q.Fb=fe(H),Z=0;4>Z;++Z)Q.Zb[Z]=fe(H)?W(H,7):0;for(Z=0;4>Z;++Z)Q.Lb[Z]=fe(H)?W(H,6):0}if(Q.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=fe(H)?he(H,8):255}else Q.Bb=0;if(H.Ka)return ar(g,3,"cannot parse segment header");if((Q=g.ed).zd=fe(H),Q.Tb=he(H,6),Q.wb=he(H,3),Q.Pc=fe(H),Q.Pc&&fe(H)){for(ie=0;4>ie;++ie)fe(H)&&(Q.vd[ie]=W(H,6));for(ie=0;4>ie;++ie)fe(H)&&(Q.od[ie]=W(H,6))}if(g.L=Q.Tb==0?0:Q.zd?1:2,H.Ka)return ar(g,3,"cannot parse filter header");var Ne=B;if(B=Z=E,E=Z+Ne,Q=Ne,g.Xb=(1<<he(g.m,2))-1,Ne<3*(ie=g.Xb))C=7;else{for(Z+=3*ie,Q-=3*ie,Ne=0;Ne<ie;++Ne){var Oe=C[B+0]|C[B+1]<<8|C[B+2]<<16;Oe>Q&&(Oe=Q),de(g.Jc[+Ne],C,Z,Oe),Z+=Oe,Q-=Oe,B+=3}de(g.Jc[+ie],C,Z,Q),C=Z<E?0:5}if(C!=0)return ar(g,C,"cannot parse partitions");for(C=he(Z=g.m,7),B=fe(Z)?W(Z,4):0,E=fe(Z)?W(Z,4):0,Q=fe(Z)?W(Z,4):0,ie=fe(Z)?W(Z,4):0,Z=fe(Z)?W(Z,4):0,Ne=g.Qa,Oe=0;4>Oe;++Oe){if(Ne.Cb){var se=Ne.Zb[Oe];Ne.Fb||(se+=C)}else{if(0<Oe){g.pb[Oe]=g.pb[0];continue}se=C}var je=g.pb[Oe];je.Sc[0]=Cl[or(se+B,127)],je.Sc[1]=mc[or(se+0,127)],je.Eb[0]=2*Cl[or(se+E,127)],je.Eb[1]=101581*mc[or(se+Q,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=Cl[or(se+ie,117)],je.Qc[1]=mc[or(se+Z,127)],je.lc=se+Z}if(!G.Rb)return ar(g,4,"Not a key frame.");for(fe(H),G=g.Pa,C=0;4>C;++C){for(B=0;8>B;++B)for(E=0;3>E;++E)for(Q=0;11>Q;++Q)ie=we(H,dp[C][B][E][Q])?he(H,8):yh[C][B][E][Q],G.Wc[C][B].Yb[E][Q]=ie;for(B=0;17>B;++B)G.Xc[C][B]=G.Wc[C][kd[B]]}return g.kc=fe(H),g.kc&&(g.Bd=he(H,8)),g.cb=1}function Mi(g,w,C,E,B,H,G){var Q=w[B].Yb[C];for(C=0;16>B;++B){if(!we(g,Q[C+0]))return B;for(;!we(g,Q[C+1]);)if(Q=w[++B].Yb[0],C=0,B==16)return 16;var Z=w[B+1].Yb;if(we(g,Q[C+2])){var ie=g,Ne=0;if(we(ie,(se=Q)[(Oe=C)+3]))if(we(ie,se[Oe+6])){for(Q=0,Oe=2*(Ne=we(ie,se[Oe+8]))+(se=we(ie,se[Oe+9+Ne])),Ne=0,se=_d[Oe];se[Q];++Q)Ne+=Ne+we(ie,se[Q]);Ne+=3+(8<<Oe)}else we(ie,se[Oe+7])?(Ne=7+2*we(ie,165),Ne+=we(ie,145)):Ne=5+we(ie,159);else Ne=we(ie,se[Oe+4])?3+we(ie,se[Oe+5]):2;Q=Z[2]}else Ne=1,Q=Z[1];Z=G+Nd[B],0>(ie=g).b&&J(ie);var Oe,se=ie.b,je=(Oe=ie.Ca>>1)-(ie.I>>se)>>31;--ie.b,ie.Ca+=je,ie.Ca|=1,ie.I-=(Oe+1&je)<<se,H[Z]=((Ne^je)-je)*E[(0<B)+0]}return 16}function li(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function ki(g,w,C,E,B){B=g[w+C+32*E]+(B>>3),g[w+C+32*E]=-256&B?0>B?0:255:B}function ea(g,w,C,E,B,H){ki(g,w,0,C,E+B),ki(g,w,1,C,E+H),ki(g,w,2,C,E-H),ki(g,w,3,C,E-B)}function tr(g){return(20091*g>>16)+g}function Ts(g,w,C,E){var B,H=0,G=a(16);for(B=0;4>B;++B){var Q=g[w+0]+g[w+8],Z=g[w+0]-g[w+8],ie=(35468*g[w+4]>>16)-tr(g[w+12]),Ne=tr(g[w+4])+(35468*g[w+12]>>16);G[H+0]=Q+Ne,G[H+1]=Z+ie,G[H+2]=Z-ie,G[H+3]=Q-Ne,H+=4,w++}for(B=H=0;4>B;++B)Q=(g=G[H+0]+4)+G[H+8],Z=g-G[H+8],ie=(35468*G[H+4]>>16)-tr(G[H+12]),ki(C,E,0,0,Q+(Ne=tr(G[H+4])+(35468*G[H+12]>>16))),ki(C,E,1,0,Z+ie),ki(C,E,2,0,Z-ie),ki(C,E,3,0,Q-Ne),H++,E+=32}function To(g,w,C,E){var B=g[w+0]+4,H=35468*g[w+4]>>16,G=tr(g[w+4]),Q=35468*g[w+1]>>16;ea(C,E,0,B+G,g=tr(g[w+1]),Q),ea(C,E,1,B+H,g,Q),ea(C,E,2,B-H,g,Q),ea(C,E,3,B-G,g,Q)}function Ja(g,w,C,E,B){Ts(g,w,C,E),B&&Ts(g,w+16,C,E+4)}function xa(g,w,C,E){Yo(g,w+0,C,E,1),Yo(g,w+32,C,E+128,1)}function zr(g,w,C,E){var B;for(g=g[w+0]+4,B=0;4>B;++B)for(w=0;4>w;++w)ki(C,E,w,B,g)}function Ro(g,w,C,E){g[w+0]&&xn(g,w+0,C,E),g[w+16]&&xn(g,w+16,C,E+4),g[w+32]&&xn(g,w+32,C,E+128),g[w+48]&&xn(g,w+48,C,E+128+4)}function on(g,w,C,E){var B,H=a(16);for(B=0;4>B;++B){var G=g[w+0+B]+g[w+12+B],Q=g[w+4+B]+g[w+8+B],Z=g[w+4+B]-g[w+8+B],ie=g[w+0+B]-g[w+12+B];H[0+B]=G+Q,H[8+B]=G-Q,H[4+B]=ie+Z,H[12+B]=ie-Z}for(B=0;4>B;++B)G=(g=H[0+4*B]+3)+H[3+4*B],Q=H[1+4*B]+H[2+4*B],Z=H[1+4*B]-H[2+4*B],ie=g-H[3+4*B],C[E+0]=G+Q>>3,C[E+16]=ie+Z>>3,C[E+32]=G-Q>>3,C[E+48]=ie-Z>>3,E+=64}function Rs(g,w,C){var E,B=w-32,H=Li,G=255-g[B-1];for(E=0;E<C;++E){var Q,Z=H,ie=G+g[w-1];for(Q=0;Q<C;++Q)g[w+Q]=Z[ie+g[B+Q]];w+=32}}function Oo(g,w){Rs(g,w,4)}function ba(g,w){Rs(g,w,8)}function Io(g,w){Rs(g,w,16)}function Qa(g,w){var C;for(C=0;16>C;++C)r(g,w+32*C,g,w-32,16)}function Xa(g,w){var C;for(C=16;0<C;--C)i(g,w,g[w-1],16),w+=32}function Os(g,w,C){var E;for(E=0;16>E;++E)i(w,C+32*E,g,16)}function Gr(g,w){var C,E=16;for(C=0;16>C;++C)E+=g[w-1+32*C]+g[w+C-32];Os(E>>5,g,w)}function ls(g,w){var C,E=8;for(C=0;16>C;++C)E+=g[w-1+32*C];Os(E>>4,g,w)}function Kr(g,w){var C,E=8;for(C=0;16>C;++C)E+=g[w+C-32];Os(E>>4,g,w)}function ji(g,w){Os(128,g,w)}function Ft(g,w,C){return g+2*w+C+2>>2}function Sa(g,w){var C,E=w-32;for(E=new Uint8Array([Ft(g[E-1],g[E+0],g[E+1]),Ft(g[E+0],g[E+1],g[E+2]),Ft(g[E+1],g[E+2],g[E+3]),Ft(g[E+2],g[E+3],g[E+4])]),C=0;4>C;++C)r(g,w+32*C,E,0,E.length)}function ms(g,w){var C=g[w-1],E=g[w-1+32],B=g[w-1+64],H=g[w-1+96];ce(g,w+0,16843009*Ft(g[w-1-32],C,E)),ce(g,w+32,16843009*Ft(C,E,B)),ce(g,w+64,16843009*Ft(E,B,H)),ce(g,w+96,16843009*Ft(B,H,H))}function vs(g,w){var C,E=4;for(C=0;4>C;++C)E+=g[w+C-32]+g[w-1+32*C];for(E>>=3,C=0;4>C;++C)i(g,w+32*C,E,4)}function sc(g,w){var C=g[w-1+0],E=g[w-1+32],B=g[w-1+64],H=g[w-1-32],G=g[w+0-32],Q=g[w+1-32],Z=g[w+2-32],ie=g[w+3-32];g[w+0+96]=Ft(E,B,g[w-1+96]),g[w+1+96]=g[w+0+64]=Ft(C,E,B),g[w+2+96]=g[w+1+64]=g[w+0+32]=Ft(H,C,E),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=Ft(G,H,C),g[w+3+64]=g[w+2+32]=g[w+1+0]=Ft(Q,G,H),g[w+3+32]=g[w+2+0]=Ft(Z,Q,G),g[w+3+0]=Ft(ie,Z,Q)}function Bi(g,w){var C=g[w+1-32],E=g[w+2-32],B=g[w+3-32],H=g[w+4-32],G=g[w+5-32],Q=g[w+6-32],Z=g[w+7-32];g[w+0+0]=Ft(g[w+0-32],C,E),g[w+1+0]=g[w+0+32]=Ft(C,E,B),g[w+2+0]=g[w+1+32]=g[w+0+64]=Ft(E,B,H),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=Ft(B,H,G),g[w+3+32]=g[w+2+64]=g[w+1+96]=Ft(H,G,Q),g[w+3+64]=g[w+2+96]=Ft(G,Q,Z),g[w+3+96]=Ft(Q,Z,Z)}function Is(g,w){var C=g[w-1+0],E=g[w-1+32],B=g[w-1+64],H=g[w-1-32],G=g[w+0-32],Q=g[w+1-32],Z=g[w+2-32],ie=g[w+3-32];g[w+0+0]=g[w+1+64]=H+G+1>>1,g[w+1+0]=g[w+2+64]=G+Q+1>>1,g[w+2+0]=g[w+3+64]=Q+Z+1>>1,g[w+3+0]=Z+ie+1>>1,g[w+0+96]=Ft(B,E,C),g[w+0+64]=Ft(E,C,H),g[w+0+32]=g[w+1+96]=Ft(C,H,G),g[w+1+32]=g[w+2+96]=Ft(H,G,Q),g[w+2+32]=g[w+3+96]=Ft(G,Q,Z),g[w+3+32]=Ft(Q,Z,ie)}function Do(g,w){var C=g[w+0-32],E=g[w+1-32],B=g[w+2-32],H=g[w+3-32],G=g[w+4-32],Q=g[w+5-32],Z=g[w+6-32],ie=g[w+7-32];g[w+0+0]=C+E+1>>1,g[w+1+0]=g[w+0+64]=E+B+1>>1,g[w+2+0]=g[w+1+64]=B+H+1>>1,g[w+3+0]=g[w+2+64]=H+G+1>>1,g[w+0+32]=Ft(C,E,B),g[w+1+32]=g[w+0+96]=Ft(E,B,H),g[w+2+32]=g[w+1+96]=Ft(B,H,G),g[w+3+32]=g[w+2+96]=Ft(H,G,Q),g[w+3+64]=Ft(G,Q,Z),g[w+3+96]=Ft(Q,Z,ie)}function _a(g,w){var C=g[w-1+0],E=g[w-1+32],B=g[w-1+64],H=g[w-1+96];g[w+0+0]=C+E+1>>1,g[w+2+0]=g[w+0+32]=E+B+1>>1,g[w+2+32]=g[w+0+64]=B+H+1>>1,g[w+1+0]=Ft(C,E,B),g[w+3+0]=g[w+1+32]=Ft(E,B,H),g[w+3+32]=g[w+1+64]=Ft(B,H,H),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=H}function ta(g,w){var C=g[w-1+0],E=g[w-1+32],B=g[w-1+64],H=g[w-1+96],G=g[w-1-32],Q=g[w+0-32],Z=g[w+1-32],ie=g[w+2-32];g[w+0+0]=g[w+2+32]=C+G+1>>1,g[w+0+32]=g[w+2+64]=E+C+1>>1,g[w+0+64]=g[w+2+96]=B+E+1>>1,g[w+0+96]=H+B+1>>1,g[w+3+0]=Ft(Q,Z,ie),g[w+2+0]=Ft(G,Q,Z),g[w+1+0]=g[w+3+32]=Ft(C,G,Q),g[w+1+32]=g[w+3+64]=Ft(E,C,G),g[w+1+64]=g[w+3+96]=Ft(B,E,C),g[w+1+96]=Ft(H,B,E)}function Fo(g,w){var C;for(C=0;8>C;++C)r(g,w+32*C,g,w-32,8)}function ci(g,w){var C;for(C=0;8>C;++C)i(g,w,g[w-1],8),w+=32}function zi(g,w,C){var E;for(E=0;8>E;++E)i(w,C+32*E,g,8)}function Ui(g,w){var C,E=8;for(C=0;8>C;++C)E+=g[w+C-32]+g[w-1+32*C];zi(E>>4,g,w)}function Mo(g,w){var C,E=4;for(C=0;8>C;++C)E+=g[w+C-32];zi(E>>3,g,w)}function Bo(g,w){var C,E=4;for(C=0;8>C;++C)E+=g[w-1+32*C];zi(E>>3,g,w)}function Za(g,w){zi(128,g,w)}function Ds(g,w,C){var E=g[w-C],B=g[w+0],H=3*(B-E)+la[1020+g[w-2*C]-g[w+C]],G=kl[112+(H+4>>3)];g[w-C]=Li[255+E+kl[112+(H+3>>3)]],g[w+0]=Li[255+B-G]}function ys(g,w,C,E){var B=g[w+0],H=g[w+C];return bs[255+g[w-2*C]-g[w-C]]>E||bs[255+H-B]>E}function Na(g,w,C,E){return 4*bs[255+g[w-C]-g[w+0]]+bs[255+g[w-2*C]-g[w+C]]<=E}function na(g,w,C,E,B){var H=g[w-3*C],G=g[w-2*C],Q=g[w-C],Z=g[w+0],ie=g[w+C],Ne=g[w+2*C],Oe=g[w+3*C];return 4*bs[255+Q-Z]+bs[255+G-ie]>E?0:bs[255+g[w-4*C]-H]<=B&&bs[255+H-G]<=B&&bs[255+G-Q]<=B&&bs[255+Oe-Ne]<=B&&bs[255+Ne-ie]<=B&&bs[255+ie-Z]<=B}function Ci(g,w,C,E){var B=2*E+1;for(E=0;16>E;++E)Na(g,w+E,C,B)&&Ds(g,w+E,C)}function Fs(g,w,C,E){var B=2*E+1;for(E=0;16>E;++E)Na(g,w+E*C,1,B)&&Ds(g,w+E*C,1)}function ra(g,w,C,E){var B;for(B=3;0<B;--B)Ci(g,w+=4*C,C,E)}function eo(g,w,C,E){var B;for(B=3;0<B;--B)Fs(g,w+=4,C,E)}function Ai(g,w,C,E,B,H,G,Q){for(H=2*H+1;0<B--;){if(na(g,w,C,H,G))if(ys(g,w,C,Q))Ds(g,w,C);else{var Z=g,ie=w,Ne=C,Oe=Z[ie-2*Ne],se=Z[ie-Ne],je=Z[ie+0],Pe=Z[ie+Ne],He=Z[ie+2*Ne],De=27*($e=la[1020+3*(je-se)+la[1020+Oe-Pe]])+63>>7,ze=18*$e+63>>7,$e=9*$e+63>>7;Z[ie-3*Ne]=Li[255+Z[ie-3*Ne]+$e],Z[ie-2*Ne]=Li[255+Oe+ze],Z[ie-Ne]=Li[255+se+De],Z[ie+0]=Li[255+je-De],Z[ie+Ne]=Li[255+Pe-ze],Z[ie+2*Ne]=Li[255+He-$e]}w+=E}}function Ei(g,w,C,E,B,H,G,Q){for(H=2*H+1;0<B--;){if(na(g,w,C,H,G))if(ys(g,w,C,Q))Ds(g,w,C);else{var Z=g,ie=w,Ne=C,Oe=Z[ie-Ne],se=Z[ie+0],je=Z[ie+Ne],Pe=kl[112+(4+(He=3*(se-Oe))>>3)],He=kl[112+(He+3>>3)],De=Pe+1>>1;Z[ie-2*Ne]=Li[255+Z[ie-2*Ne]+De],Z[ie-Ne]=Li[255+Oe+He],Z[ie+0]=Li[255+se-Pe],Z[ie+Ne]=Li[255+je-De]}w+=E}}function to(g,w,C,E,B,H){Ai(g,w,C,1,16,E,B,H)}function Tr(g,w,C,E,B,H){Ai(g,w,1,C,16,E,B,H)}function Pi(g,w,C,E,B,H){var G;for(G=3;0<G;--G)Ei(g,w+=4*C,C,1,16,E,B,H)}function no(g,w,C,E,B,H){var G;for(G=3;0<G;--G)Ei(g,w+=4,1,C,16,E,B,H)}function b(g,w,C,E,B,H,G,Q){Ai(g,w,B,1,8,H,G,Q),Ai(C,E,B,1,8,H,G,Q)}function M(g,w,C,E,B,H,G,Q){Ai(g,w,1,B,8,H,G,Q),Ai(C,E,1,B,8,H,G,Q)}function le(g,w,C,E,B,H,G,Q){Ei(g,w+4*B,B,1,8,H,G,Q),Ei(C,E+4*B,B,1,8,H,G,Q)}function xe(g,w,C,E,B,H,G,Q){Ei(g,w+4,1,B,8,H,G,Q),Ei(C,E+4,1,B,8,H,G,Q)}function Ae(){this.ba=new sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new it,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rt(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new q}function ut(){this.xb=this.a=0,this.l=new er,this.ca=new sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rt,this.ab=0,this.gc=l(4,Ue),this.Oc=0}function Rt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new er,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Et(g,w,C,E,B,H,G){for(g=g==null?0:g[w+0],w=0;w<G;++w)B[H+w]=g+C[E+w]&255,g=B[H+w]}function yn(g,w,C,E,B,H,G){var Q;if(g==null)Et(null,null,C,E,B,H,G);else for(Q=0;Q<G;++Q)B[H+Q]=g[w+Q]+C[E+Q]&255}function nr(g,w,C,E,B,H,G){if(g==null)Et(null,null,C,E,B,H,G);else{var Q,Z=g[w+0],ie=Z,Ne=Z;for(Q=0;Q<G;++Q)ie=Ne+(Z=g[w+Q])-ie,Ne=C[E+Q]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,B[H+Q]=Ne}}function _r(g,w,C,E){var B=w.width,H=w.o;if(e(g!=null&&w!=null),0>C||0>=E||C+E>H)return null;if(!g.Cc){if(g.ga==null){var G;if(g.ga=new Rt,(G=g.ga==null)||(G=w.width*w.o,e(g.Gb.length==0),g.Gb=a(G),g.Uc=0,g.Gb==null?G=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,G=1),G=!G),!G){G=g.ga;var Q=g.Fa,Z=g.P,ie=g.qc,Ne=g.mb,Oe=g.nb,se=Z+1,je=ie-1,Pe=G.l;if(e(Q!=null&&Ne!=null&&w!=null),di[0]=null,di[1]=Et,di[2]=yn,di[3]=nr,G.ca=Ne,G.tb=Oe,G.c=w.width,G.i=w.height,e(0<G.c&&0<G.i),1>=ie)w=0;else if(G.$a=3&Q[Z+0],G.Z=Q[Z+0]>>2&3,G.Lc=Q[Z+0]>>4&3,Z=Q[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)w=0;else if(Pe.put=st,Pe.ac=Pr,Pe.bc=kn,Pe.ma=G,Pe.width=w.width,Pe.height=w.height,Pe.Da=w.Da,Pe.v=w.v,Pe.va=w.va,Pe.j=w.j,Pe.o=w.o,G.$a)e:{e(G.$a==1),w=ma();t:for(;;){if(w==null){w=0;break e}if(e(G!=null),G.mc=w,w.c=G.c,w.i=G.i,w.l=G.l,w.l.ma=G,w.l.width=G.c,w.l.height=G.i,w.a=0,ye(w.m,Q,se,je),!os(G.c,G.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Di(w.s)?(G.ic=1,Q=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(Q),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(G.ic=0,w=Xs(w,G.c)),!w))break t;w=1;break e}G.mc=null,w=0}else w=je>=G.c*G.i;G=!w}if(G)return null;g.ga.Lc!=1?g.Ga=0:E=H-C}e(g.ga!=null),e(C+E<=H);e:{if(w=(Q=g.ga).c,H=Q.l.o,Q.$a==0){if(se=g.rc,je=g.Vc,Pe=g.Fa,Z=g.P+1+C*w,ie=g.mb,Ne=g.nb+C*w,e(Z<=g.P+g.qc),Q.Z!=0)for(e(di[Q.Z]!=null),G=0;G<E;++G)di[Q.Z](se,je,Pe,Z,ie,Ne,w),se=ie,je=Ne,Ne+=w,Z+=w;else for(G=0;G<E;++G)r(ie,Ne,Pe,Z,w),se=ie,je=Ne,Ne+=w,Z+=w;g.rc=se,g.Vc=je}else{if(e(Q.mc!=null),w=C+E,e((G=Q.mc)!=null),e(w<=G.i),G.C>=w)w=1;else if(Q.ic||ws(),Q.ic){Q=G.V,se=G.Ba,je=G.c;var He=G.i,De=(Pe=1,Z=G.$/je,ie=G.$%je,Ne=G.m,Oe=G.s,G.$),ze=je*He,$e=je*w,Ve=Oe.wc,Ge=De<$e?In(Oe,ie,Z):null;e(De<=ze),e(w<=He),e(Di(Oe));t:for(;;){for(;!Ne.h&&De<$e;){if(ie&Ve||(Ge=In(Oe,ie,Z)),e(Ge!=null),re(Ne),256>(He=an(Ge.G[0],Ge.H[0],Ne)))Q[se+De]=He,++De,++ie>=je&&(ie=0,++Z<=w&&!(Z%16)&&Lr(G,Z));else{if(!(280>He)){Pe=0;break t}He=wn(He-256,Ne);var At,gt=an(Ge.G[4],Ge.H[4],Ne);if(re(Ne),!(De>=(gt=qn(je,gt=wn(gt,Ne)))&&ze-De>=He)){Pe=0;break t}for(At=0;At<He;++At)Q[se+De+At]=Q[se+De+At-gt];for(De+=He,ie+=He;ie>=je;)ie-=je,++Z<=w&&!(Z%16)&&Lr(G,Z);De<$e&&ie&Ve&&(Ge=In(Oe,ie,Z))}e(Ne.h==te(Ne))}Lr(G,Z>w?w:Z);break t}!Pe||Ne.h&&De<ze?(Pe=0,G.a=Ne.h?5:3):G.$=De,w=Pe}else w=Si(G,G.V,G.Ba,G.c,G.i,w,va);if(!w){E=0;break e}}C+E>=H&&(g.Cc=1),E=1}if(!E)return null;if(g.Cc&&((E=g.ga)!=null&&(E.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+C*B}function Hn(g,w,C,E,B,H){for(;0<B--;){var G,Q=g,Z=w+(C?1:0),ie=g,Ne=w+(C?0:3);for(G=0;G<E;++G){var Oe=ie[Ne+4*G];Oe!=255&&(Oe*=32897,Q[Z+4*G+0]=Q[Z+4*G+0]*Oe>>23,Q[Z+4*G+1]=Q[Z+4*G+1]*Oe>>23,Q[Z+4*G+2]=Q[Z+4*G+2]*Oe>>23)}w+=H}}function Rr(g,w,C,E,B){for(;0<E--;){var H;for(H=0;H<C;++H){var G=g[w+2*H+0],Q=15&(ie=g[w+2*H+1]),Z=4369*Q,ie=(240&ie|ie>>4)*Z>>16;g[w+2*H+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,g[w+2*H+1]=240&ie|Q}w+=B}}function gr(g,w,C,E,B,H,G,Q){var Z,ie,Ne=255;for(ie=0;ie<B;++ie){for(Z=0;Z<E;++Z){var Oe=g[w+Z];H[G+4*Z]=Oe,Ne&=Oe}w+=C,G+=Q}return Ne!=255}function Yr(g,w,C,E,B){var H;for(H=0;H<B;++H)C[E+H]=g[w+H]>>8}function ws(){Qo=Hn,md=Rr,uc=gr,vd=Yr}function $i(g,w,C){F[g]=function(E,B,H,G,Q,Z,ie,Ne,Oe,se,je,Pe,He,De,ze,$e,Ve){var Ge,At=Ve-1>>1,gt=Q[Z+0]|ie[Ne+0]<<16,Yt=Oe[se+0]|je[Pe+0]<<16;e(E!=null);var St=3*gt+Yt+131074>>2;for(w(E[B+0],255&St,St>>16,He,De),H!=null&&(St=3*Yt+gt+131074>>2,w(H[G+0],255&St,St>>16,ze,$e)),Ge=1;Ge<=At;++Ge){var dn=Q[Z+Ge]|ie[Ne+Ge]<<16,ur=Oe[se+Ge]|je[Pe+Ge]<<16,Jt=gt+dn+Yt+ur+524296,mt=Jt+2*(dn+Yt)>>3;St=mt+gt>>1,gt=(Jt=Jt+2*(gt+ur)>>3)+dn>>1,w(E[B+2*Ge-1],255&St,St>>16,He,De+(2*Ge-1)*C),w(E[B+2*Ge-0],255&gt,gt>>16,He,De+(2*Ge-0)*C),H!=null&&(St=Jt+Yt>>1,gt=mt+ur>>1,w(H[G+2*Ge-1],255&St,St>>16,ze,$e+(2*Ge-1)*C),w(H[G+2*Ge+0],255&gt,gt>>16,ze,$e+(2*Ge+0)*C)),gt=dn,Yt=ur}1&Ve||(St=3*gt+Yt+131074>>2,w(E[B+Ve-1],255&St,St>>16,He,De+(Ve-1)*C),H!=null&&(St=3*Yt+gt+131074>>2,w(H[G+Ve-1],255&St,St>>16,ze,$e+(Ve-1)*C)))}}function Zc(){Wi[ru]=hp,Wi[ho]=fo,Wi[ph]=fp,Wi[dc]=El,Wi[hc]=tl,Wi[Dn]=vc,Wi[iu]=jd,Wi[jl]=fo,Wi[Xo]=El,Wi[fc]=tl,Wi[pc]=vc}function ro(g){return g&-16384?0>g?0:255:g>>po}function zo(g,w){return ro((19077*g>>8)+(26149*w>>8)-14234)}function io(g,w,C){return ro((19077*g>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function Uo(g,w){return ro((19077*g>>8)+(33050*w>>8)-17685)}function so(g,w,C,E,B){E[B+0]=zo(g,C),E[B+1]=io(g,w,C),E[B+2]=Uo(g,w)}function $o(g,w,C,E,B){E[B+0]=Uo(g,w),E[B+1]=io(g,w,C),E[B+2]=zo(g,C)}function ui(g,w,C,E,B){var H=io(g,w,C);w=H<<3&224|Uo(g,w)>>3,E[B+0]=248&zo(g,C)|H>>5,E[B+1]=w}function qo(g,w,C,E,B){var H=240&Uo(g,w)|15;E[B+0]=240&zo(g,C)|io(g,w,C)>>4,E[B+1]=H}function Ho(g,w,C,E,B){E[B+0]=255,so(g,w,C,E,B+1)}function ac(g,w,C,E,B){$o(g,w,C,E,B),E[B+3]=255}function oc(g,w,C,E,B){so(g,w,C,E,B),E[B+3]=255}function or(g,w){return 0>g?0:g>w?w:g}function Ms(g,w,C){F[g]=function(E,B,H,G,Q,Z,ie,Ne,Oe){for(var se=Ne+(-2&Oe)*C;Ne!=se;)w(E[B+0],H[G+0],Q[Z+0],ie,Ne),w(E[B+1],H[G+0],Q[Z+0],ie,Ne+C),B+=2,++G,++Z,Ne+=2*C;1&Oe&&w(E[B+0],H[G+0],Q[Z+0],ie,Ne)}}function ia(g,w,C){return C==0?g==0?w==0?6:5:w==0?4:0:C}function eu(g,w,C,E,B){switch(g>>>30){case 3:Yo(w,C,E,B,0);break;case 2:lr(w,C,E,B);break;case 1:xn(w,C,E,B)}}function cs(g,w){var C,E,B=w.M,H=w.Nb,G=g.oc,Q=g.pc+40,Z=g.oc,ie=g.pc+584,Ne=g.oc,Oe=g.pc+600;for(C=0;16>C;++C)G[Q+32*C-1]=129;for(C=0;8>C;++C)Z[ie+32*C-1]=129,Ne[Oe+32*C-1]=129;for(0<B?G[Q-1-32]=Z[ie-1-32]=Ne[Oe-1-32]=129:(i(G,Q-32-1,127,21),i(Z,ie-32-1,127,9),i(Ne,Oe-32-1,127,9)),E=0;E<g.za;++E){var se=w.ya[w.aa+E];if(0<E){for(C=-1;16>C;++C)r(G,Q+32*C-4,G,Q+32*C+12,4);for(C=-1;8>C;++C)r(Z,ie+32*C-4,Z,ie+32*C+4,4),r(Ne,Oe+32*C-4,Ne,Oe+32*C+4,4)}var je=g.Gd,Pe=g.Hd+E,He=se.ad,De=se.Hc;if(0<B&&(r(G,Q-32,je[Pe].y,0,16),r(Z,ie-32,je[Pe].f,0,8),r(Ne,Oe-32,je[Pe].ea,0,8)),se.Za){var ze=G,$e=Q-32+16;for(0<B&&(E>=g.za-1?i(ze,$e,je[Pe].y[15],4):r(ze,$e,je[Pe+1].y,0,4)),C=0;4>C;C++)ze[$e+128+C]=ze[$e+256+C]=ze[$e+384+C]=ze[$e+0+C];for(C=0;16>C;++C,De<<=2)ze=G,$e=Q+Cd[C],Ss[se.Ob[C]](ze,$e),eu(De,He,16*+C,ze,$e)}else if(ze=ia(E,B,se.Ob[0]),Ti[ze](G,Q),De!=0)for(C=0;16>C;++C,De<<=2)eu(De,He,16*+C,G,Q+Cd[C]);for(C=se.Gc,ze=ia(E,B,se.Dd),Hi[ze](Z,ie),Hi[ze](Ne,Oe),De=He,ze=Z,$e=ie,255&(se=0|C)&&(170&se?qi(De,256,ze,$e):Tn(De,256,ze,$e)),se=Ne,De=Oe,255&(C>>=8)&&(170&C?qi(He,320,se,De):Tn(He,320,se,De)),B<g.Ub-1&&(r(je[Pe].y,0,G,Q+480,16),r(je[Pe].f,0,Z,ie+224,8),r(je[Pe].ea,0,Ne,Oe+224,8)),C=8*H*g.B,je=g.sa,Pe=g.ta+16*E+16*H*g.R,He=g.qa,se=g.ra+8*E+C,De=g.Ha,ze=g.Ia+8*E+C,C=0;16>C;++C)r(je,Pe+C*g.R,G,Q+32*C,16);for(C=0;8>C;++C)r(He,se+C*g.B,Z,ie+32*C,8),r(De,ze+C*g.B,Ne,Oe+32*C,8)}}function ao(g,w,C,E,B,H,G,Q,Z){var ie=[0],Ne=[0],Oe=0,se=Z!=null?Z.kd:0,je=Z??new Ee;if(g==null||12>C)return 7;je.data=g,je.w=w,je.ha=C,w=[w],C=[C],je.gb=[je.gb];e:{var Pe=w,He=C,De=je.gb;if(e(g!=null),e(He!=null),e(De!=null),De[0]=0,12<=He[0]&&!t(g,Pe[0],"RIFF")){if(t(g,Pe[0]+8,"WEBP")){De=3;break e}var ze=Te(g,Pe[0]+4);if(12>ze||4294967286<ze){De=3;break e}if(se&&ze>He[0]-8){De=7;break e}De[0]=ze,Pe[0]+=12,He[0]-=12}De=0}if(De!=0)return De;for(ze=0<je.gb[0],C=C[0];;){e:{var $e=g;He=w,De=C;var Ve=ie,Ge=Ne,At=Pe=[0];if((St=Oe=[Oe])[0]=0,8>De[0])De=7;else{if(!t($e,He[0],"VP8X")){if(Te($e,He[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var gt=Te($e,He[0]+8),Yt=1+qe($e,He[0]+12);if(2147483648<=Yt*($e=1+qe($e,He[0]+15))){De=3;break e}At!=null&&(At[0]=gt),Ve!=null&&(Ve[0]=Yt),Ge!=null&&(Ge[0]=$e),He[0]+=18,De[0]-=18,St[0]=1}De=0}}if(Oe=Oe[0],Pe=Pe[0],De!=0)return De;if(He=!!(2&Pe),!ze&&Oe)return 3;if(H!=null&&(H[0]=!!(16&Pe)),G!=null&&(G[0]=He),Q!=null&&(Q[0]=0),G=ie[0],Pe=Ne[0],Oe&&He&&Z==null){De=0;break}if(4>C){De=7;break}if(ze&&Oe||!ze&&!Oe&&!t(g,w[0],"ALPH")){C=[C],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{gt=g,De=w,ze=C;var St=je.gb;Ve=je.na,Ge=je.P,At=je.Sa,Yt=22,e(gt!=null),e(ze!=null),$e=De[0];var dn=ze[0];for(e(Ve!=null),e(At!=null),Ve[0]=null,Ge[0]=null,At[0]=0;;){if(De[0]=$e,ze[0]=dn,8>dn){De=7;break e}var ur=Te(gt,$e+4);if(4294967286<ur){De=3;break e}var Jt=8+ur+1&-2;if(Yt+=Jt,0<St&&Yt>St){De=3;break e}if(!t(gt,$e,"VP8 ")||!t(gt,$e,"VP8L")){De=0;break e}if(dn[0]<Jt){De=7;break e}t(gt,$e,"ALPH")||(Ve[0]=gt,Ge[0]=$e+8,At[0]=ur),$e+=Jt,dn-=Jt}}if(C=C[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],De!=0)break}C=[C],je.Ja=[je.Ja],je.xa=[je.xa];e:if(St=g,De=w,ze=C,Ve=je.gb[0],Ge=je.Ja,At=je.xa,gt=De[0],$e=!t(St,gt,"VP8 "),Yt=!t(St,gt,"VP8L"),e(St!=null),e(ze!=null),e(Ge!=null),e(At!=null),8>ze[0])De=7;else{if($e||Yt){if(St=Te(St,gt+4),12<=Ve&&St>Ve-12){De=3;break e}if(se&&St>ze[0]-8){De=7;break e}Ge[0]=St,De[0]+=8,ze[0]-=8,At[0]=Yt}else At[0]=5<=ze[0]&&St[gt+0]==47&&!(St[gt+4]>>5),Ge[0]=ze[0];De=0}if(C=C[0],je.Ja=je.Ja[0],je.xa=je.xa[0],w=w[0],De!=0)break;if(4294967286<je.Ja)return 3;if(Q==null||He||(Q[0]=je.xa?2:1),G=[G],Pe=[Pe],je.xa){if(5>C){De=7;break}Q=G,se=Pe,He=H,g==null||5>C?g=0:5<=C&&g[w+0]==47&&!(g[w+4]>>5)?(ze=[0],St=[0],Ve=[0],ye(Ge=new z,g,w,C),Sr(Ge,ze,St,Ve)?(Q!=null&&(Q[0]=ze[0]),se!=null&&(se[0]=St[0]),He!=null&&(He[0]=Ve[0]),g=1):g=0):g=0}else{if(10>C){De=7;break}Q=Pe,g==null||10>C||!Lo(g,w+3,C-3)?g=0:(se=g[w+0]|g[w+1]<<8|g[w+2]<<16,He=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=je.Ja||!He||!g?g=0:(G&&(G[0]=He),Q&&(Q[0]=g),g=1))}if(!g||(G=G[0],Pe=Pe[0],Oe&&(ie[0]!=G||Ne[0]!=Pe)))return 3;Z!=null&&(Z[0]=je,Z.offset=w-Z.w,e(4294967286>w-Z.w),e(Z.offset==Z.ha-C));break}return De==0||De==7&&Oe&&Z==null?(H!=null&&(H[0]|=je.na!=null&&0<je.na.length),E!=null&&(E[0]=G),B!=null&&(B[0]=Pe),0):De}function wl(g,w,C){var E=w.width,B=w.height,H=0,G=0,Q=E,Z=B;if(w.Da=g!=null&&0<g.Da,w.Da&&(Q=g.cd,Z=g.bd,H=g.v,G=g.j,11>C||(H&=-2,G&=-2),0>H||0>G||0>=Q||0>=Z||H+Q>E||G+Z>B))return 0;if(w.v=H,w.j=G,w.va=H+Q,w.o=G+Z,w.U=Q,w.T=Z,w.da=g!=null&&0<g.da,w.da){if(!ft(Q,Z,C=[g.ib],H=[g.hb]))return 0;w.ib=C[0],w.hb=H[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*E/4&&w.hb<3*B/4,w.Kb=0),1}function xl(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function ka(g,w,C,E){if(E==null||0>=g||0>=w)return 2;if(C!=null){if(C.Da){var B=C.cd,H=C.bd,G=-2&C.v,Q=-2&C.j;if(0>G||0>Q||0>=B||0>=H||G+B>g||Q+H>w)return 2;g=B,w=H}if(C.da){if(!ft(g,w,B=[C.ib],H=[C.hb]))return 2;g=B[0],w=H[0]}}E.width=g,E.height=w;e:{var Z=E.width,ie=E.height;if(g=E.S,0>=Z||0>=ie||!(g>=ru&&13>g))g=2;else{if(0>=E.Rd&&E.sd==null){G=H=B=w=0;var Ne=(Q=Z*yc[g])*ie;if(11>g||(H=(ie+1)/2*(w=(Z+1)/2),g==12&&(G=(B=Z)*ie)),(ie=a(Ne+2*H+G))==null){g=1;break e}E.sd=ie,11>g?((Z=E.f.RGBA).eb=ie,Z.fb=0,Z.A=Q,Z.size=Ne):((Z=E.f.kb).y=ie,Z.O=0,Z.fa=Q,Z.Fd=Ne,Z.f=ie,Z.N=0+Ne,Z.Ab=w,Z.Cd=H,Z.ea=ie,Z.W=0+Ne+H,Z.Db=w,Z.Ed=H,g==12&&(Z.F=ie,Z.J=0+Ne+2*H),Z.Tc=G,Z.lb=B)}if(w=1,B=E.S,H=E.width,G=E.height,B>=ru&&13>B)if(11>B)g=E.f.RGBA,w&=(Q=Math.abs(g.A))*(G-1)+H<=g.size,w&=Q>=H*yc[B],w&=g.eb!=null;else{g=E.f.kb,Q=(H+1)/2,Ne=(G+1)/2,Z=Math.abs(g.fa),ie=Math.abs(g.Ab);var Oe=Math.abs(g.Db),se=Math.abs(g.lb),je=se*(G-1)+H;w&=Z*(G-1)+H<=g.Fd,w&=ie*(Ne-1)+Q<=g.Cd,w=(w&=Oe*(Ne-1)+Q<=g.Ed)&Z>=H&ie>=Q&Oe>=Q,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,B==12&&(w&=se>=H,w&=je<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||C!=null&&C.fd&&(g=xl(E)),g}var xs=64,us=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ds=24,oo=32,sa=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(g){return g},F.Predictor2=function(g,w,C){return w[C+0]},F.Predictor3=function(g,w,C){return w[C+1]},F.Predictor4=function(g,w,C){return w[C-1]},F.Predictor5=function(g,w,C){return Ze(Ze(g,w[C+1]),w[C+0])},F.Predictor6=function(g,w,C){return Ze(g,w[C-1])},F.Predictor7=function(g,w,C){return Ze(g,w[C+0])},F.Predictor8=function(g,w,C){return Ze(w[C-1],w[C+0])},F.Predictor9=function(g,w,C){return Ze(w[C+0],w[C+1])},F.Predictor10=function(g,w,C){return Ze(Ze(g,w[C-1]),Ze(w[C+0],w[C+1]))},F.Predictor11=function(g,w,C){var E=w[C+0];return 0>=ht(E>>24&255,g>>24&255,(w=w[C-1])>>24&255)+ht(E>>16&255,g>>16&255,w>>16&255)+ht(E>>8&255,g>>8&255,w>>8&255)+ht(255&E,255&g,255&w)?E:g},F.Predictor12=function(g,w,C){var E=w[C+0];return(Mt((g>>24&255)+(E>>24&255)-((w=w[C-1])>>24&255))<<24|Mt((g>>16&255)+(E>>16&255)-(w>>16&255))<<16|Mt((g>>8&255)+(E>>8&255)-(w>>8&255))<<8|Mt((255&g)+(255&E)-(255&w)))>>>0},F.Predictor13=function(g,w,C){var E=w[C-1];return(ct((g=Ze(g,w[C+0]))>>24&255,E>>24&255)<<24|ct(g>>16&255,E>>16&255)<<16|ct(g>>8&255,E>>8&255)<<8|ct(255&g,255&E))>>>0};var Ca=F.PredictorAdd0;F.PredictorAdd1=Bt,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var aa=F.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var mr,Wo=F.ColorIndexInverseTransform,oa=F.MapARGB,Bs=F.VP8LColorIndexInverseTransformAlpha,Vo=F.MapAlpha,Go=F.VP8LPredictorsAdd=[];Go.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var bl,Sl,Aa,lo,co,Ko,uo,Yo,lr,qi,xn,Tn,cr,Nr,zs,lc,_l,Ea,tu,Nl,nu,gd,cc,Jo,Qo,md,uc,vd,yd=a(511),wd=a(2041),xd=a(225),bd=a(767),Sd=0,la=wd,kl=xd,Li=bd,bs=yd,ru=0,ho=1,ph=2,dc=3,hc=4,Dn=5,iu=6,jl=7,Xo=8,fc=9,pc=10,gc=[2,3,7],su=[3,3,11],Zo=[280,256,256,256,40],gh=[0,1,1,1,0],lp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],au=8,Cl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],el=null,_d=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Nd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],up=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],Ss=[],Hi=[],ca=1,Al=2,di=[],Wi=[];$i("UpsampleRgbLinePair",so,3),$i("UpsampleBgrLinePair",$o,3),$i("UpsampleRgbaLinePair",oc,4),$i("UpsampleBgraLinePair",ac,4),$i("UpsampleArgbLinePair",Ho,4),$i("UpsampleRgba4444LinePair",qo,2),$i("UpsampleRgb565LinePair",ui,2);var hp=F.UpsampleRgbLinePair,fp=F.UpsampleBgrLinePair,fo=F.UpsampleRgbaLinePair,El=F.UpsampleBgraLinePair,tl=F.UpsampleArgbLinePair,vc=F.UpsampleRgba4444LinePair,jd=F.UpsampleRgb565LinePair,Pa=16,Us=1<<Pa-1,En=-227,Rn=482,po=6,Jr=0,Vi=a(256),nl=a(256),Pl=a(256),Gi=a(256),ou=a(Rn-En),wh=a(Rn-En);Ms("YuvToRgbRow",so,3),Ms("YuvToBgrRow",$o,3),Ms("YuvToRgbaRow",oc,4),Ms("YuvToBgraRow",ac,4),Ms("YuvToArgbRow",Ho,4),Ms("YuvToRgba4444Row",qo,2),Ms("YuvToRgb565Row",ui,2);var Cd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rl=[0,2,8],xh=[8,7,6,4,4,2,2,2,1,1,1,1],La=1;this.WebPDecodeRGBA=function(g,w,C,E,B){var H=ho,G=new Ae,Q=new sn;G.ba=Q,Q.S=H,Q.width=[Q.width],Q.height=[Q.height];var Z=Q.width,ie=Q.height,Ne=new Dt;if(Ne==null||g==null)var Oe=2;else e(Ne!=null),Oe=ao(g,w,C,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Oe!=0?Z=0:(Z!=null&&(Z[0]=Ne.width[0]),ie!=null&&(ie[0]=Ne.height[0]),Z=1),Z){Q.width=Q.width[0],Q.height=Q.height[0],E!=null&&(E[0]=Q.width),B!=null&&(B[0]=Q.height);e:{if(E=new er,(B=new Ee).data=g,B.w=w,B.ha=C,B.kd=1,w=[0],e(B!=null),((g=ao(B.data,B.w,B.ha,null,null,null,w,null,B))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(e(G!=null),E.data=B.data,E.w=B.w+B.offset,E.ha=B.ha-B.offset,E.put=st,E.ac=Pr,E.bc=kn,E.ma=G,B.xa){if((g=ma())==null){G=1;break e}if((function(se,je){var Pe=[0],He=[0],De=[0];t:for(;;){if(se==null)return 0;if(je==null)return se.a=2,0;if(se.l=je,se.a=0,ye(se.m,je.data,je.w,je.ha),!Sr(se.m,Pe,He,De)){se.a=3;break t}if(se.xb=Al,je.width=Pe[0],je.height=He[0],!os(Pe[0],He[0],1,se,null))break t;return 1}return e(se.a!=0),0})(g,E)){if(E=(w=ka(E.width,E.height,G.Oa,G.ba))==0){t:{E=g;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((C=E.l)!=null),e((B=C.ma)!=null),E.xb!=0){if(E.ca=B.ba,E.tb=B.tb,e(E.ca!=null),!wl(B.Oa,C,dc)){E.a=2;break n}if(!Xs(E,C.width)||C.da)break n;if((C.da||Tt(E.ca.S))&&ws(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ws()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!oe(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Si(E,E.V,E.Ba,E.c,E.i,C.o,bi))break n;B.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(w=g.a)}else w=g.a}else{if((g=new Zs)==null){G=1;break e}if(g.Fa=B.na,g.P=B.P,g.qc=B.Sa,oi(g,E)){if((w=ka(E.width,E.height,G.Oa,G.ba))==0){if(g.Aa=0,C=G.Oa,e((B=g)!=null),C!=null){if(0<(Z=0>(Z=C.Md)?0:100<Z?255:255*Z/100)){for(ie=Ne=0;4>ie;++ie)12>(Oe=B.pb[ie]).lc&&(Oe.ia=Z*xh[0>Oe.lc?0:Oe.lc]>>3),Ne|=Oe.ia;Ne&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=C.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(se,je){if(se==null)return 0;if(je==null)return ar(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!oi(se,je))return 0;if(e(se.cb),je.ac==null||je.ac(je)){je.ob&&(se.L=0);var Pe=rl[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=je.v-Pe>>4,se.zb=je.j-Pe>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=je.o+15+Pe>>4,se.Hb=je.va+15+Pe>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var He=se.ed;for(Pe=0;4>Pe;++Pe){var De;if(se.Qa.Cb){var ze=se.Qa.Lb[Pe];se.Qa.Fb||(ze+=He.Tb)}else ze=He.Tb;for(De=0;1>=De;++De){var $e=se.gd[Pe][De],Ve=ze;if(He.Pc&&(Ve+=He.vd[0],De&&(Ve+=He.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var Ge=Ve;0<He.wb&&(Ge=4<He.wb?Ge>>2:Ge>>1)>9-He.wb&&(Ge=9-He.wb),1>Ge&&(Ge=1),$e.dd=Ge,$e.tc=2*Ve+Ge,$e.ld=40<=Ve?2:15<=Ve?1:0}else $e.tc=0;$e.La=De}}}Pe=0}else ar(se,6,"Frame setup failed"),Pe=se.a;if(Pe=Pe==0){if(Pe){se.$c=0,0<se.Aa||(se.Ic=La);t:{Pe=se.Ic,He=4*(Ge=se.za);var At=32*Ge,gt=Ge+1,Yt=0<se.L?Ge*(0<se.Aa?2:1):0,St=(se.Aa==2?2:1)*Ge;if(($e=He+832+(De=3*(16*Pe+rl[se.L])/2*At)+(ze=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=$e)Pe=0;else{if($e>se.Vb){if(se.Vb=0,se.Ec=a($e),se.Fc=0,se.Ec==null){Pe=ar(se,1,"no memory during frame initialization.");break t}se.Vb=$e}$e=se.Ec,Ve=se.Fc,se.Ac=$e,se.Bc=Ve,Ve+=He,se.Gd=l(At,An),se.Hd=0,se.rb=l(gt+1,_e),se.sb=1,se.wa=Yt?l(Yt,Be):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=Ge),e(!0),se.oc=$e,se.pc=Ve,Ve+=832,se.ya=l(St,Vt),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=Ge),se.R=16*Ge,se.B=8*Ge,Ge=(At=rl[se.L])*se.R,At=At/2*se.B,se.sa=$e,se.ta=Ve+Ge,se.qa=se.sa,se.ra=se.ta+16*Pe*se.R+At,se.Ha=se.qa,se.Ia=se.ra+8*Pe*se.B+At,se.$c=0,Ve+=De,se.mb=ze?$e:null,se.nb=ze?Ve:null,e(Ve+ze<=se.Fc+se.Vb),li(se),i(se.Ac,se.Bc,0,He),Pe=1}}if(Pe){if(je.ka=0,je.y=se.sa,je.O=se.ta,je.f=se.qa,je.N=se.ra,je.ea=se.Ha,je.Vd=se.Ia,je.fa=se.R,je.Rc=se.B,je.F=null,je.J=0,!Sd){for(Pe=-255;255>=Pe;++Pe)yd[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)wd[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)xd[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)bd[255+Pe]=0>Pe?0:255<Pe?255:Pe;Sd=1}uo=on,Yo=Ja,qi=xa,xn=zr,Tn=Ro,lr=To,cr=to,Nr=Tr,zs=b,lc=M,_l=Pi,Ea=no,tu=le,Nl=xe,nu=Ci,gd=Fs,cc=ra,Jo=eo,Ss[0]=vs,Ss[1]=Oo,Ss[2]=Sa,Ss[3]=ms,Ss[4]=sc,Ss[5]=Is,Ss[6]=Bi,Ss[7]=Do,Ss[8]=ta,Ss[9]=_a,Ti[0]=Gr,Ti[1]=Io,Ti[2]=Qa,Ti[3]=Xa,Ti[4]=ls,Ti[5]=Kr,Ti[6]=ji,Hi[0]=Ui,Hi[1]=ba,Hi[2]=Fo,Hi[3]=ci,Hi[4]=Bo,Hi[5]=Mo,Hi[6]=Za,Pe=1}else Pe=0}Pe&&(Pe=(function(dn,ur){for(dn.M=0;dn.M<dn.Va;++dn.M){var Jt,mt=dn.Jc[dn.M&dn.Xb],tt=dn.m,vr=dn;for(Jt=0;Jt<vr.za;++Jt){var Wt=tt,ln=vr,Wn=ln.Ac,Ur=ln.Bc+4*Jt,kr=ln.zc,rr=ln.ya[ln.aa+Jt];if(ln.Qa.Bb?rr.$b=we(Wt,ln.Pa.jb[0])?2+we(Wt,ln.Pa.jb[2]):we(Wt,ln.Pa.jb[1]):rr.$b=0,ln.kc&&(rr.Ad=we(Wt,ln.Bd)),rr.Za=!we(Wt,145)+0,rr.Za){var Or=rr.Ob,$r=0;for(ln=0;4>ln;++ln){var Jn,pn=kr[0+ln];for(Jn=0;4>Jn;++Jn){pn=up[Wn[Ur+Jn]][pn];for(var bn=vh[we(Wt,pn[0])];0<bn;)bn=vh[2*bn+we(Wt,pn[bn])];pn=-bn,Wn[Ur+Jn]=pn}r(Or,$r,Wn,Ur,4),$r+=4,kr[0+ln]=pn}}else pn=we(Wt,156)?we(Wt,128)?1:3:we(Wt,163)?2:0,rr.Ob[0]=pn,i(Wn,Ur,pn,4),i(kr,0,pn,4);rr.Dd=we(Wt,142)?we(Wt,114)?we(Wt,183)?1:3:2:0}if(vr.m.Ka)return ar(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(vr=mt,Wt=(tt=dn).rb[tt.sb-1],Wn=tt.rb[tt.sb+tt.ja],Jt=tt.ya[tt.aa+tt.ja],Ur=tt.kc?Jt.Ad:0)Wt.la=Wn.la=0,Jt.Za||(Wt.Na=Wn.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var Qn,Sn;if(Wt=Wn,Wn=vr,Ur=tt.Pa.Xc,kr=tt.ya[tt.aa+tt.ja],rr=tt.pb[kr.$b],ln=kr.ad,Or=0,$r=tt.rb[tt.sb-1],pn=Jn=0,i(ln,Or,0,384),kr.Za)var dr=0,hr=Ur[3];else{bn=a(16);var Fn=Wt.Na+$r.Na;if(Fn=el(Wn,Ur[1],Fn,rr.Eb,0,bn,0),Wt.Na=$r.Na=(0<Fn)+0,1<Fn)uo(bn,0,ln,Or);else{var hi=bn[0]+3>>3;for(bn=0;256>bn;bn+=16)ln[Or+bn]=hi}dr=1,hr=Ur[0]}var On=15&Wt.la,Mn=15&$r.la;for(bn=0;4>bn;++bn){var jr=1&Mn;for(hi=Sn=0;4>hi;++hi)On=On>>1|(jr=(Fn=el(Wn,hr,Fn=jr+(1&On),rr.Sc,dr,ln,Or))>dr)<<7,Sn=Sn<<2|(3<Fn?3:1<Fn?2:ln[Or+0]!=0),Or+=16;On>>=4,Mn=Mn>>1|jr<<7,Jn=(Jn<<8|Sn)>>>0}for(hr=On,dr=Mn>>4,Qn=0;4>Qn;Qn+=2){for(Sn=0,On=Wt.la>>4+Qn,Mn=$r.la>>4+Qn,bn=0;2>bn;++bn){for(jr=1&Mn,hi=0;2>hi;++hi)Fn=jr+(1&On),On=On>>1|(jr=0<(Fn=el(Wn,Ur[2],Fn,rr.Qc,0,ln,Or)))<<3,Sn=Sn<<2|(3<Fn?3:1<Fn?2:ln[Or+0]!=0),Or+=16;On>>=2,Mn=Mn>>1|jr<<5}pn|=Sn<<4*Qn,hr|=On<<4<<Qn,dr|=(240&Mn)<<Qn}Wt.la=hr,$r.la=dr,kr.Hc=Jn,kr.Gc=pn,kr.ia=43690&pn?0:rr.ia,Ur=!(Jn|pn)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Jt.$b][Jt.Za],tt.wa[tt.Y+tt.ja].La|=!Ur),vr.Ka)return ar(dn,7,"Premature end-of-file encountered.")}if(li(dn),tt=ur,vr=1,Jt=(mt=dn).D,Wt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Jt.M=mt.M,Jt.uc=Wt,cs(mt,Jt),vr=1,Jt=(Sn=mt.D).Nb,Wt=(pn=rl[mt.L])*mt.R,Wn=pn/2*mt.B,bn=16*Jt*mt.R,hi=8*Jt*mt.B,Ur=mt.sa,kr=mt.ta-Wt+bn,rr=mt.qa,ln=mt.ra-Wn+hi,Or=mt.Ha,$r=mt.Ia-Wn+hi,Mn=(On=Sn.M)==0,Jn=On>=mt.Va-1,mt.Aa==2&&cs(mt,Sn),Sn.uc)for(jr=(Fn=mt).D.M,e(Fn.D.uc),Sn=Fn.yb;Sn<Fn.Hb;++Sn){dr=Sn,hr=jr;var Qr=(Ki=(xr=Fn).D).Nb;Qn=xr.R;var Ki=Ki.wa[Ki.Y+dr],yr=xr.sa,wr=xr.ta+16*Qr*Qn+16*dr,fi=Ki.dd,Bn=Ki.tc;if(Bn!=0)if(e(3<=Bn),xr.L==1)0<dr&&gd(yr,wr,Qn,Bn+4),Ki.La&&Jo(yr,wr,Qn,Bn),0<hr&&nu(yr,wr,Qn,Bn+4),Ki.La&&cc(yr,wr,Qn,Bn);else{var pi=xr.B,_s=xr.qa,$s=xr.ra+8*Qr*pi+8*dr,qr=xr.Ha,xr=xr.Ia+8*Qr*pi+8*dr;Qr=Ki.ld,0<dr&&(Nr(yr,wr,Qn,Bn+4,fi,Qr),lc(_s,$s,qr,xr,pi,Bn+4,fi,Qr)),Ki.La&&(Ea(yr,wr,Qn,Bn,fi,Qr),Nl(_s,$s,qr,xr,pi,Bn,fi,Qr)),0<hr&&(cr(yr,wr,Qn,Bn+4,fi,Qr),zs(_s,$s,qr,xr,pi,Bn+4,fi,Qr)),Ki.La&&(_l(yr,wr,Qn,Bn,fi,Qr),tu(_s,$s,qr,xr,pi,Bn,fi,Qr))}}if(mt.ia&&alert("todo:DitherRow"),tt.put!=null){if(Sn=16*On,On=16*(On+1),Mn?(tt.y=mt.sa,tt.O=mt.ta+bn,tt.f=mt.qa,tt.N=mt.ra+hi,tt.ea=mt.Ha,tt.W=mt.Ia+hi):(Sn-=pn,tt.y=Ur,tt.O=kr,tt.f=rr,tt.N=ln,tt.ea=Or,tt.W=$r),Jn||(On-=pn),On>tt.o&&(On=tt.o),tt.F=null,tt.J=null,mt.Fa!=null&&0<mt.Fa.length&&Sn<On&&(tt.J=_r(mt,tt,Sn,On-Sn),tt.F=mt.mb,tt.F==null&&tt.F.length==0)){vr=ar(mt,3,"Could not decode alpha data.");break t}Sn<tt.j&&(pn=tt.j-Sn,Sn=tt.j,e(!(1&pn)),tt.O+=mt.R*pn,tt.N+=mt.B*(pn>>1),tt.W+=mt.B*(pn>>1),tt.F!=null&&(tt.J+=tt.width*pn)),Sn<On&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=Sn-tt.j,tt.U=tt.va-tt.v,tt.T=On-Sn,vr=tt.put(tt))}Jt+1!=mt.Ic||Jn||(r(mt.sa,mt.ta-Wt,Ur,kr+16*mt.R,Wt),r(mt.qa,mt.ra-Wn,rr,ln+8*mt.B,Wn),r(mt.Ha,mt.Ia-Wn,Or,$r+8*mt.B,Wn))}if(!vr)return ar(dn,6,"Output aborted.")}return 1})(se,je)),je.bc!=null&&je.bc(je),Pe&=1}return Pe?(se.cb=0,Pe):0})(g,E)||(w=g.a)}}else w=g.a}w==0&&G.Oa!=null&&G.Oa.fd&&(w=xl(G.ba))}G=w}H=G!=0?null:11>H?Q.f.RGBA.eb:Q.f.kb.y}else H=null;return H};var yc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(F,ae){for(var P="",D=0;D<4;D++)P+=String.fromCharCode(F[ae++]);return P}function p(F,ae){return F[ae+0]|F[ae+1]<<8}function v(F,ae){return(F[ae+0]|F[ae+1]<<8|F[ae+2]<<16)>>>0}function x(F,ae){return(F[ae+0]|F[ae+1]<<8|F[ae+2]<<16|F[ae+3]<<24)>>>0}new d;var y=[0],N=[0],_=[],k=new d,j=n,T=(function(F,ae){var P={},D=0,q=!1,V=0,ue=0;if(P.frames=[],!(function(R,z){for(var K=0;K<4;K++)if(R[z+K]!="RIFF".charCodeAt(K))return!0;return!1})(F,ae)){for(x(F,ae+=4),ae+=8;ae<F.length;){var de=f(F,ae),he=x(F,ae+=4);ae+=4;var W=he+(1&he);switch(de){case"VP8 ":case"VP8L":P.frames[D]===void 0&&(P.frames[D]={}),(Y=P.frames[D]).src_off=q?ue:ae-8,Y.src_size=V+he+8,D++,q&&(q=!1,V=0,ue=0);break;case"VP8X":(Y=P.header={}).feature_flags=F[ae];var ye=ae+4;Y.canvas_width=1+v(F,ye),ye+=3,Y.canvas_height=1+v(F,ye),ye+=3;break;case"ALPH":q=!0,V=W+8,ue=ae-8;break;case"ANIM":(Y=P.header).bgcolor=x(F,ae),ye=ae+4,Y.loop_count=p(F,ye),ye+=2;break;case"ANMF":var Se,Y;(Y=P.frames[D]={}).offset_x=2*v(F,ae),ae+=3,Y.offset_y=2*v(F,ae),ae+=3,Y.width=1+v(F,ae),ae+=3,Y.height=1+v(F,ae),ae+=3,Y.duration=v(F,ae),ae+=3,Se=F[ae++],Y.dispose=1&Se,Y.blend=Se>>1&1}de!="ANMF"&&(ae+=W)}return P}})(j,0);T.response=j,T.rgbaoutput=!0,T.dataurl=!1;var L=T.header?T.header:null,O=T.frames?T.frames:null;if(L){L.loop_counter=L.loop_count,y=[L.canvas_height],N=[L.canvas_width];for(var X=0;X<O.length&&O[X].blend!=0;X++);}var ne=O[0],ee=k.WebPDecodeRGBA(j,ne.src_off,ne.src_size,N,y);ne.rgba=ee,ne.imgwidth=N[0],ne.imgheight=y[0];for(var $=0;$<N[0]*y[0]*4;$++)_[$]=ee[$];return this.width=N,this.height=y,this.data=_,this}(function(n){var e,t,r,i,a,l,c,d,f,p=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new d,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new l,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new l,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,f=new p}]);var v=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=R;Object.defineProperty(this,"pdf",{get:function(){return z}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Te){K=!!Te}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Te){te=!!Te}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(Te){isNaN(Te)||(me=Te)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(Te){isNaN(Te)||(re=Te)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Te){var oe;typeof Te=="number"?oe=[Te,Te,Te,Te]:((oe=new Array(4))[0]=Te[0],oe[1]=Te.length>=2?Te[1]:oe[0],oe[2]=Te.length>=3?Te[2]:oe[0],oe[3]=Te.length>=4?Te[3]:oe[1]),f.margin=oe}});var J=!1;Object.defineProperty(this,"autoPaging",{get:function(){return J},set:function(Te){J=Te}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Te){fe=Te}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(Te){we=Te}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Te){Te instanceof p&&(f=Te)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Te){f.path=Te}});var ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return ce},set:function(Te){ce=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var oe;oe=x(Te),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var oe=x(Te);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var Le=null,qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(Te){Le=null,qe=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var oe;if(this.ctx.font=Te,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var Lt=oe[1];oe[2];var lt=oe[3],ft=oe[4];oe[5];var be=oe[6],pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ft)[2];ft=Math.floor(pe==="px"?parseFloat(ft)*this.pdf.internal.scaleFactor:pe==="em"?parseFloat(ft)*this.pdf.getFontSize():parseFloat(ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ft);var Re=(function(yt){var pt,en,un=[],bt=yt.trim();if(bt==="")return s0;if(bt in Ay)return[Ay[bt]];for(;bt!=="";){switch(en=null,pt=(bt=Py(bt)).charAt(0)){case'"':case"'":en=tP(bt.substring(1),pt);break;default:en=nP(bt)}if(en===null||(un.push(en[0]),(bt=Py(en[1]))!==""&&bt.charAt(0)!==","))return s0;bt=bt.replace(/^,/,"")}return un})(be);if(this.fontFaces){var Ke=(function(yt,pt){if(Le===null){var en=(function(un){var bt=[];return Object.keys(un).forEach(function(qt){un[qt].forEach(function(gn){var It=null;switch(gn){case"bold":It={family:qt,weight:"bold"};break;case"italic":It={family:qt,style:"italic"};break;case"bolditalic":It={family:qt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:qt}}It!==null&&(It.ref={name:qt,style:gn},bt.push(It))})}),bt})(yt.getFontList());Le=(function(un){for(var bt={},qt=0;qt<un.length;++qt){var gn=i0(un[qt]),It=gn.family,Ht=gn.stretch,Tt=gn.style,Nn=gn.weight;bt[It]=bt[It]||{},bt[It][Ht]=bt[It][Ht]||{},bt[It][Ht][Tt]=bt[It][Ht][Tt]||{},bt[It][Ht][Tt][Nn]=gn}return bt})(en.concat(pt))}return Le})(this.pdf,this.fontFaces),Ze=Re.map(function(yt){return{family:yt,stretch:"normal",weight:lt,style:Lt}}),Mt=(function(yt,pt,en){for(var un=(en=en||{}).defaultFontFamily||"times",bt=Object.assign({},eP,en.genericFontFamilies||{}),qt=null,gn=null,It=0;It<pt.length;++It)if(bt[(qt=i0(pt[It])).family]&&(qt.family=bt[qt.family]),yt.hasOwnProperty(qt.family)){gn=yt[qt.family];break}if(!(gn=gn||yt[un]))throw new Error("Could not find a font-family for the rule '"+Ey(qt)+"' and default family '"+un+"'.");if(gn=(function(Ht,Tt){if(Tt[Ht])return Tt[Ht];var Nn=Y0[Ht],mn=Nn<=Y0.normal?-1:1,sn=Cy(Tt,wb,Nn,mn);if(!sn)throw new Error("Could not find a matching font-stretch value for "+Ht);return sn})(qt.stretch,gn),gn=(function(Ht,Tt){if(Tt[Ht])return Tt[Ht];for(var Nn=yb[Ht],mn=0;mn<Nn.length;++mn)if(Tt[Nn[mn]])return Tt[Nn[mn]];throw new Error("Could not find a matching font-style for "+Ht)})(qt.style,gn),!(gn=(function(Ht,Tt){if(Tt[Ht])return Tt[Ht];if(Ht===400&&Tt[500])return Tt[500];if(Ht===500&&Tt[400])return Tt[400];var Nn=ZE[Ht],mn=Cy(Tt,xb,Nn,Ht<400?-1:1);if(!mn)throw new Error("Could not find a matching font-weight for value "+Ht);return mn})(qt.weight,gn)))throw new Error("Failed to resolve a font for the rule '"+Ey(qt)+"'.");return gn})(Ke,Ze);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var ct="";(lt==="bold"||parseInt(lt,10)>=700||Lt==="bold")&&(ct="bold"),Lt==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var ht="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<Re.length;xt++){if(this.pdf.internal.getFont(Re[xt],ct,{noFallback:!0,disableWarning:!0})!==void 0){ht=Re[xt];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(Re[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Re[xt],ct="bold";else if(this.pdf.internal.getFont(Re[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Re[xt],ct="normal";break}}if(ht===""){for(var at=0;at<Re.length;at++)if(Bt[Re[at]]){ht=Bt[Re[at]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};v.prototype.setLineDash=function(R){this.lineDash=R},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){O.call(this,"fill",!1)},v.prototype.stroke=function(){O.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(R,z){if(isNaN(R)||isNaN(z))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new l(R,z));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new l(R,z)},v.prototype.closePath=function(){var R=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&zn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){R=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(R.x,R.y)},v.prototype.lineTo=function(R,z){if(isNaN(R)||isNaN(z))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new l(R,z));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new l(K.x,K.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},v.prototype.quadraticCurveTo=function(R,z,K,te){if(isNaN(K)||isNaN(te)||isNaN(R)||isNaN(z))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new l(K,te)),re=this.ctx.transform.applyToPoint(new l(R,z));this.path.push({type:"qct",x1:re.x,y1:re.y,x:me.x,y:me.y}),this.ctx.lastPoint=new l(me.x,me.y)},v.prototype.bezierCurveTo=function(R,z,K,te,me,re){if(isNaN(me)||isNaN(re)||isNaN(R)||isNaN(z)||isNaN(K)||isNaN(te))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var J=this.ctx.transform.applyToPoint(new l(me,re)),fe=this.ctx.transform.applyToPoint(new l(R,z)),we=this.ctx.transform.applyToPoint(new l(K,te));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:we.x,y2:we.y,x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},v.prototype.arc=function(R,z,K,te,me,re){if(isNaN(R)||isNaN(z)||isNaN(K)||isNaN(te)||isNaN(me))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var J=this.ctx.transform.applyToPoint(new l(R,z));R=J.x,z=J.y;var fe=this.ctx.transform.applyToPoint(new l(0,K)),we=this.ctx.transform.applyToPoint(new l(0,0));K=Math.sqrt(Math.pow(fe.x-we.x,2)+Math.pow(fe.y-we.y,2))}Math.abs(me-te)>=2*Math.PI&&(te=0,me=2*Math.PI),this.path.push({type:"arc",x:R,y:z,radius:K,startAngle:te,endAngle:me,counterclockwise:re})},v.prototype.arcTo=function(R,z,K,te,me){throw new Error("arcTo not implemented.")},v.prototype.rect=function(R,z,K,te){if(isNaN(R)||isNaN(z)||isNaN(K)||isNaN(te))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,z),this.lineTo(R+K,z),this.lineTo(R+K,z+te),this.lineTo(R,z+te),this.lineTo(R,z),this.lineTo(R+K,z),this.lineTo(R,z)},v.prototype.fillRect=function(R,z,K,te){if(isNaN(R)||isNaN(z)||isNaN(K)||isNaN(te))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,z,K,te),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},v.prototype.strokeRect=function(R,z,K,te){if(isNaN(R)||isNaN(z)||isNaN(K)||isNaN(te))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(R,z,K,te),this.stroke())},v.prototype.clearRect=function(R,z,K,te){if(isNaN(R)||isNaN(z)||isNaN(K)||isNaN(te))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,z,K,te))},v.prototype.save=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},v.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(z),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(R){var z,K,te,me;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))z=0,K=0,te=0,me=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(re!==null)z=parseInt(re[1]),K=parseInt(re[2]),te=parseInt(re[3]),me=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)z=parseInt(re[1]),K=parseInt(re[2]),te=parseInt(re[3]),me=parseFloat(re[4]);else{if(me=1,typeof R=="string"&&R.charAt(0)!=="#"){var J=new db(R);R=J.ok?J.toHex():"#000000"}R.length===4?(z=R.substring(1,2),z+=z,K=R.substring(2,3),K+=K,te=R.substring(3,4),te+=te):(z=R.substring(1,3),K=R.substring(3,5),te=R.substring(5,7)),z=parseInt(z,16),K=parseInt(K,16),te=parseInt(te,16)}}return{r:z,g:K,b:te,a:me,style:R}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(R,z,K,te){if(isNaN(z)||isNaN(K)||typeof R!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!y.call(this)){var me=W(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;D.call(this,{text:R,x:z,y:K,scale:re,angle:me,align:this.textAlign,maxWidth:te})}},v.prototype.strokeText=function(R,z,K,te){if(isNaN(z)||isNaN(K)||typeof R!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){te=isNaN(te)?void 0:te;var me=W(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;D.call(this,{text:R,x:z,y:K,scale:re,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:te})}},v.prototype.measureText=function(R){if(typeof R!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,K=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),me=z.getStringUnitWidth(R)*te/z.internal.scaleFactor;return new function(re){var J=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this}({width:me*=Math.round(96*K/72*1e4)/1e4})},v.prototype.scale=function(R,z){if(isNaN(R)||isNaN(z))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new d(R,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.rotate=function(R){if(isNaN(R))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new d(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},v.prototype.translate=function(R,z){if(isNaN(R)||isNaN(z))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new d(1,0,0,1,R,z);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.transform=function(R,z,K,te,me,re){if(isNaN(R)||isNaN(z)||isNaN(K)||isNaN(te)||isNaN(me)||isNaN(re))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var J=new d(R,z,K,te,me,re);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.setTransform=function(R,z,K,te,me,re){R=isNaN(R)?1:R,z=isNaN(z)?0:z,K=isNaN(K)?0:K,te=isNaN(te)?1:te,me=isNaN(me)?0:me,re=isNaN(re)?0:re,this.ctx.transform=new d(R,z,K,te,me,re)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(R,z,K,te,me,re,J,fe,we){var ce=this.pdf.getImageProperties(R),Le=1,qe=1,Te=1,oe=1;te!==void 0&&fe!==void 0&&(Te=fe/te,oe=we/me,Le=ce.width/te*fe/te,qe=ce.height/me*we/me),re===void 0&&(re=z,J=K,z=0,K=0),te!==void 0&&fe===void 0&&(fe=te,we=me),te===void 0&&fe===void 0&&(fe=ce.width,we=ce.height);for(var Lt,lt=this.ctx.transform.decompose(),ft=W(lt.rotate.shx),be=new d,pe=(be=(be=(be=be.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new c(re-z*Te,J-K*oe,te*Le,me*qe)),Re=k.call(this,pe),Ke=[],Ze=0;Ze<Re.length;Ze+=1)Ke.indexOf(Re[Ze])===-1&&Ke.push(Re[Ze]);if(L(Ke),this.autoPaging)for(var Mt=Ke[0],ct=Ke[Ke.length-1],ht=Mt;ht<ct+1;ht++){this.pdf.setPage(ht);var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ht===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=ht===1?0:at+(ht-2)*yt;if(this.ctx.clip_path.length!==0){var en=this.path;Lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Lt,this.posX+this.margin[3],-pt+xt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=en}var un=JSON.parse(JSON.stringify(pe));un=T([un],this.posX+this.margin[3],-pt+xt+this.ctx.prevPageLastElemOffset)[0];var bt=(ht>Mt||ht<ct)&&_.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,yt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",un.x,un.y,un.w,un.h,null,null,ft),bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,ft)};var k=function(R,z,K){var te=[];z=z||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":te.push(Math.floor((R.y+me)/K)+1);break;case"arc":te.push(Math.floor((R.y+me-R.radius)/K)+1),te.push(Math.floor((R.y+me+R.radius)/K)+1);break;case"qct":var re=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);te.push(Math.floor((re.y+me)/K)+1),te.push(Math.floor((re.y+re.h+me)/K)+1);break;case"bct":var J=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);te.push(Math.floor((J.y+me)/K)+1),te.push(Math.floor((J.y+J.h+me)/K)+1);break;case"rect":te.push(Math.floor((R.y+me)/K)+1),te.push(Math.floor((R.y+R.h+me)/K)+1)}for(var fe=0;fe<te.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<te[fe];)j.call(this);return te},j=function(){var R=this.fillStyle,z=this.strokeStyle,K=this.font,te=this.lineCap,me=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=z,this.font=K,this.lineCap=te,this.lineWidth=me,this.lineJoin=re},T=function(R,z,K){for(var te=0;te<R.length;te++)switch(R[te].type){case"bct":R[te].x2+=z,R[te].y2+=K;case"qct":R[te].x1+=z,R[te].y1+=K;default:R[te].x+=z,R[te].y+=K}return R},L=function(R){return R.sort(function(z,K){return z-K})},O=function(R,z){for(var K,te,me=this.fillStyle,re=this.strokeStyle,J=this.lineCap,fe=this.lineWidth,we=Math.abs(fe*this.ctx.transform.scaleX),ce=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),Te=[],oe=0;oe<qe.length;oe++)if(qe[oe].x!==void 0)for(var Lt=k.call(this,qe[oe]),lt=0;lt<Lt.length;lt+=1)Te.indexOf(Lt[lt])===-1&&Te.push(Lt[lt]);for(var ft=0;ft<Te.length;ft++)for(;this.pdf.internal.getNumberOfPages()<Te[ft];)j.call(this);if(L(Te),this.autoPaging)for(var be=Te[0],pe=Te[Te.length-1],Re=be;Re<pe+1;Re++){this.pdf.setPage(Re),this.fillStyle=me,this.strokeStyle=re,this.lineCap=J,this.lineWidth=we,this.lineJoin=ce;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Re===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Re===1?0:Mt+(Re-2)*ct;if(this.ctx.clip_path.length!==0){var Bt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(K,this.posX+this.margin[3],-ht+Ze+this.ctx.prevPageLastElemOffset),X.call(this,R,!0),this.path=Bt}if(te=JSON.parse(JSON.stringify(Le)),this.path=T(te,this.posX+this.margin[3],-ht+Ze+this.ctx.prevPageLastElemOffset),z===!1||Re===0){var xt=(Re>be||Re<pe)&&_.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,ct,null).clip().discardPath()),X.call(this,R,z),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=we,X.call(this,R,z),this.lineWidth=fe;this.path=Le},X=function(R,z){if((R!=="stroke"||z||!N.call(this))&&(R==="stroke"||z||!y.call(this))){for(var K,te,me=[],re=this.path,J=0;J<re.length;J++){var fe=re[J];switch(fe.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:fe,deltas:[],abs:[]});break;case"lt":var we=me.length;if(re[J-1]&&!isNaN(re[J-1].x)&&(K=[fe.x-re[J-1].x,fe.y-re[J-1].y],we>0)){for(;we>=0;we--)if(me[we-1].close!==!0&&me[we-1].begin!==!0){me[we-1].deltas.push(K),me[we-1].abs.push(fe);break}}break;case"bct":K=[fe.x1-re[J-1].x,fe.y1-re[J-1].y,fe.x2-re[J-1].x,fe.y2-re[J-1].y,fe.x-re[J-1].x,fe.y-re[J-1].y],me[me.length-1].deltas.push(K);break;case"qct":var ce=re[J-1].x+2/3*(fe.x1-re[J-1].x),Le=re[J-1].y+2/3*(fe.y1-re[J-1].y),qe=fe.x+2/3*(fe.x1-fe.x),Te=fe.y+2/3*(fe.y1-fe.y),oe=fe.x,Lt=fe.y;K=[ce-re[J-1].x,Le-re[J-1].y,qe-re[J-1].x,Te-re[J-1].y,oe-re[J-1].x,Lt-re[J-1].y],me[me.length-1].deltas.push(K);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(fe)}}te=z?null:R==="stroke"?"stroke":"fill";for(var lt=!1,ft=0;ft<me.length;ft++)if(me[ft].arc)for(var be=me[ft].abs,pe=0;pe<be.length;pe++){var Re=be[pe];Re.type==="arc"?$.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,z,!lt):q.call(this,Re.x,Re.y),lt=!0}else if(me[ft].close===!0)this.pdf.internal.out("h"),lt=!1;else if(me[ft].begin!==!0){var Ke=me[ft].start.x,Ze=me[ft].start.y;V.call(this,me[ft].deltas,Ke,Ze),lt=!0}te&&F.call(this,te),z&&ae.call(this)}},ne=function(R){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-K;case"top":return R+z-K;case"hanging":return R+z-2*K;case"middle":return R+z/2-K;default:return R}},ee=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(z,K){this.colorStops.push([z,K])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(R,z,K,te,me,re,J,fe,we){for(var ce=de.call(this,K,te,me,re),Le=0;Le<ce.length;Le++){var qe=ce[Le];Le===0&&(we?P.call(this,qe.x1+R,qe.y1+z):q.call(this,qe.x1+R,qe.y1+z)),ue.call(this,R,z,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}fe?ae.call(this):F.call(this,J)},F=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(R,z){this.pdf.internal.out(t(R)+" "+r(z)+" m")},D=function(R){var z;switch(R.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var K=this.pdf.getTextDimensions(R.text),te=ne.call(this,R.y),me=ee.call(this,te)-K.h,re=this.ctx.transform.applyToPoint(new l(R.x,te)),J=this.ctx.transform.decompose(),fe=new d;fe=(fe=(fe=fe.multiply(J.translate)).multiply(J.skew)).multiply(J.scale);for(var we,ce,Le,qe=this.ctx.transform.applyToRectangle(new c(R.x,te,K.w,K.h)),Te=fe.applyToRectangle(new c(R.x,me,K.w,K.h)),oe=k.call(this,Te),Lt=[],lt=0;lt<oe.length;lt+=1)Lt.indexOf(oe[lt])===-1&&Lt.push(oe[lt]);if(L(Lt),this.autoPaging)for(var ft=Lt[0],be=Lt[Lt.length-1],pe=ft;pe<be+1;pe++){this.pdf.setPage(pe);var Re=pe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],Mt=Ze-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],ht=ct-this.margin[3],Bt=pe===1?0:Ke+(pe-2)*Mt;if(this.ctx.clip_path.length!==0){var xt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(we,this.posX+this.margin[3],-1*Bt+Re),X.call(this,"fill",!0),this.path=xt}var at=T([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Bt+Re+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*R.scale),Le=this.lineWidth,this.lineWidth=Le*R.scale);var yt=this.autoPaging!=="text";if(yt||at.y+at.h<=Ze){if(yt||at.y>=Re&&at.x<=ct){var pt=yt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||ct-at.x)[0],en=T([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Bt+Re+this.ctx.prevPageLastElemOffset)[0],un=yt&&(pe>ft||pe<be)&&_.call(this);un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Mt,null).clip().discardPath()),this.pdf.text(pt,en.x,en.y,{angle:R.angle,align:z,renderingMode:R.renderingMode}),un&&this.pdf.restoreGraphicsState()}}else at.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-at.y);R.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=Le)}else R.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*R.scale),Le=this.lineWidth,this.lineWidth=Le*R.scale),this.pdf.text(R.text,re.x+this.posX,re.y+this.posY,{angle:R.angle,align:z,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=Le)},q=function(R,z,K,te){K=K||0,te=te||0,this.pdf.internal.out(t(R+K)+" "+r(z+te)+" l")},V=function(R,z,K){return this.pdf.lines(R,z,K,null,null)},ue=function(R,z,K,te,me,re,J,fe){this.pdf.internal.out([e(i(K+R)),e(a(te+z)),e(i(me+R)),e(a(re+z)),e(i(J+R)),e(a(fe+z)),"c"].join(" "))},de=function(R,z,K,te){for(var me=2*Math.PI,re=Math.PI/2;z>K;)z-=me;var J=Math.abs(K-z);J<me&&te&&(J=me-J);for(var fe=[],we=te?-1:1,ce=z;J>1e-5;){var Le=ce+we*Math.min(J,re);fe.push(he.call(this,R,ce,Le)),J-=Math.abs(Le-ce),ce=Le}return fe},he=function(R,z,K){var te=(K-z)/2,me=R*Math.cos(te),re=R*Math.sin(te),J=me,fe=-re,we=J*J+fe*fe,ce=we+J*me+fe*re,Le=4/3*(Math.sqrt(2*we*ce)-ce)/(J*re-fe*me),qe=J-Le*fe,Te=fe+Le*J,oe=qe,Lt=-Te,lt=te+z,ft=Math.cos(lt),be=Math.sin(lt);return{x1:R*Math.cos(z),y1:R*Math.sin(z),x2:qe*ft-Te*be,y2:qe*be+Te*ft,x3:oe*ft-Lt*be,y3:oe*be+Lt*ft,x4:R*Math.cos(K),y4:R*Math.sin(K)}},W=function(R){return 180*R/Math.PI},ye=function(R,z,K,te,me,re){var J=R+.5*(K-R),fe=z+.5*(te-z),we=me+.5*(K-me),ce=re+.5*(te-re),Le=Math.min(R,me,J,we),qe=Math.max(R,me,J,we),Te=Math.min(z,re,fe,ce),oe=Math.max(z,re,fe,ce);return new c(Le,Te,qe-Le,oe-Te)},Se=function(R,z,K,te,me,re,J,fe){var we,ce,Le,qe,Te,oe,Lt,lt,ft,be,pe,Re,Ke,Ze,Mt=K-R,ct=te-z,ht=me-K,Bt=re-te,xt=J-me,at=fe-re;for(ce=0;ce<41;ce++)ft=(Lt=(Le=R+(we=ce/40)*Mt)+we*((Te=K+we*ht)-Le))+we*(Te+we*(me+we*xt-Te)-Lt),be=(lt=(qe=z+we*ct)+we*((oe=te+we*Bt)-qe))+we*(oe+we*(re+we*at-oe)-lt),ce==0?(pe=ft,Re=be,Ke=ft,Ze=be):(pe=Math.min(pe,ft),Re=Math.min(Re,be),Ke=Math.max(Ke,ft),Ze=Math.max(Ze,be));return new c(Math.round(pe),Math.round(Re),Math.round(Ke-pe),Math.round(Ze-Re))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,z,K=(R=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:z}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Ot.API),(function(n){var e=function(l){var c,d,f,p,v,x,y,N,_,k;for(d=[],f=0,p=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(v=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(x=(v=((v=((v=((v=(v-(k=v%85))/85)-(_=v%85))/85)-(N=v%85))/85)-(y=v%85))/85)%85,d.push(x+33,y+33,N+33,_+33,k+33)):d.push(122);return(function(j,T){for(var L=T;L>0;L--)j.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},t=function(l){var c,d,f,p,v,x=String,y="length",N=255,_="charCodeAt",k="slice",j="replace";for(l[k](-2),l=l[k](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),f=[],p=0,v=(l+=c="uuuuu"[k](l[y]%5||5))[y];v>p;p+=5)d=52200625*(l[_](p)-33)+614125*(l[_](p+1)-33)+7225*(l[_](p+2)-33)+85*(l[_](p+3)-33)+(l[_](p+4)-33),f.push(N&d>>24,N&d>>16,N&d>>8,N&d);return(function(T,L){for(var O=L;O>0;O--)T.pop()})(f,c[y]),x.fromCharCode.apply(x,f)},r=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",f=0;f<l.length;f+=2)d+=String.fromCharCode("0x"+(l[f]+l[f+1]));return d},a=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=$0(c)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};n.processDataByFilters=function(l,c){var d=0,f=l||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(Ot.API),(function(n){n.loadFile=function(e,t,r){return(function(i,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(d,f,p){var v=new XMLHttpRequest,x=0,y=function(N){var _=N.length,k=[],j=String.fromCharCode;for(x=0;x<_;x+=1)k.push(j(255&N.charCodeAt(x)));return k.join("")};if(v.open("GET",d,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(y(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return y(v.responseText)})(i,a,l)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(Ot.API),(function(n){function e(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):fl(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):fl(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var d=zn(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(c,d){var f=document.createElement(c);for(var p in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[p]=d.style[p];return f},a=function c(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(c(v,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},l=function c(d){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),f);return(p=p.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var N=p[y],_=N.src.find(function(k){return k.format==="truetype"});_&&f.addFont(_.url,N.ref.name,N.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var d=Object.keys(c||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var f=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(f):f})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(c=c||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,f,p){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,f,p){return this.setProgress(c?this.progress.val+c:null,d||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(c,d){var f=this;return this.thenCore(c,d,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,p),x}).then(p,v).then(function(x){return f.updateProgress(1),x})})},l.prototype.thenCore=function(c,d,f){f=f||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),d&&(d=d.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),x=f.call(v,c,d);return l.convert(x,p.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(f){d=d.thenCore(f)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ot.getPageSize=function(c,d,f){if(zn(c)==="object"){var p=c;c=p.orientation,d=p.unit||d,f=p.format||f}d=d||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var v,x=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+d}var N,_=0,k=0;if(y.hasOwnProperty(x))_=y[x][1]/v,k=y[x][0]/v;else try{_=f[1],k=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",k>_&&(N=k,k=_,_=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",_>k&&(N=k,k=_,_=N)}return{width:k,height:_,unit:d,k:v,orientation:c}},n.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(i0):null;var f=new l(d);return d.worker?f:f.from(c).doCallback()}})(Ot.API),Ot.API.addJS=function(n){return Ty=n,this.internal.events.subscribe("postPutResources",function(){vf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ly=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ty+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vf!==void 0&&Ly!==void 0&&this.internal.out("/Names <</JavaScript "+vf+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var l=i[a],c=r.exec(l);if(c!=null){var d=c[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=t.internal.newObject();p.push(v);var x=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<p.length;a++)t.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var l={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Ot.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,l,c){var d,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(v){for(var x,y=256*v.charCodeAt(4)+v.charCodeAt(5),N=v.length,_={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=y,e.indexOf(v.charCodeAt(k+1))!==-1){x=256*v.charCodeAt(k+5)+v.charCodeAt(k+6),_={width:256*v.charCodeAt(k+7)+v.charCodeAt(k+8),height:x,numcomponents:v.charCodeAt(k+9)};break}y=256*v.charCodeAt(k+2)+v.charCodeAt(k+3)}return _})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}})(Ot.API),Ot.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,a=BE(n,{checkCrc:!0}),l=a.width,c=a.height,d=a.channels,f=a.palette,p=a.depth;i=f&&d===1?(function($){for(var F=$.width,ae=$.height,P=$.data,D=$.palette,q=$.depth,V=!1,ue=[],de=[],he=void 0,W=!1,ye=0,Se=0;Se<D.length;Se++){var Y=D2(D[Se],4),R=Y[0],z=Y[1],K=Y[2],te=Y[3];ue.push(R,z,K),te!=null&&(te===0?(ye++,de.length<1&&de.push(Se)):te<255&&(W=!0))}if(W||ye>1){V=!0,de=void 0;var me=F*ae;he=new Uint8Array(me);for(var re=new DataView(P.buffer),J=0;J<me;J++){var fe=a0(re,J,q),we=D2(D[fe],4)[3];he[J]=we}}else ye===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:P,alphaBytes:he,needSMask:V,palette:ue,mask:de}})(a):d===2||d===4?(function($){for(var F=$.data,ae=$.width,P=$.height,D=$.channels,q=$.depth,V=D===2?"DeviceGray":"DeviceRGB",ue=D-1,de=ae*P,he=ue,W=de*he,ye=1*de,Se=Math.ceil(W*q/8),Y=Math.ceil(ye*q/8),R=new Uint8Array(Se),z=new Uint8Array(Y),K=new DataView(F.buffer),te=new DataView(R.buffer),me=new DataView(z.buffer),re=!1,J=0;J<de;J++){for(var fe=J*D,we=0;we<he;we++)Uy(te,a0(K,fe+we,q),J*he+we,q);var ce=a0(K,fe+he,q);ce<(1<<q)-1&&(re=!0),Uy(me,ce,1*J,q)}return{colorSpace:V,colorsPerPixel:ue,sMaskBitsPerComponent:re?q:void 0,colorBytes:R,alphaBytes:z,needSMask:re}})(a):(function($){var F=$.data,ae=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ae,colorsPerPixel:ae==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(P){for(var D=P.length,q=new Uint8Array(2*D),V=new DataView(q.buffer,q.byteOffset,q.byteLength),ue=0;ue<D;ue++)V.setUint16(2*ue,P[ue],!1);return q})(F):F,needSMask:!1}})(a);var v,x,y,N=i,_=N.colorSpace,k=N.colorsPerPixel,j=N.sMaskBitsPerComponent,T=N.colorBytes,L=N.alphaBytes,O=N.needSMask,X=N.palette,ne=N.mask,ee=null;return r!==Ot.API.image_compression.NONE&&typeof $0=="function"?(ee=(function($){var F;switch($){case Ot.API.image_compression.FAST:F=11;break;case Ot.API.image_compression.MEDIUM:F=13;break;case Ot.API.image_compression.SLOW:F=14;break;default:F=12}return F})(r),v=this.decode.FLATE_DECODE,x="/Predictor ".concat(ee," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(l),n=Dy(T,Math.ceil(l*k*p/8),k,p,r),O&&(y=Dy(L,Math.ceil(l*j/8),1,j,r))):(v=void 0,x=void 0,n=T,O&&(y=L)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:n,index:e,filter:v,decodeParameters:x,transparency:ne,palette:X,sMask:y,predictor:ee,width:l,height:c,bitsPerComponent:p,sMaskBitsPerComponent:j,colorSpace:_}}},(function(n){n.processGIF89A=function(e,t,r,i){var a=new aP(e),l=a.width,c=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:l,height:c},p=new o0(100).encode(f,100);return n.processJPEG.call(this,p,t,r,i)},n.processGIF87A=n.processGIF89A})(Ot.API),Ba.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ba.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Kn.log("bit decode error:"+t)}},Ba.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var d=this.palette[a>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ba.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=a>>4,d=15&a,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[d],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Ba.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Ba.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,d=(a>>10&e)/e*255|0,f=a>>15?255:0,p=r*this.width*4+4*i;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=f}this.pos+=n}},Ba.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&t)/t*255|0,f=(l>>11)/e*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},Ba.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Ba.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},Ba.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var a=new Ba(e,!1),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},f=new o0(100).encode(d,100);return n.processJPEG.call(this,f,t,r,i)}})(Ot.API),qy.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var a=new qy(e),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},f=new o0(100).encode(d,100);return n.processJPEG.call(this,f,t,r,i)}})(Ot.API),Ot.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,d=0,f=0;f<i;f+=4){var p=r[f],v=r[f+1],x=r[f+2],y=r[f+3];a[c++]=p,a[c++]=v,a[c++]=x,l[d++]=y}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ot.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zu=Ot.API,yf=zu.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,d=c.fof?c.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,x=0,y=n.length,N=0,_=c[0]||d,k=[];for(t=0;t<y;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(x=v&&zn(f[r])==="object"&&!isNaN(parseInt(f[r][N],10))?f[r][N]/p:0,k.push((c[r]||_)/d+x)),N=r;return k},Ry=zu.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zu.processArabic&&(n=zu.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:yf.apply(this,arguments).reduce(function(a,l){return a+l},0)},Oy=function(n,e,t,r){for(var i=[],a=0,l=n.length,c=0;a!==l&&c+e[a]<t;)c+=e[a],a++;i.push(n.slice(0,a));var d=a;for(c=0;a!==l;)c+e[a]>r&&(i.push(n.slice(d,a)),c=0,d=a),c+=e[a],a++;return d!==a&&i.push(n.slice(d,a)),i},Iy=function(n,e,t){t||(t={});var r,i,a,l,c,d,f,p=[],v=[p],x=t.textIndent||0,y=0,N=0,_=n.split(" "),k=yf.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var j=Array(d).join(" "),T=[];_.map(function(O){(O=O.split(/\s*\n/)).length>1?T=T.concat(O.map(function(X,ne){return(ne&&X.length?`
`:"")+X})):T.push(O[0])}),_=T,d=Ry.apply(this,[j,t])}for(a=0,l=_.length;a<l;a++){var L=0;if(r=_[a],d&&r[0]==`
`&&(r=r.substr(1),L=1),x+y+(N=(i=yf.apply(this,[r,t])).reduce(function(O,X){return O+X},0))>e||L){if(N>e){for(c=Oy.apply(this,[r,i,e-(x+y),e]),p.push(c.shift()),p=[c.pop()];c.length;)v.push([c.shift()]);N=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(O,X){return O+X},0)}else p=[r];v.push(p),x=N+d,y=k}else p.push(r),x+=y+N,y=k}return f=d?function(O,X){return(X?j:"")+O.join(" ")}:function(O){return O.join(" ")},v.map(f)},zu.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),x="Unicode";return v.metadata[x]?{widths:v.metadata[x].widths||{0:1},kerning:v.metadata[x].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var c,d,f=[];for(c=0,d=r.length;c<d;c++)f=f.concat(Iy.apply(this,[r[c],l,a]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[t[a]]=e[a],i[e[a]]=t[a];var l=function(x){return"0x"+parseInt(x,10).toString(16)},c=n.__fontmetrics__.compress=function(x){var y,N,_,k,j=["{"];for(var T in x){if(y=x[T],isNaN(parseInt(T,10))?N="'"+T+"'":(T=parseInt(T,10),N=(N=l(T).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof y=="number")y<0?(_=l(y).slice(3),k="-"):(_=l(y).slice(2),k=""),_=k+_.slice(0,-1)+i[_.slice(-1)];else{if(zn(y)!=="object")throw new Error("Don't know what to do with value type "+zn(y)+".");_=c(y)}j.push(N+_)}return j.push("}"),j.join("")},d=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,N,_,k,j={},T=1,L=j,O=[],X="",ne="",ee=x.length-1,$=1;$<ee;$+=1)(k=x[$])=="'"?y?(_=y.join(""),y=void 0):y=[]:y?y.push(k):k=="{"?(O.push([L,_]),L={},_=void 0):k=="}"?((N=O.pop())[0][N[1]]=L,_=void 0,L=N[0]):k=="-"?T=-1:_===void 0?r.hasOwnProperty(k)?(X+=r[k],_=parseInt(X,16)*T,T=1,X=""):X+=k:r.hasOwnProperty(k)?(ne+=r[k],L[_]=parseInt(ne,16)*T,T=1,_=void 0,ne=""):ne+=k;return j},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var y=x.font,N=v.Unicode[y.postScriptName];N&&(y.metadata.Unicode={},y.metadata.Unicode.widths=N.widths,y.metadata.Unicode.kerning=N.kerning);var _=p.Unicode[y.postScriptName];_&&(y.metadata.Unicode.encoding=_,y.encoding=_.codePages[0])}])})(Ot.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Nf(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(Ot),Ot.API.addSvgAsImage=function(n,e,t,r,i,a,l,c){if(isNaN(e)||isNaN(t))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Kt.canvg?Promise.resolve(Kt.canvg):fl(()=>import("./index.es-NfDNX9zi.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(p)}).then(function(){v.addImage(d.toDataURL("image/jpeg",1),e,t,r,i,l,c)})},Ot.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ot.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],f=0,p=0,v=0;function x(N,_){var k,j=!1;for(k=0;k<N.length;k+=1)N[k]===_&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=c.length;for(v=0;v<y;v+=1)t[c[v]].value=t[c[v]].defaultValue,t[c[v]].explicitSet=!1}if(zn(n)==="object"){for(i in n)if(a=n[i],x(c,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&x(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")d.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(r=!1);r===!0&&d.push([a[f][0]-1,a[f][1]-1].join(" "))}t[i].value="["+d.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,_=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?_.push("/"+N+" /"+t[N].value):_.push("/"+N+" "+t[N].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+c.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ot.API),(function(n){var e=n.API,t=e.pdfEscape16=function(a,l){for(var c,d=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,x=a.length;v<x;++v){if(c=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(v),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},r=function(a){var l,c,d,f,p,v,x;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],v=0,x=(c=Object.keys(a).sort(function(y,N){return y-N})).length;v<x;v++)l=c[v],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+f+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",N=0;N<x.length;N++)y+=String.fromCharCode(x[N]);var _=f();p({data:y,addLength1:!0,objectId:_}),d("endobj");var k=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var j=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Hu(c.fontName)),d("/FontFile2 "+_+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var T=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Hu(c.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+n.API.PDFObject.convert(v)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+k+" 0 R"),d("/BaseFont /"+Hu(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+T+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,x="",y=0;y<v.length;y++)x+=String.fromCharCode(v[y]);var N=f();p({data:x,addLength1:!0,objectId:N}),d("endobj");var _=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var k=f();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+N+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Hu(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=f();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Hu(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var l,c=a.text||"",d=a.x,f=a.y,p=a.options||{},v=a.mutex||{},x=v.pdfEscape,y=v.activeFontKey,N=v.fonts,_=y,k="",j=0,T="",L=N[_].encoding;if(N[_].encoding!=="Identity-H")return{text:c,x:d,y:f,options:p,mutex:v};for(T=c,_=y,Array.isArray(c)&&(T=c[0]),j=0;j<T.length;j+=1)N[_].metadata.hasOwnProperty("cmap")&&(l=N[_].metadata.cmap.unicode.codeMap[T[j].charCodeAt(0)]),l||T[j].charCodeAt(0)<256&&N[_].metadata.hasOwnProperty("Unicode")?k+=T[j]:k+="";var O="";return parseInt(_.slice(1))<14||L==="WinAnsiEncoding"?O=x(k,_).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(O=t(k,N[_])),v.isHex=!0,{text:O,x:d,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],d={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([i(Object.assign({},d,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(i(Object.assign({},d,{text:l[f]})).text);a.text=c}else a.text=i(Object.assign({},d,{text:l})).text}])})(Ot),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ot.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,l,c,d,f,p,v=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,L=0;this.__bidiEngine__={};var O=function(P){var D=P.charCodeAt(),q=D>>8,V=_[q];return V!==void 0?v[256*V+(255&D)]:q===252||q===253?"AL":j.test(q)?"L":q===8?"R":"N"},X=function(P){for(var D,q=0;q<P.length;q++){if((D=O(P.charAt(q)))==="L")return!1;if(D==="R")return!0}return!1},ne=function(P,D,q,V){var ue,de,he,W,ye=D[V];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(ye="AN");break;case"AL":T=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":V<1||V+1>=D.length||(ue=q[V-1])!=="EN"&&ue!=="AN"||(de=D[V+1])!=="EN"&&de!=="AN"?ye="N":T&&(de="AN"),ye=de===ue?de:"N";break;case"ES":ye=(ue=V>0?q[V-1]:"B")==="EN"&&V+1<D.length&&D[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&q[V-1]==="EN"){ye="EN";break}if(T){ye="N";break}for(he=V+1,W=D.length;he<W&&D[he]==="ET";)he++;ye=he<W&&D[he]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(W=D.length,he=V+1;he<W&&D[he]==="NSM";)he++;if(he<W){var Se=P[V],Y=Se>=1425&&Se<=2303||Se===64286;if(ue=D[he],Y&&(ue==="R"||ue==="AL")){ye="R";break}}}ye=V<1||(ue=D[V-1])==="B"?"N":q[V-1];break;case"B":T=!1,i=!0,ye=L;break;case"S":a=!0,ye="N"}return ye},ee=function(P,D,q){var V=P.split("");return q&&$(V,q,{hiLevel:L}),V.reverse(),D&&D.reverse(),V.join("")},$=function(P,D,q){var V,ue,de,he,W,ye=-1,Se=P.length,Y=0,R=[],z=L?y:x,K=[];for(T=!1,i=!1,a=!1,ue=0;ue<Se;ue++)K[ue]=O(P[ue]);for(de=0;de<Se;de++){if(W=Y,R[de]=ne(P,K,R,de),V=240&(Y=z[W][N[R[de]]]),Y&=15,D[de]=he=z[Y][5],V>0)if(V===16){for(ue=ye;ue<de;ue++)D[ue]=1;ye=-1}else ye=-1;if(z[Y][6])ye===-1&&(ye=de);else if(ye>-1){for(ue=ye;ue<de;ue++)D[ue]=he;ye=-1}K[de]==="B"&&(D[de]=0),q.hiLevel|=he}a&&(function(te,me,re){for(var J=0;J<re;J++)if(te[J]==="S"){me[J]=L;for(var fe=J-1;fe>=0&&te[fe]==="WS";fe--)me[fe]=L}})(K,D,Se)},F=function(P,D,q,V,ue){if(!(ue.hiLevel<P)){if(P===1&&L===1&&!i)return D.reverse(),void(q&&q.reverse());for(var de,he,W,ye,Se=D.length,Y=0;Y<Se;){if(V[Y]>=P){for(W=Y+1;W<Se&&V[W]>=P;)W++;for(ye=Y,he=W-1;ye<he;ye++,he--)de=D[ye],D[ye]=D[he],D[he]=de,q&&(de=q[ye],q[ye]=q[he],q[he]=de);Y=W}Y++}}},ae=function(P,D,q){var V=P.split(""),ue={hiLevel:L};return q||(q=[]),$(V,q,ue),(function(de,he,W){if(W.hiLevel!==0&&p)for(var ye,Se=0;Se<de.length;Se++)he[Se]===1&&(ye=k.indexOf(de[Se]))>=0&&(de[Se]=k[ye+1])})(V,q,ue),F(2,V,D,q,ue),F(1,V,D,q,ue),V.join("")};return this.__bidiEngine__.doBidiReorder=function(P,D,q){if((function(ue,de){if(de)for(var he=0;he<ue.length;he++)de[he]=he;c===void 0&&(c=X(ue)),f===void 0&&(f=X(ue))})(P,D),l||!d||f)if(l&&d&&c^f)L=c?1:0,P=ee(P,D,q);else if(!l&&d&&f)L=c?1:0,P=ae(P,D,q),P=ee(P,D);else if(!l||c||d||f){if(l&&!d&&c^f)P=ee(P,D),c?(L=0,P=ae(P,D,q)):(L=1,P=ae(P,D,q),P=ee(P,D));else if(l&&c&&!d&&f)L=1,P=ae(P,D,q),P=ee(P,D);else if(!l&&!d&&c^f){var V=p;c?(L=1,P=ae(P,D,q),L=0,p=!1,P=ae(P,D,q),p=V):(L=0,P=ae(P,D,q),P=ee(P,D),L=1,p=!1,P=ae(P,D,q),p=V,P=ee(P,D))}}else L=0,P=ae(P,D,q);else L=c?1:0,P=ae(P,D,q);return P},this.__bidiEngine__.setOptions=function(P){P&&(l=P.isInputVisual,d=P.isOutputVisual,c=P.isInputRtl,f=P.isOutputRtl,p=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([t.doBidiReorder(i[c])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Ot),Ot.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new tc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new bP(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new oP(this.contents),this.head=new cP(this),this.name=new pP(this),this.cmap=new Sb(this),this.toUnicode={},this.hhea=new uP(this),this.maxp=new gP(this),this.hmtx=new mP(this),this.post=new hP(this),this.os2=new dP(this),this.loca=new xP(this),this.glyf=new vP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var l,c,d,f;for(f=[],l=0,c=(d=this.bbox).length;l<c;l++)e=d[l],f.push(Math.round(e*this.scaleFactor));return f}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Ya,tc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,l,c,d;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*l+256*c+d},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n})(),oP=(function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,l,c,d,f,p,v,x,y,N,_;for(_ in y=Object.keys(t).length,d=Math.log(2),v=16*Math.floor(Math.log(y)/d),l=Math.floor(v/d),p=16*y-v,(i=new tc).writeInt(this.scalarType),i.writeShort(y),i.writeShort(v),i.writeShort(l),i.writeShort(p),a=16*y,f=i.pos+a,c=null,N=[],t)for(x=t[_],i.writeString(_),i.writeInt(n(x)),i.writeInt(f),i.writeInt(x.length),N=N.concat(x),_==="head"&&(c=f),f+=x.length;f%4;)N.push(0),f++;return i.write(N),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,l;for(t=_b.call(t);t.length%4;)t.push(0);for(a=new tc(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),lP={}.hasOwnProperty,Eo=function(n,e){for(var t in e)lP.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ya=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var cP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new tc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Hy=(function(){function n(e,t){var r,i,a,l,c,d,f,p,v,x,y,N,_,k,j,T,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(y=e.readUInt16(),x=y/2,e.pos+=6,a=(function(){var O,X;for(X=[],d=O=0;0<=x?O<x:O>x;d=0<=x?++O:--O)X.push(e.readUInt16());return X})(),e.pos+=2,_=(function(){var O,X;for(X=[],d=O=0;0<=x?O<x:O>x;d=0<=x?++O:--O)X.push(e.readUInt16());return X})(),f=(function(){var O,X;for(X=[],d=O=0;0<=x?O<x:O>x;d=0<=x?++O:--O)X.push(e.readUInt16());return X})(),p=(function(){var O,X;for(X=[],d=O=0;0<=x?O<x:O>x;d=0<=x?++O:--O)X.push(e.readUInt16());return X})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var O,X;for(X=[],d=O=0;0<=i?O<i:O>i;d=0<=i?++O:--O)X.push(e.readUInt16());return X})(),d=j=0,L=a.length;j<L;d=++j)for(k=a[d],r=T=N=_[d];N<=k?T<=k:T>=k;r=N<=k?++T:--T)p[d]===0?l=r+f[d]:(l=c[p[d]/2+(r-N)-(x-d)]||0)!==0&&(l+=f[d]),this.codeMap[r]=65535&l}e.pos=v}return n.encode=function(e,t){var r,i,a,l,c,d,f,p,v,x,y,N,_,k,j,T,L,O,X,ne,ee,$,F,ae,P,D,q,V,ue,de,he,W,ye,Se,Y,R,z,K,te,me,re,J,fe,we,ce,Le;switch(V=new tc,l=Object.keys(e).sort(function(qe,Te){return qe-Te}),t){case"macroman":for(_=0,k=(function(){var qe=[];for(N=0;N<256;++N)qe.push(0);return qe})(),T={0:0},a={},ue=0,ye=l.length;ue<ye;ue++)T[fe=e[i=l[ue]]]==null&&(T[fe]=++_),a[i]={old:e[i],new:T[e[i]]},k[i]=T[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(k),{charMap:a,subtable:V.data,maxGlyphID:_+1};case"unicode":for(D=[],v=[],L=0,T={},r={},j=f=null,de=0,Se=l.length;de<Se;de++)T[X=e[i=l[de]]]==null&&(T[X]=++L),r[i]={old:X,new:T[X]},c=T[X]-i,j!=null&&c===f||(j&&v.push(j),D.push(i),f=c),j=i;for(j&&v.push(j),v.push(65535),D.push(65535),ae=2*(F=D.length),$=2*Math.pow(Math.log(F)/Math.LN2,2),x=Math.log($/2)/Math.LN2,ee=2*F-$,d=[],ne=[],y=[],N=he=0,Y=D.length;he<Y;N=++he){if(P=D[N],p=v[N],P===65535){d.push(0),ne.push(0);break}if(P-(q=r[P].new)>=32768)for(d.push(0),ne.push(2*(y.length+F-N)),i=W=P;P<=p?W<=p:W>=p;i=P<=p?++W:--W)y.push(r[i].new);else d.push(q-P),ne.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*F+2*y.length),V.writeUInt16(0),V.writeUInt16(ae),V.writeUInt16($),V.writeUInt16(x),V.writeUInt16(ee),re=0,R=v.length;re<R;re++)i=v[re],V.writeUInt16(i);for(V.writeUInt16(0),J=0,z=D.length;J<z;J++)i=D[J],V.writeUInt16(i);for(we=0,K=d.length;we<K;we++)c=d[we],V.writeUInt16(c);for(ce=0,te=ne.length;ce<te;ce++)O=ne[ce],V.writeUInt16(O);for(Le=0,me=y.length;Le<me;Le++)_=y[Le],V.writeUInt16(_);return{charMap:r,subtable:V.data,maxGlyphID:L+1}}},n})(),Sb=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new Hy(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=Hy.encode(e,t),(i=new tc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),uP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),dP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),hP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var l,c,d;for(d=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)d.push(e.readUInt32());return d}.call(this)}},n})(),fP=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,a,l,c,d,f,p,v,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(d={},a=p=0,v=r.length;p<v;a=++p)i=r[a],e.pos=i.offset,f=e.readString(i.length),l=new fP(f,i),d[x=i.nameID]==null&&(d[x]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n})(),gP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),mP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,a,l,c,d;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)p.push(e.readInt16());return p})(),this.widths=function(){var f,p,v,x;for(x=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],x.push(a.advance);return x}.call(this),r=this.widths[this.widths.length-1],d=[],t=l=0;0<=i?l<i:l>i;t=0<=i?++l:--l)d.push(this.widths.push(r));return d},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),_b=[].slice,vP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,a,l,c,d,f,p,v;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,l=(c=new tc(t.read(i))).readShort(),f=c.readShort(),v=c.readShort(),d=c.readShort(),p=c.readShort(),this.cache[e]=l===-1?new wP(c,f,v,d,p):new yP(c,l,f,v,d,p),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,a,l,c,d;for(l=[],a=[],c=0,d=t.length;c<d;c++)i=e[t[c]],a.push(l.length),i&&(l=l.concat(i.encode(r)));return a.push(l.length),{table:l,offsets:a}},n})(),yP=(function(){function n(e,t,r,i,a,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),wP=(function(){function n(e,t,r,i,a){var l,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new tc(_b.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),xP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Eo(n,Ya),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<r.length;++l)if(r[l]=i,a<t.length&&t[a]==l){++a,r[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},n})(),bP=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,l,c,d;for(i={},l=0,c=e.length;l<c;l++)i[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in d=this.glyphsFor(t))r=d[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,l,c,d,f,p,v,x,y,N,_,k,j;for(i in r=Sb.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),y={0:0},j=r.charMap)y[(d=j[i]).old]=d.new;for(N in x=r.maxGlyphID,l)N in y||(y[N]=x++);return p=(function(T){var L,O;for(L in O={},T)O[T[L]]=L;return O})(y),v=Object.keys(p).sort(function(T,L){return T-L}),_=(function(){var T,L,O;for(O=[],T=0,L=v.length;T<L;T++)c=v[T],O.push(p[c]);return O})(),a=this.font.glyf.encode(l,_,y),f=this.font.loca.encode(a.offsets,_),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n})();Ot.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,l;if(Array.isArray(t))return"["+(function(){var c,d,f;for(f=[],c=0,d=t.length;c<d;c++)r=t[c],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)l=t[i],a.push("/"+i+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();function Nb(n,e,t,r,i){r=r||{};var a=1.15,l=i.internal.scaleFactor,c=i.internal.getFontSize()/l,d=i.getLineHeightFactor?i.getLineHeightFactor():a,f=c*d,p=/\r\n|\r|\n/g,v="",x=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(v=typeof n=="string"?n.split(p):n,x=v.length||1),t+=c*(2-a),r.valign==="middle"?t-=x/2*f:r.valign==="bottom"&&(t-=x*f),r.halign==="center"||r.halign==="right"){var y=c;if(r.halign==="center"&&(y*=.5),v&&x>=1){for(var N=0;N<v.length;N++)i.text(v[N],e-i.getStringUnitWidth(v[N])*y,t),t+=f;return i}e-=i.getStringUnitWidth(n)*y}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var Wy={},td=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Wy=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,d=l.fontName;if(e.font&&(d=e.font),e.fontStyle){c=e.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(d,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var p=n.unifyColor(e.fillColor);p&&(r=this.jsPDFDocument).setFillColor.apply(r,p),p=n.unifyColor(e.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=n.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,a){return this.jsPDFDocument.rect(e,t,r,i,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Wy||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),J0=function(n,e){return J0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},J0(n,e)};function kb(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");J0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var jb=(function(n){kb(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function SP(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function _P(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Hf(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return i}function Cb(n,e,t,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:a});var l=Ab(i,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,l)}function Ab(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function op(n,e){var t,r,i,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function Eb(n,e){var t=op(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function NP(n,e,t,r,i){var a={},l=1.3333333333333333,c=l0(e,function(L){return i.getComputedStyle(L).backgroundColor});c!=null&&(a.fillColor=c);var d=l0(e,function(L){return i.getComputedStyle(L).color});d!=null&&(a.textColor=d);var f=jP(r,t);f&&(a.cellPadding=f);var p="borderTopColor",v=l*t,x=r.borderTopWidth;if(r.borderBottomWidth===x&&r.borderRightWidth===x&&r.borderLeftWidth===x){var y=(parseFloat(x)||0)/v;y&&(a.lineWidth=y)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/v,right:(parseFloat(r.borderRightWidth)||0)/v,bottom:(parseFloat(r.borderBottomWidth)||0)/v,left:(parseFloat(r.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var N=l0(e,function(L){return i.getComputedStyle(L)[p]});N!=null&&(a.lineColor=N);var _=["left","right","center","justify"];_.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),_=["middle","bottom","top"],_.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var k=parseInt(r.fontSize||"");isNaN(k)||(a.fontSize=k/l);var j=kP(r);j&&(a.fontStyle=j);var T=(r.fontFamily||"").toLowerCase();return n.indexOf(T)!==-1&&(a.font=T),a}function kP(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function l0(n,e){var t=Pb(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Pb(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:Pb(n.parentElement,e):t}function jP(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(c){return parseInt(c||"0")/r}),l=op(a,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function Lb(n,e,t,r,i){var a,l;r===void 0&&(r=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var d=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],v=[],x=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:p,body:v,foot:x};for(var y=0;y<c.rows.length;y++){var N=c.rows[y],_=(l=(a=N?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),k=CP(d,f,t,N,r,i);k&&(_==="thead"?p.push(k):_==="tfoot"?x.push(k):v.push(k))}return{head:p,body:v,foot:x}}function CP(n,e,t,r,i,a){for(var l=new jb(r),c=0;c<r.cells.length;c++){var d=r.cells[c],f=t.getComputedStyle(d);if(i||f.display!=="none"){var p=void 0;a&&(p=NP(n,d,e,f,t)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:p,_element:d,content:AP(d)})}}var v=t.getComputedStyle(r);if(l.length>0&&(i||v.display!=="none"))return l}function AP(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function EP(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function hl(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}function Tb(n,e){var t=new td(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();EP(i,r,e);var a=hl({},i,r,e),l;typeof window<"u"&&(l=window);var c=PP(i,r,e),d=LP(i,r,e),f=TP(t,a),p=OP(t,a,l);return{id:e.tableId,content:p,hooks:d,styles:c,settings:f}}function PP(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var f=n[d],p=e[d],v=t[d];r.columnStyles=hl({},f,p,v)}else{var x=[n,e,t],y=x.map(function(N){return N[d]||{}});r[d]=hl({},y[0],y[1],y[2])}},a=0,l=Object.keys(r);a<l.length;a++){var c=l[a];i(c)}return r}function LP(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=r;a<l.length;a++){var c=l[a];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function TP(n,e){var t,r,i,a,l,c,d,f,p,v,x,y,N=op(e.margin,40/n.scaleFactor()),_=(t=RP(n,e.startY))!==null&&t!==void 0?t:N.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var T=(a=e.useCss)!==null&&a!==void 0?a:!1,L=e.theme||(T?"plain":"striped"),O=!!e.horizontalPageBreak,X=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:T,theme:L,startY:_,margin:N,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:j,showFoot:k,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:O,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function RP(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&t?.finalY!=null?t.finalY+20/r:null}function OP(n,e,t){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var c=Lb(n,e.html,t,l,e.useCss)||{};r=c.head||r,i=c.body||r,a=c.foot||r}else console.error("Cannot parse html in non browser environment")}var d=e.columns||IP(r,i,a);return{columns:d,head:r,body:i,foot:a}}function IP(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,c;Array.isArray(r)?c=r[parseInt(a)]:c=r[a],typeof c=="object"&&!Array.isArray(c)&&(l=c?.colSpan||1);for(var d=0;d<l;d++){var f=void 0;Array.isArray(r)?f=i.length:f=a+(d>0?"_".concat(d):"");var p={dataKey:f};i.push(p)}}),i}var Q0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),DP=(function(n){kb(e,n);function e(t,r,i,a,l,c){var d=n.call(this,t,r,c)||this;return d.cell=i,d.row=a,d.column=l,d.section=a.section,d}return e})(Q0),FP=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,a,l){for(var c=0,d=t;c<d.length;c++){var f=d[c],p=new DP(e,this,r,i,a,l),v=f(p)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],v)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Q0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Q0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),Rb=(function(){function n(e,t,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof jb&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,a){var l=r.cells[a.index];if(!l)return 0;var c=t.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),f=d+c;return f>i?f:i},0)},n})(),Ob=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=op(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),MP=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n})();function BP(n,e){zP(n,e);var t=[],r=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),r+=a.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=X0(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=X0(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),$P(e),qP(e,n),UP(e)}function zP(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=Eb(n,e);e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var d=c[l],f=a.cells[d.index];if(f){var p=e.hooks.didParseCell;e.callCellHooks(n,p,f,a,d,null);var v=f.padding("horizontal");f.contentWidth=Hf(f.text,f.styles,n)+v;var x=Hf(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=x+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var y=10/t;f.minWidth=f.styles.minCellWidth||y,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var d=c[l],f=a.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var p=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},v=p.cellWidth||p.minCellWidth;v&&typeof v=="number"&&(d.minWidth=v,d.wrappedWidth=v)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function X0(n,e,t){for(var r=e,i=n.reduce(function(y,N){return y+N.wrappedWidth},0),a=0;a<n.length;a++){var l=n[a],c=l.wrappedWidth/i,d=r*c,f=l.width+d,p=t(l),v=f<p?p:f;e-=v-l.width,l.width=v}if(e=Math.round(e*1e10)/1e10,e){var x=n.filter(function(y){return e<0?y.width>t(y):!0});x.length&&(e=X0(x,e,t))}return e}function UP(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var a=r[i],l=0,c=n.columns;l<c.length;l++){var d=c[l],f=e[d.index];if(t>1)t--,delete a.cells[d.index];else if(f)f.cell.height+=a.height,t=f.cell.colSpan,delete a.cells[d.index],f.left--,f.left<=1&&delete e[d.index];else{var p=a.cells[d.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var v=r.length-i,x=p.rowSpan>v?v:p.rowSpan;e[d.index]={cell:p,left:x,row:a}}}}}function $P(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,a=0,l=0,c=0;c<n.columns.length;c++){var d=n.columns[c];if(l-=1,l>1&&n.columns[c+1])a+=d.width,delete r.cells[d.index];else if(i){var f=i;delete r.cells[d.index],i=null,f.width=d.width+a}else{var f=r.cells[d.index];if(!f)continue;if(l=f.colSpan,a=0,f.colSpan>1){i=f,a+=d.width;continue}f.width=d.width+a}}}function qP(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var a=i[r],l=0,c=n.columns;l<c.length;l++){var d=c[l],f=a.cells[d.index];if(f){e.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,p+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Vy(f.text,p,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=Vy(f.text,p,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var v=f.styles.overflow(f.text,p);typeof v=="string"?f.text=[v]:f.text=v}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<x*f.rowSpan?t={height:x,count:f.rowSpan}:t&&t.count>0&&t.height>x&&(x=t.height),x>a.height&&(a.height=x)}}t.count--}}function Vy(n,e,t,r,i){return n.map(function(a){return HP(a,e,t,r,i)})}function HP(n,e,t,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Hf(n,t,r))return n;for(;e<Hf(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function Ib(n,e){var t=new td(n),r=WP(e,t.scaleFactor()),i=new FP(e,r);return BP(t,i),t.applyStyles(t.userStyles),i}function WP(n,e){var t=n.content,r=GP(t.columns);if(t.head.length===0){var i=Gy(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=Gy(r,"foot");i&&t.foot.push(i)}var a=n.settings.theme,l=n.styles;return{columns:r,head:c0("head",t.head,r,l,a,e),body:c0("body",t.body,r,l,a,e),foot:c0("foot",t.foot,r,l,a,e)}}function c0(n,e,t,r,i,a){var l={},c=e.map(function(d,f){for(var p=0,v={},x=0,y=0,N=0,_=t;N<_.length;N++){var k=_[N];if(l[k.index]==null||l[k.index].left===0)if(y===0){var j=void 0;Array.isArray(d)?j=d[k.index-x-p]:j=d[k.dataKey];var T={};typeof j=="object"&&!Array.isArray(j)&&(T=j?.styles||{});var L=KP(n,k,f,i,r,a,T),O=new Ob(j,L,n);v[k.dataKey]=O,v[k.index]=O,y=O.colSpan-1,l[k.index]={left:O.rowSpan-1,times:y}}else y--,x++;else l[k.index].left--,y=l[k.index].times,p++}return new Rb(d,f,n,v)});return c}function Gy(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=VP(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function VP(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function GP(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new MP(i,e,t)})}function KP(n,e,t,r,i,a,l){var c=_P(r),d;n==="head"?d=i.headStyles:n==="body"?d=i.bodyStyles:n==="foot"&&(d=i.footStyles);var f=hl({},c.table,c[n],i.styles,d),p=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},v=n==="body"?p:{},x=n==="body"&&t%2===0?hl({},c.alternateRow,i.alternateRowStyles):{},y=SP(a),N=hl({},y,f,x,v);return hl(N,l)}function YP(n,e,t){var r;t===void 0&&(t={});var i=Eb(n,e),a=new Map,l=[],c=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(x){var y=e.columns.find(function(N){return N.dataKey===x||N.index===x});y&&!a.has(y.index)&&(a.set(y.index,!0),l.push(y.index),c.push(e.columns[y.index]),i-=y.wrappedWidth)});for(var f=!0,p=(r=t?.start)!==null&&r!==void 0?r:0;p<e.columns.length;){if(a.has(p)){p++;continue}var v=e.columns[p].wrappedWidth;if(f||i>=v)f=!1,l.push(p),c.push(e.columns[p]),i-=v;else break;p++}return{colIndexes:l,columns:c,lastIndex:p-1}}function JP(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=YP(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function Db(n,e){var t=e.settings,r=t.startY,i=t.margin,a={x:i.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+i.bottom+l;if(t.pageBreak==="avoid"){var d=e.body,f=d.reduce(function(x,y){return x+y.height},0);c+=f}var p=new td(n);(t.pageBreak==="always"||t.startY!=null&&c>p.pageSize().height)&&(Mb(p),a.y=i.top),e.callWillDrawPageHooks(p,a);var v=hl({},a);e.startPageNumber=p.pageNumber(),t.horizontalPageBreak?QP(p,e,v,a):(p.applyStyles(p.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(x){return vl(p,e,x,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(x,y){var N=y===e.body.length-1;Wf(p,e,x,N,v,a,e.columns)}),p.applyStyles(p.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(x){return vl(p,e,x,a,e.columns)})),Cb(p,e,v,a),e.callEndPageHooks(p,a),e.finalY=a.y,n.lastAutoTable=e,p.applyStyles(p.userStyles)}function QP(n,e,t,r){var i=JP(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?Xd(n,e,t,r,f.columns,!0):Ky(n,e,r,f.columns),XP(n,e,t,r,f.columns),u0(n,e,r,f.columns)});else for(var l=-1,c=i[0],d=function(){var f=l;if(c){n.applyStyles(n.userStyles);var p=c.columns;l>=0?Xd(n,e,t,r,p,!0):Ky(n,e,r,p),f=Yy(n,e,l+1,r,p),u0(n,e,r,p)}var v=f-l;i.slice(1).forEach(function(x){n.applyStyles(n.userStyles),Xd(n,e,t,r,x.columns,!0),Yy(n,e,l+1,r,x.columns,v),u0(n,e,r,x.columns)}),l=f};l<e.body.length-1;)d()}function Ky(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return vl(n,e,a,t,r)})}function XP(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(a,l){var c=l===e.body.length-1;Wf(n,e,a,c,t,r,i)})}function Yy(n,e,t,r,i,a){n.applyStyles(n.userStyles),a=a??e.body.length;var l=Math.min(t+a,e.body.length),c=-1;return e.body.slice(t,l).forEach(function(d,f){var p=t+f===e.body.length-1,v=Fb(n,e,p,r);d.canEntireRowFit(v,i)&&(vl(n,e,d,r,i),c=t+f)}),c}function u0(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return vl(n,e,a,t,r)})}function ZP(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function eL(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var a=0,l=0,c=t.columns;l<c.length;l++){var d=c[l],f=n.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new Ob(f.raw,f.styles,f.section);p=hl(p,f),p.text=[];var v=ZP(f,e,r);f.text.length>v&&(p.text=f.text.splice(v,f.text.length));var x=r.scaleFactor(),y=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(x,y),f.contentHeight>=e&&(f.contentHeight=e,p.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(x,y),p.contentHeight>a&&(a=p.contentHeight),i[d.index]=p}}var N=new Rb(n.raw,-1,n.section,i,!0);N.height=a;for(var _=0,k=t.columns;_<k.length;_++){var d=k[_],p=N.cells[d.index];p&&(p.height=N.height);var f=n.cells[d.index];f&&(f.height=n.height)}return N}function tL(n,e,t,r){var i=n.pageSize().height,a=r.settings.margin,l=a.top+a.bottom,c=i-l;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var d=e.getMinimumRowHeight(r.columns,n),f=d<t;if(d>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=e.hasRowSpan(r.columns),v=e.getMaxCellHeight(r.columns)>c;return v?(p&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||r.settings.rowPageBreak==="avoid")}function Wf(n,e,t,r,i,a,l){var c=Fb(n,e,r,a);if(t.canEntireRowFit(c,l))vl(n,e,t,a,l);else if(tL(n,t,c,e)){var d=eL(t,c,e,n);vl(n,e,t,a,l),Xd(n,e,i,a,l),Wf(n,e,d,r,i,a,l)}else Xd(n,e,i,a,l),Wf(n,e,t,r,i,a,l)}function vl(n,e,t,r,i){r.x=e.settings.margin.left;for(var a=0,l=i;a<l.length;a++){var c=l[a],d=t.cells[c.index];if(!d){r.x+=c.width;continue}n.applyStyles(d.styles),d.x=r.x,d.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,d,t,c,r);if(f===!1){r.x+=c.width;continue}nL(n,d,r);var p=d.getTextPos();Nb(d.text,p.x,p.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,d,t,c,r),r.x+=c.width}r.y+=t.height}function nL(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Ab(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),rL(n,e,t,r.lineWidth))}function rL(n,e,t,r){var i,a,l,c;r.top&&(i=t.x,a=t.y,l=t.x+e.width,c=t.y,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),d(r.top,i,a,l,c)),r.bottom&&(i=t.x,a=t.y+e.height,l=t.x+e.width,c=t.y+e.height,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),d(r.bottom,i,a,l,c)),r.left&&(i=t.x,a=t.y,l=t.x,c=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),d(r.left,i,a,l,c)),r.right&&(i=t.x+e.width,a=t.y,l=t.x+e.width,c=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),d(r.right,i,a,l,c));function d(f,p,v,x,y){n.getDocument().setLineWidth(f),n.getDocument().line(p,v,x,y,"S")}}function Fb(n,e,t,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function Xd(n,e,t,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(c){return vl(n,e,c,r,i)}),e.callEndPageHooks(n,r);var l=e.settings.margin;Cb(n,e,t,r),Mb(n),e.pageNumber++,r.x=l.left,r.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return vl(n,e,c,r,i)}),n.applyStyles(n.userStyles))}function Mb(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function iL(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=Tb(this,r),a=Ib(this,i);return Db(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){Nb(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return td.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){td.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new td(this),a=Lb(i,e,window,t,!1),l=a.head,c=a.body,d=((r=l[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:d,rows:c,data:c}}}var d0;function sL(n,e){var t=Tb(n,e),r=Ib(n,t);Db(n,r)}try{if(typeof window<"u"&&window){var Jy=window,Qy=Jy.jsPDF||((d0=Jy.jspdf)===null||d0===void 0?void 0:d0.jsPDF);Qy&&iL(Qy)}}catch(n){console.error("Could not apply autoTable plugin",n)}const aL=({token:n})=>{const[e,t]=I.useState([]),[r,i]=I.useState([]),[a,l]=I.useState([]),[c,d]=I.useState([]),[f,p]=I.useState(!0),[v,x]=I.useState(!1),[y,N]=I.useState(!1),[_,k]=I.useState(!1),[j,T]=I.useState(""),[L,O]=I.useState([]),[X,ne]=I.useState([]),[ee,$]=I.useState(""),[F,ae]=I.useState({deviceId:"",organizationId:"",technicianId:"",notes:"",date:new Date().toISOString().split("T")[0],charges:""}),[P,D]=I.useState({technicianId:"",notes:"",date:new Date().toISOString().split("T")[0]}),[q,V]=I.useState(""),[ue,de]=I.useState(""),[he,W]=I.useState([]),[ye,Se]=I.useState(""),[Y,R]=I.useState(""),[z,K]=I.useState(null),[te,me]=I.useState(""),[re,J]=I.useState(null),[fe,we]=I.useState(""),[ce,Le]=I.useState(1),qe=10,Te=I.useRef(null),oe=I.useRef(null),[Lt,lt]=I.useState(!1),[ft,be]=I.useState(!1),[pe,Re]=I.useState(!1),[Ke,Ze]=I.useState(!1),Mt=()=>{const ge=oe.current;ge&&(lt(ge.scrollLeft>0),be(ge.scrollWidth>ge.clientWidth&&ge.scrollLeft+ge.clientWidth<ge.scrollWidth-1))},ct=ge=>e.some(Be=>Be.device_id===ge&&Be.status&&!["Completed","Cancelled"].includes(Be.status)),ht=()=>{const ge=Te.current;ge&&(Re(ge.scrollTop>0),Ze(ge.scrollTop+ge.clientHeight<ge.scrollHeight-1))};I.useEffect(()=>{Mt();const ge=()=>Mt();return window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[L,ce]),I.useEffect(()=>{ht();const ge=()=>ht();return window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[L,ce]);const Bt=ge=>{const Be=oe.current;Be&&(Be.scrollBy({left:ge,behavior:"smooth"}),setTimeout(Mt,300))},xt=ge=>{const Be=Te.current;Be&&(Be.scrollBy({top:ge,behavior:"smooth"}),setTimeout(ht,300))},at=Math.max(1,Math.ceil(L.length/qe)),yt=L.slice((ce-1)*qe,ce*qe),pt=ge=>{const Be=Math.max(1,Math.min(at,ge));Le(Be),setTimeout(()=>{Mt(),ht()},150)},en=async()=>{try{const ge=await fetch("http://localhost:8000/maintenance",{headers:{Authorization:`Bearer ${n}`}}),Be=await ge.json();if(!ge.ok){console.error("Error fetching maintenance records:",Be.error),We.error(Be.error||"Failed to fetch maintenance records");return}t(Be.maintenance||[])}catch(ge){console.error("Error fetching maintenance records:",ge),We.error("Failed to fetch maintenance records")}finally{p(!1)}},un=async()=>{try{const ge=await fetch("http://localhost:8000/devices",{headers:{Authorization:`Bearer ${n}`}}),Be=await ge.json();ge.ok&&i(Be.devices||[])}catch(ge){console.error("Error fetching devices:",ge)}},bt=async()=>{try{const ge=await fetch("http://localhost:8000/technicians",{headers:{Authorization:`Bearer ${n}`}}),Be=await ge.json();ge.ok&&l(Be.technicians||[])}catch(ge){console.error("Error fetching technicians:",ge)}},qt=async()=>{try{const ge=await fetch("http://localhost:8000/organizations",{headers:{Authorization:`Bearer ${n}`}}),Be=await ge.json();ge.ok&&d(Be.organizations||[])}catch(ge){console.error("Error fetching organizations:",ge)}};I.useEffect(()=>{en(),un(),bt(),qt()},[n]),I.useEffect(()=>{Le(1)},[L,y]);const gn=async ge=>{if(ge.preventDefault(),a.length===0){We.error("Cannot schedule maintenance: No technicians available. Please add a technician first.");return}const Be=r.find(ot=>ot.id===F.deviceId);if(!Be){We.error("Invalid device selected");return}const _e=e.find(ot=>ot.device_id===Be.id&&ot.status&&!["Completed","Cancelled"].includes(ot.status));if(_e){We.error(`Cannot schedule: device "${Be.name}" already has an active maintenance (${_e.status}). Close it first.`);return}try{if(F.charges&&F.charges!==""){const Ln=Dt(F.deviceId),An=Number(F.charges);if(Ln.toLowerCase().trim()!=="non comprehensive"){We.error("Charges can only be entered for Non Comprehensive devices");return}if(Number.isNaN(An)||An<0){We.error("Charges must be a non-negative number");return}}const ot=await fetch("http://localhost:8000/maintenance",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({...F,organizationId:F.organizationId||Be.organization_id,charges:F.charges&&F.charges!==""?parseFloat(String(F.charges)):null})}),Vt=await ot.json();if(!ot.ok){console.error("Error creating maintenance record:",Vt.error),We.error(Vt.error||"Failed to create maintenance record");return}We.success("Maintenance record created successfully!"),x(!1),ae({deviceId:"",organizationId:"",technicianId:"",notes:"",date:new Date().toISOString().split("T")[0],charges:""}),en()}catch(ot){console.error("Error creating maintenance record:",ot),We.error("Failed to create maintenance record")}},It=async ge=>{if(ge.preventDefault(),X.length===0){We.error("Please select at least one device");return}if(a.filter(Vt=>!Vt.is_archived).length===0){We.error("Cannot schedule maintenance: No active technicians available. Please add a technician first.");return}const _e=X.filter(Vt=>ct(Vt)),ot=X.filter(Vt=>!ct(Vt));if(_e.length>0&&ot.length===0){const Vt=_e.map(Ln=>Nn(Ln)).join(", ");We.error(`Cannot schedule: these devices already have active maintenance and must be closed first: ${Vt}`);return}try{if(_e.length>0){const An=_e.map(Ni=>Nn(Ni)).join(", ");We.warning(`Skipping devices with active maintenance: ${An}`)}const Vt=await fetch("http://localhost:8000/make-server-60660975/maintenance/bulk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({organizationId:ee,deviceIds:ot,technicianId:P.technicianId,notes:P.notes,date:P.date})}),Ln=await Vt.json();if(!Vt.ok){console.error("Error creating bulk maintenance records:",Ln.error),We.error(Ln.error||"Failed to create maintenance records");return}We.success(`${Ln.count} maintenance records created successfully!`),k(!1),$(""),ne([]),D({technicianId:"",notes:"",date:new Date().toISOString().split("T")[0]}),en()}catch(Vt){console.error("Error creating bulk maintenance records:",Vt),We.error("Failed to create maintenance records")}},Ht=(ge,Be)=>{ae({...F,[ge]:Be})},Tt=async()=>{if(!j){We.error("Please select an organization");return}if(q&&ue&&q>ue){We.error("Start date cannot be after end date");return}try{let ge=`http://localhost:8000/make-server-60660975/maintenance/organization/${j}`;if(q||ue){const Vt=[];q&&Vt.push(`start=${q}`),ue&&Vt.push(`end=${ue}`),ge+=`?${Vt.join("&")}`}const Be=await fetch(ge,{headers:{Authorization:`Bearer ${n}`}}),_e=await Be.json();if(!Be.ok){console.error("Error fetching organization report:",_e.error),We.error(_e.error||"Failed to generate report");return}let ot=_e.maintenance||[];(q||ue)&&(ot=ot.filter(Vt=>{const Ln=Vt.created_at.split("T")[0];return!(q&&Ln<q||ue&&Ln>ue)}));try{ot.sort((Vt,Ln)=>{const An=mn(Vt.device_id)||"",Ni=mn(Ln.device_id)||"";return An.localeCompare(Ni,void 0,{numeric:!0,sensitivity:"base"})})}catch{}O(ot),N(!0)}catch(ge){console.error("Error generating report:",ge),We.error("Failed to generate report")}},Nn=ge=>{const Be=r.find(_e=>_e.id===ge);return Be?Be.name:"Unknown"},mn=ge=>{const Be=r.find(_e=>_e.id===ge);return Be&&Be.serial_number||"-"},sn=ge=>{const Be=r.find(_e=>_e.id===ge);return Be&&Be.brand_serial_number||"-"},Dt=ge=>{const Be=r.find(ot=>ot.id===ge);if(!Be)return"Comprehensive";const _e=Be.device_type||Be.deviceType||Be.type||"";return!_e||String(_e).trim()===""?"Comprehensive":String(_e)},it=ge=>{const Be=a.find(_e=>_e.id===ge);return Be?Be.name:"Unknown"},vn=ge=>{const Be=c.find(_e=>_e.id===ge);return Be?Be.name:"Unknown"},rn=ge=>r.filter(Be=>Be.organization_id===ge),$n=ge=>{ct(ge)||ne(Be=>Be.includes(ge)?Be.filter(_e=>_e!==ge):[...Be,ge])},Pr=ge=>{const _e=rn(ge).filter(ot=>!ct(ot.id));X.length===_e.length?ne([]):ne(_e.map(ot=>ot.id))},st=a.filter(ge=>!ge.is_archived),kn=c.filter(ge=>!ge.archived),[Sr,wn]=I.useState(""),qn=e.filter(ge=>!Sr||ge.organization_id===Sr),[an,fn]=I.useState(1),In=12,xi=[...qn].sort((ge,Be)=>new Date(Be.created_at).getTime()-new Date(ge.created_at).getTime()),bi=Math.max(1,Math.ceil(xi.length/In)),Di=xi.slice((an-1)*In,an*In);I.useEffect(()=>{an>bi&&fn(bi)},[bi]);function Fi(ge){if(!ge||ge.length===0)return null;const Be=ge.reduce((ot,Vt)=>{const Ln=new Date(Vt.created_at);return Ln>ot?Ln:ot},new Date(ge[0].created_at)),_e=new Date(Be);return _e.setDate(_e.getDate()+90),_e.toLocaleDateString("en-IN")}const Lr=he.length>0?L.filter(ge=>he.includes(ge.id)).reduce((ge,Be)=>ge+(Number(Be.charges)||0),0):L.reduce((ge,Be)=>ge+(Number(Be.charges)||0),0),Si=async ge=>{const Be=ge||(he.length>0?L.filter(_e=>he.includes(_e.id)):L);if(!j||Be.length===0){We.error("No data to generate PDF");return}try{try{Be.sort((Ee,Ue)=>{const rt=mn(Ee.device_id)||"",ut=mn(Ue.device_id)||"";return rt.localeCompare(ut,void 0,{numeric:!0,sensitivity:"base"})})}catch{}const _e=new Ot({format:"a4",unit:"mm",orientation:"landscape"}),ot=_e.internal.pageSize.getWidth(),Vt=_e.internal.pageSize.getHeight(),Ln=vn(j),An=15,Ni=8,er=36,Zs=36;async function ar(Ee){try{const Ue=await fetch(Ee);if(!Ue.ok)return null;const rt=await Ue.blob();return await new Promise((ut,Rt)=>{const Et=new FileReader;Et.onloadend=()=>ut(Et.result),Et.onerror=Rt,Et.readAsDataURL(rt)})}catch{return null}}const Lo=[`${window.location.origin}/npa-logo.png`,`${window.location.origin}/npa-logo.svg`,"/npa-logo.png","/npa-logo.svg",`${window.location.origin}/public/npa-logo.png`,`${window.location.origin}/public/npa-logo.svg`,"./npa-logo.png","./npa-logo.svg"];let oi=null,Mi=null;for(const Ee of Lo){const Ue=await ar(Ee);if(Ue){oi=Ue,Mi=Ee;break}}const li=!!oi;if(li||console.warn("NPA logo not found at standard public paths. Checked:",Lo.join(", ")),oi)try{_e.addImage(oi,"PNG",An,Ni,er,Zs)}catch{_e.setFillColor(11,116,209),_e.roundedRect(An,Ni,er,Zs,2,2,"F"),_e.setFontSize(22),_e.setTextColor(255,255,255),_e.setFont("helvetica","bold"),_e.text("NP",An+er/2,Ni+Zs/2+5,{align:"center",baseline:"middle"})}else _e.setFillColor(11,116,209),_e.roundedRect(An,Ni,er,Zs,2,2,"F"),_e.setFontSize(22),_e.setTextColor(255,255,255),_e.setFont("helvetica","bold"),_e.text("NP",An+er/2,Ni+Zs/2+5,{align:"center",baseline:"middle"});const ea=An+er+8,tr=ot-15,Ts=li?ea+(tr-ea)/2:ot/2,To=li?20:26;_e.setFontSize(To),_e.setFont("helvetica","bold"),_e.setTextColor(204,0,0);const Ja=Ni+Zs/2-(li?2:4);_e.text("NATIONAL PROCESS AUTOMATION",Ts,Ja,{align:"center"}),_e.setFontSize(11),_e.setFont("helvetica","bold"),_e.setTextColor(35,35,35);const xa=["#48, 4th cross, Ganesha Block, Nandini Layout, Bangalore-560096"];let zr=Ja+To/3;xa.forEach(Ee=>{_e.text(Ee,Ts,zr,{align:"center"}),zr+=6});const on="       Ph: 080 23498376, 9900143996  e-mail: tech.npa@gmail.com".split(" e-mail: ");_e.setFontSize(11),_e.setFont("helvetica","bold"),_e.setTextColor(35,35,35),_e.text(on[0]+" e-mail: ",ot/2-40,zr,{align:"left"});const Rs=ot/2-40+_e.getTextWidth(on[0]+" e-mail: ");_e.setTextColor(0,0,0),_e.text(on[1],Rs,zr,{align:"left"});const Oo=_e.getTextWidth(on[1]);zr+=8,_e.setTextColor(35,35,35),_e.setFontSize(12),_e.setFont("helvetica","bold"),_e.text("www.npautomation.in",Ts,zr,{align:"center"});const ba=zr+4;_e.setDrawColor(200,200,200),_e.setLineWidth(.6),_e.line(15,ba,ot-15,ba),_e.setFontSize(15),_e.setFont("helvetica","bold"),_e.setTextColor(44,62,80);const Io=ba+10;_e.text("MAINTENANCE SERVICE REPORT",ot/2,Io,{align:"center"}),_e.setFillColor(236,240,241);const Qa=Io+4;_e.roundedRect(15,Qa,ot-30,10,2,2,"F");const Xa=Ln?Ln.toUpperCase():"",Os=ot-60,Gr=_e.splitTextToSize(Xa,Os),ls=Gr.length===1?16:Gr.length===2?12:14;_e.setFontSize(ls),_e.setFont("helvetica","bold"),_e.setTextColor(11,91,209);const Kr=ls*.6;let ji=Qa+6-(Gr.length>1?Kr*(Gr.length-1)/2:0);Gr.forEach(Ee=>{_e.text(Ee,ot/2,ji,{align:"center"}),ji+=Kr});const Ft=Qa+14;_e.setFontSize(9),_e.setFont("helvetica","normal"),_e.setTextColor(80,80,80);const Sa=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"});_e.text(`Report Generated: ${Sa}`,17,Ft);const ms=`NPA-MR-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`;_e.text(`Report ID: ${ms}`,ot-17,Ft,{align:"right"});const vs=Ft+6;_e.setFillColor(241,248,233),_e.roundedRect(15,vs,ot-30,16,2,2,"F"),_e.setFontSize(10),_e.setFont("helvetica","bold"),_e.setTextColor(44,62,80),_e.text("REPORT SUMMARY",18,vs+6);const sc=[...new Set(Be.map(Ee=>Ee.deviceId))].length,Bi=[...new Set(Be.map(Ee=>Ee.technicianId))].length,Is=Fi(Be);_e.setFontSize(8.5),_e.setFont("helvetica","normal"),_e.setTextColor(60,60,60);const Do="Total Records: ";_e.text(Do,18,vs+12),_e.setFont("helvetica","bold"),_e.text(String(Be.length),18+_e.getTextWidth(Do),vs+12),_e.setFont("helvetica","normal");const _a=120,ta="Next Maintenance: ";_e.text(ta,_a,vs+12),_e.setFont("helvetica","bold"),_e.text(Is||"-",_a+_e.getTextWidth(ta),vs+12);const Fo=Be.reduce((Ee,Ue)=>Ee+(Number(Ue.charges)||0),0);_e.setFont("helvetica","bold");let ci=10,zi=`Total Charges: Rs ${Fo.toFixed(2)}`;const Ui=15,Bo=ot-Ui-18-12;_e.setFontSize(ci);let Za=_e.getTextWidth(zi);for(;Za>Bo&&ci>7;)ci-=1,_e.setFontSize(ci),Za=_e.getTextWidth(zi);const Ds=ot-Ui-3,ys=vs+12;_e.text(zi,Ds,ys,{align:"right"}),_e.setFontSize(9),_e.setFont("helvetica","normal");const Na=Be.map((Ee,Ue)=>[String(Ue+1),new Date(Ee.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),mn(Ee.device_id),sn(Ee.device_id),it(Ee.technician_id),Ee.description||"Routine maintenance",Ee.charges!=null?`Rs ${Number(Ee.charges).toFixed(2)}`:"-",Ee.status||"Yet to Start"]),na=15,Ci=15,Fs=ot-na-Ci,ra=14,eo=20,Ai=48,Ei=26,to=22,Tr=32,Pi=28,no=Fs-(ra+eo+Ai+Tr+Ei+Pi+to),b=Math.max(18,no);sL(_e,{startY:vs+18,head:[["#","Service Date","Serial No","Brand Serial No","Technician","Service Note","Charges","Status"]],body:Na,theme:"striped",headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontSize:9,fontStyle:"bold",halign:"center",cellPadding:3},bodyStyles:{fontSize:6.5,textColor:[40,40,40],cellPadding:2,valign:"middle"},alternateRowStyles:{fillColor:[249,249,249]},columnStyles:{0:{cellWidth:ra,halign:"center",fontStyle:"bold"},1:{cellWidth:eo,halign:"center"},2:{cellWidth:Ai,halign:"center",fontStyle:"bold"},3:{cellWidth:Tr,halign:"center",fontStyle:"bold"},4:{cellWidth:Pi,halign:"left"},5:{cellWidth:b,halign:"left"},6:{cellWidth:Ei,halign:"right",fontStyle:"bold"},7:{cellWidth:to,halign:"center",fontStyle:"bold"}},margin:{left:na,right:Ci,bottom:36},styles:{overflow:"linebreak",cellPadding:3,valign:"middle",lineColor:[220,220,220],lineWidth:.1},didDrawCell:Ee=>{if(Ee.column.index===7&&Ee.section==="body"){const Ue=Ee.cell.raw;let rt=[249,249,249],ut=[100,100,100];Ue==="Yet to Start"?(rt=[229,231,235],ut=[31,41,55]):Ue==="In Progress"?(rt=[254,249,195],ut=[133,77,14]):Ue==="Completed"?(rt=[220,252,231],ut=[22,101,52]):Ue==="Cancelled"&&(rt=[254,226,226],ut=[153,27,27]),_e.setFillColor(rt[0],rt[1],rt[2]),_e.rect(Ee.cell.x,Ee.cell.y,Ee.cell.width,Ee.cell.height,"F"),_e.setTextColor(ut[0],ut[1],ut[2]),_e.setFontSize(7),_e.setFont("helvetica","bold"),_e.text(Ue,Ee.cell.x+Ee.cell.width/2,Ee.cell.y+Ee.cell.height/2,{align:"center",baseline:"middle"})}},didDrawPage:Ee=>{_e.saveGraphicsState();try{_e.setGState(new _e.GState({opacity:.06}))}catch{}_e.setFont("helvetica","bold"),_e.setFontSize(40),_e.setTextColor(41,128,185);try{const Rt=ot/2,Et=Vt/2;if(typeof oi<"u"&&oi)try{typeof _e.rotate=="function"?(_e.rotate(25,{origin:[Rt,Et]}),_e.addImage(oi,"PNG",Rt-120/2,Et-120/2,120,120),_e.rotate(0,{origin:[Rt,Et]})):_e.addImage(oi,"PNG",Rt-120/2,Et-120/2,120,120)}catch{_e.setFontSize(40),_e.setTextColor(200,200,200),_e.text("NPA",Rt,Et,{align:"center",angle:45,baseline:"middle"})}else _e.setFontSize(40),_e.setTextColor(200,200,200),_e.text("NPA",Rt,Et,{align:"center",angle:45,baseline:"middle"})}catch{const ut=ot/2,Rt=Vt/2;_e.setFontSize(40),_e.setTextColor(200,200,200),_e.text("NPA",ut,Rt,{align:"center",angle:45,baseline:"middle"})}_e.restoreGraphicsState();const Ue=Vt-15;_e.setDrawColor(200,200,200),_e.setLineWidth(.5),_e.line(15,Ue-4,ot-15,Ue-4),_e.setFontSize(7.5),_e.setFont("helvetica","normal"),_e.setTextColor(120,120,120),_e.text("National Process Automation | Bengaluru-96",15,Ue),_e.text("Contact: tech.npa@gmail.com | www.npautomation.in",15,Ue+4)}});const M=_e.lastAutoTable.finalY+10;M<Vt-50&&(_e.setDrawColor(41,128,185),_e.setLineWidth(.7),_e.roundedRect(15,M,ot-30,28,2,2,"S"),_e.setFontSize(8.5),_e.setFont("helvetica","bold"),_e.setTextColor(44,62,80),_e.text("CERTIFICATION",18,M+6),_e.setFontSize(7.5),_e.setFont("helvetica","normal"),_e.setTextColor(80,80,80),_e.text("This report has been automatically generated by NPA Water Dispensers Management System. All maintenance activities have been performed as per standard operating procedures.",18,M+11,{maxWidth:ot-95}),_e.setDrawColor(120,120,120),_e.setLineWidth(.3),_e.line(ot-70,M+21,ot-20,M+21),_e.setFontSize(7),_e.text("Authorized Signature",ot-45,M+24,{align:"center"}));const le=_e.getNumberOfPages(),xe=new Date().toLocaleDateString("en-IN");for(let Ee=1;Ee<=le;Ee++){_e.setPage(Ee);const Ue=Vt-15;_e.setFontSize(7.5),_e.setFont("helvetica","normal"),_e.setTextColor(120,120,120),_e.text(`Page ${Ee} of ${le}`,ot-15,Ue,{align:"right"}),_e.text(`Generated: ${xe}`,ot-15,Ue+4,{align:"right"})}const Ae=`NPA_Maintenance_Report_${Ln.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;_e.save(Ae),We.success("PDF report generated successfully!")}catch(_e){console.error("Error generating PDF:",_e),We.error("Failed to generate PDF. Please try again.")}},_i=ge=>{W(Be=>Be.includes(ge)?Be.filter(_e=>_e!==ge):[...Be,ge])},ma=ge=>{const Be=ge.currentTarget;Re(Be.scrollTop>0),Ze(Be.scrollTop+Be.clientHeight<Be.scrollHeight-1)},os=async(ge,Be)=>{try{const _e=await fetch(`http://localhost:8000/maintenance/${ge}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({status:Be})}),ot=await _e.json();if(!_e.ok){console.error("Error updating maintenance status:",ot.error),We.error(ot.error||"Failed to update status");return}We.success("Status updated successfully!"),en()}catch(_e){console.error("Error updating maintenance status:",_e),We.error("Failed to update status")}},Xs=ge=>{K(ge.id),me(ge.description||"")},va=()=>{K(null),me("")},ya=async ge=>{try{const Be=await fetch(`http://localhost:8000/maintenance/${ge}/notes`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({notes:te})}),_e=await Be.json();if(!Be.ok){console.error("Error updating notes:",_e.error),We.error(_e.error||"Failed to update notes");return}We.success("Notes updated successfully!"),K(null),me(""),en()}catch(Be){console.error("Error updating notes:",Be),We.error("Failed to update notes")}},wa=ge=>{J(ge.id),we(ge.charges!=null?String(ge.charges):"")},yl=()=>{J(null),we("")},Pn=async ge=>{const _e=Number(fe);if(Number.isNaN(_e)||_e<0){We.error("Charges must be a non-negative number");return}try{const ot=await fetch(`http://localhost:8000/maintenance/${ge}/charges`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({charges:_e})});let Vt=null;try{Vt=await ot.json()}catch{try{Vt={error:await ot.text()}}catch{Vt={error:`HTTP ${ot.status}`}}}if(!ot.ok){console.error("Failed to save charges response:",ot.status,Vt),We.error(Vt?.error||`Failed to save charges (status ${ot.status})`);return}We.success("Charges updated"),J(null),we(""),en(),y&&j&&await Tt()}catch(ot){console.error("Error saving charges (network or unexpected):",ot),We.error("Failed to save charges. See console for details")}},Po=ge=>{switch(ge){case"Yet to Start":return"bg-gray-100 text-gray-800 border-gray-300";case"In Progress":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"Cancelled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Maintenance Records"}),u.jsx("p",{className:"text-gray-600",children:"Track device maintenance activities"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ti,{open:_,onOpenChange:k,children:[u.jsx(Bc,{asChild:!0,children:u.jsxs(nt,{variant:"outline",children:[u.jsx(TN,{className:"w-4 h-4 mr-2"}),"Bulk Schedule"]})}),u.jsxs(ni,{className:"max-w-2xl",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Schedule Organization Maintenance"}),u.jsx(wi,{children:"Schedule maintenance for multiple devices at once"})]}),u.jsxs("form",{onSubmit:It,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"bulkOrg",children:"Organization *"}),u.jsxs(ts,{value:ee,onValueChange:ge=>{$(ge),ne([])},required:!0,children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select organization"})}),u.jsx(is,{children:kn.map(ge=>u.jsx(pr,{value:ge.id,children:ge.name},ge.id))})]})]}),ee&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(vt,{children:"Select Devices *"}),u.jsx(nt,{type:"button",variant:"ghost",size:"sm",onClick:()=>Pr(ee),children:X.length===rn(ee).filter(ge=>!ct(ge.id)).length?"Deselect All":"Select All"})]}),u.jsxs("div",{className:"border rounded-md p-4 space-y-2 max-h-48 overflow-y-auto",children:[u.jsx("div",{children:u.jsx("input",{type:"text",value:Y,onChange:ge=>R(ge.target.value),placeholder:"Search devices...",className:"w-full rounded-md border border-input px-3 py-2 text-sm mb-2"})}),rn(ee).filter(ge=>{const Be=Y.toLowerCase(),_e=(ge.name||"").toLowerCase().includes(Be),ot=(ge.brand_serial_number||"").toLowerCase().includes(Be);return Be===""?!0:_e||ot}).length===0?u.jsx("p",{className:"text-sm text-gray-500",children:"No devices found for this organization"}):rn(ee).filter(ge=>{const Be=Y.toLowerCase(),_e=(ge.name||"").toLowerCase().includes(Be),ot=(ge.brand_serial_number||"").toLowerCase().includes(Be);return Be===""?!0:_e||ot}).map(ge=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(RA,{id:ge.id,checked:X.includes(ge.id),onCheckedChange:()=>!ct(ge.id)&&$n(ge.id),disabled:ct(ge.id)}),u.jsxs("label",{htmlFor:ge.id,className:ct(ge.id)?"text-sm text-gray-400 cursor-not-allowed flex-1":"text-sm cursor-pointer flex-1",children:[ge.name,ct(ge.id)&&u.jsx("span",{className:"ml-2 text-xs text-yellow-700 font-medium",children:"(Active)"})]})]},ge.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"bulkTechnician",children:"Technician *"}),u.jsxs(ts,{value:P.technicianId,onValueChange:ge=>D({...P,technicianId:ge}),required:!0,children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select technician"})}),u.jsx(is,{children:st.length===0?u.jsx("div",{className:"p-2 text-sm text-red-500",children:"No active technicians available. Please add a technician first."}):st.map(ge=>u.jsx(pr,{value:ge.id,children:ge.name},ge.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"bulkDate",children:"Date *"}),u.jsx("input",{id:"bulkDate",type:"date",value:P.date,onChange:ge=>D({...P,date:ge.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"Bulk Date","aria-label":"Bulk Date",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"bulkNotes",children:"Notes"}),u.jsx(Sf,{id:"bulkNotes",value:P.notes,onChange:ge=>D({...P,notes:ge.target.value}),placeholder:"Enter maintenance notes...",rows:3})]}),u.jsxs(nt,{type:"submit",className:"w-full",disabled:X.length===0||st.length===0,children:["Schedule ",X.length," Device",X.length!==1?"s":""]})]})]})]}),u.jsxs(ti,{open:v,onOpenChange:x,children:[u.jsx(Bc,{asChild:!0,children:u.jsxs(nt,{children:[u.jsx(cd,{className:"w-4 h-4 mr-2"}),"Add Maintenance"]})}),u.jsxs(ni,{className:"max-w-md",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Add Maintenance Record"}),u.jsx(wi,{children:"Record a maintenance service for a device"})]}),u.jsxs("form",{onSubmit:gn,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"orgSelectSingle",children:"Organization *"}),u.jsxs(ts,{value:F.organizationId,onValueChange:ge=>{ae({...F,organizationId:ge,deviceId:""}),Se("")},children:[u.jsx(rs,{id:"orgSelectSingle",children:u.jsx(ns,{placeholder:"Select organization"})}),u.jsx(is,{children:kn.map(ge=>u.jsx(pr,{value:ge.id,children:ge.name},ge.id))})]})]}),u.jsx(vt,{htmlFor:"device",children:"Device *"}),u.jsxs(ts,{value:F.deviceId,onValueChange:ge=>Ht("deviceId",ge),required:!0,children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select device"})}),u.jsxs(is,{children:[u.jsx("div",{className:"px-3 py-2",children:u.jsx("input",{type:"text",value:ye,onChange:ge=>Se(ge.target.value),placeholder:"Search devices... (name or brand serial)",className:"w-full rounded-md border border-input px-3 py-2 text-sm"})}),u.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.filter(ge=>{if(F.organizationId&&ge.organization_id!==F.organizationId)return!1;const Be=ye.toLowerCase(),_e=(ge.name||"").toLowerCase().includes(Be),ot=(ge.brand_serial_number||"").toLowerCase().includes(Be);return Be===""?!0:_e||ot}).map(ge=>u.jsxs(pr,{value:ge.id,disabled:ct(ge.id),className:ct(ge.id)?"text-gray-400":"",children:[ge.name,ct(ge.id)?" (Active)":""]},ge.id))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"technician",children:"Technician *"}),u.jsxs(ts,{value:F.technicianId,onValueChange:ge=>Ht("technicianId",ge),required:!0,children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select technician"})}),u.jsx(is,{children:st.length===0?u.jsx("div",{className:"p-2 text-sm text-red-500",children:"No active technicians available. Please add a technician first."}):st.map(ge=>u.jsx(pr,{value:ge.id,children:ge.name},ge.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"date",children:"Date *"}),u.jsx("input",{id:"date",type:"date",value:F.date,onChange:ge=>Ht("date",ge.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"Date","aria-label":"Date",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"notes",children:"Notes"}),u.jsx(Sf,{id:"notes",value:F.notes,onChange:ge=>Ht("notes",ge.target.value),placeholder:"Enter maintenance notes...",rows:4})]}),F.deviceId&&Dt(F.deviceId)==="Non Comprehensive"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"charges",children:"Charges ()"}),u.jsx("input",{id:"charges",type:"number",min:"0",step:"0.01",value:String(F.charges),onChange:ge=>Ht("charges",ge.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Enter service charge"})]}),u.jsx(nt,{type:"submit",className:"w-full",disabled:st.length===0||ct(F.deviceId)||!F.organizationId,children:"Create Record"})]})]})]})]})]}),st.length===0&&u.jsx(si,{className:"border-orange-200 bg-orange-50",children:u.jsx(ai,{className:"pt-6",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-orange-600 text-xl",children:""}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-orange-900",children:"No Active Technicians"}),u.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"You need to add at least one technician before you can schedule maintenance. Please go to the Technicians tab to add a technician."})]})]})})}),u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsxs(ss,{className:"flex items-center gap-2",children:[u.jsx(A0,{className:"w-5 h-5"}),"Generate Organization Report"]})}),u.jsxs(ai,{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4 items-end",children:[u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(vt,{htmlFor:"orgSelect",children:"Select Organization"}),u.jsxs(ts,{value:j,onValueChange:T,children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select organization"})}),u.jsx(is,{children:c.map(ge=>u.jsx(pr,{value:ge.id,children:ge.name},ge.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"reportStartDate",children:"Start Date"}),u.jsx("input",{id:"reportStartDate",type:"date",value:q,onChange:ge=>V(ge.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"Start Date","aria-label":"Start Date"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"reportEndDate",children:"End Date"}),u.jsx("input",{id:"reportEndDate",type:"date",value:ue,onChange:ge=>de(ge.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",title:"End Date","aria-label":"End Date"})]}),u.jsx(nt,{onClick:Tt,disabled:!j,children:"Generate Report"})]}),j&&L.length>0&&u.jsx("div",{className:"mt-2",children:u.jsxs("p",{className:"text-sm text-gray-600 font-bold",children:["Next Maintenance Date: ",u.jsx("span",{className:"text-blue-700",children:Fi(L)||"-"})]})})]})]}),u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsxs(ss,{className:"flex items-center gap-2",children:[u.jsx(pl,{className:"w-5 h-5"}),"All Maintenance Records"]})}),u.jsxs(ai,{children:[f&&u.jsx("p",{className:"text-center py-4 text-gray-500",children:"Loading maintenance records..."}),!f&&e.length===0&&u.jsx("p",{className:"text-center py-4 text-gray-500",children:"No maintenance records found. Add your first record!"}),!f&&e.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"w-64",children:[u.jsx(vt,{htmlFor:"maintenanceOrgFilter",className:"text-sm",children:"Filter by organization"}),u.jsxs(ts,{value:Sr,onValueChange:ge=>{wn(ge==="ALL"?"":ge),fn(1)},children:[u.jsx(rs,{id:"maintenanceOrgFilter",children:u.jsx(ns,{placeholder:"All organizations"})}),u.jsxs(is,{children:[u.jsx(pr,{value:"ALL",children:"All Organizations"}),kn.map(ge=>u.jsx(pr,{value:ge.id,children:ge.name},ge.id))]})]})]})}),u.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>wn(""),children:"Clear"})]}),Di.length===0?u.jsx("p",{className:"text-center py-4 text-gray-500",children:"No maintenance records found for the selected organization."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(zc,{children:[u.jsx(Uc,{children:u.jsxs(Ps,{children:[u.jsx(tn,{children:"Date"}),u.jsx(tn,{children:"Device"}),u.jsx(tn,{children:"Technician"}),u.jsx(tn,{children:"Organization"}),u.jsx(tn,{children:"Notes"}),u.jsx(tn,{children:"Charges"}),u.jsx(tn,{children:"Status"})]})}),u.jsx($c,{children:Di.map(ge=>u.jsxs(Ps,{className:"py-2",children:[u.jsx(nn,{className:"py-2 text-sm",children:new Date(ge.created_at).toLocaleDateString()}),u.jsx(nn,{children:Nn(ge.device_id)}),u.jsx(nn,{children:it(ge.technician_id)}),u.jsx(nn,{children:vn(ge.organization_id)}),u.jsx(nn,{className:"max-w-[360px]",children:z===ge.id?u.jsxs("div",{className:"space-y-2",children:[u.jsx(Sf,{value:te,onChange:Be=>me(Be.target.value),rows:3}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(nt,{size:"sm",onClick:()=>ya(ge.id),children:"Save"}),u.jsx(nt,{size:"sm",variant:"outline",onClick:va,children:"Cancel"})]})]}):u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsx("div",{className:"whitespace-pre-wrap break-words flex-1",children:ge.description||"-"}),u.jsx(nt,{size:"sm",variant:"ghost",onClick:()=>Xs(ge),children:"Edit"})]})}),u.jsx(nn,{className:"text-right",children:re===ge.id?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"0",step:"0.01",value:fe,onChange:Be=>we(Be.target.value),"aria-label":"Edit charges",className:"w-11 rounded-md border px-2 py-1 text-sm"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(nt,{size:"sm",onClick:()=>Pn(ge.id),children:"Save"}),u.jsx(nt,{size:"sm",variant:"outline",onClick:yl,children:"Cancel"})]})]}):u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("div",{className:"font-medium",children:ge.charges!=null?`${Number(ge.charges).toFixed(2)}`:"-"}),Dt(ge.device_id).toLowerCase().trim()==="non comprehensive"&&u.jsx(nt,{size:"sm",variant:"ghost",onClick:()=>wa(ge),children:"Edit"})]})}),u.jsx(nn,{children:u.jsxs(ts,{value:ge.status,onValueChange:Be=>os(ge.id,Be),children:[u.jsx(rs,{className:`w-[140px] ${Po(ge.status)}`,children:u.jsx(ns,{})}),u.jsxs(is,{children:[u.jsx(pr,{value:"Yet to Start",className:"bg-gray-100 text-gray-800",children:"Yet to Start"}),u.jsx(pr,{value:"In Progress",className:"bg-yellow-100 text-yellow-800",children:"In Progress"}),u.jsx(pr,{value:"Completed",className:"bg-green-100 text-green-800",children:"Completed"}),u.jsx(pr,{value:"Cancelled",className:"bg-red-100 text-red-800",children:"Cancelled"})]})]})})]},ge.id))})]})}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Math.min((an-1)*In+1,xi.length)," to ",Math.min(an*In,xi.length)," of ",xi.length]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(nt,{size:"sm",variant:"ghost",onClick:()=>fn(ge=>Math.max(1,ge-1)),disabled:an===1,children:"Prev"}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:bi}).map((ge,Be)=>u.jsx("button",{onClick:()=>fn(Be+1),className:`px-2 py-1 rounded ${an===Be+1?"bg-gray-200":"hover:bg-gray-100"}`,children:Be+1},Be))}),u.jsx(nt,{size:"sm",variant:"ghost",onClick:()=>fn(ge=>Math.min(bi,ge+1)),disabled:an===bi,children:"Next"})]})]})]})]})]})]}),u.jsx(ti,{open:y,onOpenChange:N,children:u.jsx(ni,{style:{width:"calc(95vw * 1.2)",maxWidth:"70vw"},className:"max-w-[1800px] max-h-[90vh] overflow-hidden rounded-lg",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx(ri,{className:"sticky top-0 bg-white z-20 px-6 pt-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs(ii,{children:["Organization Report: ",u.jsx("span",{className:"text-red-900 org-clamp",title:vn(j),children:vn(j)})]}),u.jsx(wi,{children:"View all maintenance records for this organization"})]}),L.length>0&&u.jsxs(nt,{variant:"outline",size:"sm",onClick:()=>Si(L),className:"ml-4",children:[u.jsx(Tv,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})}),u.jsxs("div",{children:[u.jsx("style",{children:`
                /* Small visible scrollbar for the report dialog */
                .report-scroll { scrollbar-width: thin; scrollbar-color: rgba(0,0,0,0.28) transparent; scrollbar-gutter: stable; }
                .report-scroll::-webkit-scrollbar { width: 8px; }
                .report-scroll::-webkit-scrollbar-track { background: transparent; }
                .report-scroll::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.25); border-radius: 8px; }
                .report-scroll::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.36); }
                /* Clamp long organization name in the dialog header to two lines */
                .org-clamp { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
              `}),u.jsx("div",{ref:Te,onScroll:ma,className:"flex-1 report-scroll overflow-auto px-6 pb-6 relative",children:u.jsx("div",{className:"space-y-4",children:L.length===0?u.jsx("p",{className:"text-center py-8 text-gray-500",children:"No maintenance records found for this organization."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("p",{className:"text-sm text-gray-600",children:["Total Maintenance Records: ",u.jsx("span",{className:"font-semibold",children:L.length})]}),u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Next Maintenance Date: ",u.jsx("span",{className:"font-bold",children:Fi(L)||"-"})]}),u.jsxs("p",{className:"text-sm text-gray-400 ",children:["Total Charges: ",u.jsx("span",{className:"font-semibold",children:`${Lr.toFixed(2)}`})]})]}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",u.jsx("span",{className:"font-semibold",children:L.length===0?0:Math.min(ce*qe,L.length)-(qe-1)>L.length?L.length:(ce-1)*qe+1})," to ",u.jsx("span",{className:"font-semibold",children:Math.min(ce*qe,L.length)})," of ",u.jsx("span",{className:"font-semibold",children:L.length})," records. ",u.jsxs("span",{className:"ml-2",children:["Page ",u.jsx("span",{className:"font-semibold",children:ce})," of ",u.jsx("span",{className:"font-semibold",children:at})]})]}),u.jsxs("div",{className:"overflow-x-auto w-full relative",children:[u.jsx("div",{ref:oe,className:"overflow-x-auto",children:u.jsxs(zc,{className:"min-w-full",children:[u.jsx(Uc,{children:u.jsxs(Ps,{children:[u.jsx(tn,{}),u.jsx(tn,{children:"Date"}),u.jsx(tn,{children:"Serial No"}),u.jsx(tn,{children:"Brand Serial No"}),u.jsx(tn,{children:"Charges"}),u.jsx(tn,{children:"Device"}),u.jsx(tn,{children:"Technician"}),u.jsx(tn,{children:"Notes"}),u.jsx(tn,{children:"Status"})]})}),u.jsx($c,{children:yt.map(ge=>u.jsxs(Ps,{children:[u.jsx(nn,{children:u.jsx("input",{type:"checkbox",title:"Select record","aria-label":"Select maintenance record",checked:he.includes(ge.id),onChange:()=>_i(ge.id)})}),u.jsx(nn,{children:new Date(ge.created_at).toLocaleDateString("en-IN")}),u.jsx(nn,{children:mn(ge.device_id)}),u.jsx(nn,{children:sn(ge.device_id)}),u.jsx(nn,{className:"text-right",children:re===ge.id?u.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[u.jsx("input",{type:"number",min:"0",step:"0.01",value:fe,onChange:Be=>we(Be.target.value),"aria-label":"Edit charges",className:"w-11 rounded-md border px-2 py-1 text-sm"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(nt,{size:"sm",onClick:()=>Pn(ge.id),children:"Save"}),u.jsx(nt,{size:"sm",variant:"outline",onClick:yl,children:"Cancel"})]})]}):u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("div",{className:"font-medium",children:ge.charges!=null?`${Number(ge.charges).toFixed(2)}`:"-"}),Dt(ge.device_id).toLowerCase().trim()==="non comprehensive"&&u.jsx(nt,{size:"sm",variant:"ghost",onClick:()=>wa(ge),children:"Edit"})]})}),u.jsx(nn,{children:Nn(ge.device_id)}),u.jsx(nn,{children:it(ge.technician_id)}),u.jsx(nn,{className:"max-w-[360px] whitespace-pre-wrap break-words",children:ge.description||"-"}),u.jsx(nn,{children:u.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Po(ge.status)}`,children:ge.status})})]},ge.id))})]})}),Lt&&u.jsx("button",{"aria-label":"Scroll table left",onClick:()=>Bt(-300),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:u.jsx(Pv,{className:"w-4 h-4"})}),ft&&u.jsx("button",{"aria-label":"Scroll table right",onClick:()=>Bt(300),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:u.jsx(Lv,{className:"w-4 h-4"})})]}),pe&&u.jsx("button",{"aria-label":"Scroll up",onClick:()=>xt(-300),className:"absolute right-4 top-20 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:u.jsx(Pv,{className:"w-4 h-4 transform -rotate-90"})}),Ke&&u.jsx("button",{"aria-label":"Scroll down",onClick:()=>xt(300),className:"absolute right-4 bottom-6 bg-white border rounded-full p-2 shadow-sm hover:shadow-md",children:u.jsx(Lv,{className:"w-4 h-4 transform rotate-90"})}),at>1&&u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",u.jsx("span",{className:"font-semibold",children:ce})," of ",u.jsx("span",{className:"font-semibold",children:at})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nt,{size:"sm",variant:"ghost",onClick:()=>pt(ce-1),disabled:ce===1,children:"Prev"}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:at}).map((ge,Be)=>u.jsx("button",{onClick:()=>pt(Be+1),className:`px-2 py-1 rounded ${ce===Be+1?"bg-gray-200":"hover:bg-gray-100"}`,children:Be+1},Be))}),u.jsx(nt,{size:"sm",variant:"ghost",onClick:()=>pt(ce+1),disabled:ce===at,children:"Next"})]})]}),u.jsx("div",{className:"flex justify-end mt-2",children:u.jsxs(nt,{variant:"outline",size:"sm",onClick:()=>Si(L.filter(ge=>he.includes(ge.id))),disabled:he.length===0,children:[u.jsx(Tv,{className:"w-4 h-4 mr-2"}),"Download Selected PDF"]})})]})})})]})]})})})]})},oL=async(n,e=1e3)=>new Promise((t,r)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{try{const a=document.createElement("canvas");a.width=e,a.height=e;const l=a.getContext("2d");if(!l)return r(new Error("Failed to get canvas context"));l.fillStyle="#ffffff",l.fillRect(0,0,e,e);const c=Math.min(e/i.width,e/i.height),d=i.width*c,f=i.height*c,p=(e-d)/2,v=(e-f)/2;l.drawImage(i,p,v,d,f),t(a.toDataURL("image/png",1))}catch(a){r(a)}},i.onerror=a=>r(a),i.src=n}),lL=({token:n})=>{const[e,t]=I.useState([]),[r,i]=I.useState([]),[a,l]=I.useState(null),[c,d]=I.useState({}),[f,p]=I.useState(!1),[v,x]=I.useState({}),[y,N]=I.useState(!0);I.useEffect(()=>{_(),k()},[n]),I.useEffect(()=>{if(!a){x({}),N(!1);return}const P=r.filter(q=>q.organization_id===a),D={};P.forEach(q=>{D[q.id]=!0}),x(D),N(P.length>0)},[a,r]);const _=async()=>{try{const D=await(await fetch("http://localhost:8000/organizations",{headers:{Authorization:`Bearer ${n}`}})).json();t(D.organizations||[])}catch(P){console.error(P)}},k=async()=>{try{const D=await(await fetch("http://localhost:8000/devices",{headers:{Authorization:`Bearer ${n}`}})).json();i(D.devices||[])}catch(P){console.error(P)}},j=async()=>{if(a){p(!0);try{const P=r.filter(q=>q.organization_id===a&&(v[q.id]??!0)),D={};return await Promise.all(P.map(async q=>{const V=`${q.serial_number||q.code||q.id}`;try{const ue=await Ju.toDataURL(V,{width:200,margin:2});D[q.id]=ue}catch(ue){console.error("QR error",ue)}})),d(q=>({...q,...D})),D}finally{p(!1)}}},T=async(P,D=800)=>{const q={};return await Promise.all(P.map(async V=>{const ue=`${V.serial_number||V.code||V.id}`;try{const de=await Ju.toDataURL(ue,{width:D,margin:2});try{const he=await oL(de,D);q[V.id]=he}catch(he){console.warn("QR normalization failed, using raw data URL",he),q[V.id]=de}}catch(de){console.error("QR print error",de)}})),q};I.useEffect(()=>{let P=!1;return(async()=>{if(!a){d({});return}p(!0);const q=r.filter(ue=>ue.organization_id===a),V={};await Promise.all(q.map(async ue=>{const de=`${ue.serial_number||ue.code||ue.id}`;try{const he=await Ju.toDataURL(de,{width:200,margin:2});V[ue.id]=he}catch(he){console.error("QR error",he)}})),P||d(V),p(!1)})(),()=>{P=!0}},[a,r]);const L=r.filter(P=>P.organization_id===a),X=[...L.filter(P=>v[P.id]??!0)].sort((P,D)=>{const q=(P.serial_number||P.code||P.id||"").toString(),V=(D.serial_number||D.code||D.id||"").toString();return q.localeCompare(V,void 0,{numeric:!0})}),ne=[...L].sort((P,D)=>{const q=(P.serial_number||P.code||P.id||"").toString(),V=(D.serial_number||D.code||D.id||"").toString();return q.localeCompare(V,void 0,{numeric:!0})}),$=((P,D)=>{const q=[];for(let V=0;V<P.length;V+=D)q.push(P.slice(V,V+D));return q})(X,12),F=async()=>{if(!a)return;let P=c;const D=X;if(D.length>0)try{P=await T(D,1e3)}catch(W){if(console.error("Failed to generate high-res QR images for print",W),Object.keys(c).length===0){const ye=await j();ye&&(P=ye)}else P=c}const q=e.find(W=>W.id===a),ue=$.filter(W=>Array.isArray(W)&&W.length>0).map(W=>{const ye=W.map(Y=>{const R=P[Y.id]||"",z=(Y.serial_number||Y.code||Y.id||"").toString();return`
          <div class="qr-item">
            <div class="qr-img"><img src="${R}" alt="${z}"/></div>
            <div class="qr-label">${z}</div>
          </div>
        `}).join(`
`);return`<div class="page">${`<div class="org-header">${q?.name||""}</div>`}${ye}</div>`}).join(`
`),de=`
        <html>
          <head>
            <title>QR Codes - ${q?.name||""}</title>
            <style>
              /* Set default printed page to A4 landscape */
              @page { size: A4 landscape; margin: 8mm; }
              @media print {
                html, body { width: 297mm; height: 210mm; }
                body { margin:0; padding:0; }
                .page { page-break-after: auto; }
                .page:not(:last-child) { page-break-after: always; }
                .no-print { display:none; }
              }
              body { font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; padding: 0; margin: 0; }
              /* page grid: header spans full width then items in 4 columns for 12 per page */
              .page { width: 100%; display: grid; grid-template-columns: repeat(4, 1fr); gap: 18px; grid-auto-rows: min-content; justify-items: center; box-sizing: border-box; height: calc(210mm - 24mm); padding: 12mm 16mm 10mm 16mm; break-inside: avoid; page-break-inside: avoid; -webkit-column-break-inside: avoid; }
              .org-header { grid-column: 1 / -1; text-align: center; font-size: 16px; font-weight: 700; margin: 6px 0 12px 0; color: #1e90ff; text-transform: uppercase; letter-spacing: 1px; justify-self: center; width: 100%; }
              .qr-item { display:flex; flex-direction:column; align-items:center; justify-content:flex-start; padding-top: 2px; }
              /* slightly larger print QR to reduce gaps and improve scanability (increased by ~20%) */
              .qr-img img { width: 276px; height:276px; object-fit:contain; background: transparent; padding:0; display:block; }
              .qr-label { margin-top: 0px; font-size: 10px; text-align:center; font-family: 'Segoe UI', Roboto, Arial, sans-serif; color: #333; }
            </style>
          </head>
          <body>
            ${ue}
          </body>
        </html>
      `;try{await ae(X,P,q?.name||"QR Codes");return}catch(W){console.warn("PDF generation failed, falling back to HTML print preview",W)}const he=window.open("","_blank");if(he){const W=de.replace("</body>",`
        <script>
          (function waitImagesAndPrint(){
            function allLoaded() {
              const imgs = Array.from(document.images || []);
              if (imgs.length === 0) return Promise.resolve();
              return Promise.all(imgs.map(img => img.complete ? Promise.resolve() : new Promise(res => { img.onload = img.onerror = res; })));
            }
            allLoaded().then(() => {
              // give browser a tiny moment to stabilise layout
              setTimeout(() => {
                try { window.focus(); } catch(e){}
                try { window.print(); } catch(e){}
              }, 150);
            });
          })();
        <\/script>
      </body>`);he.document.write(W),he.document.close()}},ae=async(P,D,q)=>{const V=new Ot({unit:"mm",format:"a4",orientation:"landscape"}),ue=297,de=210,he=8,W=ue-he*2,ye=de-he*2,Se=4,Y=3,R=8,z=24,K=(W-R*(Se-1))/Se,te=(ye-z-R*(Y-1))/Y,me=Math.min(96,K-10),re=Math.min(96,te-18),J=Math.min(me,re),fe=[];for(let we=0;we<P.length;we+=Se*Y)fe.push(P.slice(we,we+Se*Y));for(let we=0;we<fe.length;we++){we>0&&V.addPage(),V.setTextColor(37,99,235);let ce=12;V.setFontSize(ce);const Le=W-10;let qe=V.splitTextToSize(q,Le);for(;qe.length*(ce*.6)>z&&ce>9;)ce-=1,V.setFontSize(ce),qe=V.splitTextToSize(q,Le);V.setFontSize(ce),V.setFont("helvetica","bold");const Te=ce*.6;let oe=he+z/2-(qe.length-1)*Te/2+ce*.3;qe.forEach(lt=>{V.text(lt,ue/2,oe,{align:"center"}),oe+=Te});const Lt=fe[we];for(let lt=0;lt<Lt.length;lt++){const ft=Math.floor(lt/Se),be=lt%Se,pe=he+be*(K+R),Re=he+z+ft*(te+R),Ke=Lt[lt],Ze=D[Ke.id]||"";if(Ze)try{const Bt=J,xt=J,at=pe+(K-Bt)/2,yt=Re+(te-xt)/2-6;V.addImage(Ze,"PNG",at,yt,Bt,xt)}catch(Bt){console.error("addImage error",Bt)}const Mt=(Ke.serial_number||Ke.code||Ke.id||"").toString();V.setFontSize(9);const ct=pe+K/2,ht=Re+(J||40)+(te-J)/2+2;V.setTextColor(51,51,51),V.text(Mt,ct,ht,{align:"center",maxWidth:K-4})}}try{const we=V.output("blob"),ce=URL.createObjectURL(we),Le=window.open(ce,"_blank");if(Le){setTimeout(()=>{try{Le.print()}catch{}},700);return}}catch(we){console.error("Failed to open PDF blob",we)}V.save(`${q}.pdf`)};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl",children:"Generate & Print QR Codes"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Select an organization and generate printable QR sheets (12 per page, 4 columns  3 rows)."})]}),u.jsx("div",{className:"flex items-center gap-2 no-print",children:u.jsx(nt,{onClick:F,variant:"outline",children:"Print"})})]}),u.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[u.jsx("label",{htmlFor:"org-select",className:"text-sm",children:"Organization:"}),u.jsxs("select",{id:"org-select","aria-label":"Organization",className:"border rounded px-3 py-2",value:a||"",onChange:P=>l(P.target.value||null),children:[u.jsx("option",{value:"",children:"-- Select organization --"}),e.map(P=>u.jsx("option",{value:P.id,children:P.name||P.id},P.id))]}),u.jsx("div",{className:"flex items-center",children:f?u.jsx("div",{className:"text-sm text-gray-600",children:"Generating QR images"}):null}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsx("input",{id:"select-all",type:"checkbox",checked:y,onChange:P=>{const D=P.target.checked;if(N(D),!a)return;const q=r.filter(ue=>ue.organization_id===a),V={...v};q.forEach(ue=>{V[ue.id]=D}),x(V)}}),u.jsx("label",{htmlFor:"select-all",className:"text-sm",children:"Select all"})]})]}),u.jsx("style",{children:"@media print { .no-print { display: none; } html, body { width: 297mm; height: 210mm; } body { margin:0; padding:0; background: #fff } .page { page-break-after: auto; break-inside: avoid; page-break-inside: avoid; -webkit-column-break-inside: avoid; box-sizing: border-box; height: calc(210mm - 24mm); padding: 12mm 16mm 10mm 16mm; } .page:not(:last-child) { page-break-after: always; } .org-header { text-transform: uppercase; letter-spacing: 1px; color:#1e90ff; font-weight:700; justify-self: center; width:100%; text-align:center; } .qr-img img { width:192px; height:192px } .qr-label { font-size:10px; margin-top:0px } }"}),u.jsxs("div",{children:[ne.length===0&&u.jsx("div",{className:"text-sm text-gray-500",children:"No devices for selected organization."}),ne.length>0&&u.jsxs("div",{className:"bg-white p-4 mb-4 shadow-sm rounded w-full",children:[u.jsx("div",{className:"org-header w-full text-center font-semibold mb-2 text-blue-600 text-xl",children:e.find(P=>P.id===a)?.name||""}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start justify-items-center",children:ne.map(P=>u.jsxs("div",{className:`relative bg-white border rounded p-2 flex flex-col items-center shadow-sm w-full ${v[P.id]?"":"opacity-60 grayscale"}`,children:[u.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-white p-0.5 rounded",children:u.jsx("input",{type:"checkbox","aria-label":`Select device ${P.serial_number||P.code||P.id}`,title:`Select device ${P.serial_number||P.code||P.id}`,checked:!!v[P.id],onChange:D=>{const q={...v,[P.id]:D.target.checked};x(q);const ue=r.filter(de=>de.organization_id===a).every(de=>q[de.id]);N(ue)}})}),u.jsx("div",{className:"flex items-center justify-center py-2",children:c[P.id]?u.jsx("img",{src:c[P.id],alt:P.serial_number||P.code||P.name,style:{width:"134px",height:"134px"}}):u.jsx("div",{className:"text-xs text-gray-400",children:"No QR generated"})}),u.jsx("div",{className:"mt-1 text-sm font-semibold text-center",children:P.serial_number}),!v[P.id]&&u.jsx("div",{className:"mt-1 text-xs text-red-600",children:"Not Selected"})]},P.id))})]})]})]})},Bb=n=>n==="assigned"?"in_progress":n,cL=n=>{const e=Bb(n);return e==="in_progress"?"In Progress":e==="done"?"Done":"Open"},uL=n=>{const e=Bb(n);return e==="done"?"bg-green-100 text-green-800 border-green-200":e==="in_progress"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"},dL=({token:n})=>{const[e,t]=I.useState([]),[r,i]=I.useState([]),[a,l]=I.useState(!0),[c,d]=I.useState({}),f=I.useMemo(()=>r.filter(N=>N.is_archived!==!0),[r]),p=async()=>{const N=await fetch("http://localhost:8000/make-server-60660975/tickets",{headers:{Authorization:`Bearer ${n}`}}),_=await N.json();if(!N.ok)throw new Error(_?.error||"Failed to fetch tickets");t(_.tickets||[])},v=async()=>{const N=await fetch("http://localhost:8000/make-server-60660975/technicians",{headers:{Authorization:`Bearer ${n}`}}),_=await N.json();if(!N.ok)throw new Error(_?.error||"Failed to fetch technicians");i(_.technicians||[])};I.useEffect(()=>{(async()=>{try{l(!0),await Promise.all([p(),v()])}catch(N){console.error(N),We.error(N?.message||"Failed to load tickets")}finally{l(!1)}})()},[n]);const x=async N=>{const _=c[N];if(!_){We.error("Select a technician");return}try{const k=await fetch(`http://localhost:8000/make-server-60660975/tickets/${N}/assign`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({technicianId:_})}),j=await k.json();if(!k.ok)throw new Error(j?.error||"Failed to assign ticket");We.success("Technician assigned"),d(T=>{const L={...T};return delete L[N],L}),await p()}catch(k){console.error(k),We.error(k?.message||"Failed to assign ticket")}},y=async(N,_)=>{try{const k=await fetch(`http://localhost:8000/make-server-60660975/tickets/${N}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({status:_})}),j=await k.json();if(!k.ok)throw new Error(j?.error||"Failed to update status");We.success("Status updated"),await p()}catch(k){console.error(k),We.error(k?.message||"Failed to update status")}};return a?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"font-bold",children:"Tickets"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Loading"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"Tickets"}),u.jsx("p",{className:"text-gray-600 font-bold",children:"Manage raised tickets"})]}),u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsx(ss,{children:"All Tickets"})}),u.jsx(ai,{children:e.length===0?u.jsx("div",{className:"text-sm text-slate-600",children:"No tickets yet."}):u.jsxs(zc,{children:[u.jsx(Uc,{children:u.jsxs(Ps,{children:[u.jsx(tn,{children:"Created"}),u.jsx(tn,{children:"Organization"}),u.jsx(tn,{children:"Device"}),u.jsx(tn,{children:"Title"}),u.jsx(tn,{children:"Status"}),u.jsx(tn,{children:"Assigned Technician"}),u.jsx(tn,{children:"Actions"})]})}),u.jsx($c,{children:e.map(N=>u.jsxs(Ps,{children:[u.jsx(nn,{className:"text-xs text-slate-600",children:new Date(N.created_at).toLocaleString()}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm",children:N.organization?.name||""}),u.jsx("div",{className:"text-xs text-slate-500",children:N.organization?.organization_code||""})]}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm",children:N.device?.name||""}),u.jsx("div",{className:"text-xs text-slate-500",children:N.device?.serial_number||N.device?.brand_serial_number||""})]}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm font-medium",children:N.title}),N.description?u.jsx("div",{className:"text-xs text-slate-500 line-clamp-2",children:N.description}):null]}),u.jsx(nn,{children:u.jsx(hh,{variant:"outline",className:uL(N.status),children:cL(N.status)})}),u.jsx(nn,{children:u.jsx("div",{className:"text-sm",children:N.technician?.name||""})}),u.jsx(nn,{className:"space-y-2",children:N.status!=="done"?u.jsxs("div",{className:"flex flex-col gap-2 min-w-[220px]",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ts,{value:c[N.id]??(N.assigned_technician_id||""),onValueChange:_=>d(k=>({...k,[N.id]:_})),children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select technician"})}),u.jsx(is,{children:f.map(_=>u.jsx(pr,{value:_.id,children:_.name},_.id))})]}),u.jsx(nt,{variant:"outline",onClick:()=>x(N.id),disabled:!c[N.id],children:"Assign"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(nt,{variant:"outline",onClick:()=>y(N.id,"done"),disabled:N.status==="done",children:"Mark Done"}),N.status!=="open"?u.jsx(nt,{variant:"ghost",onClick:()=>y(N.id,"open"),children:"Reopen"}):null]})]}):u.jsx("div",{className:"text-xs text-slate-500",children:"No actions"})})]},N.id))})]})})]})]})},hL=({token:n,user:e,onLogout:t})=>{const[r,i]=I.useState("overview"),[a,l]=I.useState(null),c=[{id:"overview",label:"Overview",icon:am},{id:"organizations",label:"Organizations",icon:Ql},{id:"devices",label:"Devices",icon:qa},{id:"technicians",label:"Technicians",icon:Yd},{id:"maintenance",label:"Maintenance",icon:pl},{id:"tickets",label:"Tickets",icon:pl},{id:"generate-qrs",label:"Generate QR",icon:pl}],d=p=>{l(p)},f=()=>{l(null)};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(oh,{src:"/npa-logo.png",alt:"Brand Logo",className:"w-10 h-10 rounded-md object-contain border border-gray-200 bg-white"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-slate-900",children:"NPA Water Dispensers"}),u.jsx("p",{className:"text-xs text-slate-500",children:"ADMIN PANEL"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("div",{className:"text-sm text-slate-900",children:e?.user_metadata?.name||"Admin"}),u.jsx("div",{className:"text-xs text-slate-500",children:e?.email})]}),u.jsxs(nt,{variant:"destructive-outline",size:"sm",onClick:t,children:[u.jsx(om,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),u.jsx("div",{className:"bg-white border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("nav",{className:"flex space-x-1 overflow-x-auto",children:c.map(p=>{const v=p.icon;return u.jsxs("button",{onClick:()=>{i(p.id),l(null)},className:`
                    flex items-center gap-2 py-3 px-5 border-b-2 transition-all whitespace-nowrap text-sm
                    ${r===p.id?"border-slate-900 text-slate-900 bg-slate-50":"border-transparent text-slate-500 hover:text-slate-900 hover:bg-slate-50"}
                  `,children:[u.jsx(v,{className:"w-4 h-4"}),u.jsx("span",{children:p.label})]},p.id)})})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="overview"&&u.jsx(uk,{token:n,onNavigate:i,user:e}),r==="organizations"&&(a?u.jsx(jA,{token:n,organizationId:a,onBack:f}):u.jsx(V6,{token:n,onOrganizationClick:d})),r==="devices"&&u.jsx(CA,{token:n}),r==="technicians"&&u.jsx(AA,{token:n}),r==="maintenance"&&u.jsx(aL,{token:n}),r==="tickets"&&u.jsx(dL,{token:n}),r==="generate-qrs"&&u.jsx(lL,{token:n})]})]})},fL=({token:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(!0);return I.useEffect(()=>{(async()=>{try{i(!0);const a=await fetch("http://localhost:8000/make-server-60660975/org/dashboard",{headers:{Authorization:`Bearer ${n}`}}),l=await a.json();if(!a.ok)throw new Error(l?.error||"Failed to load dashboard");t(l)}catch(a){console.error(a),We.error(a?.message||"Failed to load dashboard")}finally{i(!1)}})()},[n]),r?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"font-bold",children:"Dashboard"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Loading"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"Dashboard"}),u.jsx("p",{className:"text-gray-600 font-bold",children:"Organization overview"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsx(ss,{children:"Devices"})}),u.jsxs(ai,{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Total"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.devices.total??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Active"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.devices.active??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Inactive"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.devices.inactive??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Archived"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.devices.archived??0})]})]})]}),u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsx(ss,{children:"Tickets"})}),u.jsxs(ai,{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Open"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.tickets.open??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"In Progress"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.tickets.assigned??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Done"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.tickets.done??0})]})]})]})]})]})},zb=n=>n==="assigned"?"in_progress":n,pL=n=>{const e=zb(n);return e==="in_progress"?"In Progress":e==="done"?"Done":"Open"},gL=n=>{const e=zb(n);return e==="done"?"bg-green-100 text-green-800 border-green-200":e==="in_progress"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"},mL=({token:n})=>{const[e,t]=I.useState([]),[r,i]=I.useState([]),[a,l]=I.useState(!0),[c,d]=I.useState(!1),[f,p]=I.useState({deviceId:"",title:"",description:""}),v=I.useMemo(()=>r.filter(_=>_.is_archived!==!0),[r]),x=async()=>{const _=await fetch("http://localhost:8000/make-server-60660975/org/tickets",{headers:{Authorization:`Bearer ${n}`}}),k=await _.json();if(!_.ok)throw new Error(k?.error||"Failed to fetch tickets");t(k.tickets||[])},y=async()=>{const _=await fetch("http://localhost:8000/make-server-60660975/org/devices",{headers:{Authorization:`Bearer ${n}`}}),k=await _.json();if(!_.ok)throw new Error(k?.error||"Failed to fetch devices");i(k.devices||[])};I.useEffect(()=>{(async()=>{try{l(!0),await Promise.all([x(),y()])}catch(_){console.error(_),We.error(_?.message||"Failed to load tickets")}finally{l(!1)}})()},[n]);const N=async _=>{if(_.preventDefault(),!f.deviceId||!f.title.trim()){We.error("Device and title are required");return}try{const k=await fetch("http://localhost:8000/make-server-60660975/org/tickets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({deviceId:f.deviceId,title:f.title.trim(),description:f.description})}),j=await k.json();if(!k.ok)throw new Error(j?.error||"Failed to create ticket");We.success("Ticket raised"),d(!1),p({deviceId:"",title:"",description:""}),await x()}catch(k){console.error(k),We.error(k?.message||"Failed to create ticket")}};return a?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"font-bold",children:"Tickets"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Loading"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"Tickets"}),u.jsx("p",{className:"text-gray-600 font-bold",children:"Raise and track tickets"})]}),u.jsxs(ti,{open:c,onOpenChange:d,children:[u.jsx(Bc,{asChild:!0,children:u.jsxs(nt,{children:[u.jsx(cd,{className:"w-4 h-4 mr-2"}),"Raise Ticket"]})}),u.jsxs(ni,{className:"max-w-lg",children:[u.jsxs(ri,{children:[u.jsx(ii,{children:"Raise Ticket"}),u.jsx(wi,{children:"Select a device and describe the issue."})]}),u.jsxs("form",{onSubmit:N,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{children:"Device *"}),u.jsxs(ts,{value:f.deviceId,onValueChange:_=>p(k=>({...k,deviceId:_})),children:[u.jsx(rs,{children:u.jsx(ns,{placeholder:"Select device"})}),u.jsx(is,{children:v.map(_=>u.jsxs(pr,{value:_.id,children:[_.name," ",_.serial_number?`(${_.serial_number})`:""]},_.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"title",children:"Title *"}),u.jsx(Zt,{id:"title",value:f.title,onChange:_=>p(k=>({...k,title:_.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(vt,{htmlFor:"description",children:"Description"}),u.jsx(Sf,{id:"description",value:f.description,onChange:_=>p(k=>({...k,description:_.target.value}))})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(nt,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),u.jsx(nt,{type:"submit",children:"Create"})]})]})]})]})]}),u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsx(ss,{children:"Your Tickets"})}),u.jsx(ai,{children:e.length===0?u.jsx("div",{className:"text-sm text-slate-600",children:"No tickets yet."}):u.jsxs(zc,{children:[u.jsx(Uc,{children:u.jsxs(Ps,{children:[u.jsx(tn,{children:"Created"}),u.jsx(tn,{children:"Device"}),u.jsx(tn,{children:"Title"}),u.jsx(tn,{children:"Status"}),u.jsx(tn,{children:"Technician"})]})}),u.jsx($c,{children:e.map(_=>u.jsxs(Ps,{children:[u.jsx(nn,{className:"text-xs text-slate-600",children:new Date(_.created_at).toLocaleString()}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm",children:_.device?.name||""}),u.jsx("div",{className:"text-xs text-slate-500",children:_.device?.serial_number||_.device?.brand_serial_number||""})]}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm font-medium",children:_.title}),_.description?u.jsx("div",{className:"text-xs text-slate-500 line-clamp-2",children:_.description}):null]}),u.jsx(nn,{children:u.jsx(hh,{variant:"outline",className:gL(_.status),children:pL(_.status)})}),u.jsx(nn,{className:"text-sm",children:_.technician?.name||""})]},_.id))})]})})]})]})},vL=({token:n,user:e,onLogout:t})=>{const[r,i]=I.useState("dashboard"),a=[{id:"dashboard",label:"Dashboard",icon:am},{id:"tickets",label:"Tickets",icon:pl}];return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(oh,{src:"/npa-logo.png",alt:"Brand Logo",className:"w-10 h-10 rounded-md object-contain border border-gray-200 bg-white"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-slate-900",children:"NPA Water Dispensers"}),u.jsx("p",{className:"text-xs text-slate-500",children:"ORGANIZATION PORTAL"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("div",{className:"text-sm text-slate-900",children:e?.user_metadata?.name||"Organization"}),u.jsx("div",{className:"text-xs text-slate-500",children:e?.email})]}),u.jsxs(nt,{variant:"destructive-outline",size:"sm",onClick:t,children:[u.jsx(om,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),u.jsx("div",{className:"bg-white border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("nav",{className:"flex space-x-1 overflow-x-auto",children:a.map(l=>{const c=l.icon;return u.jsxs("button",{onClick:()=>i(l.id),className:`
                    flex items-center gap-2 py-3 px-5 border-b-2 transition-all whitespace-nowrap text-sm
                    ${r===l.id?"border-slate-900 text-slate-900 bg-slate-50":"border-transparent text-slate-500 hover:text-slate-900 hover:bg-slate-50"}
                  `,children:[u.jsx(c,{className:"w-4 h-4"}),u.jsx("span",{children:l.label})]},l.id)})})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="dashboard"&&u.jsx(fL,{token:n}),r==="tickets"&&u.jsx(mL,{token:n})]})]})},yL=({token:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(!0);return I.useEffect(()=>{(async()=>{try{i(!0);const a=await fetch("http://localhost:8000/make-server-60660975/tech/dashboard",{headers:{Authorization:`Bearer ${n}`}}),l=await a.json();if(!a.ok)throw new Error(l?.error||"Failed to load dashboard");t(l)}catch(a){console.error(a),We.error(a?.message||"Failed to load dashboard")}finally{i(!1)}})()},[n]),r?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"font-bold",children:"Dashboard"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Loading"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"Dashboard"}),u.jsx("p",{className:"text-gray-600 font-bold",children:"Technician overview"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsx(ss,{children:"Assigned Tickets"})}),u.jsxs(ai,{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Total"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.tickets.total??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"In Progress"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.tickets.assigned??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Done"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.tickets.done??0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Open (not assigned to you)"}),u.jsx("div",{className:"text-2xl font-semibold",children:e?.tickets.open??0})]})]})]})})]})},Ub=n=>n==="assigned"?"in_progress":n,wL=n=>{const e=Ub(n);return e==="in_progress"?"In Progress":e==="done"?"Done":"Open"},xL=n=>{const e=Ub(n);return e==="done"?"bg-green-100 text-green-800 border-green-200":e==="in_progress"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"},bL=({token:n})=>{const[e,t]=I.useState([]),[r,i]=I.useState(!0),a=async()=>{const c=await fetch("http://localhost:8000/make-server-60660975/tech/tickets",{headers:{Authorization:`Bearer ${n}`}}),d=await c.json();if(!c.ok)throw new Error(d?.error||"Failed to fetch tickets");t(d.tickets||[])};I.useEffect(()=>{(async()=>{try{i(!0),await a()}catch(c){console.error(c),We.error(c?.message||"Failed to load tickets")}finally{i(!1)}})()},[n]);const l=async c=>{try{const d=await fetch(`http://localhost:8000/make-server-60660975/tech/tickets/${c}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({status:"done"})}),f=await d.json();if(!d.ok)throw new Error(f?.error||"Failed to update ticket");We.success("Marked done"),await a()}catch(d){console.error(d),We.error(d?.message||"Failed to update ticket")}};return r?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"font-bold",children:"Assigned Tickets"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Loading"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"Assigned Tickets"}),u.jsx("p",{className:"text-gray-600 font-bold",children:"Track and update your tickets"})]}),u.jsxs(si,{children:[u.jsx(Ii,{children:u.jsx(ss,{children:"Tickets"})}),u.jsx(ai,{children:e.length===0?u.jsx("div",{className:"text-sm text-slate-600",children:"No assigned tickets."}):u.jsxs(zc,{children:[u.jsx(Uc,{children:u.jsxs(Ps,{children:[u.jsx(tn,{children:"Created"}),u.jsx(tn,{children:"Organization"}),u.jsx(tn,{children:"Device"}),u.jsx(tn,{children:"Title"}),u.jsx(tn,{children:"Status"}),u.jsx(tn,{children:"Action"})]})}),u.jsx($c,{children:e.map(c=>u.jsxs(Ps,{children:[u.jsx(nn,{className:"text-xs text-slate-600",children:new Date(c.created_at).toLocaleString()}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm",children:c.organization?.name||""}),u.jsx("div",{className:"text-xs text-slate-500",children:c.organization?.organization_code||""})]}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm",children:c.device?.name||""}),u.jsx("div",{className:"text-xs text-slate-500",children:c.device?.serial_number||c.device?.brand_serial_number||""})]}),u.jsxs(nn,{children:[u.jsx("div",{className:"text-sm font-medium",children:c.title}),c.description?u.jsx("div",{className:"text-xs text-slate-500 line-clamp-2",children:c.description}):null]}),u.jsx(nn,{children:u.jsx(hh,{variant:"outline",className:xL(c.status),children:wL(c.status)})}),u.jsx(nn,{children:c.status!=="done"?u.jsx(nt,{variant:"outline",onClick:()=>l(c.id),children:"Mark Done"}):u.jsx("div",{className:"text-xs text-slate-500",children:"Done"})})]},c.id))})]})})]})]})},SL=({token:n,user:e,onLogout:t})=>{const[r,i]=I.useState("dashboard"),a=[{id:"dashboard",label:"Dashboard",icon:am},{id:"tickets",label:"Assigned Tickets",icon:pl}];return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(oh,{src:"/npa-logo.png",alt:"Brand Logo",className:"w-10 h-10 rounded-md object-contain border border-gray-200 bg-white"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-slate-900",children:"NPA Water Dispensers"}),u.jsx("p",{className:"text-xs text-slate-500",children:"TECHNICIAN PORTAL"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("div",{className:"text-sm text-slate-900",children:e?.user_metadata?.name||"Technician"}),u.jsx("div",{className:"text-xs text-slate-500",children:e?.email})]}),u.jsxs(nt,{variant:"destructive-outline",size:"sm",onClick:t,children:[u.jsx(om,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),u.jsx("div",{className:"bg-white border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("nav",{className:"flex space-x-1 overflow-x-auto",children:a.map(l=>{const c=l.icon;return u.jsxs("button",{onClick:()=>i(l.id),className:`
                    flex items-center gap-2 py-3 px-5 border-b-2 transition-all whitespace-nowrap text-sm
                    ${r===l.id?"border-slate-900 text-slate-900 bg-slate-50":"border-transparent text-slate-500 hover:text-slate-900 hover:bg-slate-50"}
                  `,children:[u.jsx(c,{className:"w-4 h-4"}),u.jsx("span",{children:l.label})]},l.id)})})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="dashboard"&&u.jsx(yL,{token:n}),r==="tickets"&&u.jsx(bL,{token:n})]})]})},_L=({...n})=>u.jsx(J_,{className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n});function NL(){const[n,e]=I.useState(!1),[t,r]=I.useState(""),[i,a]=I.useState(null),[l,c]=I.useState(!0),[d,f]=I.useState(!1),[p,v]=I.useState("admin"),[x,y]=I.useState("select");I.useEffect(()=>{N()},[]),I.useEffect(()=>{!n||!t||(async()=>{try{f(!0);const j=await fetch("http://localhost:8000/make-server-60660975/me",{headers:{Authorization:`Bearer ${t}`}}),T=await j.json();j.ok&&T?.role?v(T.role):v("admin")}catch(j){console.error("Error loading role:",j),v("admin")}finally{f(!1)}})()},[n,t]);const N=async()=>{try{const j=C0(),{data:{session:T},error:L}=await j.auth.getSession();T&&T.access_token&&(r(T.access_token),a(T.user),e(!0))}catch(j){console.error("Error checking session:",j)}finally{c(!1)}},_=(j,T)=>{r(j),a(T),e(!0)},k=async()=>{try{await C0().auth.signOut(),r(""),a(null),e(!1),y("select")}catch(j){console.error("Error signing out:",j)}};return l?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n&&d?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):u.jsxs(u.Fragment,{children:[n?p==="organization"?u.jsx(vL,{token:t,user:i,onLogout:k}):p==="technician"?u.jsx(SL,{token:t,user:i,onLogout:k}):u.jsx(hL,{token:t,user:i,onLogout:k}):x==="select"?u.jsx(v_,{onSelect:j=>y(j)}):x==="organization"?u.jsx(bN,{onLoginSuccess:_,onBack:()=>y("select")}):x==="technician"?u.jsx(SN,{onLoginSuccess:_,onBack:()=>y("select")}):u.jsx(xN,{onLoginSuccess:_,onBack:()=>y("select")}),u.jsx(_L,{})]})}ES.createRoot(document.getElementById("root")).render(u.jsx(NL,{}));export{zn as _,kL as c,Vf as g};
